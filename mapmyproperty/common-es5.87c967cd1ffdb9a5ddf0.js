!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function a(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)})}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){throw e}),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){s=!0,a=e}),f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function b(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1agI":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return s});var n=r("OKTS"),i=r("feGD"),a=r("jIHu"),o=0,s=1,u=2,c=function(){function e(t,r){y(this,e),this.width=t,this.height=r;var n=Math.ceil(t/1),a=Math.ceil(r/1);this._cols=n,this._rows=a,this._cells=i.a.create(n*a)}return g(e,[{key:"insertMetrics",value:function(e){var t=this._hasCollision(e);return t===o&&this._markMetrics(e),t}},{key:"getCellId",value:function(e,t){return e+t*this._cols}},{key:"has",value:function(e){return this._cells.has(e)}},{key:"hasRange",value:function(e,t){return this._cells.hasRange(e,t)}},{key:"set",value:function(e){this._cells.set(e)}},{key:"setRange",value:function(e,t){this._cells.setRange(e,t)}},{key:"_hasCollision",value:function(e){var t=e.id,r=0,n=0;e.save();do{var i=e.boundsCount;r+=i;for(var a=0;a<i;a++){var c=e.boundsComputedAnchorX(a),l=e.boundsComputedAnchorY(a),h=e.boundsWidth(a)+2,f=e.boundsHeight(a)+2;switch(this._collide(c,l,h,f)){case u:return u;case s:n++}}}while(e.peekId()===t&&e.next());return e.restore(),r===n?s:o}},{key:"_collide",value:function(e,t,r,i){var a=e-r/2,c=e+r/2,l=t-i/2,h=t+i/2;if(c<0||h<0||a>this.width||l>this.height)return s;for(var f=Object(n.c)(Math.floor(a/1),0,this._cols),d=Object(n.c)(Math.floor(l/1),0,this._rows),p=Object(n.c)(Math.ceil(c/1),0,this._cols),b=Object(n.c)(Math.ceil(h/1),0,this._rows),v=d;v<=b;v++)for(var y=f;y<=p;y++){var m=this.getCellId(y,v);if(this.has(m))return u}return o}},{key:"_mark",value:function(e,t,r,i){for(var a=e-r/2,o=e+r/2,s=t-i/2,u=t+i/2,c=Object(n.c)(Math.floor(a/1),0,this._cols),l=Object(n.c)(Math.floor(s/1),0,this._rows),h=Object(n.c)(Math.ceil(o/1),0,this._cols),f=Object(n.c)(Math.ceil(u/1),0,this._rows),d=l;d<=f;d++)for(var p=c;p<=h;p++){var b=this.getCellId(p,d);this.set(b)}return!1}},{key:"_markMetrics",value:function(e){var t=e.id;do{for(var r=e.boundsCount,n=0;n<r;n++){var i=e.boundsComputedAnchorX(n),a=e.boundsComputedAnchorY(n),o=e.boundsWidth(n)+2,s=e.boundsHeight(n)+2;this._mark(i,a,o,s)}}while(e.peekId()===t&&e.next())}}]),e}(),l=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;y(this,e),this._bucketSize=t,this._rowsLength=a.E/t,this._colsLength=a.E/t,this._elementsPerBucket=r,this._grid=this._initGrid()}return g(e,[{key:"checkOverlap",value:function(e,t){var r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);return r<0||r>=this._rowsLength||n<0||n>=this._colsLength||this._grid[n*this._colsLength+r]>=this._elementsPerBucket}},{key:"markUsed",value:function(e,t){var r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);this._grid[n*this._colsLength+r]+=1}},{key:"reset",value:function(){this._grid=this._initGrid()}},{key:"_initGrid",value:function(){return new Uint8Array(this._rowsLength*this._colsLength)}}]),e}()},"39Rk":function(e,t,r){"use strict";r.r(t),r.d(t,"createCircle",function(){return _}),r.d(t,"createEllipse",function(){return w}),r.d(t,"createMultipoint",function(){return m}),r.d(t,"createPoint",function(){return y}),r.d(t,"createPolygon",function(){return O}),r.d(t,"createPolyline",function(){return g}),r.d(t,"createRectangle",function(){return j}),r.d(t,"createSquare",function(){return x}),r.d(t,"makeMapPoint",function(){return v});var n=r("f/qv"),i=r("srIe"),a=r("tQ+6"),o=r("f4Nx"),s=r("SuVq"),u=r("V9wi"),c=r("Mu3I"),l=r("Ehki"),h=r("UhwK"),f=(r("4GrV"),r("gEht")),d=r("tI4m"),p=r("6lH3"),b=r("pUVe");function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(i.k)(r)?[e,t,r]:[e,t]}function y(e,t){var r=new s.a({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(r.z=e[2]),r}function m(e,t){return new u.a({points:e,spatialReference:t})}function g(e,t,r){var n=new h.a({paths:e,spatialReference:t});return r&&Object(c.i)(n),n}function O(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=Object(n.a)(e);s.forEach(function(e){var t=e[0],r=e[e.length-1];Object(a.c)(t,r)&&1!==e.length||e.push(e[0])});var u=new l.a({rings:s,spatialReference:t});return u.rings.forEach(function(e){Object(c.g)(e,!1,!1)||e.reverse()}),r&&Object(c.i)(u),i&&u.isSelfIntersecting&&Object(o.i)(t)&&(u=Object(p.simplify)(u)),u}function x(e,t,r){var n=t.mapToLocalMultiple(e),a=[],o={x:n[0].x,y:n[0].y},s=n[1].y,u=Math.round(n[1].x-o.x),c=Math.round(s-o.y),l=Math.max(Math.abs(u),Math.abs(c));if(r){var h={x:o.x+l,y:o.y+l},f={x:o.x-l,y:o.y-l};a.push(Object(b.b)(h.x,f.y),Object(b.b)(f.x,f.y),Object(b.b)(f.x,h.y),Object(b.b)(h.x,h.y))}else{var d={x:u>0?o.x+l:o.x-l,y:c>0?o.y+l:o.y-l};a.push(Object(b.b)(o.x,o.y),Object(b.b)(d.x,o.y),Object(b.b)(d.x,d.y),Object(b.b)(o.x,d.y))}return O([Object(i.g)(a.map(function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!0)}function j(e,t,r){var n=t.mapToLocalMultiple(e);if(1===n.length){var a=48,o=n[0];n=[Object(b.b)(o.x-a,o.y+a),Object(b.b)(o.x+a,o.y-a),Object(b.b)(o.x+a,o.y-a),Object(b.b)(o.x-a,o.y+a)]}var s=[],u={x:n[0].x,y:n[0].y},c={x:n[1].x,y:n[1].y};if(r){var l=Math.round(c.x-u.x),h=Math.round(c.y-u.y);s.push(Object(b.b)(u.x-l,u.y-h),Object(b.b)(c.x,u.y-h),Object(b.b)(c.x,c.y),Object(b.b)(u.x-l,c.y))}else s.push(Object(b.b)(u.x,u.y),Object(b.b)(c.x,u.y),Object(b.b)(c.x,c.y),Object(b.b)(u.x,c.y));return O([Object(i.g)(s.map(function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!0)}function _(e,t,r,n){var a=t.mapToLocalMultiple(e),s=null,u=null;if(r)s=a[0],u=a[1];else{var l=a[0],h=a[1],v=Math.round(h.x-l.x),m=Math.round(h.y-l.y),g=Math.max(Math.abs(v),Math.abs(m));s=Object(b.b)(v>0?l.x+g/2:l.x-g/2,m>0?l.y+g/2:l.y-g/2),u=Object(b.b)(Math.abs(v)>Math.abs(m)?s.x-g/2:s.x,Math.abs(v)>Math.abs(m)?s.y:s.y-g/2)}var x=t.localToMap(s),j=t.localToMap(u);if(Object(i.j)(x)||Object(i.j)(j))return null;t.doUnnormalization&&Object(c.j)([[x,j]],t.spatialReference);var _=y(x,t.spatialReference),w=y(j,t.spatialReference),k=Object(f.f)(t.spatialReference),S=0;if(Object(o.i)(t.spatialReference))S=k*Object(p.distance)(_,w,null);else{var I=s.x-u.x,T=s.y-u.y;S=k*Math.sqrt(I*I+T*T)*(n||1)}var R=new d.a({center:_,radius:S,radiusUnit:"meters",spatialReference:t.spatialReference});return O(R.rings,R.spatialReference,!1)}function w(e,t,r){for(var n=t.mapToLocalMultiple(e),a=n[0],o=n[1],s=Math.round(o.x-a.x),u=Math.round(o.y-a.y),c=Object(b.b)(r?a.x:a.x+s/2,r?a.y:a.y+u/2),l=r?s:s/2,h=r?u:u/2,f=[],d=2*Math.PI/60,p=0;p<60;p++){var v=Math.cos(p*d),y=Math.sin(p*d),m=Object(b.b)(l*v+c.x,h*y+c.y);f.push(m)}return f.push(f[0]),O([Object(i.g)(f.map(function(e){return t.localToMap(e)}))],t.spatialReference,t.doUnnormalization,!1)}},4:function(e,t){},"46M0":function(e,t,r){"use strict";var n=regeneratorRuntime.mark(l),i=regeneratorRuntime.mark(h);r.d(t,"a",function(){return S}),r.d(t,"b",function(){return k}),r.d(t,"c",function(){return w});var a=r("zlDU"),o=r("k5I3"),s=r("gVKr");function u(e){var t=[];return e.forEach(function(e){return t.push(e)}),t}var c={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function l(e){var t,r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e.type,n.next="Feature"===n.t0?3:"FeatureCollection"===n.t0?6:25;break;case 3:return n.next=5,e;case 5:return n.abrupt("break",25);case 6:t=p(e.features),n.prev=7,t.s();case 9:if((r=t.n()).done){n.next=17;break}if(i=r.value,n.t1=i,!n.t1){n.next=15;break}return n.next=15,i;case 15:n.next=9;break;case 17:n.next=22;break;case 19:n.prev=19,n.t2=n.catch(7),t.e(n.t2);case 22:return n.prev=22,t.f(),n.finish(22);case 25:case"end":return n.stop()}},n,null,[[7,19,22,25]])}function h(e){var t,r,n,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return",null);case 2:i.t0=e.type,i.next="Point"===i.t0?5:"LineString"===i.t0||"MultiPoint"===i.t0?8:"MultiLineString"===i.t0||"Polygon"===i.t0?10:"MultiPolygon"===i.t0?27:58;break;case 5:return i.next=7,e.coordinates;case 7:return i.abrupt("break",58);case 8:return i.delegateYield(e.coordinates,"t1",9);case 9:return i.abrupt("break",58);case 10:t=p(e.coordinates),i.prev=11,t.s();case 13:if((r=t.n()).done){i.next=18;break}return n=r.value,i.delegateYield(n,"t2",16);case 16:i.next=13;break;case 18:i.next=23;break;case 20:i.prev=20,i.t3=i.catch(11),t.e(i.t3);case 23:return i.prev=23,t.f(),i.finish(23);case 26:return i.abrupt("break",58);case 27:a=p(e.coordinates),i.prev=28,a.s();case 30:if((o=a.n()).done){i.next=50;break}s=o.value,u=p(s),i.prev=33,u.s();case 35:if((c=u.n()).done){i.next=40;break}return l=c.value,i.delegateYield(l,"t4",38);case 38:i.next=35;break;case 40:i.next=45;break;case 42:i.prev=42,i.t5=i.catch(33),u.e(i.t5);case 45:return i.prev=45,u.f(),i.finish(45);case 48:i.next=30;break;case 50:i.next=55;break;case 52:i.prev=52,i.t6=i.catch(28),a.e(i.t6);case 55:return i.prev=55,a.f(),i.finish(55);case 58:case"end":return i.stop()}},i,null,[[11,20,23,26],[28,52,55,58],[33,42,45,48]])}function f(e){for(;;){var t=e.next(),r=t.value;if(t.done)return!1;if(r.length>2)return!0}}function b(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function v(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function y(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return O(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,i=p(t.coordinates);try{for(i.s();!(n=i.n()).done;){O(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}return e}(e,t,r);case"MultiPoint":return function(e,t,r){return O(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,i=p(t.coordinates);try{for(i.s();!(n=i.n()).done;){var a=n.value;m(e,a[0],r);for(var o=1;o<a.length;o++)g(e,a[o],r)}}catch(s){i.e(s)}finally{i.f()}return e}(e,t,r);case"Point":return function(e,t,r){return j(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;m(e,n[0],r);for(var i=1;i<n.length;i++)g(e,n[i],r);return e}(e,t,r)}}function m(e,t,r){var n=v(t);!function(e){return!b(e)}(n)?O(e,n,r):x(e,n,r)}function g(e,t,r){var n=v(t);!function(e){return b(e)}(n)?O(e,n,r):x(e,n,r)}function O(e,t,r){var n,i=p(t);try{for(i.s();!(n=i.n()).done;){j(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}e.lengths.push(t.length)}function x(e,t,r){for(var n=t.length-1;n>=0;n--)j(e,t[n],r);e.lengths.push(t.length)}function j(e,t,r){var n=d(t,3),i=n[0],a=n[1],o=n[2];e.coords.push(i,a),r.hasZ&&e.coords.push(o||0)}function _(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function w(e){if(!e)throw new a.a("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new a.a("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new a.a("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function k(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l(e),i=[],a=new Set,o=new Set,s=!1,d=Number.NEGATIVE_INFINITY,b=null,v=!1,y=r.geometryType,m=void 0===y?null:y,g=!1,O=function(){var e=n.next(),r=e.value;if(e.done){var l=b&&1===b.length&&b[0]||null;if(l){var y,O=p(i);try{for(O.s();!(y=O.n()).done;){var x=y.value;x.name===l&&(x.type="esriFieldTypeOID")}}catch(E){O.e(E)}finally{O.f()}}return{v:{fields:i,geometryType:m,hasZ:s,maxObjectId:Math.max(0,d),objectIdFieldName:l,objectIdFieldType:t,unknownFields:u(o)}}}var j=r.geometry,w=r.properties,k=r.id;if((!j||(m||(m=c[j.type]),c[j.type]===m))&&(s||(s=f(h(j))),v||(v=null!=k)&&("number"===(t=typeof k)&&(b=Object.keys(w).filter(function(e){return w[e]===k}))),v&&"number"===t&&null!=k&&(d=Math.max(d,k),b.length>1?b=b.filter(function(e){return w[e]===k}):1===b.length&&(b=w[b[0]]===k?b:[])),!g&&w)){var S=!0;for(var I in w)if(!a.has(I)){var T=w[I];if(null!=T){var R=_(T);"unknown"!==R?(o.delete(I),a.add(I),i.push({name:I,alias:I,type:R})):o.add(I)}else S=!1,o.add(I)}g=S}};;){var x=O();if("object"==typeof x)return x.v}}function S(e,t){return function(e){for(var t=[];;){var r=e.next(),n=r.value;if(r.done)return t;t.push(n)}}(regeneratorRuntime.mark(function e(t){var r,n,i,a,u,l,h,f,d,p,b=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=b.length>1&&void 0!==b[1]?b[1]:{},n=r.geometryType,i=r.objectIdFieldName;case 2:if(a=t.next(),u=a.value,!a.done){e.next=5;break}return e.abrupt("return");case 5:if(l=u.geometry,h=u.properties,f=u.id,!l||c[l.type]===n){e.next=8;break}return e.abrupt("continue",13);case 8:return d=h||{},i&&null!=f&&!d[i]&&(d[i]=f),p=new o.a(l?y(new s.a,l,r):null,d),e.next=13,p;case 13:e.next=2;break;case 15:case"end":return e.stop()}},e)})(l(e),t))}},"4xTw":function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("04ZG"),o=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).tiles=new Map,n}return g(r,[{key:"destroy",value:function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}},{key:"updating",get:function(){return this.isUpdating()}},{key:"acquireTile",value:function(e){var t=this,r=this.createTile(e);return r.once("isReady",function(){return t.notifyChange("updating")}),this.tiles.set(e.id,r),r}},{key:"forceAttributeTextureUpload",value:function(){}},{key:"forEachTile",value:function(e){this.tiles.forEach(e)}},{key:"releaseTile",value:function(e){this.tiles.delete(e.key.id),this.disposeTile(e)}},{key:"isUpdating",value:function(){var e=!0;return this.tiles.forEach(function(t){e=e&&t.isReady}),!e}},{key:"setHighlight",value:function(){}},{key:"invalidateLabels",value:function(){}},{key:"requestUpdate",value:function(){this.layerView.requestUpdate()}}]),r}((r("4EHJ"),r("ju1D"),r("9AIY"),r("kJYu")).a);Object(n.a)([Object(i.b)()],o.prototype,"layer",void 0),Object(n.a)([Object(i.b)()],o.prototype,"layerView",void 0),Object(n.a)([Object(i.b)()],o.prototype,"tileInfoView",void 0),Object(n.a)([Object(i.b)()],o.prototype,"updating",null),o=Object(n.a)([Object(a.a)("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],o),t.a=o},5:function(e,t){},"54nt":function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("+opI"),o=r("04ZG"),u=(r("4EHJ"),r("ju1D"),r("9AIY"),r("DKHk")),l=new a.a({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),h=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).type=null,n}return r}(u.a);Object(n.a)([Object(i.b)({type:String,json:{read:l.read,write:l.write}})],h.prototype,"type",void 0),h=Object(n.a)([Object(o.a)("esri.tasks.support.NAMessage")],h),t.a=h},"5qYV":function(e,t,r){"use strict";r.r(t),r.d(t,"addOrUpdateResource",function(){return l}),r.d(t,"contentToBlob",function(){return g}),r.d(t,"fetchResources",function(){return u}),r.d(t,"getSiblingOfSameType",function(){return x}),r.d(t,"getSiblingOfSameTypeI",function(){return j}),r.d(t,"removeAllResources",function(){return b}),r.d(t,"removeResource",function(){return f}),r.d(t,"splitPrefixFileNameAndExtension",function(){return m});var n=r("srIe"),i=r("zlDU"),a=r("4EHJ"),s=r("Lqtk");function u(e){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark(function e(t){var r,i,o,s,u,c,l,h,f,d,p,b,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},i=v.length>2?v[2]:void 0,e.next=4,t.load(i);case 4:return o=Object(a.y)(t.itemUrl,"resources"),s=r.start,u=void 0===s?1:s,c=r.num,l=void 0===c?10:c,h=r.sortOrder,f=void 0===h?"asc":h,d=r.sortField,p={query:{start:u,num:l,sortOrder:f,sortField:void 0===d?"created":d},signal:Object(n.i)(i,"signal")},e.next=16,t.portal._request(o,p);case 16:return b=e.sent,e.abrupt("return",{total:b.total,nextStart:b.nextStart,resources:b.resources.map(function(e){var r=e.created,n=e.size,i=e.resource;return{created:new Date(r),size:n,resource:t.resourceFromPath(i)}})});case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(e,t,r,n){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark(function e(t,r,o,s){var u,c,l,h,f,p,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasPath()){e.next=2;break}throw new i.a("portal-item-resource-".concat(r,":invalid-path"),"Resource does not have a valid path");case 2:return e.next=4,t.portalItem.load(s);case 4:return u=Object(a.y)(t.portalItem.userItemUrl,"add"===r?"addResources":"updateResources"),c=y(t.path),l=d(c,2),h=l[0],f=l[1],e.next=11,g(o);case 11:return p=e.sent,b=new FormData,h&&"."!==h&&b.append("resourcesPrefix",h),b.append("fileName",f),b.append("file",p,f),b.append("f","json"),Object(n.k)(s)&&s.access&&b.append("access",s.access),e.next=20,t.portalItem.portal._request(u,{method:"post",body:b,signal:Object(n.i)(s,"signal")});case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=o(regeneratorRuntime.mark(function e(t,r,o){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.hasPath()){e.next=2;break}throw new i.a("portal-item-resources-remove:invalid-path","Resource does not have a valid path");case 2:return e.next=4,t.load(o);case 4:return s=Object(a.y)(t.userItemUrl,"removeResources"),e.next=7,t.portal._request(s,{method:"post",query:{resource:r.path},signal:Object(n.i)(o,"signal")});case 7:r.portalItem=null;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark(function e(t,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load(r);case 2:return i=Object(a.y)(t.userItemUrl,"removeResources"),e.abrupt("return",t.portal._request(i,{method:"post",query:{deleteAll:!0},signal:Object(n.i)(r,"signal")}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){var t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){var t=d(function(e){var t=Object(a.n)(e);return Object(n.j)(t)?[e,""]:[e.slice(0,e.length-t.length-1),".".concat(t)]}(e),2),r=t[0],i=t[1],o=d(y(r),2);return[o[0],o[1],i]}function g(e){return O.apply(this,arguments)}function O(){return(O=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Blob)){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,Object(s.default)(t.url,{responseType:"blob"});case 6:e.t0=e.sent.data;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t){if(!e.hasPath())return null;var r=d(m(e.path),3),n=r[0],i=r[2];return e.portalItem.resourceFromPath(Object(a.y)(n,t+i))}function j(e,t){if(!e.hasPath())return null;var r=d(m(e.path),3),n=r[0],i=r[2];return e.portalItem.resourceFromPath(Object(a.y)(n,t+i))}},"6Az7":function(e,t,r){"use strict";r.d(t,"a",function(){return b});var a=r("kYAx"),o=r("yE7X"),u=r("Oxob"),l=r("ZyIX"),h=r("5LEI"),d=r("xzrc"),p=function(e){s(r,e);var t=c(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,r),(a=t.call(this,e,n,i,i)).bitmap=new d.a(o,"standard",!1),a.bitmap.coordScale=i,a.bitmap.once("isReady",function(){return a.ready()}),a}return g(r,[{key:"destroy",value:function(){i(f(r.prototype),"destroy",this).call(this),this.bitmap.destroy()}},{key:"beforeRender",value:function(e){i(f(r.prototype),"beforeRender",this).call(this,e),this.bitmap.beforeRender(e)}},{key:"afterRender",value:function(e){i(f(r.prototype),"afterRender",this).call(this,e),this.bitmap.afterRender(e)}},{key:"stencilRef",get:function(){return this.bitmap.stencilRef},set:function(e){this.bitmap.stencilRef=e}},{key:"setTransform",value:function(e,t){i(f(r.prototype),"setTransform",this).call(this,e,t),this.bitmap.transforms.dvs=this.transforms.dvs}},{key:"onAttach",value:function(){this.bitmap.stage=this.stage}},{key:"onDetach",value:function(){this.bitmap&&(this.bitmap.stage=null)}}]),r}(h.a),b=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return g(r,[{key:"requiresDedicatedFBO",get:function(){return this.children.some(function(e){return"additive"===e.bitmap.blendFunction})}},{key:"createTile",value:function(e){var t=this._tileInfoView.getTileBounds(Object(a.g)(),e);return new p(e,t,this._tileInfoView.tileInfo.size)}},{key:"destroyTile",value:function(){}},{key:"prepareRenderPasses",value:function(e){var t=this,a=e.registerRenderPass({name:"bitmap (tile)",brushes:[u.a.bitmap],target:function(){return t.children.map(function(e){return e.bitmap})},drawPhase:o.c.MAP});return[].concat(n(i(f(r.prototype),"prepareRenderPasses",this).call(this,e)),[a])}},{key:"doRender",value:function(e){this.visible&&e.drawPhase===o.c.MAP&&i(f(r.prototype),"doRender",this).call(this,e)}}]),r}(l.a)},"8gnY":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r("8NDJ"),i=function(e){s(r,e);var t=c(r);function r(e,i){var a;return y(this,r),(a=t.call(this,n.a.createInstance()))._currentIndex=-1,a._reader=e,a._indices=i,a}return g(r,[{key:"hasNext",get:function(){return this._currentIndex+1<this._indices.length}},{key:"getApproximateSize",value:function(){return this._indices.length}},{key:"getCursor",value:function(){return this.copy()}},{key:"copy",value:function(){var e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}},{key:"next",value:function(){for(;this._nextIndex()&&!this._reader._passesFilter()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}},{key:"_nextIndex",value:function(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}},{key:"setArcadeSpatialReference",value:function(e){this._reader.setArcadeSpatialReference(e)}},{key:"attachStorage",value:function(e){this._reader.attachStorage(e)}},{key:"geometryType",get:function(){return this._reader.geometryType}},{key:"hasFeatures",get:function(){return this._reader.hasFeatures}},{key:"exceededTransferLimit",get:function(){return this._reader.exceededTransferLimit}},{key:"hasZ",get:function(){return this._reader.hasZ}},{key:"hasM",get:function(){return this._reader.hasM}},{key:"getStorage",value:function(){return this._reader.getStorage()}},{key:"getComputedNumeric",value:function(e){return this._reader.getComputedNumericAtIndex(0)}},{key:"setComputedNumeric",value:function(e,t){return this._reader.setComputedNumericAtIndex(t,0)}},{key:"getComputedString",value:function(e){return this._reader.getComputedStringAtIndex(0)}},{key:"setComputedString",value:function(e,t){return this._reader.setComputedStringAtIndex(0,t)}},{key:"getComputedNumericAtIndex",value:function(e){return this._reader.getComputedNumericAtIndex(e)}},{key:"setComputedNumericAtIndex",value:function(e,t){this._reader.setComputedNumericAtIndex(e,t)}},{key:"getComputedStringAtIndex",value:function(e){return this._reader.getComputedStringAtIndex(e)}},{key:"setComputedStringAtIndex",value:function(e,t){return this._reader.setComputedStringAtIndex(e,t)}},{key:"transform",value:function(e,t,r,n){var i=this.copy();return i._reader=this._reader.transform(e,t,r,n),i}},{key:"extent",value:function(e,t,r,n){var i=this.copy();return i._reader=this._reader.extent(e,t,r,n),i}},{key:"hasFilter",value:function(){return this._reader.hasFilter()}},{key:"readAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._reader.readAttribute(e,t)}},{key:"readAttributes",value:function(){return this._reader.readAttributes()}},{key:"joinAttributes",value:function(e){return this._reader.joinAttributes(e)}},{key:"readArcadeFeature",value:function(){return this._reader.readArcadeFeature()}},{key:"geometry",value:function(){return this._reader.geometry()}},{key:"field",value:function(e){return this.readAttribute(e,!0)}},{key:"hasField",value:function(e){return this._reader.hasField(e)}},{key:"setField",value:function(e,t){return this._reader.setField(e,t)}},{key:"keys",value:function(){return this._reader.keys()}},{key:"castToText",value:function(){return this._reader.castToText()}},{key:"getQuantizationTransform",value:function(){return this._reader.getQuantizationTransform()}},{key:"getAttributeHash",value:function(){return this._reader.getAttributeHash()}},{key:"getObjectId",value:function(){return this._reader.getObjectId()}},{key:"getDisplayId",value:function(){return this._reader.getDisplayId()}},{key:"setDisplayId",value:function(e){return this._reader.setDisplayId(e)}},{key:"getGroupId",value:function(){return this._reader.getGroupId()}},{key:"setGroupId",value:function(e){return this._reader.setGroupId(e)}},{key:"getXHydrate",value:function(){return this._reader.getXHydrate()}},{key:"getYHydrate",value:function(){return this._reader.getYHydrate()}},{key:"getX",value:function(){return this._reader.getX()}},{key:"getY",value:function(){return this._reader.getY()}},{key:"setIndex",value:function(e){return this._reader.setIndex(e)}},{key:"getIndex",value:function(){return this._reader.getIndex()}},{key:"readLegacyFeature",value:function(){return this._reader.readLegacyFeature()}},{key:"readOptimizedFeature",value:function(){return this._reader.readOptimizedFeature()}},{key:"readLegacyPointGeometry",value:function(){return this._reader.readLegacyPointGeometry()}},{key:"readLegacyGeometry",value:function(){return this._reader.readLegacyGeometry()}},{key:"readLegacyCentroid",value:function(){return this._reader.readLegacyCentroid()}},{key:"readGeometryArea",value:function(){return this._reader.readGeometryArea()}},{key:"readUnquantizedGeometry",value:function(){return this._reader.readUnquantizedGeometry()}},{key:"readHydratedGeometry",value:function(){return this._reader.readHydratedGeometry()}},{key:"readGeometry",value:function(){return this._reader.readGeometry()}},{key:"readCentroid",value:function(){return this._reader.readCentroid()}},{key:"_passesFilter",value:function(){return this._reader._passesFilter()}},{key:"_readAttribute",value:function(e,t){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}},{key:"_readAttributes",value:function(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}],[{key:"from",value:function(e,t){return new r(e.copy(),t)}}]),r}(n.a)},"9lO2":function(e,t,r){"use strict";var n=r("gEht");t.a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;y(this,e),this.spatialReference=t}return g(e,[{key:"spatialReference",get:function(){return this._spatialReference},set:function(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}},{key:"normalizeDistance",value:function(e){return e*this._metersPerDistanceUnit}},{key:"normalizeElevation",value:function(e){return e*this._metersPerElevationUnit}},{key:"normalizeArea",value:function(e){return e*this._squareMetersPerAreaUnit}},{key:"_updateNormalizationFactors",value:function(){this._metersPerDistanceUnit=Object(n.f)(this._spatialReference,1),this._metersPerElevationUnit=Object(n.f)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}]),e}()},AfLA:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return a});var n=r("3r0u"),i=r("OKTS"),a=function(){if(!("document"in n.a))return function(){return null};var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,function(r){t.clearRect(0,0,1,e.height);var n,i=t.createLinearGradient(0,0,0,e.height),a=p(r.colorStops);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.ratio,u=o.color;i.addColorStop(Math.max(s,.001),"rgba(".concat(u[0],", ").concat(u[1],", ").concat(u[2],", ").concat(u[3],")"))}}catch(c){a.e(c)}finally{a.f()}return t.fillStyle=i,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}}();function o(e,t,r,n){var i,a,o=t.blurRadius,s=t.fieldOffset,u=t.field,c=new Float64Array(r*n),l=function(e){for(var t=Math.round(3*e),r=2*e*e,n=new Float64Array(2*t+1),i=0;i<=n.length;i++)n[i]=Math.exp(-Math.pow(i-t,2)/r)/Math.sqrt(2*Math.PI)*(e/2);return n}(o),h=Math.round(3*o),f=Number.NEGATIVE_INFINITY,d=function(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}(u,s),b=new Set,v=p(e);try{for(v.s();!(a=v.n()).done;)for(var y=a.value.getCursor();y.next();){var m=y.getObjectId();if(!b.has(m)){b.add(m);var g=y.readLegacyPointGeometry(),O=128;if(!(g.x<-O||g.x>=r+O||g.y<-O||g.y>n+O))for(var x=+d(y),j=Math.round(g.x)-h,_=Math.round(g.y)-h,w=Math.max(0,j),k=Math.max(0,_),S=Math.min(n,Math.round(g.y)+h),I=Math.min(r,Math.round(g.x)+h),T=k;T<S;T++)for(var R=l[T-_],E=w;E<I;E++)(i=c[T*r+E]+=R*l[E-j]*x)>f&&(f=i)}}}catch(M){v.e(M)}finally{v.f()}return{matrix:c.buffer,max:f}}function s(e,t,r,n,a,o){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var s=e.getImageData(0,0,t,t);r&&n&&s.data.set(new Uint8ClampedArray(function(e,t,r,n,a){for(var o=new Uint32Array(e*e),s=("buffer"in t?t:new Float64Array(t)),u=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),c=u.length/(a-n),l=0;l<s.length;l++){var h=Math.floor((s[l]-n)*c);o[l]=u[Object(i.c)(h,0,u.length-1)]}return o.buffer}(t,r,n,a,o))),e.putImageData(s,0,0)}},B3Fv:function(e,r,n){"use strict";n.d(r,"a",function(){return c}),n.d(r,"b",function(){return h}),n.d(r,"c",function(){return p}),n.d(r,"d",function(){return l}),n.d(r,"e",function(){return f});var i=n("f/qv"),a=n("qRWG"),o=n("Cy1f"),s=n("5DEt"),u=(n("15Hh"),n("M0lq"));function c(e,r){return t(t({},e),Object(i.a)(r))}function l(e,t,r,n){for(;e.length<t;)e.push(r());if(n)for(;e.length>t;)n(e.pop());else e.length=t}function h(e,t){if(Object(s.v)(t,0,0,0),e.length>0){for(var r=0;r<e.length;++r)Object(s.e)(t,t,e[r]);Object(s.d)(t,t,1/e.length)}}function f(e,t,r,n){n.projectToRenderScreen(e,y),n.projectToRenderScreen(t,g),Object(u.d)(r,O,m),Object(u.e)(r,r)}function d(e,t,r){var n=r.state.camera;r.renderCoordsHelper.toRenderCoords(e,b),n.projectToRenderScreen(b,v),r.state.camera.renderToScreen(v,t)}function p(e,t,r){return d(e,x,r),d(t,j,r),Object(u.i)(x,j)}Object(o.e)();var b=Object(o.e)(),v=Object(a.e)(),y=Object(a.e)(),m=y,g=Object(a.e)(),O=g,x=(Object(a.g)(),Object(a.g)()),j=Object(a.g)()},BGvB:function(e,t,r){"use strict";r.d(t,"a",function(){return _}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return x}),r.d(t,"d",function(){return y}),r.d(t,"e",function(){return g});var n=r("f/qv"),i=r("EyXx"),a=r("4EHJ"),s=r("WZb1"),u=r("KLE9"),c=r("SFah"),l=r("975N"),h=r("Lqtk"),f=r("+Xal"),d=r("8prj"),b=r("QmHG"),v={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function y(e){var t=e.folders||[],r=t.slice(),i=new Map,a=new Map,o=new Map,s=new Map,u=new Map,c={esriGeometryPoint:a,esriGeometryPolyline:o,esriGeometryPolygon:s};(e.featureCollection&&e.featureCollection.layers||[]).forEach(function(e){var t=Object(n.a)(e);t.featureSet.features=[];var r=e.featureSet.geometryType;i.set(r,t);var u=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?O(a,u,e.featureSet.features):"esriGeometryPolyline"===r?O(o,u,e.featureSet.features):"esriGeometryPolygon"===r&&O(s,u,e.featureSet.features)}),e.groundOverlays&&e.groundOverlays.forEach(function(e){u.set(e.id,e)}),t.forEach(function(t){t.networkLinkIds.forEach(function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some(function(t){return t.id===e&&(r=t,!0)}),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)})}),r.forEach(function(e){e.featureInfos&&(e.points=Object(n.a)(i.get("esriGeometryPoint")),e.polylines=Object(n.a)(i.get("esriGeometryPolyline")),e.polygons=Object(n.a)(i.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map(function(t){switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var r=c[t.type].get(t.id);r&&e[v[t.type]].featureSet.features.push(r);break;case"GroundOverlay":var n=u.get(t.id);n&&e.mapImages.push(n)}}),e.fullExtent=_([e]))});var l=_(r);return{folders:t,sublayers:r,extent:l}}function m(e,t,r,n){var o=l.b&&l.b.findCredential(e);e=Object(a.e)(e,{token:o&&o.token});var s=i.a.kmlServiceUrl;return Object(h.default)(s,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:n})}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],a={},o=t.sublayers,s=t.folders.map(function(e){return e.id});return o.forEach(function(t){var o=new e;if(r?o.read(t,r):o.read(t),n.length&&s.indexOf(o.id)>-1&&(o.visible=-1!==n.indexOf(o.id)),a[t.id]=o,null!=t.parentFolderId&&-1!==t.parentFolderId){var u=a[t.parentFolderId];u.sublayers||(u.sublayers=[]),u.sublayers.unshift(o)}else i.unshift(o)}),i}function O(e,t,r){r.forEach(function(r){e.set(r.attributes[t],r)})}function x(e){return j.apply(this,arguments)}function j(){return(j=o(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s,u,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=d.default.fromJSON(t.featureSet).features,n=t.layerDefinition,i=Object(f.a)(n.drawingInfo.renderer),a=c.a.fromJSON(t.popupInfo),o=[],s=p(r),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=12;break}return l=u.value,e.next=8,i.getSymbolAsync(l);case 8:h=e.sent,l.symbol=h,l.popupTemplate=a,l.visible=!0,o.push(l);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),s.e(e.t0);case 17:return e.prev=17,s.f(),e.finish(17);case 20:return e.abrupt("return",o);case 21:case"end":return e.stop()}},e,null,[[2,14,17,20]])}))).apply(this,arguments)}function _(e){var t,r=Object(b.d)(),n=Object(b.d)(b.a),i=p(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features){var o,c=p(a.polygons.featureSet.features);try{for(c.s();!(o=c.n()).done;){var l=o.value;Object(u.b)(r,l.geometry),Object(b.g)(n,r)}}catch(j){c.e(j)}finally{c.f()}}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features){var h,f=p(a.polylines.featureSet.features);try{for(f.s();!(h=f.n()).done;){var d=h.value;Object(u.b)(r,d.geometry),Object(b.g)(n,r)}}catch(j){f.e(j)}finally{f.f()}}if(a.points&&a.points.featureSet&&a.points.featureSet.features){var v,y=p(a.points.featureSet.features);try{for(y.s();!(v=y.n()).done;){var m=v.value;Object(u.b)(r,m.geometry),Object(b.g)(n,r)}}catch(j){y.e(j)}finally{y.f()}}if(a.mapImages){var g,O=p(a.mapImages);try{for(O.s();!(g=O.n()).done;){var x=g.value;Object(u.b)(r,x.extent),Object(b.g)(n,r)}}catch(j){O.e(j)}finally{O.f()}}}}catch(j){i.e(j)}finally{i.f()}return Object(b.f)(n,b.a)?null:{xmin:n[0],ymin:n[1],zmin:n[2],xmax:n[3],ymax:n[4],zmax:n[5],spatialReference:s.a.WGS84}}},BMSW:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("wSAH"),i=r("zna6"),a={minX:0,minY:0,maxX:0,maxY:0},o=function(){function e(){var t=this;y(this,e),this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i.a(9,Object(n.a)("csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(t._indexInvalid){var e=new Array(t._idByBounds.size),r=0;t._idByBounds.forEach(function(t,n){e[r++]=n}),t._indexInvalid=!1,t._index.clear(),t._index.load(e)}else t._boundsToLoad.length&&(t._index.load(t._boundsToLoad.filter(function(e){return t._idByBounds.has(e)})),t._boundsToLoad.length=0)}}return g(e,[{key:"clear",value:function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}},{key:"delete",value:function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))}},{key:"forEachInBounds",value:function(e,t){var r=this;this._loadIndex(),function(e,t,r){a.minX=t[0],a.minY=t[1],a.maxX=t[2],a.maxY=t[3],e.search(a,r)}(this._index,e,function(e){return t(r._idByBounds.get(e))})}},{key:"get",value:function(e){return this._boundsById.get(e)}},{key:"has",value:function(e){return this._boundsById.has(e)}},{key:"invalidateIndex",value:function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}},{key:"set",value:function(e,t){if(!this._indexInvalid){var r=this._boundsById.get(e);r&&(this._index.remove(r),this._idByBounds.delete(r))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))}}]),e}()},DJok:function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return v}),r("wSAH");var n=r("srIe"),i=r("zm0L"),a=r("lx5q"),o=r("QmHG"),u=r("kB+0"),l=r("hIOP"),h=r("8gnY");function f(e,t){return e<<16|t}function d(e){return(4294901760&e)>>>16}function b(e){return 65535&e}var v={getObjectId:function(e){return e.getObjectId()},getAttributes:function(e){return e.readAttributes()},getAttribute:function(e,t){return e.readAttribute(t)},cloneWithGeometry:function(e,t){return e},getGeometry:function(e){return e.readHydratedGeometry()},getCentroid:function(e,t){return e.readCentroid()}},m=function(e){s(r,e);var t=c(r);function r(e,n,o){var s;return y(this,r),(s=t.call(this,e,n)).featureAdapter=v,s.events=new i.a,s._featureSetsByInstance=new Map,s._objectIdToDisplayId=new Map,s._spatialIndexInvalid=!0,s._indexSearchCache=new a.a(50),s._index=Object(u.a)(9,function(e){return{minX:s._storage.getXMin(e),minY:s._storage.getYMin(e),maxX:s._storage.getXMax(e),maxY:s._storage.getYMax(e)}}),s._storage=n,s.mode=o,s}return g(r,[{key:"storage",get:function(){return this._storage}},{key:"storeStatistics",get:function(){return{featureCount:0,vertexCount:0}}},{key:"hasInstance",value:function(e){return this._featureSetsByInstance.has(e)}},{key:"onTileData",value:function(e,t){if(Object(n.j)(t.addOrUpdate))return t;if(t.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){for(var r=t.addOrUpdate.getCursor();r.next();){var i=r.getDisplayId();this.setComputedAttributes(this._storage,r,i,e.scale)}return t}this._featureSetsByInstance.set(t.addOrUpdate.instance,t.addOrUpdate);for(var a=t.addOrUpdate.getCursor();a.next();)this._insertFeature(a,e.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),t}},{key:"search",value:function(e){var t=this;this._rebuildIndex();var r=e.id,i=this._indexSearchCache.find(function(e){return e.tileId===r});if(Object(n.k)(i))return i.readers;var a,o=new Map,s=this._searchIndex(e.bounds),u=[],c=p(s);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=this._storage.getInstanceId(l),v=d(f),y=b(f);o.has(v)||o.set(v,[]),o.get(v).push(y)}}catch(m){c.e(m)}finally{c.f()}return o.forEach(function(e,r){var n=t._featureSetsByInstance.get(r);u.push(h.a.from(n,e))}),this._indexSearchCache.enqueue({tileId:r,readers:u}),u}},{key:"insert",value:function(e){for(var t=e.getCursor(),r=this._storage;t.next();){var n,i=f(t.instance,t.getIndex()),a=t.getObjectId(),o=null!=(n=this._objectIdToDisplayId.get(a))?n:this._storage.createDisplayId();t.setDisplayId(o),r.setInstanceId(o,i),this._objectIdToDisplayId.set(a,o)}this._featureSetsByInstance.set(e.instance,e),this._spatialIndexInvalid=!0}},{key:"remove",value:function(e){var t=this._objectIdToDisplayId.get(e);if(t){var r=this._storage.getInstanceId(t),n=b(r),i=d(r),a=this._featureSetsByInstance.get(i);this._objectIdToDisplayId.delete(e),this._storage.releaseDisplayId(t),a.removeAtIndex(n),a.isEmpty&&this._featureSetsByInstance.delete(i),this._spatialIndexInvalid=!0}}},{key:"forEach",value:function(e){var t=this;this._objectIdToDisplayId.forEach(function(r){var n=t._storage.getInstanceId(r),i=t._lookupFeature(n);e(i)})}},{key:"forEachUnsafe",value:function(e){var t=this;this._objectIdToDisplayId.forEach(function(r){var n=t._storage.getInstanceId(r),i=d(n),a=b(n),o=t._getFeatureSet(i);o.setIndex(a),e(o)})}},{key:"forEachInBounds",value:function(e,t){var r,i=p(this._searchIndex(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=this.lookupFeatureByDisplayId(a,this._storage);t(Object(n.q)(o))}}catch(s){i.e(s)}finally{i.f()}}},{key:"forEachBounds",value:function(e,t,r){this._rebuildIndex();var n,i=[0,0,0,0],a=p(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.readGeometry()){var u=s.getDisplayId();i[0]=this._storage.getXMin(u),i[1]=this._storage.getYMin(u),i[2]=this._storage.getXMax(u),i[3]=this._storage.getYMax(u),t(Object(o.k)(r,i))}}}catch(c){a.e(c)}finally{a.f()}}},{key:"sweepFeatures",value:function(e,t,r){var n=this;this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(function(i,a){e.has(i)||(t.releaseDisplayId(i),r&&r.unsetAttributeData(i),n._objectIdToDisplayId.delete(a))}),this.events.emit("changed")}},{key:"sweepFeatureSets",value:function(e){var t=this;this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(function(r,n){e.has(n)||t._featureSetsByInstance.delete(n)})}},{key:"lookupObjectId",value:function(e,t){var r=this.lookupFeatureByDisplayId(e,t);return Object(n.j)(r)?null:r.getObjectId()}},{key:"lookupDisplayId",value:function(e){return this._objectIdToDisplayId.get(e)}},{key:"lookupFeatureByDisplayId",value:function(e,t){var r=t.getInstanceId(e);return this._lookupFeature(r)}},{key:"lookupByDisplayIdUnsafe",value:function(e){var t=this._storage.getInstanceId(e),r=d(t),n=b(t),i=this._getFeatureSet(r);return i?(i.setIndex(n),i):null}},{key:"_insertFeature",value:function(e,t){var r=this._storage,n=e.getObjectId(),i=f(e.instance,e.getIndex());r.getInstanceId(e.getDisplayId());var a=this._objectIdToDisplayId.get(n);a||(a=r.createDisplayId(),this._objectIdToDisplayId.set(n,a),this._spatialIndexInvalid=!0),e.setDisplayId(a),r.setInstanceId(a,i),this.setComputedAttributes(r,e,a,t)}},{key:"_searchIndex",value:function(e){return this._rebuildIndex(),this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}},{key:"_rebuildIndex",value:function(){var e=this;if(this._spatialIndexInvalid){var t=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach(function(r){for(var n=r.getCursor();n.next();){var i=n.getDisplayId();e._storage.setBounds(i,n)&&t.push(i)}}):this._objectIdToDisplayId.forEach(function(r){var n=e._storage.getInstanceId(r);e._storage.setBounds(r,e._lookupFeature(n))&&t.push(r)}),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}}},{key:"_lookupFeature",value:function(e){var t=d(e),r=b(e),n=this._getFeatureSet(t);if(!n)return null;var i=n.getCursor();return i.setIndex(r),i}},{key:"_getFeatureSet",value:function(e){return this._featureSetsByInstance.get(e)}}]),r}(l.a)},Dfpg:function(e,t,r){"use strict";function n(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}r.d(t,"a",function(){return n})},Fkrg:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI"),r("04ZG")),a=(r("4EHJ"),r("ju1D"),r("9AIY"),r("6Az7")),o=function(e){var t=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return g(r,[{key:"attach",value:function(){this.view.timeline.record("".concat(this.layer.title," (BitmapTileLayer) Attach")),this._bitmapView=new a.a(this._tileInfoView),this.container.addChild(this._bitmapView)}},{key:"detach",value:function(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()}}]),r}(e);return t=Object(n.a)([Object(i.a)("esri.views.2d.layers.BitmapTileLayerView2D")],t)}},GprA:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("xRQN"),i=function e(t,r,n,i,a,o,s,u){y(this,e),this.createQuery=t,this.resultAvailable=r,this.getResult=n,this.disjoint=i,this.beginTimeElapsed=a,this.endTimeElapsed=o,this.createTimestamp=s,this.timestampBits=u};function a(e,t){if(t.disjointTimerQuery)return null;var r=e.getExtension("EXT_disjoint_timer_query_webgl2");return r&&Object(n.a)(e)?new i(function(){return e.createQuery()},function(t){return e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)},function(t){return e.getQueryParameter(t,e.QUERY_RESULT)},function(){return e.getParameter(r.GPU_DISJOINT_EXT)},function(t){return e.beginQuery(r.TIME_ELAPSED_EXT,t)},function(){return e.endQuery(r.TIME_ELAPSED_EXT)},function(e){return r.queryCounterEXT(e,r.TIMESTAMP_EXT)},function(){return e.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT)}):(r=e.getExtension("EXT_disjoint_timer_query"))?new i(function(){return r.createQueryEXT()},function(e){return r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)},function(e){return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)},function(){return e.getParameter(r.GPU_DISJOINT_EXT)},function(e){return r.beginQueryEXT(r.TIME_ELAPSED_EXT,e)},function(){return r.endQueryEXT(r.TIME_ELAPSED_EXT)},function(e){return r.queryCounterEXT(e,r.TIMESTAMP_EXT)},function(){return r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT)}):null}},IAPW:function(e,t,r){"use strict";r.d(t,"a",function(){return b}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return f}),r.d(t,"g",function(){return o}),r.d(t,"h",function(){return h}),r.d(t,"i",function(){return a}),r.d(t,"j",function(){return d}),r.d(t,"k",function(){return s}),r.d(t,"l",function(){return i});var n=r("nvBr"),i={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function a(e,t,r){var n=22,i=22;e<1?n*=.75:e>1&&(i*=1.25);var a=22,o=22;return t&&r&&(n=i=a=o=0),[{type:"path",path:[{command:"M",values:[a,0]},{command:"L",values:[r?a:.875*a,0]},{command:"L",values:[r?n-.5*a:0,i-.5*o]},{command:"L",values:[n-.5*a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[a,0]},{command:"L",values:[a,t?0:.125*o]},{command:"L",values:[n-.5*a,t?i-.5*o:o]},{command:"L",values:[n-.5*a,i-.5*o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n-.5*a,i-.5*o]},{command:"L",values:[r?n-.5*a:0,i-.5*o]},{command:"L",values:[r?n-.5*a:0,t?i-.5*o:o]},{command:"L",values:[n-.5*a,t?i-.5*o:o]},{command:"Z",values:[]}]}]}function o(e){var t=22,r=.5*e;return[{type:"path",path:[{command:"M",values:[0,.7*t*.5]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[0,.7*t+r-.7*t*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,.7*t]},{command:"L",values:[6.6,.7*t+r]},{command:"L",values:[t,r]},{command:"L",values:[t,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[t,0]},{command:"L",values:[6.6,.7*t]},{command:"L",values:[0,.7*t*.5]},{command:"Z",values:[]}]}]}function s(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function u(e,t){var r=t?20:e,n=t?4:6;r-=r<=22?.5*n:n;var i=t?.35*r:.5*r;return[{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[0,.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[0,e-.5*i]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*r,i]},{command:"L",values:[.5*r,e]},{command:"L",values:[r,e-.5*i]},{command:"L",values:[r,.5*i]},{command:"Z",values:[]}]}]}function c(e,t){var r=t?20:e,n=t?4:6,i=.5*(r-=r<=22?.5*n:n),a=.15*r,o=e-a;return[{type:"ellipse",cx:.5*r,cy:o,rx:i,ry:a},{type:"path",path:[{command:"M",values:[0,a]},{command:"L",values:[0,o]},{command:"L",values:[r,o]},{command:"L",values:[r,a]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*r,cy:a,rx:i,ry:a}]}function l(e,t){var r=t?20:e,n=t?4:6,i=.15*(r-=r<=22?.5*n:n),a=e-i;return[{type:"ellipse",cx:.5*r,cy:a,rx:.5*r,ry:i},{type:"path",path:[{command:"M",values:[.5*r,0]},{command:"L",values:[r,a]},{command:"L",values:[0,a]},{command:"Z",values:[]}]}]}function h(e){var t=e,r=.15*(t-=t<22?3:6);return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[t,0]},{command:"L",values:[.5*t,e-r]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*t,cy:0,rx:.5*t,ry:r}]}function f(e){var t=e,r=e,n=t-=t<22?2:4,i=r,a=Math.floor(e/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[n,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,0]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"L",values:[0,.5*i-a]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"L",values:[.45*n,r]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*n,r]},{command:"L",values:[n,.5*i-a]},{command:"L",values:[.45*n-a,.5*i+a]},{command:"Z",values:[]}]}]}function d(e){var t=e;return[{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[e,t-=t<22?1:2]},{command:"L",values:[.45*e,.6*t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,0]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,t]},{command:"L",values:[.45*e,.6*t]},{command:"L",values:[e,t]},{command:"Z",values:[]}]}]}function p(e,t){return Math.round(Math.min(Math.max(e+255*t*.75,0),255))}function b(e,t){if("type"in e&&("linear"===e.type||"pattern"===e.type))return e;var r=new n.a(e);return new n.a([p(r.r,t),p(r.g,t),p(r.b,t),r.a])}},IYxN:function(e,t,r){"use strict";r.d(t,"a",function(){return h}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return f}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return d}),r.d(t,"f",function(){return c}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return b});var n=r("srIe"),i=r("SuVq");r("4GrV");var a=r("tODX"),o=new Map,s=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;y(this,e),this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,r)}return g(e,[{key:"decreaseRefCount",value:function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.refCount--,i.refCount<=0&&(n.delete(r),i.controller&&i.controller.abort()),i.refCount}return 0}},{key:"getBlock",value:function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.ts=Date.now(),i.refCount++,n.delete(r),n.set(r,i),i.block}return null}},{key:"putBlock",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this._cachedBlocks,a=e+"/"+t;if(i.has(a)){var o=i.get(a);o.ts=Date.now(),o.refCount++}else i.set(a,{block:r,ts:Date.now(),refCount:1,controller:n});this.trim(),this.updateTimer()}},{key:"deleteBlock",value:function(e,t){var r=this._cachedBlocks,n=e+"/"+t;r.has(n)&&r.delete(n)}},{key:"updateMaxSize",value:function(e){this._size=e,this.trim()}},{key:"empty",value:function(){this._cachedBlocks.clear(),this.clearTimer()}},{key:"getCurrentSize",value:function(){return this._cachedBlocks.size}},{key:"updateTimer",value:function(){var e=this;if(null==this._timer){var t=this._cachedBlocks;this._timer=setInterval(function(){for(var r=Array.from(t),n=Date.now(),i=0;i<r.length&&r[i][1].ts<=n-e._duration;i++)t.delete(r[i][0]);0===t.size&&e.clearTimer()},this._interval)}}},{key:"trim",value:function(){var e=this._cachedBlocks;if(!(-1===this._size||this._size>=e.size))for(var t=Array.from(e),r=0;r<t.length-this._size;r++)e.delete(t[r][0])}},{key:"clearTimer",value:function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}]),e}());function u(e,t){return null==t?e:"".concat(e,"?sliceId=").concat(t)}function c(e,t){var r={extent:null,rasterInfo:t,cache:new Map};if(o.has(e)){var n=o.get(e);return n.push(r),n.length-1}return o.set(e,[r]),0}function l(e,t){if(o.has(e)){var r=o.get(e);r[t]=null,r.some(function(e){return null!=e})||o.delete(e)}}function h(e,t,r){if(!o.has(e))return null==t?s.decreaseRefCount(e,r):0;var n=o.get(e);if(null==n[t])return s.decreaseRefCount(e,r);var i=n[t].cache;if(i.has(r)){var a=i.get(r);if(a.refCount--,0===a.refCount){i.delete(r);for(var u=0;u<n.length;u++)n[u]&&n[u].cache.has(r)&&n[u].cache.delete(r);a.controller&&a.controller.abort()}return a.refCount}return 0}function f(e,t,r){if(!o.has(e))return null==t?s.getBlock(e,r):null;var n=o.get(e);if(null==n[t]){for(var i=0;i<n.length;i++)if(n[i]&&n[i].cache.has(r)){var a=n[i].cache.get(r);return a.refCount++,a.block}return s.getBlock(e,r)}var u=n[t].cache;if(u.has(r)){var c=u.get(r);return c.refCount++,c.block}for(var l=0;l<n.length;l++)if(l!==t&&n[l]&&n[l]&&n[l].cache.has(r)){var h=n[l].cache.get(r);return h.refCount++,u.set(r,h),h.block}return null}function d(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o.has(e)){var a=o.get(e);if(null!=a[t]){var u={refCount:1,block:n,isResolved:!1,isRejected:!1,controller:i};n.then(function(){return u.isResolved=!0}).catch(function(){return u.isRejected=!0}),a[t].cache.set(r,u)}else s.putBlock(e,r,n,i)}else null==t&&s.putBlock(e,r,n,i)}function p(e,t,r){if(o.has(e)){var n=o.get(e);null!=n[t]?n[t].cache.delete(r):s.deleteBlock(e,r)}else null==t&&s.deleteBlock(e,r)}function b(e,t,r,s,u,c){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,h=function(e,t){if(!o.has(e))return null;var r=o.get(e);return null==r[t]?null:r[t]}(e,t),f=h.extent,d=h.cache,p=h.rasterInfo;if(!f||f.xmin!==r.xmin||f.xmax!==r.xmax||f.ymin!==r.ymin||f.ymax!==r.ymax){for(var b=r.clone().normalize(),v=p.spatialReference,y=p.transform,m=new Set,g=0;g<b.length;g++){var O=b[g];if(!(O.xmax-O.xmin<=s||O.ymax-O.ymin<=s)){var x=Object(a.e)(O,v,l);Object(n.k)(y)&&(x=y.inverseTransform(x));var j=new i.a({x:s,y:s,spatialReference:O.spatialReference});if(null==u&&!(u=Object(a.g)(j,v,O,l)))return;var _=Object(a.h)(u,p,c||"closest"),w=_.pyramidLevel,k=_.pyramidResolution,S=_.excessiveReading;if(S)return;for(var I=p.storageInfo,T=I.origin,R={x:Math.max(0,Math.floor((x.xmin-T.x)/k.x)),y:Math.max(0,Math.floor((T.y-x.ymax)/k.y))},E=Math.ceil((x.xmax-x.xmin)/k.x-.1),M=Math.ceil((x.ymax-x.ymin)/k.y-.1),A=w>0?I.pyramidBlockWidth:I.blockWidth,C=w>0?I.pyramidBlockHeight:I.blockHeight,F=1,L=Math.max(0,Math.floor(R.x/A)-F),P=Math.max(0,Math.floor(R.y/C)-F),B=Math.floor((R.x+E-1)/A)+F,D=Math.floor((R.y+M-1)/C)+F,G=P;G<=D;G++)for(var N=L;N<=B;N++)m.add("".concat(w,"/").concat(G,"/").concat(N))}}d.forEach(function(e,t){if(!m.has(t)){var r=d.get(t);(null==r||r.isResolved||r.isRejected)&&d.delete(t)}}),h.extent={xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax}}}},IcpP:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return l}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return v});var n=r("f4Nx"),i=r("wdpY"),a=function e(){y(this,e),this.code=null,this.description=null},s=function e(t){y(this,e),this.error=new a,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t};function u(e){return new s(e)}var c=function e(t){y(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t};function l(e){return new c(e)}var h,f=new Set;function d(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;for(var s in f.clear(),n){var c=e.get(s);if(c){var l=n[s],h=b(c,l);if(h!==l&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:c,originalValue:l,sanitizedValue:h}}),f.add(c.name),c&&(a||c.editable)){var d=Object(i.u)(c,h);if(d)return u(Object(i.v)(d,c,h));r[c.name]=h}}}var v,y=p(t);try{for(y.s();!(v=y.n()).done;){var m=v.value;if(!f.has(m.name))return u('missing required field "'.concat(m.name,'"'))}}catch(g){y.e(g)}finally{y.f()}return null}function b(e,t){var r=t;return"string"==typeof t&&Object(i.q)(e)?r=parseFloat(t):null!=t&&Object(i.r)(e)&&"string"!=typeof t&&(r=String(t)),Object(i.s)(r)}function v(e,t){if(!e||!Object(n.i)(t))return e;if("rings"in e||"paths"in e){if(!h)throw new TypeError("geometry engine not loaded");return h.simplify(t,e)}return e}function m(e,t){return g.apply(this,arguments)}function g(){return(g=o(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!Object(n.i)(t)||"esriGeometryPolygon"!==i&&"esriGeometryPolyline"!==i,e.t0){e.next=4;break}return e.next=4,o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=h,e.t0){e.next=6;break}return e.next=4,Promise.all([r.e(0),r.e(20)]).then(r.bind(null,"AKzY"));case 4:h=e.sent,e.t0=h;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}},e)}))();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"J+o3":function(e,t,r){"use strict";r.d(t,"a",function(){return A}),r.d(t,"b",function(){return F});var n=r("srIe"),i=r("qRWG"),a=r("Cy1f"),o=r("5DEt"),u=r("r0DZ"),l=r("M0lq"),h=r("9ToJ"),f=r("B3Fv"),b=r("pO5D"),v=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),m=r("04ZG"),O=(r("4EHJ"),r("ju1D"),r("9AIY"),r("/CmD"));r("5sKF");var x=function e(t,r,n){for(var i=0,a=r.length;i<a;i++){var o=r[i];Array.isArray(o)?e(t,o,n):null!=o&&!1!==o&&("string"==typeof o&&(o={vnodeSelector:"",properties:void 0,children:void 0,text:o.toString(),domNode:null}),n.push(o))}};function j(e,t,r){if(Array.isArray(t))r=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||r&&("string"==typeof r||r.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");var n,i;return r&&1===r.length&&"string"==typeof r[0]?n=r[0]:r&&(x(e,r,i=[]),0===i.length&&(i=void 0)),{vnodeSelector:e,properties:t,children:i,text:""===n?void 0:n,domNode:null}}r("aelY");var _=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).startX=0,n.startY=0,n.endX=0,n.endY=0,n.width=1,n.color=[0,0,0,.5],n.visible=!0,n}return g(r,[{key:"startPosition",get:function(){return[this.startX,this.startY]},set:function(e){this._set("startX",e[0]),this._set("startY",e[1])}},{key:"endPosition",get:function(){return[this.endX,this.endY]},set:function(e){this._set("endX",e[0]),this._set("endY",e[1])}},{key:"strokeStyle",get:function(){var e=this.color;return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}},{key:"lineCap",get:function(){return"round"}},{key:"render",value:function(){var e=this.calculateCoordinates(w),t=e.height,r=e.left,n=e.top,i=e.width,a=e.x1,o=e.x2,s=e.y1,u=e.y2;return j("div",{classes:{"esri-line-overlay-item":!0},styles:{left:r+"px",top:n+"px",width:i+"px",height:t+"px",visibility:this.visible?"visible":"hidden"}},[j("svg",{width:i,height:t},[j("line",{x1:a,y1:s,x2:o,y2:u,style:"stroke: ".concat(this.strokeStyle,"; stroke-width: ").concat(this.width,"; stroke-linecap: ").concat(this.lineCap,";")})])])}},{key:"renderCanvas",value:function(e){if(this.visible){e.strokeStyle=this.strokeStyle,e.lineWidth=this.width,e.lineCap=this.lineCap;var t=this.calculateCoordinates(w);e.beginPath(),e.moveTo(t.left+t.x1,t.top+t.y1),e.lineTo(t.left+t.x2,t.top+t.y2),e.stroke()}}},{key:"calculateCoordinates",value:function(e){var t=Math.min(this.startX,this.endX),r=Math.max(this.startX,this.endX),n=Math.min(this.startY,this.endY),i=Math.max(this.startY,this.endY),a=this.width;return e.left=t-a,e.top=n-a,e.width=r-t+2*a,e.height=Math.max(20,i-n+2*a),e.x1=this.startX-t+a,e.y1=this.startY-n+a,e.x2=this.endX-t+a,e.y2=this.endY-n+a,e}}]),r}(O.a);Object(b.a)([Object(v.b)()],_.prototype,"startX",void 0),Object(b.a)([Object(v.b)()],_.prototype,"startY",void 0),Object(b.a)([Object(v.b)()],_.prototype,"endX",void 0),Object(b.a)([Object(v.b)()],_.prototype,"endY",void 0),Object(b.a)([Object(v.b)()],_.prototype,"startPosition",null),Object(b.a)([Object(v.b)()],_.prototype,"endPosition",null),Object(b.a)([Object(v.b)()],_.prototype,"width",void 0),Object(b.a)([Object(v.b)()],_.prototype,"color",void 0),Object(b.a)([Object(v.b)()],_.prototype,"visible",void 0),Object(b.a)([Object(v.b)({readOnly:!0})],_.prototype,"strokeStyle",null),_=Object(b.a)([Object(m.a)("esri.views.overlay.LineOverlayItem")],_);var w={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},k=_,S={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"},I=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).x=0,n.y=0,n.text="-",n.fontSize=14,n.anchor="center",n.visible=!0,n.backgroundColor="rgba(0, 0, 0, 0.6)",n.textColor="white",n.textShadowColor=[0,0,0],n.textShadowSize=1,n}return g(r,[{key:"position",get:function(){return[this.x,this.y]},set:function(e){this._set("x",e[0]),this._set("y",e[1])}},{key:"padding",get:function(){return.5*this.fontSize}},{key:"render",value:function(){return j("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+"px",borderRadius:this.padding+"px",textShadow:"0 0 ".concat(this.textShadowSize,"px rgb(").concat(this.textShadowColor[0],", ").concat(this.textShadowColor[1],", ").concat(this.textShadowColor[2],")")}},[this.text])}},{key:"renderCanvas",value:function(e){if(this.visible){var t=e.font.replace(/^(.*?)px/,"");e.font="".concat(this.fontSize,"px ").concat(t);var r=this.padding,n=this.padding,i=e.measureText(this.text).width,a=this.fontSize,o=T[this.anchor];e.textAlign="center",e.textBaseline="middle";var s=i+2*r,u=a+2*r;this.roundedRect(e,this.x+o.x*s,this.y+o.y*u,s,u,n),e.fillStyle=this.backgroundColor,e.fill();var c=this.x+(o.x+.5)*s,l=this.y+(o.y+.5)*u;this._renderTextShadow(e,this.text,c,l),e.fillStyle=this.textColor,e.fillText(this.text,c,l)}}},{key:"_renderTextShadow",value:function(e,t,r,n){e.lineJoin="miter",e.fillStyle="rgba(".concat(this.textShadowColor[0],", ").concat(this.textShadowColor[1],", ").concat(this.textShadowColor[2],", ").concat(1/R.length,")");var i,a=this.textShadowSize,o=p(R);try{for(o.s();!(i=o.n()).done;){var s=d(i.value,2),u=s[0],c=s[1];e.fillText(t,r+a*u,n+a*c)}}catch(l){o.e(l)}finally{o.f()}}},{key:"roundedRect",value:function(e,t,r,n,i,a){e.beginPath(),e.moveTo(t,r+a),e.arcTo(t,r,t+a,r,a),e.lineTo(t+n-a,r),e.arcTo(t+n,r,t+n,r+a,a),e.lineTo(t+n,r+i-a),e.arcTo(t+n,r+i,t+n-a,r+i,a),e.lineTo(t+a,r+i),e.arcTo(t,r+i,t,r+i-a,a),e.closePath()}},{key:"_cssClasses",value:function(){var e={"esri-text-overlay-item":!0};for(var t in S)e[S[t]]=this.anchor===t;return e}}]),r}(O.a);Object(b.a)([Object(v.b)()],I.prototype,"x",void 0),Object(b.a)([Object(v.b)()],I.prototype,"y",void 0),Object(b.a)([Object(v.b)()],I.prototype,"position",null),Object(b.a)([Object(v.b)()],I.prototype,"text",void 0),Object(b.a)([Object(v.b)()],I.prototype,"fontSize",void 0),Object(b.a)([Object(v.b)()],I.prototype,"anchor",void 0),Object(b.a)([Object(v.b)()],I.prototype,"visible",void 0),Object(b.a)([Object(v.b)()],I.prototype,"padding",null),I=Object(b.a)([Object(m.a)("esri.views.overlay.TextOverlayItem")],I);for(var T={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},R=[],E=0;E<360;E+=22.5)R.push([Math.cos(Math.PI*E/180),Math.sin(Math.PI*E/180)]);var M=I,A=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e.view))._handles=new u.a,n._textItem=null,n._calloutItem=null,n._showCallout=!0,n._showText=!0,n._geometry=null,n._text=null,n._fontSize=14,n._distance=25,n._anchor="right",n.applyProps(e),n}return g(r,[{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this._updateLabelPosition()}},{key:"textItem",get:function(){return this._textItem}},{key:"text",get:function(){return this._text},set:function(e){this._text=e,this.attached&&(this._textItem.text=this._text)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this.attached&&(this._textItem.fontSize=this._fontSize)}},{key:"distance",get:function(){return this._distance},set:function(e){this._distance!==e&&(this._distance=e,this._updateLabelPosition())}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor!==e&&(this._anchor=e,this._updateLabelPosition())}},{key:"overlaps",value:function(e){return this.textItem.visible&&e.textItem.visible&&this.view.overlay.overlaps(this._textItem,e.textItem)}},{key:"_updateLabelPosition",value:function(){if(this.attached){if(this._showText=!1,this._showCallout=!1,Object(n.k)(this.geometry)&&this.view._stage)switch(this.geometry.type){case"point":this._computeLabelPositionFromPoint(this.geometry,H)&&(this._textItem.position=[H[0],H[1]],this._textItem.anchor="center",this._showText=!0);break;case"corner":this._computeLabelPositionFromCorner(this.geometry,this._distance,H,q)&&(this._showCallout=this._updatePosition(H,q),this._showText=!0);break;case"segment":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,H,q)&&(this._showText=!0,this._showCallout=this._updatePosition(H,q))}this.updateVisibility(this.visible)}}},{key:"_computeLabelPositionFromPoint",value:function(e,t){this.view.renderCoordsHelper.toRenderCoords(e,z);var r=this.view._stage.camera;return r.projectToRenderScreen(z,U),!(U[2]<0||U[2]>1||(r.renderToScreen(U,t),0))}},{key:"_computeLabelPositionFromCorner",value:function(e,t,r,n){if(!e)return!1;var i=this.view._stage.camera;return C(e.left,1,i,D),Object(l.n)(D,D),C(e.right,0,i,G),Object(l.h)(N,D,G),Object(l.n)(N,N),Object(l.e)(N,N),i.projectToRenderScreen(e.left.endRenderSpace,U),!(U[2]<0||U[2]>1||(i.renderToScreen(U,r),Object(l.a)(N,N,t*i.pixelRatio),Object(l.h)(N,N,U),i.renderToScreen(N,n),0))}},{key:"_computeLabelPositionFromSegment",value:function(e,t,r,n,i){if(!e)return!1;var a=e.segment,o=this.view._stage.camera;Object(f.e)(a.startRenderSpace,a.endRenderSpace,D,o),Object(l.r)(N,-D[1],D[0]);var s=!1;switch(r){case"top":s=N[1]<0;break;case"bottom":s=N[1]>0;break;case"left":s=N[0]>0;break;case"right":s=N[0]<0}if(s&&Object(l.n)(N,N),0===Object(l.l)(N))switch(r){case"top":N[1]=1;break;case"bottom":N[1]=-1;break;case"left":N[0]=-1;break;case"right":N[0]=1}return a.eval(Z[e.sampleLocation],z),o.projectToRenderScreen(z,U),!(U[2]<0||U[2]>1||(o.renderToScreen(U,n),Object(l.a)(N,N,t*o.pixelRatio),Object(l.h)(N,N,U),o.renderToScreen(N,i),0))}},{key:"_updatePosition",value:function(e,t){if(t){var r=t[0]-e[0],n=t[1]-e[1];return this._textItem.position=[t[0],t[1]],this._textItem.anchor=Math.abs(r)>Math.abs(n)?r>0?"left":"right":n>0?"top":"bottom",this._calloutItem.startPosition=[e[0],e[1]],this._calloutItem.endPosition=[t[0],t[1]],!0}return this._textItem.position=[e[0],e[1]],this._textItem.anchor="center",!1}},{key:"createResources",value:function(){var e=this;this._textItem=new M({visible:!0}),this._textItem.text=Object(n.q)(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new k({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch("camera",function(){e._updateLabelPosition()}))}},{key:"destroyResources",value:function(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}},{key:"updateVisibility",value:function(e){this._textItem.visible=this._showText&&e,this._calloutItem.visible=this._showCallout&&e}}]),r}(h.a);function C(e,t,r,n){e.eval(t,L,B),Object(o.e)(P,L,B),r.projectToRenderScreen(L,X),r.projectToRenderScreen(P,Y),Object(l.d)(n,W,V),Object(l.e)(n,n)}function F(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}var L=Object(a.e)(),P=Object(a.e)(),B=Object(a.e)(),D=Object(i.d)(),G=Object(i.d)(),N=Object(i.d)(),z=Object(a.e)(),U=Object(i.e)(),H=Object(i.g)(),q=Object(i.g)(),X=Object(i.e)(),V=X,Y=Object(i.e)(),W=Y,Z={start:0,center:.5,end:1}},JL5j:function(e,t,r){"use strict";r.r(t);var n=r("pO5D"),i=(r("wSAH"),r("f/qv")),a=r("srIe"),o=(r("6S2I"),r("zqDF"),r("WbKI")),u=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("zm0L")),h=r("r0DZ"),f=r("N5XI"),d=r("JYnY"),p=r("QS+a"),b=r("zcE2"),v=r("PN7H"),m=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-click"},O=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-double-click"},x=function(){function e(t,r,n,i,a,o,s,u,c,l){y(this,e),this.graphic=t,this.allGraphics=r,this.index=n,this.x=i,this.y=a,this.dx=o,this.dy=s,this.totalDx=u,this.totalDy=c,this.viewEvent=l,this.defaultPrevented=!1,this.type="graphic-move-start"}return g(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),j=function(){function e(t,r,n,i,a,o,s,u,c,l){y(this,e),this.graphic=t,this.allGraphics=r,this.index=n,this.x=i,this.y=a,this.dx=o,this.dy=s,this.totalDx=u,this.totalDy=c,this.viewEvent=l,this.defaultPrevented=!1,this.type="graphic-move"}return g(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),_=function(){function e(t,r,n,i,a,o,s,u,c,l){y(this,e),this.graphic=t,this.allGraphics=r,this.index=n,this.x=i,this.y=a,this.dx=o,this.dy=s,this.totalDx=u,this.totalDy=c,this.viewEvent=l,this.defaultPrevented=!1,this.type="graphic-move-stop"}return g(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),w=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-pointer-over"},k=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-pointer-out"},S=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-pointer-down"},I=function e(t,r,n,i,a){y(this,e),this.graphic=t,this.index=r,this.x=n,this.y=i,this.viewEvent=a,this.type="graphic-pointer-up"},T=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e))._activeGraphic=null,n._dragEvent=null,n._handles=new h.a,n._hoverGraphic=null,n._initialDragGeometry=null,n._viewHandles=new h.a,n._manipulators=[],n.type="graphic-mover",n.callbacks={onGraphicClick:function(){},onGraphicDoubleClick:function(){},onGraphicMoveStart:function(){},onGraphicMove:function(){},onGraphicMoveStop:function(){},onGraphicPointerOver:function(){},onGraphicPointerOut:function(){},onGraphicPointerDown:function(){},onGraphicPointerUp:function(){}},n.enableMoveAllGraphics=!1,n.graphics=[],n.view=null,n}return g(r,[{key:"initialize",value:function(){var e=this;this._setUpManipulators(),this._handles.add([Object(f.watch)(this,["graphics","graphics.length"],function(){e._setUpManipulators()}),Object(f.whenOnce)(this,"view.ready",function(){e._viewHandles.add([e.view.on("immediate-click",function(t){return e._clickHandler(t)},d.b.TOOL),e.view.on("double-click",function(t){return e._doubleClickHandler(t)},d.b.TOOL),e.view.on("pointer-down",function(t){return e._pointerDownHandler(t)},d.b.TOOL),e.view.on("pointer-move",function(t){return e._pointerMoveHandler(t)},d.b.TOOL),e.view.on("pointer-up",function(t){return e._pointerUpHandler(t)},d.b.TOOL),e.view.on("drag",function(t){return e._dragHandler(t)},d.b.TOOL),e.view.on("key-down",function(t){return e._keyDownHandler(t)},d.b.TOOL)])})])}},{key:"destroy",value:function(){this.reset(),this._manipulators.forEach(function(e){return e.destroy()}),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}},{key:"state",get:function(){var e=!!this.get("view.ready"),t=!!this.get("graphics.length");return e&&t?this._activeGraphic?"moving":"active":e?"ready":"disabled"}},{key:"reset",value:function(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}},{key:"updateGeometry",value:function(e,t){var r=this.graphics[e];r&&r.set("geometry",t)}},{key:"_clickHandler",value:function(e){var t=this._findTargetGraphic(Object(p.a)(e));if(t){var r=new m(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-click",r),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(r)}}},{key:"_doubleClickHandler",value:function(e){var t=this._findTargetGraphic(Object(p.a)(e));if(t){var r=new O(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-double-click",r),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(r)}}},{key:"_pointerDownHandler",value:function(e){var t=this._findTargetGraphic(Object(p.a)(e));if(t){this._activeGraphic=t;var r=e.x,n=e.y,i=new S(t,this.graphics.indexOf(t),r,n,e);this.emit("graphic-pointer-down",i),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(i)}else this._activeGraphic=null}},{key:"_pointerUpHandler",value:function(e){if(this._activeGraphic){var t=e.x,r=e.y,n=this.graphics.indexOf(this._activeGraphic),i=new I(this._activeGraphic,n,t,r,e);this.emit("graphic-pointer-up",i),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(i)}}},{key:"_pointerMoveHandler",value:function(e){if(!this._dragEvent){var t=this._findTargetGraphic(Object(p.a)(e));if(t){var r=e.x,n=e.y;if(this._hoverGraphic){if(this._hoverGraphic===t)return;var i=this.graphics.indexOf(this._hoverGraphic),a=new k(this.graphics[i],i,r,n,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}var o=this.graphics.indexOf(t),s=new w(t,o,r,n,e);return this._hoverGraphic=t,this.emit("graphic-pointer-over",s),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(s))}if(this._hoverGraphic){var u=e.x,c=e.y,l=this.graphics.indexOf(this._hoverGraphic),h=new k(this.graphics[l],l,u,c,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",h),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(h)}}}},{key:"_dragHandler",value:function(e){var t=this;if(("start"===e.action||this._dragEvent)&&this._activeGraphic&&this._activeGraphic.geometry){e.stopPropagation();var r=e.action,n=e.x,a=e.y,o=this.graphics.indexOf(this._activeGraphic),s=this._activeGraphic.geometry,u=this._dragEvent?n-this._dragEvent.x:0,c=this._dragEvent?a-this._dragEvent.y:0,l=n-e.origin.x,h=a-e.origin.y;if(this._activeGraphic.geometry=Object(b.a)(s,u,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach(function(e){e!==t._activeGraphic&&(e.geometry=Object(b.a)(e.geometry,u,c,t.view))}),this._dragEvent=e,"start"===r){this._initialDragGeometry=Object(i.a)(s);var f=new x(this._activeGraphic,this.graphics,o,n,a,u,c,l,h,e);this.emit("graphic-move-start",f),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(f),f.defaultPrevented&&this._activeGraphic.set("geometry",s)}else if("update"===r){var d=new j(this._activeGraphic,this.graphics,o,n,a,u,c,l,h,e);this.emit("graphic-move",d),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(d),d.defaultPrevented&&this._activeGraphic.set("geometry",s)}else{var p=new _(this._activeGraphic,this.graphics,o,n,a,u,c,l,h,e);this._dragEvent=null,this._activeGraphic=null,this.emit("graphic-move-stop",p),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(p),p.defaultPrevented&&this.graphics[o].set("geometry",this._initialDragGeometry),this._initialDragGeometry=null}}}},{key:"_keyDownHandler",value:function(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()}},{key:"_findTargetGraphic",value:function(e){var t=null,r=Number.MAX_VALUE;return this._manipulators.forEach(function(n){var i=n.intersectionDistance(e);Object(a.k)(i)&&i<r&&(r=i,t=n.graphic)}),t}},{key:"_setUpManipulators",value:function(){var e=this.graphics,t=this.view;this._manipulators.forEach(function(e){return e.destroy()}),this._manipulators=null!=e&&e.length?e.map(function(e){return new v.a({graphic:e,view:t})}):[]}}]),r}(l.a.EventedAccessor);Object(n.a)([Object(o.b)()],T.prototype,"_activeGraphic",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],T.prototype,"type",void 0),Object(n.a)([Object(o.b)()],T.prototype,"callbacks",void 0),Object(n.a)([Object(o.b)()],T.prototype,"enableMoveAllGraphics",void 0),Object(n.a)([Object(o.b)()],T.prototype,"graphics",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],T.prototype,"state",null),Object(n.a)([Object(o.b)()],T.prototype,"view",void 0),T=Object(n.a)([Object(u.a)("esri.views.draw.support.GraphicMover")],T),t.default=T},LTnl:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var a=r("yE7X"),o=r("Oxob"),u=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return g(r,[{key:"requiresDedicatedFBO",get:function(){return this.children.some(function(e){return"additive"===e.blendFunction})}},{key:"prepareRenderPasses",value:function(e){var t=this,s=e.registerRenderPass({name:"bitmap",brushes:[o.a.bitmap],target:function(){return t.children},drawPhase:a.c.MAP});return[].concat(n(i(f(r.prototype),"prepareRenderPasses",this).call(this,e)),[s])}}]),r}(r("mgI5").a)},N3sV:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r("wSAH");var n=r("jjdI"),i=r("fOQB"),a=r("of9L"),s=r("D6bk"),u=r("0meK");function c(e){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t){var r,o,c,l,h,f,d,p,b,v,y,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Image).src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A",r.width=5,r.height=5,e.next=6,r.decode();case 6:if(t.gl){e.next=8;break}return e.abrupt("return",!0);case 8:return o=new u.a(t,{colorTarget:0,depthStencilTarget:0},{target:3553,wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1}),c=i.a.createVertex(t,35044,new Uint16Array([0,0,1,0,0,1,1,1])),l=new s.a(t,{a_pos:0},{geometry:[{name:"a_pos",count:2,type:5123,offset:0,stride:4,normalized:!1}]},{geometry:c}),h=new n.a(t,"\n  precision highp float;\n\n  attribute vec2 a_pos;\n  varying vec2 v_uv;\n\n  void main() {\n    v_uv = a_pos;\n    gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n  }\n  ","\n  precision highp float;\n\n  varying vec2 v_uv;\n  uniform sampler2D u_texture;\n\n  void main() {\n    gl_FragColor = texture2D(u_texture, v_uv);\n  }\n  ",{a_pos:0}),t.bindProgram(h),f=new a.a(t,{dataType:5121,pixelFormat:6408,preMultiplyAlpha:!1,wrapMode:33071,samplingMode:9729},r),t.bindTexture(f,0),h.setUniform1i("u_texture",0),d=t.getBoundFramebufferObject(),p=t.getViewport(),b=p.x,v=p.y,y=p.width,m=p.height,t.bindFramebuffer(o),t.setViewport(0,0,1,1),t.bindVAO(l),t.drawArrays(5,0,4),g=new Uint8Array(4),e.abrupt("return",(o.readPixels(0,0,1,1,6408,5121,g),h.dispose(),l.dispose(!1),c.dispose(),o.dispose(),f.dispose(),t.setViewport(b,v,y,m),t.bindFramebuffer(d),r.src="",255===g[0]));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}},NOfn:function(e,t,r){"use strict";r.r(t),r.d(t,"registerFunctions",function(){return y});var n=r("N2DF"),i=r("SuVq"),a=r("OvF4"),o=r("V9wi"),s=r("Ehki"),u=r("UhwK"),c=r("qatw"),l=r("975N"),h=r("idrm"),f=r("3xY4"),d=r("hUmP"),p=r("u1HQ");function b(e){return 0===l.d.indexOf("4.")?s.a.fromExtent(e):new s.a({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}function v(e){if(Object(h.J)(e,2,2),e[0]instanceof n.a&&e[1]instanceof n.a);else if(e[0]instanceof n.a&&null===e[1]);else if(e[1]instanceof n.a&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}function y(e){"async"===e.mode&&(e.functions.disjoint=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null===r[0]||null===r[1]||Object(p.h)(r[0],r[1])})},e.functions.intersects=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.q)(r[0],r[1])})},e.functions.touches=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.A)(r[0],r[1])})},e.functions.crosses=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.d)(r[0],r[1])})},e.functions.within=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.C)(r[0],r[1])})},e.functions.contains=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.c)(r[0],r[1])})},e.functions.overlaps=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null!==r[1]&&Object(p.t)(r[0],r[1])})},e.functions.equals=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return Object(h.J)(r,2,2),r[0]===r[1]||(r[0]instanceof n.a&&r[1]instanceof n.a?Object(p.j)(r[0],r[1]):!(!Object(h.z)(r[0])||!Object(h.z)(r[1]))&&r[0].getTime()===r[1].getTime())})},e.functions.relate=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,3,3),r[0]instanceof n.a&&r[1]instanceof n.a)return Object(p.w)(r[0],r[1],Object(h.y)(r[2]));if(r[0]instanceof n.a&&null===r[1])return!1;if(r[1]instanceof n.a&&null===r[0])return!1;if(null===r[0]&&null===r[1])return!1;throw new Error("Illegal Argument")})},e.functions.intersection=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null===r[0]||null===r[1]?null:Object(p.p)(r[0],r[1])})},e.functions.union=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){var a=[];if(0===(i=Object(h.j)(i)).length)throw new Error("Function called with wrong number of Parameters");if(1===i.length)if(Object(h.B)(i[0])){for(var o=Object(h.j)(i[0]),s=0;s<o.length;s++)if(null!==o[s]){if(!(o[s]instanceof n.a))throw new Error("Illegal Argument");a.push(o[s])}}else{if(!Object(h.I)(i[0])){if(i[0]instanceof n.a)return Object(h.L)(Object(d.a)(i[0]),t.spatialReference);if(null===i[0])return null;throw new Error("Illegal Argument")}for(var u=Object(h.j)(i[0].toArray()),c=0;c<u.length;c++)if(null!==u[c]){if(!(u[c]instanceof n.a))throw new Error("Illegal Argument");a.push(u[c])}}else for(var l=0;l<i.length;l++)if(null!==i[l]){if(!(i[l]instanceof n.a))throw new Error("Illegal Argument");a.push(i[l])}return 0===a.length?null:Object(p.B)(a)})},e.functions.difference=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null!==r[0]&&null===r[1]?Object(d.a)(r[0]):null===r[0]?null:Object(p.g)(r[0],r[1])})},e.functions.symmetricdifference=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){return v(r=Object(h.j)(r)),null===r[0]&&null===r[1]?null:null===r[0]?Object(d.a)(r[1]):null===r[1]?Object(d.a)(r[0]):Object(p.z)(r[0],r[1])})},e.functions.clip=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,2),!(r[1]instanceof a.a)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return null===r[1]?null:Object(p.b)(r[0],r[1])})},e.functions.cut=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,2),!(r[1]instanceof u.a)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return[];if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return null===r[1]?[Object(d.a)(r[0])]:Object(p.e)(r[0],r[1])})},e.functions.area=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(h.J)(i,1,2),null===(i=Object(h.j)(i))[0])return 0;if(Object(h.T)(i[0]))return i[0].sumArea(Object(d.c)(Object(h.c)(i[1],-1)),!1,t.abortSignal).then(function(e){if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(h.B)(i[0])||Object(h.I)(i[0])){var a=Object(h.l)(i[0],t.spatialReference);return null===a?0:Object(p.u)(a,Object(d.c)(Object(h.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.u)(i[0],Object(d.c)(Object(h.c)(i[1],-1)))})},e.functions.areageodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(h.J)(i,1,2),null===(i=Object(h.j)(i))[0])return 0;if(Object(h.T)(i[0]))return i[0].sumArea(Object(d.c)(Object(h.c)(i[1],-1)),!0,t.abortSignal).then(function(e){if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(h.B)(i[0])||Object(h.I)(i[0])){var a=Object(h.l)(i[0],t.spatialReference);return null===a?0:Object(p.l)(a,Object(d.c)(Object(h.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.l)(i[0],Object(d.c)(Object(h.c)(i[1],-1)))})},e.functions.length=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(h.J)(i,1,2),null===(i=Object(h.j)(i))[0])return 0;if(Object(h.T)(i[0]))return i[0].sumLength(Object(d.b)(Object(h.c)(i[1],-1)),!1,t.abortSignal).then(function(e){if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(h.B)(i[0])||Object(h.I)(i[0])){var a=Object(h.k)(i[0],t.spatialReference);return null===a?0:Object(p.v)(a,Object(d.b)(Object(h.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.v)(i[0],Object(d.b)(Object(h.c)(i[1],-1)))})},e.functions.lengthgeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){if(Object(h.J)(i,1,2),null===(i=Object(h.j)(i))[0])return 0;if(Object(h.T)(i[0]))return i[0].sumLength(Object(d.b)(Object(h.c)(i[1],-1)),!0,t.abortSignal).then(function(e){if(t.abortSignal.aborted)throw new Error("Operation has been cancelled.");return e});if(Object(h.B)(i[0])||Object(h.I)(i[0])){var a=Object(h.k)(i[0],t.spatialReference);return null===a?0:Object(p.o)(a,Object(d.b)(Object(h.c)(i[1],-1)))}if(!(i[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.o)(i[0],Object(d.b)(Object(h.c)(i[1],-1)))})},e.functions.distance=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,i){i=Object(h.j)(i),Object(h.J)(i,2,3);var a=i[0];(Object(h.B)(i[0])||Object(h.I)(i[0]))&&(a=Object(h.o)(i[0],t.spatialReference));var o=i[1];if((Object(h.B)(i[1])||Object(h.I)(i[1]))&&(o=Object(h.o)(i[1],t.spatialReference)),!(a instanceof n.a))throw new Error("Illegal Argument");if(!(o instanceof n.a))throw new Error("Illegal Argument");return Object(p.i)(a,o,Object(d.b)(Object(h.c)(i[2],-1)))})},e.functions.distancegeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){r=Object(h.j)(r),Object(h.J)(r,2,3);var n=r[0],a=r[1];if(!(n instanceof i.a))throw new Error("Illegal Argument");if(!(a instanceof i.a))throw new Error("Illegal Argument");var o=new u.a({paths:[],spatialReference:n.spatialReference});return o.addPath([n,a]),Object(p.o)(o,Object(d.b)(Object(h.c)(r[2],-1)))})},e.functions.densify=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");var i=Object(h.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return r[0]instanceof s.a||r[0]instanceof u.a?Object(p.f)(r[0],i,Object(d.b)(Object(h.c)(r[2],-1))):r[0]instanceof a.a?Object(p.f)(b(r[0]),i,Object(d.b)(Object(h.c)(r[2],-1))):r[0]})},e.functions.densifygeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");var i=Object(h.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");if(i<=0)throw new Error("Illegal Argument");return r[0]instanceof s.a||r[0]instanceof u.a?Object(p.n)(r[0],i,Object(d.b)(Object(h.c)(r[2],-1))):r[0]instanceof a.a?Object(p.n)(b(r[0]),i,Object(d.b)(Object(h.c)(r[2],-1))):r[0]})},e.functions.generalize=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,4),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");var i=Object(h.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return Object(p.k)(r[0],i,Object(h.x)(Object(h.c)(r[2],!0)),Object(d.b)(Object(h.c)(r[3],-1)))})},e.functions.buffer=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");var i=Object(h.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return 0===i?Object(d.a)(r[0]):Object(p.a)(r[0],i,Object(d.b)(Object(h.c)(r[2],-1)))})},e.functions.buffergeodetic=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,3),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");var i=Object(h.w)(r[1]);if(isNaN(i))throw new Error("Illegal Argument");return 0===i?Object(d.a)(r[0]):Object(p.m)(r[0],i,Object(d.b)(Object(h.c)(r[2],-1)))})},e.functions.offset=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,2,6),null===r[0])return null;if(!(r[0]instanceof s.a||r[0]instanceof u.a))throw new Error("Illegal Argument");var n=Object(h.w)(r[1]);if(isNaN(n))throw new Error("Illegal Argument");var i=Object(h.w)(Object(h.c)(r[4],10));if(isNaN(i))throw new Error("Illegal Argument");var a=Object(h.w)(Object(h.c)(r[5],0));if(isNaN(a))throw new Error("Illegal Argument");return Object(p.s)(r[0],n,Object(d.b)(Object(h.c)(r[2],-1)),Object(h.y)(Object(h.c)(r[3],"round")).toLowerCase(),i,a)})},e.functions.rotate=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){r=Object(h.j)(r),Object(h.J)(r,2,3);var o=r[0];if(null===o)return null;if(!(o instanceof n.a))throw new Error("Illegal Argument");o instanceof a.a&&(o=s.a.fromExtent(o));var u=Object(h.w)(r[1]);if(isNaN(u))throw new Error("Illegal Argument");var c=Object(h.c)(r[2],null);if(null===c)return Object(p.x)(o,u);if(c instanceof i.a)return Object(p.x)(o,u,c);throw new Error("Illegal Argument")})},e.functions.centroid=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,c){if(c=Object(h.j)(c),Object(h.J)(c,1,1),null===c[0])return null;var l=c[0];if((Object(h.B)(c[0])||Object(h.I)(c[0]))&&(l=Object(h.o)(c[0],t.spatialReference)),null===l)return null;if(!(l instanceof n.a))throw new Error("Illegal Argument");return l instanceof i.a?Object(h.L)(Object(d.a)(c[0]),t.spatialReference):l instanceof s.a?l.centroid:l instanceof u.a?Object(f.f)(l):l instanceof o.a?Object(f.e)(l):l instanceof a.a?l.center:null})},e.functions.multiparttosinglepart=function(t,r){return e.standardFunctionAsync(t,r,function(e,r,l){l=Object(h.j)(l),Object(h.J)(l,1,1);var f=[];if(null===l[0])return null;if(!(l[0]instanceof n.a))throw new Error("Illegal Argument");return l[0]instanceof i.a||l[0]instanceof a.a?[Object(h.L)(Object(d.a)(l[0]),t.spatialReference)]:Object(p.y)(l[0]).then(function(e){if(e instanceof s.a){for(var r=[],n=[],i=0;i<e.rings.length;i++)if(e.isClockwise(e.rings[i])){var a=Object(c.a)({rings:[e.rings[i]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});r.push(a)}else n.push({ring:e.rings[i],pt:e.getPoint(i,0)});for(var p=0;p<n.length;p++)for(var b=0;b<r.length;b++)if(r[b].contains(n[p].pt)){r[b].addRing(n[p].ring);break}return r}if(e instanceof u.a){for(var v=[],y=0;y<e.paths.length;y++){var m=Object(c.a)({paths:[e.paths[y]],hasZ:!0===e.hasZ,hazM:!0===e.hasM,spatialReference:e.spatialReference.toJSON()});v.push(m)}return v}if(l[0]instanceof o.a){for(var g=Object(h.L)(Object(d.a)(l[0]),t.spatialReference),O=0;O<g.points.length;O++)f.push(g.getPoint(O));return f}return null})})},e.functions.issimple=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,1,1),null===r[0])return!0;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.r)(r[0])})},e.functions.simplify=function(t,r){return e.standardFunctionAsync(t,r,function(e,t,r){if(r=Object(h.j)(r),Object(h.J)(r,1,1),null===r[0])return null;if(!(r[0]instanceof n.a))throw new Error("Illegal Argument");return Object(p.y)(r[0])})})}},OYGz:function(e,t,r){"use strict";var n,i=r("pO5D"),a=(r("wSAH"),r("f/qv")),o=(r("6S2I"),r("zqDF"),r("WbKI")),u=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),h=n=function(e){s(r,e);var t=c(r);function r(e){return y(this,r),t.call(this,e)}return g(r,[{key:"clone",value:function(){return new n({customLayerParameters:Object(a.a)(this.customLayerParameters),customParameters:Object(a.a)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}}]),r}(l.a);Object(i.a)([Object(o.b)({json:{type:Object,write:!0}})],h.prototype,"customLayerParameters",void 0),Object(i.a)([Object(o.b)({json:{type:Object,write:!0}})],h.prototype,"customParameters",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],h.prototype,"layerIdentifier",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],h.prototype,"tileMatrixSet",void 0),Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],h.prototype,"url",void 0),h=n=Object(i.a)([Object(u.a)("esri.layer.support.WMTSLayerInfo")],h),t.a=h},OvWd:function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n=r("pO5D"),i=(r("wSAH"),r("nR38")),a=r("srIe"),u=(r("6S2I"),r("zqDF"),r("WbKI"),r("04ZG")),l=r("zlDU"),h=r("4EHJ"),f=(r("ju1D"),r("9AIY"),r("Lqtk")),d=r("kglp"),b=function(e){var t=function(e){s(u,e);var t,r,n=c(u);function u(){return y(this,u),n.apply(this,arguments)}return g(u,[{key:"getServiceDescription",value:(r=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription(t)),this._serviceDescriptionPromise));case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_fetchServiceDescription",value:(t=o(regeneratorRuntime.mark(function e(t){var r,n,a,s,u,c,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.url&&this.parsedUrl){e.next=2;break}throw new l.a("network-service:missing-url","Url to Network service is missing");case 2:return r=this.url,e.next=5,Object(f.default)(r,{query:{f:"json",token:t}});case 5:for(n=e.sent,(a=n.data).supportedTravelModes||(a.supportedTravelModes=[]),s=0;s<a.supportedTravelModes.length;s++)a.supportedTravelModes[s].id||(a.supportedTravelModes[s].id=a.supportedTravelModes[s].itemId);return u=a.currentVersion>=10.4?function(){var e=o(regeneratorRuntime.mark(function e(t,r){var n,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.default)(t+("/"===t[t.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json",token:r}});case 3:return n=e.sent,i=n.data,a=i.supportedTravelModes,o=i.defaultTravelMode,e.abrupt("return",{supportedTravelModes:a,defaultTravelMode:o});case 10:throw e.prev=10,e.t0=e.catch(0),new l.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,r){return e.apply(this,arguments)}}()(r,t):function(){var e=o(regeneratorRuntime.mark(function e(t,r){var n,a,o,s,u,c,l,d,b,v,y,m,g,O,x,j,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.default)(t.substring(0,t.indexOf("/rest/")+6)+"info",{query:{f:"json",token:r}});case 2:if(n=e.sent,(a=n.data)&&a.owningSystemUrl){e.next=6;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 6:return t=a.owningSystemUrl,e.next=9,Object(f.default)(t+("/"===t[t.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json",token:r}});case 9:if(o=e.sent,s=o.data,u=Object(i.b)("helperServices.routingUtilities.url",s)){e.next=14;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 14:return c=Object(h.J)(t),l=/\/solveClosestFacility$/.test(c.path)?"Route":/\/solveClosestFacility$/.test(c.path)?"ClosestFacility":"ServiceAreas",e.next=18,Object(f.default)(u+("/"===u[u.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:l,token:r}});case 18:if(d=e.sent,b=[],v=null,d&&d.data&&d.data.results&&d.data.results.length){y=d.data.results,m=p(y);try{for(m.s();!(g=m.n()).done;)if("supportedTravelModes"===(O=g.value).paramName){if(O.value&&O.value.features){x=p(O.value.features);try{for(x.s();!(j=x.n()).done;)(_=j.value.attributes)&&(w=JSON.parse(_.TravelMode),b.push(w))}catch(k){x.e(k)}finally{x.f()}}}else"defaultTravelMode"===O.paramName&&(v=O.value)}catch(k){m.e(k)}finally{m.f()}}return e.abrupt("return",{supportedTravelModes:b,defaultTravelMode:v});case 23:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()(r,t),e.next=12,u;case 12:return c=e.sent,d=c.defaultTravelMode,b=c.supportedTravelModes,e.abrupt("return",(a.defaultTravelMode=d,a.supportedTravelModes=b,a));case 16:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_isInputGeometryZAware",value:function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var i,o=p(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(Object(a.k)(s)&&s.hasZ)return!0}}catch(u){o.e(u)}finally{o.f()}}}return!1}},{key:"_dropZValuesOffInputGeometry",value:function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var i,a=p(n);try{for(a.s();!(i=a.n()).done;){i.value.z=void 0}}catch(o){a.e(o)}finally{a.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}}]),u}(e);return t=Object(n.a)([Object(u.a)("esri.tasks.mixins.NAServiceDescription")],t)},v=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(b(d.a));v=Object(n.a)([Object(u.a)("esri.tasks.mixins.NAServiceDescription")],v)},PN7H:function(e,t,r){"use strict";r.d(t,"a",function(){return w});var n=r("pO5D"),i=(r("wSAH"),r("srIe")),a=r("6S2I"),o=(r("zqDF"),r("WbKI")),u=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("/CmD")),h=r("zm0L"),f=r("qRWG"),d=r("Cy1f"),p=r("5DEt"),b=r("gYg2"),v=r("/RTN"),m=r("psH3"),O=r("M0lq"),x=r("9AiD"),j=r("6UvW"),_=a.a.getLogger("esri.views.interactive.GraphicManipulator"),w=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).layer=null,n.interactive=!0,n.selectable=!1,n.grabbable=!0,n.dragging=!1,n.cursor=null,n.events=new h.a.EventEmitter,n._circleCollisionCache=null,n._graphicSymbolChangedHandle=null,n._originalSymbol=null,n}return g(r,[{key:"graphic",set:function(e){"mesh"!==Object(i.i)(e.geometry,"type")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()):_.error("Mesh geometries are not supported")}},{key:"elevationInfo",get:function(){var e="elevationInfo"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=Object(x.e)(this.graphic);return new v.a({mode:t,offset:e?e.offset:0})}},{key:"focusedSymbol",set:function(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbableForEvent",value:function(){return!0}},{key:"grabbing",set:function(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}},{key:"hovering",set:function(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}},{key:"selected",set:function(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||this._get("grabbing")}},{key:"destroy",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}},{key:"intersectionDistance",value:function(e){var t=this.graphic;if(!1===t.visible)return null;var r=t.geometry;if(Object(i.j)(r))return null;var n=this._get("focusedSymbol"),a=Object(i.k)(n)?n:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,r,a):this._intersectDistance3D(this.view,e,t)}},{key:"attach",value:function(){this.attachSymbolChanged(),Object(i.k)(this.layer)&&this.layer.add(this.graphic)}},{key:"detach",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),Object(i.k)(this.layer)&&this.layer.remove(this.graphic)}},{key:"attachSymbolChanged",value:function(){var e=this;this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch("symbol",function(t){Object(i.k)(t)&&t!==e.focusedSymbol&&t!==e._originalSymbol&&(e._originalSymbol=t,e._focused&&Object(i.k)(e.focusedSymbol)&&(e.graphic.symbol=e.focusedSymbol))},!0)}},{key:"detachSymbolChanged",value:function(){Object(i.k)(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}},{key:"_updateGraphicSymbol",value:function(){this.graphic.symbol=this._focused&&Object(i.k)(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}},{key:"_resetGraphicSymbol",value:function(){this.graphic.symbol=this._originalSymbol}},{key:"_intersectDistance2D",value:function(e,t,r,n){if(n=n||Object(m.e)(r),Object(i.j)(n))return null;var a=this._circleCollisionCache;if("point"!==r.type||"simple-marker"!==n.type)return Object(j.b)(t,r,e)?1:null;if(Object(i.j)(a)||!a.originalPoint.equals(r)){var o=r,s=e.spatialReference;if(Object(b.b)(o.spatialReference,s)){var u=Object(b.j)(o,s);a={originalPoint:o.clone(),mapPoint:u,radiusPx:Object(f.h)(n.size)},this._circleCollisionCache=a}}if(Object(i.k)(a)){var c=Object(f.j)(t,S),l=e.toScreen(a.mapPoint),h=a.radiusPx,d=l.x+Object(f.h)(n.xoffset),p=l.y-Object(f.h)(n.yoffset);return Object(O.j)(c,[d,p])<h*h?1:null}return null}},{key:"_intersectDistance3D",value:function(e,t,r){var n=e.toMap(t,{include:[r]});return n&&Object(b.o)(n,k,e.renderSpatialReference)?Object(p.n)(k,e.state.camera.eye):null}}]),r}(l.a);Object(n.a)([Object(o.b)({constructOnly:!0,nonNullable:!0})],w.prototype,"graphic",null),Object(n.a)([Object(o.b)({readOnly:!0})],w.prototype,"elevationInfo",null),Object(n.a)([Object(o.b)({constructOnly:!0,nonNullable:!0})],w.prototype,"view",void 0),Object(n.a)([Object(o.b)({value:null})],w.prototype,"focusedSymbol",null),Object(n.a)([Object(o.b)({constructOnly:!0})],w.prototype,"layer",void 0),Object(n.a)([Object(o.b)()],w.prototype,"interactive",void 0),Object(n.a)([Object(o.b)()],w.prototype,"selectable",void 0),Object(n.a)([Object(o.b)()],w.prototype,"grabbable",void 0),Object(n.a)([Object(o.b)({value:!1})],w.prototype,"grabbing",null),Object(n.a)([Object(o.b)()],w.prototype,"dragging",void 0),Object(n.a)([Object(o.b)()],w.prototype,"hovering",null),Object(n.a)([Object(o.b)({value:!1})],w.prototype,"selected",null),Object(n.a)([Object(o.b)()],w.prototype,"cursor",void 0),w=Object(n.a)([Object(u.a)("esri.views.interactive.GraphicManipulator")],w);var k=Object(d.e)(),S=Object(f.g)()},S60b:function(e,t,r){"use strict";r.d(t,"a",function(){return z}),r.d(t,"b",function(){return H});var n=r("wSAH"),i=r("zlDU"),a=r("975N"),o=r("Lqtk"),s=r("0ynT"),u=(r("5sKF"),r("aelY")),c=(r("6S2I"),r("nvBr")),l=(r("cCpn"),r("Jv1m")),h=r("opr1"),f=r("LGNZ"),d=0,b=0,v=Object(n.a)("android"),y=Object(n.a)("chrome")||v&&v>=4?"auto":"optimizeLegibility",m={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},g=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,O={},x={},j={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},_=Math.PI;function w(e,t){var r=e*(_/180);return Math.abs(t*Math.sin(r))+Math.abs(t*Math.cos(r))}function k(e){return e.map(function(e){return"".concat(e.command," ").concat(e.values.join(" "))}).join(" ").trim()}function S(e,t,r,n){if(e){if("circle"===e.type)return Object(l.a)("circle",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,r:e.r});if("ellipse"===e.type)return Object(l.a)("ellipse",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",cx:e.cx,cy:e.cy,rx:e.rx,ry:e.ry});if("rect"===e.type)return Object(l.a)("rect",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",x:e.x,y:e.y,width:e.width,height:e.height});if("image"===e.type)return Object(l.a)("image",{href:e.src,x:e.x,y:e.y,width:e.width,height:e.height,preserveAspectRatio:"none"});if("path"===e.type){var i="string"!=typeof e.path?k(e.path):e.path;return Object(l.a)("path",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4",d:i})}if("text"===e.type)return Object(l.a)("text",{fill:t,"fill-rule":"evenodd",stroke:r.color,"stroke-width":r.width,"stroke-linecap":r.cap,"stroke-linejoin":r.join,"stroke-dasharray":r.dashArray,"stroke-miterlimit":"4","text-anchor":n.align,"text-decoration":n.decoration,kerning:n.kerning,rotate:n.rotate,"text-rendering":y,"font-style":n.font.style,"font-variant":n.font.variant,"font-weight":n.font.weight,"font-size":n.font.size,"font-family":n.font.family,x:e.x,y:e.y},e.text)}return null}function I(e){var t={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){var r="patternId-"+ ++d;t.fill="url(#".concat(r,")"),t.pattern={id:r,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if("type"in e&&"linear"===e.type){var n="linearGradientId-"+ ++b;t.fill="url(#".concat(n,")"),t.linearGradient={id:n,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map(function(e){return{offset:e.offset,color:e.color&&new c.a(e.color).toString()}})}}else if(e){var i=new c.a(e);t.fill=i.toString()}return t}function T(e){var t={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(e&&(null!=e.width&&(t.width=e.width),e.cap&&(t.cap=e.cap),e.join&&(t.join=e.join.toString()),e.color&&(t.color=new c.a(e.color).toString()),e.style)){var r=null;if(e.style in j&&(r=j[e.style]),Array.isArray(r)){r=r.slice(0);for(var n=0;n<r.length;++n)r[n]*=e.width;if("butt"!==e.cap){for(var i=0;i<r.length;i+=2)r[i]-=e.width,r[i]<1&&(r[i]=1);for(var a=1;a<r.length;a+=2)r[a]+=e.width}r=r.join(",")}t.dashArray=r}return t}function R(e,t){var r={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return e&&(r.align=e.align,r.decoration=e.decoration,r.kerning=e.kerning?"auto":"0",r.rotate=e.rotated?"90":"0",r.font.style=t.style||"normal",r.font.variant=t.variant||"normal",r.font.weight=t.weight||"normal",r.font.size=t.size&&t.size.toString()||"10pt",r.font.family=t.family||"serif"),r}function E(e){var t=e.pattern,r=e.linearGradient;if(t)return Object(l.a)("pattern",{id:t.id,patternUnits:"userSpaceOnUse",x:t.x,y:t.y,width:t.width,height:t.height},Object(l.a)("image",{x:t.image.x,y:t.image.y,width:t.image.width,height:t.image.height,href:t.image.href}));if(r){var n=r.stops.map(function(e,t){return Object(l.a)("stop",{key:"".concat(t,"-stop"),offset:e.offset,"stop-color":e.color})});return Object(l.a)("linearGradient",{id:r.id,gradientUnits:"userSpaceOnUse",x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n)}return null}function M(e,t,r){return Object(h.h)(e,Object(h.d)(e),[t,r])}function A(e,t,r,n,i){return Object(h.g)(e,Object(h.d)(e),[t,r]),e[4]=e[4]*t-n*t+n,e[5]=e[5]*r-i*r+i,e}function C(e,t){O&&"left"in O?(O.left>e&&(O.left=e),O.right<e&&(O.right=e),O.top>t&&(O.top=t),O.bottom<t&&(O.bottom=t)):O={left:e,bottom:t,right:e,top:t}}function F(e){var t,r=e.args,n=r.length;switch(e.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(t=0;t<n;t+=2)C(r[t],r[t+1]);x.x=r[n-2],x.y=r[n-1];break;case"H":for(t=0;t<n;++t)C(r[t],x.y);x.x=r[n-1];break;case"V":for(t=0;t<n;++t)C(x.x,r[t]);x.y=r[n-1];break;case"m":var i=0;"x"in x||(C(x.x=r[0],x.y=r[1]),i=2);for(t=i;t<n;t+=2)C(x.x+=r[t],x.y+=r[t+1]);break;case"l":case"t":for(t=0;t<n;t+=2)C(x.x+=r[t],x.y+=r[t+1]);break;case"h":for(t=0;t<n;++t)C(x.x+=r[t],x.y);break;case"v":for(t=0;t<n;++t)C(x.x,x.y+=r[t]);break;case"c":for(t=0;t<n;t+=6)C(x.x+r[t],x.y+r[t+1]),C(x.x+r[t+2],x.y+r[t+3]),C(x.x+=r[t+4],x.y+=r[t+5]);break;case"s":case"q":for(t=0;t<n;t+=4)C(x.x+r[t],x.y+r[t+1]),C(x.x+=r[t+2],x.y+=r[t+3]);break;case"A":for(t=0;t<n;t+=7)C(r[t+5],r[t+6]);x.x=r[n-2],x.y=r[n-1];break;case"a":for(t=0;t<n;t+=7)C(x.x+=r[t+5],x.y+=r[t+6])}}function L(e,t,r){var n,i=m[e.toLowerCase()];"number"==typeof i&&(i?t.length>=i&&(n={action:e,args:t.slice(0,t.length-t.length%i)},r.push(n),F(n)):(n={action:e,args:[]},r.push(n),F(n)))}function P(e){var t={x:0,y:0,width:0,height:0};if("circle"===e.type)t.x=e.cx-e.r,t.y=e.cy-e.r,t.width=2*e.r,t.height=2*e.r;else if("ellipse"===e.type)t.x=e.cx-e.rx,t.y=e.cy-e.ry,t.width=2*e.rx,t.height=2*e.ry;else if("image"===e.type||"rect"===e.type)t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height;else if("path"===e.type){var r=function(e){var t=("string"!=typeof e.path?k(e.path):e.path).match(g),r=[];if(O={},x={},!t)return null;for(var n="",i=[],a=t.length,o=0;o<a;++o){var s=t[o],u=parseFloat(s);isNaN(u)?(n&&L(n,i,r),i=[],n=s):i.push(u)}L(n,i,r);var c={x:0,y:0,width:0,height:0};return O&&"left"in O&&(c.x=O.left,c.y=O.top,c.width=O.right-O.left,c.height=O.bottom-O.top),c}(e);t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height}return t}function B(e){var t,r={x:0,y:0,width:0,height:0},n=null,i=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=p(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n?(n.x=Math.min(n.x,s.x),n.y=Math.min(n.y,s.y),i=Math.max(i,s.x+s.width),a=Math.max(a,s.y+s.height)):((n=r).x=s.x,n.y=s.y,i=s.x+s.width,a=s.y+s.height)}}catch(u){o.e(u)}finally{o.f()}return n&&(n.width=i-n.x,n.height=a-n.y),n}function D(e,t,r,n,i,a,o,s){var u=(o&&a?w(a,t):t)/2,c=(o&&a?w(a,r):r)/2,l=e.width+n,d=e.height+n,p=Object(f.a)(),b=Object(f.a)(),v=!1;if(i&&0!==l&&0!==d){var y=l/d,m=t>r?t:r,g=1,O=1;isNaN(m)||(y>1?(g=m/l,O=m/y/d):(O=m/d,g=m*y/l)),Object(h.e)(b,b,A(p,g,O,u,c)),v=!0}var x=e.x+(l-n)/2,j=e.y+(d-n)/2;if(Object(h.e)(b,b,M(p,u-x,c-j)),!v&&(l>t||d>r)){var _=l/t>d/r,k=(_?t:r)/(_?l:d);Object(h.e)(b,b,A(p,k,k,x,j))}return a&&Object(h.e)(b,b,function(e,t,r,n){var i=t%360*Math.PI/180;Object(h.f)(e,Object(h.d)(e),i);var a=Math.cos(i),o=Math.sin(i),s=e[4],u=e[5];return e[4]=s*a-u*o+n*o-r*a+r,e[5]=u*a+s*o-r*o-n*a+n,e}(p,a,x,j)),s&&Object(h.e)(b,b,M(p,s[0],s[1])),"matrix(".concat(b[0],",").concat(b[1],",").concat(b[2],",").concat(b[3],",").concat(b[4],",").concat(b[5],")")}function G(e,t,r,n){var i,a=[],o=[],s=p(e);try{for(s.s();!(i=s.n()).done;){var u,c=i.value,h=[],f=[],d=0,b=0,v=0,y=p(c);try{for(y.s();!(u=y.n()).done;){var m=u.value,g=m.shape,O=m.fill,x=m.stroke,j=m.font,_=m.offset;d+=x&&x.width||0;var k=I(O),M=T(x),A="text"===g.type?R(g,j):null;a.push(E(k)),h.push(S(g,k.fill,M,A)),f.push(P(g)),_&&(b+=_[0],v+=_[1])}}catch(F){y.e(F)}finally{y.f()}var C=D(B(f),t,r,d,null==n?void 0:n.scale,null==n?void 0:n.rotation,null==n?void 0:n.useRotationSize,[b,v]);o.push(Object(l.a)("g",{transform:C},h))}}catch(F){s.e(F)}finally{s.f()}return null!=n&&n.useRotationSize&&null!=n&&n.rotation&&(t=w(null==n?void 0:n.rotation,t),r=w(null==n?void 0:n.rotation,r)),Object(l.a)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:r},Object(l.a)("defs",null,a),o)}var N=Object(u.a)();function z(e,t,r){var n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!e.some(function(e){return!!e.length}))return null;var a=r&&r.node||document.createElement("div");return null!=r.opacity&&(a.style.opacity=r.opacity.toString()),N.append(a,G.bind(null,e,n,i,r)),a}function U(e,t,r,n,i){switch(i){case"multiply":e[t+0]*=r[0],e[t+1]*=r[1],e[t+2]*=r[2],e[t+3]*=r[3];break;default:var a=Object(s.b)({r:e[t+0],g:e[t+1],b:e[t+2]});a.h=n.h,a.s=n.s,a.v=a.v/100*n.v;var o=Object(s.e)(a);e[t+0]=o.r,e[t+1]=o.g,e[t+2]=o.b,e[t+3]*=r[3]}}function H(e,t,r,u,c){return(l=e,h=t,f=c,l?Object(o.default)(l,{responseType:"image"}).then(function(e){var t=e.data,r=t.width,n=t.height,i=r/n,a=h;if(f){var o=Math.max(r,n);a=Math.min(a,o)}return{image:t,width:i<=1?Math.ceil(a*i):a,height:i<=1?a:Math.ceil(a/i)}}):Promise.reject(new i.a("renderUtils: imageDataSize","href not provided."))).then(function(i){var o=i.width?i.width:t,c=i.height?i.height:t;if(i.image&&function(e,t){return!(!e||"ignore"===t||"multiply"===t&&255===e.r&&255===e.g&&255===e.b&&1===e.a)}(r,u)){var l=i.image.width,h=i.image.height;(Object(n.a)("edge")||Object(n.a)("ie"))&&/\.svg$/i.test(e)&&(l-=1,h-=1);var f=function(e,t){e=Math.ceil(e),t=Math.ceil(t);var r=document.createElement("canvas");r.width=e,r.height=t,r.style.width=e+"px",r.style.height=t+"px";var n=r.getContext("2d");return n.clearRect(0,0,e,t),n}(o,c);f.drawImage(i.image,0,0,l,h,0,0,o,c);for(var d=f.getImageData(0,0,o,c),p=[r.r/255,r.g/255,r.b/255,r.a],b=Object(s.b)(r),v=0;v<d.data.length;v+=4)U(d.data,v,p,b,u);f.putImageData(d,0,0),e=f.canvas.toDataURL("image/png")}else{var y=a.b&&a.b.findCredential(e);if(y&&y.token){var m=-1===e.indexOf("?")?"?":"&";e="".concat(e).concat(m,"token=").concat(y.token)}}return{url:e,width:o,height:c}}).catch(function(){return{url:e,width:t,height:t}});var l,h,f}},Tg0p:function(e,r,n){"use strict";var i,a=n("pO5D"),o=(n("wSAH"),n("f/qv")),u=(n("6S2I"),n("zqDF")),l=n("WbKI"),h=n("RI0u"),f=n("04ZG"),d=(n("4EHJ"),n("ju1D"),n("9AIY"),n("dzHX")),p=n("1hFN"),b=n("ag7Y"),v=n("nvBr"),m=i=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).description=null,e.label=null,e.minValue=0,e.maxValue=0,e.color=null,e}return g(r,[{key:"clone",value:function(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:Object(o.a)(this.color)})}}]),r}(b.a);Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"description",void 0),Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"label",void 0),Object(a.a)([Object(l.b)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],m.prototype,"minValue",void 0),Object(a.a)([Object(l.b)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],m.prototype,"maxValue",void 0),Object(a.a)([Object(l.b)({type:v.a,json:{type:[u.a],write:!0}})],m.prototype,"color",void 0);var O,x=m=i=Object(a.a)([Object(f.a)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],m),j=O=function(e){s(n,e);var r=c(n);function n(e){var t;return y(this,n),(t=r.call(this,e)).type="point-cloud-class-breaks",t.field=null,t.legendOptions=null,t.fieldTransformType=null,t.colorClassBreakInfos=null,t}return g(n,[{key:"clone",value:function(){return new O(t(t({},this.cloneProperties()),{},{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:Object(o.a)(this.colorClassBreakInfos),legendOptions:Object(o.a)(this.legendOptions)}))}}]),n}(d.a);Object(a.a)([Object(h.a)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],j.prototype,"type",void 0),Object(a.a)([Object(l.b)({json:{write:!0},type:String})],j.prototype,"field",void 0),Object(a.a)([Object(l.b)({type:p.a,json:{write:!0}})],j.prototype,"legendOptions",void 0),Object(a.a)([Object(l.b)({type:d.a.fieldTransformTypeKebabDict.apiValues,json:{type:d.a.fieldTransformTypeKebabDict.jsonValues,read:d.a.fieldTransformTypeKebabDict.read,write:d.a.fieldTransformTypeKebabDict.write}})],j.prototype,"fieldTransformType",void 0),Object(a.a)([Object(l.b)({type:[x],json:{write:!0}})],j.prototype,"colorClassBreakInfos",void 0),j=O=Object(a.a)([Object(f.a)("esri.renderers.PointCloudClassBreaksRenderer")],j),r.a=j},V4u7:function(e,r,n){"use strict";var i,a=n("pO5D"),o=(n("wSAH"),n("f/qv")),u=(n("6S2I"),n("zqDF"),n("WbKI")),l=n("RI0u"),h=n("04ZG"),f=(n("4EHJ"),n("ju1D"),n("9AIY"),n("dzHX")),d=n("1hFN"),p=n("P2CQ"),b=i=function(e){s(n,e);var r=c(n);function n(e){var t;return y(this,n),(t=r.call(this,e)).type="point-cloud-stretch",t.field=null,t.legendOptions=null,t.fieldTransformType=null,t.stops=null,t}return g(n,[{key:"clone",value:function(){return new i(t(t({},this.cloneProperties()),{},{field:Object(o.a)(this.field),fieldTransformType:Object(o.a)(this.fieldTransformType),stops:Object(o.a)(this.stops),legendOptions:Object(o.a)(this.legendOptions)}))}}]),n}(f.a);Object(a.a)([Object(l.a)({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0),Object(a.a)([Object(u.b)({json:{write:!0},type:String})],b.prototype,"field",void 0),Object(a.a)([Object(u.b)({type:d.a,json:{write:!0}})],b.prototype,"legendOptions",void 0),Object(a.a)([Object(u.b)({type:f.a.fieldTransformTypeKebabDict.apiValues,json:{type:f.a.fieldTransformTypeKebabDict.jsonValues,read:f.a.fieldTransformTypeKebabDict.read,write:f.a.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0),Object(a.a)([Object(u.b)({type:[p.a],json:{write:!0}})],b.prototype,"stops",void 0),b=i=Object(a.a)([Object(h.a)("esri.renderers.PointCloudStretchRenderer")],b),r.a=b},VPx4:function(e,t,r){"use strict";r.r(t);var n=r("pO5D"),i=(r("wSAH"),r("srIe")),a=(r("6S2I"),r("zqDF"),r("TDcG")),o=r("WbKI"),u=r("04ZG"),l=r("Cduq"),f=(r("4EHJ"),r("ju1D"),r("9AIY"),r("GFPt")),d=r("N2Uj"),p=r("pqNC"),b=r("pPEy"),v=r("5ljs"),m=r("5pQd"),O=r("uRH/"),x=r("mXvl"),j=r("DbUH"),_=r("WmKv"),w=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e))._visibilityHandles={},n.fullExtent=void 0,n.operationalLayerType="GroupLayer",n.spatialReference=void 0,n.type="group",n._visibilityWatcher=n._visibilityWatcher.bind(h(n)),n}return g(r,[{key:"initialize",value:function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}},{key:"_writeLayers",value:function(e,t,r,n){var a=[];if(!e)return a;e.forEach(function(e){var t=Object(d.a)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);Object(i.k)(t)&&t.layerType&&a.push(t)}),t.layers=a}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=this;return Object(f.a)(this,function(t){t(e.layers)})}},{key:"layerAdded",value:function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}},{key:"layerRemoved",value:function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach(function(t){t!==e&&(t.visible=!1)})}},{key:"_enforceVisibility",value:function(e,t){if(Object(a.a)(this).initialized){var r=this.layers,n=r.find(function(e){return e.visible});switch(e){case"exclusive":r.length&&!n&&((n=r.getItemAt(0)).visible=!0),this._turnOffOtherLayers(n);break;case"inherited":r.forEach(function(e){e.visible=t})}}}},{key:"_visibleWatcher",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach(function(t){t.visible=e})}},{key:"_visibilityWatcher",value:function(e,t,r,n){var i=n;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(i):this._isAnyLayerVisible()||(i.visible=!0);break;case"inherited":i.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some(function(e){return e.visible})}}]),r}(Object(x.a)(Object(_.a)(Object(O.a)(Object(j.a)(Object(v.a)(Object(b.a)(Object(m.a)(p.a))))))));Object(n.a)([Object(o.b)()],w.prototype,"fullExtent",void 0),Object(n.a)([Object(o.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],w.prototype,"layers",void 0),Object(n.a)([Object(l.a)("layers")],w.prototype,"_writeLayers",null),Object(n.a)([Object(o.b)({type:["GroupLayer"]})],w.prototype,"operationalLayerType",void 0),Object(n.a)([Object(o.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],w.prototype,"portalItem",null),Object(n.a)([Object(o.b)()],w.prototype,"spatialReference",void 0),Object(n.a)([Object(o.b)({json:{read:!1},readOnly:!0,value:"group"})],w.prototype,"type",void 0),Object(n.a)([Object(o.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],w.prototype,"visibilityMode",null),w=Object(n.a)([Object(u.a)("esri.layers.GroupLayer")],w),t.default=w},Wf2p:function(e,r,n){"use strict";n.d(r,"a",function(){return f});var i=n("5rU3"),a=n("kq/K"),o=n("Q+DB"),u=function(e){s(n,e);var r=c(n);function n(e){return y(this,n),r.call(this,t(t({},e),{},{constraint:new o.b(e.coordinateHelper,e.edgeStart,e.edgeEnd)}))}return g(n,[{key:"hints",get:function(){return[new i.a(1,this.constraint.start,this.constraint.end)]}}]),n}(a.a),l=n("tjz2"),h=function(e){s(n,e);var r=c(n);function n(e){return y(this,n),r.call(this,t(t({},e),{},{constraint:new o.d(e.coordinateHelper,e.targetPoint)}))}return g(n,[{key:"hints",get:function(){return[new l.a(this.targetPoint)]}}]),n}(a.a);function f(e,t){switch(e.type){case"edge":return new u({coordinateHelper:t,edgeStart:t.fromPoint(e.start),edgeEnd:t.fromPoint(e.end),targetPoint:t.fromPoint(e.target),objectId:e.objectId});case"vertex":return new h({coordinateHelper:t,targetPoint:t.fromPoint(e.target),objectId:e.objectId})}}},XBzj:function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l});var n=r("Cy1f"),i=r("5DEt"),a=r("aAs6"),o=r("9pTf"),s=r("gYg2"),u=r("8JEK"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(n.e)(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(n.e)();y(this,e),this.startRenderSpace=t,this.endRenderSpace=r,this.type="euclidean"}return g(e,[{key:"eval",value:function(e,t,r){return Object(i.h)(t,this.startRenderSpace,this.endRenderSpace,e),r&&(Object(i.i)(r,this.endRenderSpace,this.startRenderSpace),Object(i.q)(r,r)),t}},{key:"createRenderGeometry",value:function(e,t){var r=[],n=[],a=function(t,a){var o=f;Object(i.i)(o,t,e),r.push([o[0],o[1],o[2]]),n.push([a[0],a[1],a[2]])},o=t.worldUpAtPosition(this.eval(.5,h),u.d.get());return a(this.startRenderSpace,o),a(this.endRenderSpace,o),{points:r,normals:n}}}]),e}(),l=function(){function e(t,r,i){y(this,e),this.startRenderSpace=t,this.endRenderSpace=r,this.renderSpatialReference=i,this.type="geodesic",this._start=Object(n.e)(),this._end=Object(n.e)(),this._pcpf=Object(o.g)(i),this._project=Object(s.b)(i,this._pcpf),this._projectIn(t,this._start),this._projectIn(r,this._end)}return g(e,[{key:"_projectIn",value:function(e,t){this._project?Object(s.r)(e,this.renderSpatialReference,t,this._pcpf):Object(i.j)(t,e)}},{key:"eval",value:function(e,t,r){if(this._project)if(r){var n=f;Object(a.i)(this._start,this._end,e,t,n),Object(i.e)(d,t,n),Object(s.r)(t,this._pcpf,t,this.renderSpatialReference),Object(s.r)(d,this._pcpf,d,this.renderSpatialReference),Object(i.i)(r,d,t),Object(i.q)(r,r)}else Object(a.h)(this._start,this._end,e,t),Object(s.r)(t,this._pcpf,t,this.renderSpatialReference);else Object(i.h)(t,this._start,this._end,e),r&&(Object(i.i)(r,this._end,this._start),Object(i.q)(r,r));return t}},{key:"createRenderGeometry",value:function(e,t){for(var r=[],n=[],a=function(t,a){var o=d;Object(i.i)(o,t,e),r.push([o[0],o[1],o[2]]),n.push([a[0],a[1],a[2]])},o=0;o<128;++o){var s=h,u=f;this.eval(o/127,s),t.worldUpAtPosition(s,u),a(s,u)}return{points:r,normals:n}}}]),e}(),h=Object(n.e)(),f=Object(n.e)(),d=Object(n.e)()},XJLX:function(e,r,n){"use strict";n.r(r),n.d(r,"fromItem",function(){return h}),n.d(r,"selectLayerClassPath",function(){return f});var i=n("srIe"),a=n("zlDU"),s=n("Lqtk"),u=n("p+Gi"),c=n("Dfpg"),l=n("oLSx");function h(e){return!e.portalItem||e.portalItem instanceof u.default||(e=t(t({},e),{},{portalItem:new u.default(e.portalItem)})),function(e){return e.load().then(f).then(d)}(e.portalItem).then(function(r){var n=t({portalItem:e.portalItem},r.properties);return Promise.resolve(new(0,r.constructor)(n))})}function f(e){switch(e.type){case"Map Service":return function(e){return function(e){return m(e.url).then(function(e){return e.tileInfo})}(e).then(function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}})}(e);case"Feature Service":return function(e){return p(e).then(function(e){if("object"==typeof e){var t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}})}(e);case"Feature Collection":return(r=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(!Object(c.a)(t,"Map Notes")){e.next=6;break}e.t0={className:"MapNotesLayer"},e.next=22;break;case 6:if(!Object(c.a)(t,"Route Layer")){e.next=10;break}e.t1={className:"RouteLayer"},e.next=21;break;case 10:return e.t2=y,e.next=13,t.fetchData();case 13:if(e.t3=e.sent,e.t4=(0,e.t2)(e.t3),1!==e.t4){e.next=19;break}e.t5={className:"FeatureLayer"},e.next=20;break;case 19:e.t5={className:"GroupLayer"};case 20:e.t1=e.t5;case 21:e.t0=e.t1;case 22:return e.abrupt("return",e.t0);case 23:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})(e);case"Scene Service":return function(e){return p(e).then(function(t){if("object"==typeof t){var r,n={};if(null!=t.id?(n.layerId=t.id,r="".concat(e.url,"/layers/").concat(t.id)):r=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var i={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];if(-1!==e.typeKeywords.indexOf(s))return{className:i[s]}}return m(r).then(function(e){var t="SceneLayer",r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&r[e.layerType]&&(t=r[e.layerType]),{className:t,properties:n}})}return{className:"GroupLayer"}})}(e);case"Image Service":return(t=o(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:if(!((a=null!=(r=null==(n=t.typeKeywords)?void 0:n.map(function(e){return e.toLowerCase()}))?r:[]).indexOf("elevation 3d layer")>-1)){e.next=5;break}return e.abrupt("return",{className:"ElevationLayer"});case 5:if(!(a.indexOf("tiled imagery")>-1)){e.next=7;break}return e.abrupt("return",{className:"ImageryTileLayer"});case 7:return e.next=9,t.fetchData();case 9:if(o=e.sent,"ArcGISTiledImageServiceLayer"!==(s=null==o?void 0:o.layerType)){e.next=15;break}e.t0={className:"ImageryTileLayer"},e.next=35;break;case 15:if("ArcGISImageServiceLayer"!==s){e.next=19;break}e.t1={className:"ImageryLayer"},e.next=34;break;case 19:return e.next=21,m(t.url);case 21:if(e.t2=i=e.sent.cacheType,null!=e.t2){e.next=26;break}e.t3=void 0,e.next=27;break;case 26:e.t3=i.toLowerCase();case 27:if(e.t4=e.t3,"map"!==e.t4){e.next=32;break}e.t5={className:"ImageryTileLayer"},e.next=33;break;case 32:e.t5={className:"ImageryLayer"};case 33:e.t1=e.t5;case 34:e.t0=e.t1;case 35:return e.abrupt("return",e.t0);case 36:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return Promise.reject(new a.a("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}var t,r}function d(e){return(0,l.a[e.className])().then(function(t){return{constructor:t,properties:e.properties}})}function p(e){return!e.url||e.url.match(/\/\d+$/)?Promise.resolve({}):e.load().then(function(){return e.fetchData()}).then(function(t){return y(t)>0?b(t):m(e.url).then(b)})}function b(e){return 1===y(e)&&{id:Object(i.q)(v(e))}}function v(e){var t=e.layers;if(t&&t.length)return t[0].id;var r=e.tables;return r&&r.length?r[0].id:null}function y(e){var t,r,n,i;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(i=e.tables)?void 0:i.length)?n:0)}function m(e){return Object(s.default)(e,{responseType:"json",query:{f:"json"}}).then(function(e){return e.data})}},XTTP:function(e,t,r){"use strict";r.d(t,"a",function(){return O}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return b});var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("RI0u"),o=r("04ZG"),u=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),l=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).nodesPerPage=null,e.rootIndex=0,e.lodSelectionMetricType=null,e}return r}(u.a);Object(n.a)([Object(i.b)({type:Number})],l.prototype,"nodesPerPage",void 0),Object(n.a)([Object(i.b)({type:Number})],l.prototype,"rootIndex",void 0),Object(n.a)([Object(i.b)({type:String})],l.prototype,"lodSelectionMetricType",void 0),l=Object(n.a)([Object(o.a)("esri.layer.support.I3SNodePageDefinition")],l);var h=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).factor=1,e}return r}(u.a);Object(n.a)([Object(i.b)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],h.prototype,"id",void 0),Object(n.a)([Object(i.b)({type:Number})],h.prototype,"factor",void 0),h=Object(n.a)([Object(o.a)("esri.layer.support.I3SMaterialTexture")],h);var f=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).baseColorFactor=[1,1,1,1],e.baseColorTexture=null,e.metallicRoughnessTexture=null,e.metallicFactor=1,e.roughnessFactor=1,e}return r}(u.a);Object(n.a)([Object(i.b)({type:[Number]})],f.prototype,"baseColorFactor",void 0),Object(n.a)([Object(i.b)({type:h})],f.prototype,"baseColorTexture",void 0),Object(n.a)([Object(i.b)({type:h})],f.prototype,"metallicRoughnessTexture",void 0),Object(n.a)([Object(i.b)({type:Number})],f.prototype,"metallicFactor",void 0),Object(n.a)([Object(i.b)({type:Number})],f.prototype,"roughnessFactor",void 0),f=Object(n.a)([Object(o.a)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],f);var d=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).alphaMode="opaque",e.alphaCutoff=.25,e.doubleSided=!1,e.cullFace="none",e.normalTexture=null,e.occlusionTexture=null,e.emissiveTexture=null,e.emissiveFactor=null,e.pbrMetallicRoughness=null,e}return r}(u.a);Object(n.a)([Object(a.a)({opaque:"opaque",mask:"mask",blend:"blend"})],d.prototype,"alphaMode",void 0),Object(n.a)([Object(i.b)({type:Number})],d.prototype,"alphaCutoff",void 0),Object(n.a)([Object(i.b)({type:Boolean})],d.prototype,"doubleSided",void 0),Object(n.a)([Object(a.a)({none:"none",back:"back",front:"front"})],d.prototype,"cullFace",void 0),Object(n.a)([Object(i.b)({type:h})],d.prototype,"normalTexture",void 0),Object(n.a)([Object(i.b)({type:h})],d.prototype,"occlusionTexture",void 0),Object(n.a)([Object(i.b)({type:h})],d.prototype,"emissiveTexture",void 0),Object(n.a)([Object(i.b)({type:[Number]})],d.prototype,"emissiveFactor",void 0),Object(n.a)([Object(i.b)({type:f})],d.prototype,"pbrMetallicRoughness",void 0),d=Object(n.a)([Object(o.a)("esri.layer.support.I3SMaterialDefinition")],d);var p=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(u.a);Object(n.a)([Object(i.b)({type:String,json:{read:{source:["name","index"],reader:function(e,t){return null!=e?e:"".concat(t.index)}}}})],p.prototype,"name",void 0),Object(n.a)([Object(a.a)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",basis:"basis"})],p.prototype,"format",void 0),p=Object(n.a)([Object(o.a)("esri.layer.support.I3STextureFormat")],p);var b=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).atlas=!1,e}return r}(u.a);Object(n.a)([Object(i.b)({type:[p]})],b.prototype,"formats",void 0),Object(n.a)([Object(i.b)({type:Boolean})],b.prototype,"atlas",void 0),b=Object(n.a)([Object(o.a)("esri.layer.support.I3STextureSetDefinition")],b);var v=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(u.a);Object(n.a)([Object(a.a)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],v.prototype,"type",void 0),Object(n.a)([Object(i.b)({type:Number})],v.prototype,"component",void 0),v=Object(n.a)([Object(o.a)("esri.layer.support.I3SGeometryAttribute")],v);var m=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(u.a);Object(n.a)([Object(a.a)({draco:"draco"})],m.prototype,"encoding",void 0),Object(n.a)([Object(i.b)({type:[String]})],m.prototype,"attributes",void 0),m=Object(n.a)([Object(o.a)("esri.layer.support.I3SGeometryCompressedAttributes")],m);var g=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).offset=0,e}return r}(u.a);Object(n.a)([Object(i.b)({type:Number})],g.prototype,"offset",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"position",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"normal",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"uv0",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"color",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"uvRegion",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"featureId",void 0),Object(n.a)([Object(i.b)({type:v})],g.prototype,"faceRange",void 0),Object(n.a)([Object(i.b)({type:m})],g.prototype,"compressedAttributes",void 0),g=Object(n.a)([Object(o.a)("esri.layer.support.I3SGeometryBuffer")],g);var O=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(u.a);Object(n.a)([Object(a.a)({triangle:"triangle"})],O.prototype,"topology",void 0),Object(n.a)([Object(i.b)()],O.prototype,"geometryBuffers",void 0),O=Object(n.a)([Object(o.a)("esri.layer.support.I3SGeometryDefinition")],O)},ZKYY:function(e,t,r){"use strict";r.d(t,"a",function(){return T}),r.d(t,"b",function(){return R}),r.d(t,"c",function(){return A}),r.d(t,"d",function(){return E}),r.d(t,"e",function(){return M});var n=r("nR38"),i=r("srIe"),a=r("zlDU"),u=r("Lqtk"),l=r("u3Ia"),h=r("pO5D"),f=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),d=r("r88o"),b=r("04ZG"),v=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),m=r("jWBI"),O=r("8prj"),x=r("54nt"),j=r("eKLr"),_=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).directions=null,n.route=null,n.routeName=null,n.stops=null,n}return r}(v.a);Object(h.a)([Object(f.b)({type:j.a,json:{write:!0}})],_.prototype,"directions",void 0),Object(h.a)([Object(f.b)({type:m.a,json:{write:!0}})],_.prototype,"route",void 0),Object(h.a)([Object(f.b)({type:String,json:{write:!0}})],_.prototype,"routeName",void 0),Object(h.a)([Object(f.b)({type:[m.a],json:{write:!0}})],_.prototype,"stops",void 0);var w=_=Object(h.a)([Object(b.a)("esri.tasks.support.RouteResult")],_);function k(e){return e&&O.default.fromJSON(e).features.map(function(e){return e})}var S=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).barriers=null,n.messages=null,n.pointBarriers=null,n.polylineBarriers=null,n.polygonBarriers=null,n.routeResults=null,n}return g(r,[{key:"readPointBarriers",value:function(e,t){return k(t.barriers||t.pointBarriers)}},{key:"readPolylineBarriers",value:function(e){return k(e)}},{key:"readPolygonBarriers",value:function(e){return k(e)}}]),r}(v.a);Object(h.a)([Object(f.b)({aliasOf:"pointBarriers"})],S.prototype,"barriers",void 0),Object(h.a)([Object(f.b)({type:[x.a]})],S.prototype,"messages",void 0),Object(h.a)([Object(f.b)({type:[m.a]})],S.prototype,"pointBarriers",void 0),Object(h.a)([Object(d.a)("pointBarriers",["barriers","pointBarriers"])],S.prototype,"readPointBarriers",null),Object(h.a)([Object(f.b)({type:[m.a]})],S.prototype,"polylineBarriers",void 0),Object(h.a)([Object(d.a)("polylineBarriers")],S.prototype,"readPolylineBarriers",null),Object(h.a)([Object(f.b)({type:[m.a]})],S.prototype,"polygonBarriers",void 0),Object(h.a)([Object(d.a)("polygonBarriers")],S.prototype,"readPolygonBarriers",null),Object(h.a)([Object(f.b)({type:[w]})],S.prototype,"routeResults",void 0);var I=S=Object(h.a)([Object(b.a)("esri.tasks.support.RouteResultsContainer")],S);function T(e,t,r,n){n[r]=[t.length,t.length+e.length],e.forEach(function(e){t.push(e.geometry)})}function R(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var i,a=p(n);try{for(a.s();!(i=a.n()).done;){i.value.z=void 0}}catch(o){a.e(o)}finally{a.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function E(e){var t,r,n=[],i=[],a=e.data,o=a.directions,s=void 0===o?[]:o,u=a.routes,c=(u=void 0===u?{}:u).features,l=void 0===c?[]:c,h=u.spatialReference,f=void 0===h?null:h,d=a.stops,p=(d=void 0===d?{}:d).features,b=void 0===p?[]:p,v=d.spatialReference,y=void 0===v?null:v,m=a.barriers,g=a.polygonBarriers,O=a.polylineBarriers,x=a.messages,j="esri.tasks.RouteTask.NULL_ROUTE_NAME",_=!0,w=l&&f||b&&y||m&&m.spatialReference||g&&g.spatialReference||O&&O.spatialReference;s.forEach(function(e){n.push(t=e.routeName),i[t]={directions:e}}),l.forEach(function(e){-1===n.indexOf(t=e.attributes.Name)&&(n.push(t),i[t]={}),e.geometry&&(e.geometry.spatialReference=w),i[t].route=e}),b.forEach(function(e){r=e.attributes,-1===n.indexOf(t=r.RouteName||j)&&(n.push(t),i[t]={}),t!==j&&(_=!1),e.geometry&&(e.geometry.spatialReference=w),null==i[t].stops&&(i[t].stops=[]),i[t].stops.push(e)}),b.length>0&&!0===_&&(i[n[0]].stops=i[j].stops,delete i[j],n.splice(n.indexOf(j),1));var k=n.map(function(e){return i[e].routeName=e===j?null:e,i[e]});return I.fromJSON({routeResults:k,pointBarriers:m,polygonBarriers:g,polylineBarriers:O,messages:x})}function M(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length){var a,o=p(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(Object(i.k)(s)&&s.hasZ)return!0}}catch(u){o.e(u)}finally{o.f()}}}return!1}function A(e){return C.apply(this,arguments)}function C(){return(C=o(regeneratorRuntime.mark(function e(t){var r,i,s,c,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new a.a("network-service:missing-url","Url to Network service is missing");case 2:return e.next=4,Object(u.default)(t,{query:{f:"json"}});case 4:for(r=e.sent,(i=r.data).supportedTravelModes||(i.supportedTravelModes=[]),s=0;s<i.supportedTravelModes.length;s++)i.supportedTravelModes[s].id||(i.supportedTravelModes[s].id=i.supportedTravelModes[s].itemId);return c=i.currentVersion>=10.4?function(){var e=o(regeneratorRuntime.mark(function e(t){var r,n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.default)(t+("/"===t[t.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}});case 3:return r=e.sent,n=r.data,i=n.supportedTravelModes,o=n.defaultTravelMode,e.abrupt("return",{supportedTravelModes:i,defaultTravelMode:o});case 10:throw e.prev=10,e.t0=e.catch(0),new a.a("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()(t):function(){var e=o(regeneratorRuntime.mark(function e(t){var r,i,a,o,s,c,h,f,d,b,v,y,m,g,O,x,j,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.default)(t.substring(0,t.indexOf("/rest/")+6)+"info",{query:{f:"json"}});case 2:if(r=e.sent,(i=r.data)&&i.owningSystemUrl){e.next=6;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 6:return t=i.owningSystemUrl,e.next=9,Object(u.default)(t+("/"===t[t.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}});case 9:if(a=e.sent,o=a.data,s=Object(n.b)("helperServices.routingUtilities.url",o)){e.next=14;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 14:return c=Object(l.c)(t),h=/\/solve$/.test(c.path)?"Route":/\/solveClosestFacility$/.test(c.path)?"ClosestFacility":"ServiceAreas",e.next=18,Object(u.default)(s+("/"===s[s.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:h}});case 18:if(f=e.sent,d=[],b=null,f&&f.data&&f.data.results&&f.data.results.length){v=f.data.results,y=p(v);try{for(y.s();!(m=y.n()).done;)if("supportedTravelModes"===(g=m.value).paramName){if(g.value&&g.value.features){O=p(g.value.features);try{for(O.s();!(x=O.n()).done;)(j=x.value.attributes)&&(_=JSON.parse(j.TravelMode),d.push(_))}catch(w){O.e(w)}finally{O.f()}}}else"defaultTravelMode"===g.paramName&&(b=g.value)}catch(w){y.e(w)}finally{y.f()}}return e.abrupt("return",{supportedTravelModes:d,defaultTravelMode:b});case 23:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(t),e.next=11,c;case 11:return h=e.sent,f=h.defaultTravelMode,d=h.supportedTravelModes,e.abrupt("return",(i.defaultTravelMode=f,i.supportedTravelModes=d,i));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}},ZRfE:function(e,t,r){"use strict";var n=r("srIe"),i=r("6S2I"),a=r("zlDU"),o=r("zm0L"),s=r("kYAx"),u=r("ZlUD"),c=r("QmHG"),l=r("BMSW"),h=r("k5I3"),f=r("gVKr"),d=r("2X7Z"),b={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new h.a(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return e.centroid||(e.centroid=Object(d.a)(new f.a,e.geometry,t.hasZ,t.hasM)),e.centroid}};t.a=function(){function e(t){y(this,e),this.geometryInfo=t,this._boundsStore=new l.a,this._featuresById=new Map,this._markedIds=new Set,this.events=new o.a,this.featureAdapter=b}return g(e,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){var e=this;if(!this.numFeatures)return null;var t=Object(s.g)(s.a);return this._featuresById.forEach(function(r){var n=e._boundsStore.get(r.objectId);n&&(t[0]=Math.min(n[0],t[0]),t[1]=Math.min(n[1],t[1]),t[2]=Math.max(n[2],t[2]),t[3]=Math.max(n[3],t[3]))}),t}},{key:"storeStatistics",get:function(){var e=0;return this._featuresById.forEach(function(t){t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}},{key:"add",value:function(e){this._add(e),this._emitChanged()}},{key:"addMany",value:function(e){var t,r=p(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this._add(n)}}catch(i){r.e(i)}finally{r.f()}this._emitChanged()}},{key:"clear",value:function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}},{key:"removeById",value:function(e){var t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}},{key:"removeManyById",value:function(e){this._boundsStore.invalidateIndex();var t,r=p(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=this._featuresById.get(n);i&&this._remove(i)}}catch(a){r.e(a)}finally{r.f()}this._emitChanged()}},{key:"forEachBounds",value:function(e,t,r){var n,i=p(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=this._boundsStore.get(a.objectId);o&&t(Object(c.k)(r,o))}}catch(s){i.e(s)}finally{i.f()}}},{key:"getFeature",value:function(e){return this._featuresById.get(e)}},{key:"has",value:function(e){return this._featuresById.has(e)}},{key:"forEach",value:function(e){this._featuresById.forEach(function(t){return e(t)})}},{key:"forEachInBounds",value:function(e,t){var r=this;this._boundsStore.forEachInBounds(e,function(e){t(r._featuresById.get(e))})}},{key:"startMarkingUsedFeatures",value:function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}},{key:"sweep",value:function(){var e=this,t=!1;this._featuresById.forEach(function(r,n){e._markedIds.has(n)||(t=!0,e._remove(r))}),this._markedIds.clear(),t&&this._emitChanged()}},{key:"_emitChanged",value:function(){this.events.emit("changed",void 0)}},{key:"_add",value:function(e){if(e){var t=e.objectId;if(null!=t){var r,o=this._featuresById.get(t);if(this._markedIds.add(t),o?(e.displayId=o.displayId,r=this._boundsStore.get(t),this._boundsStore.delete(t)):Object(n.k)(this.onFeatureAdd)&&this.onFeatureAdd(e),!e.geometry||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);r=Object(u.r)(r||Object(s.g)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(t,r),this._featuresById.set(t,e)}else i.a.getLogger("esri.layers.graphics.data.FeatureStore").error(new a.a("featurestore:invalid-feature","feature id is missing",{feature:e}))}}},{key:"_remove",value:function(e){return Object(n.k)(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e}}]),e}()},bfJE:function(e,t,r){"use strict";r("wSAH");var n=r("srIe"),i=r("GJyJ"),a=r("xRQN"),o=function(){function e(){for(y(this,e),this._current=new Array,this._max=new Array,this._allocations=new Map;this._current.length<6;)this._current.push(0),this._max.push(0)}return g(e,[{key:"resetMax",value:function(){for(this._max.length=0;this._max.length<this._current.length;)this._max.push(0)}},{key:"increment",value:function(e,t){var r=++this._current[e];this._max[e]=Math.max(r,this._max[e])}},{key:"decrement",value:function(e,t){--this._current[e]}},{key:"max",get:function(){return this._max}},{key:"current",get:function(){return this._current}},{key:"printResourceCount",value:function(){if(console.log("Live objects:"),console.log("Textures: ".concat(this._current[0])),console.log("Buffers: ".concat(this._current[1])),console.log("VAOs: ".concat(this._current[2])),console.log("Programs: ".concat(this._current[3])),console.log("Framebuffers: ".concat(this._current[4])),console.log("Renderbuffers: ".concat(this._current[5])),this._allocations.size>0){console.log("".concat(this._allocations.size," live object allocations:"));var e=new Map;this._allocations.forEach(function(t){var r;e.set(t,(null!=(r=e.get(t))?r:0)+1)}),e.forEach(function(e,t){return console.log(e," : ",t)})}}}]),e}(),s=r("GprA");function u(e,t,r,n,i){if(n&&Object(a.a)(e))return!0;if(t[r])return!1;var o,s=p(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(e.getExtension(u))return!0}}catch(c){s.e(c)}finally{s.f()}return!1}function c(e,t,r,n){return t?n!==t&&e.bindBuffer(r,t.glName):e.bindBuffer(r,null),t}t.a=function(){function e(t,r){var n=this;y(this,e),this.gl=null,this.instanceCounter=new o,this._blendEnabled=!1,this._blendColorState={r:0,g:0,b:0,a:0},this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0},this._blendEquationState={mode:32774,modeAlpha:32774},this._colorMaskState={r:!0,g:!0,b:!0,a:!0},this._polygonCullingEnabled=!1,this._cullFace=1029,this._frontFace=2305,this._scissorTestEnabled=!1,this._scissorRect={x:0,y:0,width:0,height:0},this._depthTestEnabled=!1,this._depthFunction=513,this._clearDepth=1,this._depthWriteEnabled=!0,this._depthRange={zNear:0,zFar:1},this._viewport=null,this._stencilTestEnabled=!1,this._polygonOffsetFillEnabled=!1,this._polygonOffset=[0,0],this._stencilFunction={face:1032,func:519,ref:0,mask:1},this._clearStencil=0,this._stencilWriteMask=1,this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680},this._clearColor={r:0,g:0,b:0,a:0},this._activeShaderProgram=null,this._activeVertexBuffer=null,this._activeIndexBuffer=null,this._activeFramebuffer=null,this._activeRenderbuffer=null,this._activeTextureUnit=0,this._textureUnitMap=[],this._numOfDrawCalls=0,this._numOfTriangles=0,this.contextVersion=Object(a.a)(t)?"webgl2":"webgl",this.gl=t,t instanceof WebGLRenderingContext&&this.gl.getExtension("OES_element_index_uint"),this._capabilities=function(e,t){var r,n,i,o,c,l,h,f,d,p,b,v=t&&t.disabledExtensions||{},y=t&&t.debugWebGLExtensions||{},m=null,g=null,O=null,x=null;return{get drawBuffers(){return b||(b=function(e,t){if(t.disjointTimerQuery)return null;if(Object(a.a)(e))return{drawBuffers:e.drawBuffers.bind(e),MAX_DRAW_BUFFERS:e.MAX_DRAW_BUFFERS,MAX_COLOR_ATTACHMENTS:e.MAX_COLOR_ATTACHMENTS};if(t.drawBuffers)return null;var r=e.getExtension("WEBGL_draw_buffers");return r?{drawBuffers:r.drawBuffersWEBGL.bind(r),MAX_DRAW_BUFFERS:r.MAX_DRAW_BUFFERS_WEBGL,MAX_COLOR_ATTACHMENTS:r.MAX_COLOR_ATTACHMENTS_WEBGL}:null}(e,v)),b},get instancing(){return r||(r=function(e){if(Object(a.a)(e))return{drawArraysInstanced:e.drawArraysInstanced.bind(e),drawElementsInstanced:e.drawElementsInstanced.bind(e),vertexAttribDivisor:e.vertexAttribDivisor.bind(e)};var t=e.getExtension("ANGLE_instanced_arrays");return t?{drawArraysInstanced:t.drawArraysInstancedANGLE.bind(t),drawElementsInstanced:t.drawElementsInstancedANGLE.bind(t),vertexAttribDivisor:t.vertexAttribDivisorANGLE.bind(t)}:null}(e)),r},get vao(){return n||(n=function(e,t){if(Object(a.a)(e))return{createVertexArray:e.createVertexArray.bind(e),deleteVertexArray:e.deleteVertexArray.bind(e),bindVertexArray:e.bindVertexArray.bind(e)};if(t.vao)return null;var r=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object");return r?{createVertexArray:r.createVertexArrayOES.bind(r),deleteVertexArray:r.deleteVertexArrayOES.bind(r),bindVertexArray:r.bindVertexArrayOES.bind(r)}:null}(e,v)),n},get compressedTextureETC(){return i||(i=function(e,t){if(t.compressedTextureETC)return null;var r=e.getExtension("WEBGL_compressed_texture_etc");return r?{COMPRESSED_R11_EAC:r.COMPRESSED_R11_EAC,COMPRESSED_SIGNED_R11_EAC:r.COMPRESSED_SIGNED_R11_EAC,COMPRESSED_RG11_EAC:r.COMPRESSED_RG11_EAC,COMPRESSED_SIGNED_RG11_EAC:r.COMPRESSED_SIGNED_RG11_EAC,COMPRESSED_RGB8_ETC2:r.COMPRESSED_RGB8_ETC2,COMPRESSED_SRGB8_ETC2:r.COMPRESSED_SRGB8_ETC2,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_RGBA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC}:null}(e,v)),i},get compressedTextureS3TC(){return o||(o=function(e,t){if(t.compressedTextureS3TC)return null;var r=e.getExtension("WEBGL_compressed_texture_s3tc");return r?{COMPRESSED_RGB_S3TC_DXT1:r.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:r.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:r.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:r.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}(e,v)),o},get textureFilterAnisotropic(){return c||(c=function(e,t){if(t.textureFilterAnisotropic)return null;var r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return r?{MAX_TEXTURE_MAX_ANISOTROPY:r.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:r.TEXTURE_MAX_ANISOTROPY_EXT}:null}(e,v)),c},get disjointTimerQuery(){return l||(l=Object(s.a)(e,v)),l},get textureFloat(){return h||(h=function(e,t){if(Object(a.a)(e))return{textureFloat:!0,textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!0,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:e.HALF_FLOAT};if(e instanceof WebGLRenderingContext){var r=!t.textureHalfFloat&&e.getExtension("OES_texture_half_float");return{textureFloat:!t.textureFloat&&!!e.getExtension("OES_texture_float"),textureFloatLinear:!t.textureFloatLinear&&!!e.getExtension("OES_texture_float_linear"),textureHalfFloat:!!r,textureHalfFloatLinear:!t.textureHalfFloatLinear&&!!e.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:r?r.HALF_FLOAT_OES:void 0}}return null}(e,v)),h},get colorBufferFloat(){return f||(f=function(e,t){if(Object(a.a)(e)){var r=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),n=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_float"),i=!t.colorBufferFloat&&e.getExtension("EXT_float_blend");return r||n||i?{textureFloat:!!n,textureHalfFloat:!!r,R16F:e.R16F,RG16F:e.RG16F,RGBA16F:e.RGBA16F,R32F:e.R32F,RG32F:e.RG32F,RGBA32F:e.RGBA32F,R11F_G11F_B10F:e.R11F_G11F_B10F,RGB16F:e.RGB16F}:null}if(e instanceof WebGLRenderingContext){var o=!t.colorBufferFloat&&e.getExtension("EXT_color_buffer_half_float"),s=!t.colorBufferFloat&&e.getExtension("WEBGL_color_buffer_float"),u=!t.colorBufferFloat&&e.getExtension("EXT_float_blend");return o||s||u?{textureFloat:!!s,textureHalfFloat:!!o,RGBA16F:o?o.RGBA16F_EXT:void 0,RGB16F:o?o.RGB16F_EXT:void 0,RGBA32F:s?s.RGBA32F_EXT:void 0}:null}return null}(e,v)),f},get blendMinMax(){return d||(d=function(e,t){if(Object(a.a)(e))return{MIN:e.MIN,MAX:e.MAX};if(t.blendMinMax)return null;var r=e.getExtension("EXT_blend_minmax");return r?{MIN:r.MIN_EXT,MAX:r.MAX_EXT}:null}(e,v)),d},get depthTexture(){return null===m&&(m=u(e,v,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"])),m},get standardDerivatives(){return null===g&&(g=u(e,v,"standardDerivatives",!0,["OES_standard_derivatives"])),g},get shaderTextureLOD(){return null===O&&(O=u(e,v,"shaderTextureLOD",!0,["EXT_shader_texture_lod"])),O},get fragDepth(){return null===x&&(x=u(e,v,"fragDepth",!0,["EXT_frag_depth"])),x},get loseContext(){return p||(p=function(e,t){var r=t.loseContext&&e.getExtension("WEBGL_lose_context");return r?{loseRenderingContext:function(){return r.loseContext()}}:null}(e,y)),p},enable:function(e){return this[e]}}}(t,r);var c=this.gl.getParameter(this.gl.VIEWPORT);this._viewport={x:c[0],y:c[1],width:c[2],height:c[3]},this._stateTracker=new i.a({setBlending:function(e){if(e){n.setBlendingEnabled(!0),n.setBlendEquationSeparate(e.opRgb,e.opAlpha),n.setBlendFunctionSeparate(e.srcRgb,e.dstRgb,e.srcAlpha,e.dstAlpha);var t=e.color;n.setBlendColor(t.r,t.g,t.b,t.a)}else n.setBlendingEnabled(!1)},setCulling:function(e){e?(n.setFaceCullingEnabled(!0),n.setCullFace(e.face),n.setFrontFace(e.mode)):n.setFaceCullingEnabled(!1)},setPolygonOffset:function(e){e?(n.setPolygonOffsetFillEnabled(!0),n.setPolygonOffset(e.factor,e.units)):n.setPolygonOffsetFillEnabled(!1)},setDepthTest:function(e){e?(n.setDepthTestEnabled(!0),n.setDepthFunction(e.func)):n.setDepthTestEnabled(!1)},setStencilTest:function(e){if(e){n.setStencilTestEnabled(!0);var t=e.function;n.setStencilFunction(t.func,t.ref,t.mask);var r=e.operation;n.setStencilOp(r.fail,r.zFail,r.zPass)}else n.setStencilTestEnabled(!1)},setDepthWrite:function(e){e?(n.setDepthWriteEnabled(!0),n.setDepthRange(e.zNear,e.zFar)):n.setDepthWriteEnabled(!1)},setColorWrite:function(e){e?n.setColorMask(e.r,e.g,e.b,e.a):n.setColorMask(!1,!1,!1,!1)},setStencilWrite:function(e){n.setStencilWriteMask(e?e.mask:0)}}),this.enforceState()}return g(e,[{key:"isWebGL2Context",value:function(){return"webgl2"===this.contextVersion}},{key:"contextAttributes",get:function(){return this.gl.getContextAttributes()}},{key:"parameters",get:function(){if(!this._parameters){var e=this.capabilities.textureFilterAnisotropic;this._parameters={versionString:this.gl.getParameter(this.gl.VERSION),maxVertexTextureImageUnits:this.gl.getParameter(this.gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:e?this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY):void 0,maxTextureImageUnits:this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),maxTextureSize:this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE)}}return this._parameters}},{key:"dispose",value:function(){this.bindVAO(null),this.unbindBuffer(34962),this.unbindBuffer(34963),this._textureUnitMap=[],this.gl=null,this._capabilities=null}},{key:"setPipelineState",value:function(e){this._stateTracker.setPipeline(e)}},{key:"setBlendingEnabled",value:function(e){this._blendEnabled!==e&&(!0===e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=e,this._stateTracker.invalidateBlending())}},{key:"setBlendColor",value:function(e,t,r,n){e===this._blendColorState.r&&t===this._blendColorState.g&&r===this._blendColorState.b&&n===this._blendColorState.a||(this.gl.blendColor(e,t,r,n),this._blendColorState.r=e,this._blendColorState.g=t,this._blendColorState.b=r,this._blendColorState.a=n,this._stateTracker.invalidateBlending())}},{key:"setBlendFunction",value:function(e,t){e===this._blendFunctionState.srcRGB&&t===this._blendFunctionState.dstRGB||(this.gl.blendFunc(e,t),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=e,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setBlendFunctionSeparate",value:function(e,t,r,n){this._blendFunctionState.srcRGB===e&&this._blendFunctionState.srcAlpha===r&&this._blendFunctionState.dstRGB===t&&this._blendFunctionState.dstAlpha===n||(this.gl.blendFuncSeparate(e,t,r,n),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=r,this._blendFunctionState.dstRGB=t,this._blendFunctionState.dstAlpha=n,this._stateTracker.invalidateBlending())}},{key:"setBlendEquation",value:function(e){this._blendEquationState.mode!==e&&(this.gl.blendEquation(e),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=e,this._stateTracker.invalidateBlending())}},{key:"setBlendEquationSeparate",value:function(e,t){this._blendEquationState.mode===e&&this._blendEquationState.modeAlpha===t||(this.gl.blendEquationSeparate(e,t),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=t,this._stateTracker.invalidateBlending())}},{key:"setColorMask",value:function(e,t,r,n){this._colorMaskState.r===e&&this._colorMaskState.g===t&&this._colorMaskState.b===r&&this._colorMaskState.a===n||(this.gl.colorMask(e,t,r,n),this._colorMaskState.r=e,this._colorMaskState.g=t,this._colorMaskState.b=r,this._colorMaskState.a=n,this._stateTracker.invalidateColorWrite())}},{key:"setClearColor",value:function(e,t,r,n){this._clearColor.r===e&&this._clearColor.g===t&&this._clearColor.b===r&&this._clearColor.a===n||(this.gl.clearColor(e,t,r,n),this._clearColor.r=e,this._clearColor.g=t,this._clearColor.b=r,this._clearColor.a=n)}},{key:"setFaceCullingEnabled",value:function(e){this._polygonCullingEnabled!==e&&(!0===e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._polygonCullingEnabled=e,this._stateTracker.invalidateCulling())}},{key:"setPolygonOffsetFillEnabled",value:function(e){this._polygonOffsetFillEnabled!==e&&(!0===e?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=e,this._stateTracker.invalidatePolygonOffset())}},{key:"setPolygonOffset",value:function(e,t){this._polygonOffset[0]===e&&this._polygonOffset[1]===t||(this._polygonOffset[0]=e,this._polygonOffset[1]=t,this.gl.polygonOffset(e,t),this._stateTracker.invalidatePolygonOffset())}},{key:"setCullFace",value:function(e){this._cullFace!==e&&(this.gl.cullFace(e),this._cullFace=e,this._stateTracker.invalidateCulling())}},{key:"setFrontFace",value:function(e){this._frontFace!==e&&(this.gl.frontFace(e),this._frontFace=e,this._stateTracker.invalidateCulling())}},{key:"setScissorTestEnabled",value:function(e){this._scissorTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=e)}},{key:"setScissorRect",value:function(e,t,r,n){this._scissorRect.x===e&&this._scissorRect.y===t&&this._scissorRect.width===r&&this._scissorRect.height===n||(this.gl.scissor(e,t,r,n),this._scissorRect.x=e,this._scissorRect.y=t,this._scissorRect.width=r,this._scissorRect.height=n)}},{key:"setDepthTestEnabled",value:function(e){this._depthTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=e,this._stateTracker.invalidateDepthTest())}},{key:"setClearDepth",value:function(e){this._clearDepth!==e&&(this.gl.clearDepth(e),this._clearDepth=e)}},{key:"setDepthFunction",value:function(e){this._depthFunction!==e&&(this.gl.depthFunc(e),this._depthFunction=e,this._stateTracker.invalidateDepthTest())}},{key:"setDepthWriteEnabled",value:function(e){this._depthWriteEnabled!==e&&(this.gl.depthMask(e),this._depthWriteEnabled=e,this._stateTracker.invalidateDepthWrite())}},{key:"setDepthRange",value:function(e,t){this._depthRange.zNear===e&&this._depthRange.zFar===t||(this.gl.depthRange(e,t),this._depthRange.zNear=e,this._depthRange.zFar=t,this._stateTracker.invalidateDepthWrite())}},{key:"setStencilTestEnabled",value:function(e){this._stencilTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=e,this._stateTracker.invalidateStencilTest())}},{key:"setClearStencil",value:function(e){e!==this._clearStencil&&(this.gl.clearStencil(e),this._clearStencil=e)}},{key:"setStencilFunction",value:function(e,t,r){this._stencilFunction.func===e&&this._stencilFunction.ref===t&&this._stencilFunction.mask===r||(this.gl.stencilFunc(e,t,r),this._stencilFunction.face=1032,this._stencilFunction.func=e,this._stencilFunction.ref=t,this._stencilFunction.mask=r,this._stateTracker.invalidateStencilTest())}},{key:"setStencilFunctionSeparate",value:function(e,t,r,n){this._stencilFunction.face===e&&this._stencilFunction.func===t&&this._stencilFunction.ref===r&&this._stencilFunction.mask===n||(this.gl.stencilFuncSeparate(e,t,r,n),this._stencilFunction.face=e,this._stencilFunction.func=t,this._stencilFunction.ref=r,this._stencilFunction.mask=n,this._stateTracker.invalidateStencilTest())}},{key:"setStencilWriteMask",value:function(e){this._stencilWriteMask!==e&&(this.gl.stencilMask(e),this._stencilWriteMask=e,this._stateTracker.invalidateStencilWrite())}},{key:"setStencilOp",value:function(e,t,r){this._stencilOperation.fail===e&&this._stencilOperation.zFail===t&&this._stencilOperation.zPass===r||(this.gl.stencilOp(e,t,r),this._stencilOperation.face=1032,this._stencilOperation.fail=e,this._stencilOperation.zFail=t,this._stencilOperation.zPass=r,this._stateTracker.invalidateStencilTest())}},{key:"setStencilOpSeparate",value:function(e,t,r,n){this._stencilOperation.face===e&&this._stencilOperation.fail===t&&this._stencilOperation.zFail===r&&this._stencilOperation.zPass===n||(this.gl.stencilOpSeparate(e,t,r,n),this._stencilOperation.face=e,this._stencilOperation.face=e,this._stencilOperation.fail=t,this._stencilOperation.zFail=r,this._stencilOperation.zPass=n,this._stateTracker.invalidateStencilTest())}},{key:"setActiveTexture",value:function(e){var t=this._activeTextureUnit;return e>=0&&e!==this._activeTextureUnit&&(this.gl.activeTexture(33984+e),this._activeTextureUnit=e),t}},{key:"clear",value:function(e){e&&this.gl.clear(e)}},{key:"clearSafe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255;e&&(16384&e&&this.setColorMask(!0,!0,!0,!0),256&e&&this.setDepthWriteEnabled(!0),1024&e&&this.setStencilWriteMask(t),this.gl.clear(e))}},{key:"drawArrays",value:function(e,t,r){this.gl.drawArrays(e,t,r)}},{key:"drawElements",value:function(e,t,r,n){5123!==r?5125===r&&this.gl.drawElements(e,t,r,n):this.gl.drawElements(e,t,r,n)}},{key:"logIno",value:function(){}},{key:"capabilities",get:function(){return this._capabilities}},{key:"setViewport",value:function(e,t,r,n){var i=this._viewport;i.x===e&&i.y===t&&i.width===r&&i.height===n||(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))}},{key:"getViewport",value:function(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}}},{key:"bindProgram",value:function(e){if(!e)return this.gl.useProgram(null),void(this._activeShaderProgram=null);this._activeShaderProgram!==e&&(e.initialize(),this.gl.useProgram(e.glName),this._activeShaderProgram=e)}},{key:"bindTexture",value:function(e,t){(t>=this.parameters.maxTextureImageUnits||t<0)&&console.error("Input texture unit is out of range of available units!");var r=this._textureUnitMap[t];if(this.setActiveTexture(t),null==e||null==e.glName)return null!=r&&this.gl.bindTexture(r.descriptor.target,null),void(this._textureUnitMap[t]=null);r!==e?(this.gl.bindTexture(e.descriptor.target,e.glName),e.applyChanges(),this._textureUnitMap[t]=e):e.applyChanges()}},{key:"unbindTextureAllUnits",value:function(e){for(var t=0;t<this.parameters.maxTextureImageUnits;t++)this._textureUnitMap[t]===e&&this.bindTexture(null,t)}},{key:"bindFramebuffer",value:function(e){if(Object(n.j)(e))return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null);this._activeFramebuffer!==e&&(e.initializeAndBind(),this._activeFramebuffer=e)}},{key:"bindBuffer",value:function(e){e&&(34962===e.bufferType?this._activeVertexBuffer=c(this.gl,e,e.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=c(this.gl,e,e.bufferType,this._activeIndexBuffer))}},{key:"bindRenderbuffer",value:function(e){var t=this.gl;e||(t.bindRenderbuffer(t.RENDERBUFFER,null),this._activeRenderbuffer=null),this._activeRenderbuffer!==e&&(t.bindRenderbuffer(t.RENDERBUFFER,e.glName),this._activeRenderbuffer=e)}},{key:"unbindBuffer",value:function(e){34962===e?this._activeVertexBuffer=c(this.gl,null,e,this._activeVertexBuffer):this._activeIndexBuffer=c(this.gl,null,e,this._activeIndexBuffer)}},{key:"bindVAO",value:function(e){e?this._activeVertexArrayObject&&this._activeVertexArrayObject===e||(e.bind(),this._activeVertexArrayObject=e):this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null)}},{key:"getBoundTexture",value:function(e){return this._textureUnitMap[e]}},{key:"getBoundFramebufferObject",value:function(){return this._activeFramebuffer}},{key:"getBoundVAO",value:function(){return this._activeVertexArrayObject}},{key:"resetState",value:function(){this.bindProgram(null),this.bindVAO(null),this.bindFramebuffer(null),this.unbindBuffer(34962),this.unbindBuffer(34963);for(var e=0;e<this.parameters.maxTextureImageUnits;e++)this.bindTexture(null,e);this.setBlendingEnabled(!1),this.setBlendFunction(1,0),this.setBlendEquation(32774),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(1029),this.setFrontFace(2305),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(513),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(519,0,0),this.setStencilOp(7680,7680,7680),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}},{key:"enforceState",value:function(){var e=this.gl,t=this.capabilities.vao;t&&t.bindVertexArray(null);for(var r=0;r<this.parameters.maxVertexAttributes;r++)e.disableVertexAttribArray(r);if(this._activeVertexBuffer?e.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):e.bindBuffer(34962,null),this._activeIndexBuffer?e.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):e.bindBuffer(34963,null),t&&this._activeVertexArrayObject){var n=this._activeVertexArrayObject;this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(n)}e.bindFramebuffer(e.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null),e.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null),e.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a),e.bindRenderbuffer(e.RENDERBUFFER,this._activeRenderbuffer?this._activeRenderbuffer.glName:null),!0===this._blendEnabled?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._blendEquationState.mode,this._blendEquationState.modeAlpha),e.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha),e.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),e.clearDepth(this._clearDepth),e.clearStencil(this._clearStencil),e.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a),e.cullFace(this._cullFace),e.depthFunc(this._depthFunction),e.depthRange(this._depthRange.zNear,this._depthRange.zFar),!0===this._depthTestEnabled?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._depthWriteEnabled),e.frontFace(this._frontFace),e.lineWidth(1),!0===this._polygonCullingEnabled?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]),!0===this._polygonOffsetFillEnabled?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._scissorRect.x,this._scissorRect.y,this._scissorRect.width,this._scissorRect.height),!0===this._scissorTestEnabled?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask),e.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass),!0===this._stencilTestEnabled?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._stencilWriteMask);for(var i=0;i<this.parameters.maxTextureImageUnits;i++){e.activeTexture(33984+i),e.bindTexture(3553,null);var a=this._textureUnitMap[i];a&&e.bindTexture(a.descriptor.target,a.glName)}e.activeTexture(33984+this._activeTextureUnit),e.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)}}]),e}()},bjZF:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("srIe"),i=r("zlDU"),a=r("Lqtk");function s(e,t,r,n,i){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark(function e(t,r,o,s,u){var c,l,h,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null,!Object(n.k)(o)){e.next=17;break}return l="".concat(t,"/nodepages/"),h=l+Math.floor(o.rootIndex/o.nodesPerPage),e.prev=3,e.next=6,Object(a.default)(h,{query:{f:"json"},responseType:"json",signal:u});case 6:return e.t0=e.sent.data,e.t1=o.rootIndex,e.t2=o.nodesPerPage,e.t3=o.lodSelectionMetricType,e.t4=l,e.abrupt("return",{type:"page",rootPage:e.t0,rootIndex:e.t1,pageSize:e.t2,lodMetric:e.t3,urlPrefix:e.t4});case 14:e.prev=14,e.t5=e.catch(3),Object(n.k)(s)&&s.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",h,e.t5),c=e.t5;case 17:if(r){e.next=19;break}return e.abrupt("return",null);case 19:return f="".concat(t,"/nodes/"),d=f+(r&&r.split("/").pop()),e.prev=20,e.next=23,Object(a.default)(d,{query:{f:"json"},responseType:"json",signal:u});case 23:return e.t6=e.sent.data,e.t7=f,e.abrupt("return",{type:"node",rootNode:e.t6,urlPrefix:e.t7});case 28:throw e.prev=28,e.t8=e.catch(20),new i.a("sceneservice:root-node-missing","Root node missing.",{pageError:c,nodeError:e.t8,url:d});case 31:case"end":return e.stop()}},e,null,[[3,14],[20,28]])}))).apply(this,arguments)}},cBWO:function(e,r,n){"use strict";n.d(r,"a",function(){return l}),n.d(r,"b",function(){return u}),n.d(r,"c",function(){return h});var i=n("s7YA"),a=n("IDUf"),o={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function s(e){e||(e=Object(a.b)());var t=e in o;if(!t){var r=e.split("-");r.length>1&&r[0]in o&&(e=r[0],t=!0),t||(e="en")}var n=d(o[e],3),i=n[0],s=n[1],u=n[2];return{decimal:i,group:s,pattern:void 0===u?"#,##0.###":u}}function u(e,r){var n=s((r=t({},r)).locale);r.customs=n;var i=r.pattern||n.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var n=(r=r||{}).customs.group,i=r.customs.decimal,a=t.split(";"),o=a[0];if(-1!==(t=a[e<0?1:0]||"-"+o).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var s=c,u=o.match(s);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(s,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var n=t.split("."),i="string"==typeof r.places&&r.places.indexOf(","),a=r.places;i?a=r.places.substring(i+1):a>=0||(a=(n[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(a))));var o=String(Math.abs(e)).split("."),s=o[1]||"";if(n[1]||r.places){i&&(r.places=r.places.substring(0,i));var u=void 0!==r.places?r.places:n[1]&&n[1].lastIndexOf("0")+1;u>s.length&&(o[1]=s.padEnd(Number(u),"0")),a<s.length&&(o[1]=s.substr(0,Number(a)))}else o[1]&&o.pop();var c=n[0].replace(",",""),l=c.indexOf("0");-1!==l&&((l=c.length-l)>o[0].length&&(o[0]=o[0].padStart(l,"0")),-1===c.indexOf("#")&&(o[0]=o[0].substr(o[0].length-l)));var h,f,d=n[0].lastIndexOf(",");if(-1!==d){h=n[0].length-d-1;var p=n[0].substr(0,d);-1!==(d=p.lastIndexOf(","))&&(f=p.length-d-1)}for(var b=[],v=o[0];v;){var y=v.length-h;b.push(y>0?v.substr(y):v),v=y>0?v.slice(0,y):"",f&&(h=f,f=void 0)}return o[0]=b.reverse().join(r.group||","),o.join(r.decimal||".")}(e,u[0],{decimal:i,group:n,places:r.places,round:r.round}))}(e,i,r)}var c=/[#0,]*[#0](?:\.0*#*)?/;function l(e){var t=s((e=e||{}).locale),r=e.pattern||t.pattern,n=t.group,a=t.decimal,o=1;if(-1!==r.indexOf("%"))o/=100;else if(-1!==r.indexOf("\u2030"))o/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");var u=r.split(";");return 1===u.length&&u.push("-"+u[0]),{regexp:p(u,function(t){return(t="(?:"+Object(i.a)(t,".")+")").replace(c,function(t){var r={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:a,exponent:!1},i=t.split("."),s=e.places;1===i.length&&1!==o&&(i[1]="###"),1===i.length||0===s?r.fractional=!1:(void 0===s&&(s=e.pattern?i[1].lastIndexOf("0")+1:1/0),s&&null==e.fractional&&(r.fractional=!0),!e.places&&s<i[1].length&&(s+=","+i[1].length),r.places=s);var u=i[0].split(",");return u.length>1&&(r.groupSize=u.pop().length,u.length>1&&(r.groupSize2=u.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=f(e),r=p(e.fractional,function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r},!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+p(e.exponent,function(t){return t?"([eE]"+f({signed:e.eSigned})+")":""})}(r)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:a,factor:o}}function h(e,t){var r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor}function f(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",p(e.signed,function(e){return e?"[-+]":""},!0)+p(e.separator,function(t){if(!t)return"(?:\\d+)";" "===(t=Object(i.a)(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var r=e.groupSize,n=e.groupSize2;if(n){var a="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+r+"})";return r-n>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"},!0)}var p=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return b(n.join("|"),r)},b=function(e,t){return"("+(t?"?:":"")+e+")"}},"dhe/":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return o});var n=r("aql9");function i(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return Object(n.b)(e,t.toUnit(r).value,r,i,a)}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.h)(e,t.value,t.unit,r,i)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.i)(e,t.value,t.unit,r,i)}function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.e)(e,t.value,t.unit,r,i)}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";if("length"!==t.measure)throw new Error("quantity is not a length");return Object(n.f)(e,t.value,t.unit,r,i)}function c(e){if("angle"!==e.measure)throw new Error("quantity is not an angle");return Object(n.a)(e.value,e.unit)}},dzHX:function(e,t,r){"use strict";var n,i=r("pO5D"),a=(r("wSAH"),r("f/qv")),o=(r("6S2I"),r("zqDF"),r("WbKI")),u=r("+opI"),l=r("04ZG"),h=(r("4EHJ"),r("ju1D"),r("9AIY"),r("ag7Y")),f=n=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).field=null,e.minValue=0,e.maxValue=255,e}return g(r,[{key:"clone",value:function(){return new n({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}}]),r}(h.a);Object(i.a)([Object(o.b)({type:String,json:{write:!0}})],f.prototype,"field",void 0),Object(i.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"minValue",void 0),Object(i.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"maxValue",void 0);var d=f=n=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.ColorModulation")],f),p=new u.a({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"}),b=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return r}(h.a);Object(i.a)([Object(o.b)({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],b.prototype,"type",void 0);var v,m=b=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],b),O=r("RI0u"),x=v=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).type="fixed-size",e.size=0,e.useRealWorldSymbolSizes=null,e}return g(r,[{key:"clone",value:function(){return new v({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}}]),r}(m);Object(i.a)([Object(O.a)({pointCloudFixedSizeAlgorithm:"fixed-size"})],x.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:Number,nonNullable:!0,json:{write:!0}})],x.prototype,"size",void 0),Object(i.a)([Object(o.b)({type:Boolean,json:{write:!0}})],x.prototype,"useRealWorldSymbolSizes",void 0);var j,_=x=v=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],x),w=j=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).type="splat",e.scaleFactor=1,e}return g(r,[{key:"clone",value:function(){return new j({scaleFactor:this.scaleFactor})}}]),r}(m);Object(i.a)([Object(O.a)({pointCloudSplatAlgorithm:"splat"})],w.prototype,"type",void 0),Object(i.a)([Object(o.b)({type:Number,value:1,nonNullable:!0,json:{write:!0}})],w.prototype,"scaleFactor",void 0);var k={key:"type",base:m,typeMap:{"fixed-size":_,splat:w=j=Object(i.a)([Object(l.a)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],w)}},S=Object(u.b)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"}),I=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).type=void 0,n.pointSizeAlgorithm=null,n.colorModulation=null,n.pointsPerInch=10,n}return g(r,[{key:"clone",value:function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}},{key:"cloneProperties",value:function(){return{pointSizeAlgorithm:Object(a.a)(this.pointSizeAlgorithm),colorModulation:Object(a.a)(this.colorModulation),pointsPerInch:Object(a.a)(this.pointsPerInch)}}}]),r}(h.a);Object(i.a)([Object(o.b)({type:S.apiValues,readOnly:!0,nonNullable:!0,json:{type:S.jsonValues,read:!1,write:S.write}})],I.prototype,"type",void 0),Object(i.a)([Object(o.b)({types:k,json:{write:!0}})],I.prototype,"pointSizeAlgorithm",void 0),Object(i.a)([Object(o.b)({type:d,json:{write:!0}})],I.prototype,"colorModulation",void 0),Object(i.a)([Object(o.b)({json:{write:!0},nonNullable:!0,type:Number})],I.prototype,"pointsPerInch",void 0),((I=Object(i.a)([Object(l.a)("esri.renderers.PointCloudRenderer")],I))||(I={})).fieldTransformTypeKebabDict=new u.a({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"}),t.a=I},e4KH:function(e,t,r){"use strict";var n=r("NrhG"),i=r("Du6U"),a=r("eT81"),o=r("QFw1");t.a=function(){function e(){y(this,e)}return g(e,[{key:"dispose",value:function(){this._rasterizationCanvas=null}},{key:"rasterizeJSONResource",value:function(e,t,r){if(this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),"simple-fill"===e.type||"esriSFS"===e.type){var n=d(a.c.rasterizeSimpleFill(this._rasterizationCanvas,e.style,t),3),s=n[0];return{size:[n[1],n[2]],image:new Uint32Array(s.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0}}if("simple-line"===e.type||"esriSLS"===e.type){var u=d(a.c.rasterizeSimpleLine(e.style,e.cap),3),c=u[0];return{size:[u[1],u[2]],image:new Uint32Array(c.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}var l,h,f;if("simple-marker"===e.type||"esriSMS"===e.type||"line-marker"===e.type?(l=a.a.fromSimpleMarker(e),f=Object(o.c)(l)):"CIMHatchFill"===e.type?(l=a.a.fromCIMHatchFill(e),h=new i.a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):e.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===e.markerPlacement.type?(l=a.a.fromCIMInsidePolygon(e),h=new i.a(l.frame.xmin,-l.frame.ymax,l.frame.xmax-l.frame.xmin,l.frame.ymax-l.frame.ymin)):(l=e,f=Object(o.c)(l)),f&&!r){var p=d(Object(o.a)(f),3),b=p[0],v=p[1],y=p[2];return b?{size:[v,y],image:new Uint32Array(b.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null}var m=d(a.a.rasterize(this._rasterizationCanvas,l,h,!r),5),g=m[0],O=m[1],x=m[2],j=m[3],_=m[4];return g?{size:[O,x],image:new Uint32Array(g.buffer),sdf:!1,simplePattern:!1,anchorX:j,anchorY:_}:null}},{key:"rasterizeImageResource",value:function(e,t,r,i){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas")),this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;var a=this._rasterizationCanvas.getContext("2d");r instanceof ImageData?a.putImageData(r,0,0):(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px")),a.drawImage(r,0,0,e,t));var o,s=a.getImageData(0,0,e,t),u=new Uint8Array(s.data);if(i){var c,l=p(i);try{for(l.s();!(c=l.n()).done;){var h=c.value;if(h&&h.oldColor&&4===h.oldColor.length&&h.newColor&&4===h.newColor.length){var f=d(h.oldColor,4),b=f[0],v=f[1],y=f[2],m=f[3],g=d(h.newColor,4),O=g[0],x=g[1],j=g[2],_=g[3];if(b===O&&v===x&&y===j&&m===_)continue;for(var w=0;w<u.length;w+=4)b===u[w]&&v===u[w+1]&&y===u[w+2]&&m===u[w+3]&&(u[w]=O,u[w+1]=x,u[w+2]=j,u[w+3]=_)}}}catch(A){l.e(A)}finally{l.f()}}for(var k=0;k<u.length;k+=4)o=u[k+3]/255,u[k]=u[k]*o,u[k+1]=u[k+1]*o,u[k+2]=u[k+2]*o;var S=u,I=e,T=t,R=512;if(I>=R||T>=R){var E=I/T;E>1?(I=R,T=Math.round(R/E)):(T=R,I=Math.round(R*E)),S=new Uint8Array(4*I*T);var M=new Uint8ClampedArray(S.buffer);Object(n.j)(u,e,t,M,I,T,!1)}return{size:[e,t],image:new Uint32Array(S.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}]),e}()},eKLr:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("srIe")),a=(r("6S2I"),r("zqDF"),r("WbKI")),o=r("r88o"),u=r("04ZG"),l=(r("4EHJ"),r("ju1D"),r("9AIY"),r("WZb1")),h=r("SuVq"),f=r("OvF4"),d=r("UhwK"),p=(r("4GrV"),r("jWBI")),b=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e)).extent=null,n.features=null,n.geometryType="polyline",n.routeId=null,n.routeName=null,n.totalDriveTime=null,n.totalLength=null,n.totalTime=null,n}return g(r,[{key:"readFeatures",value:function(e,t){var r=this;(e||[]).forEach(function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)});var n=l.a.fromJSON(t.spatialReference);return e.map(function(e){var t=p.a.fromJSON(e);return t.geometry&&!(e.geometry&&e.geometry.spatialReference)&&(Object(i.q)(t.geometry).spatialReference=n),t.strings=e.strings,t.events=(e.events||[]).map(function(t){var r=new p.a({geometry:new h.a({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r}),t})}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map(function(e){var t=e.geometry;return Object(i.q)(t)}),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map(function(e){return e.strings})}},{key:"_decompressFeatureGeometry",value:function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)}},{key:"_decompressGeometry",value:function(e,t){var r,n,i,a,o,s,u,c,l=0,h=0,f=0,d=0,p=[],b=0,v=0,y=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[b],32)){b=2;var m=parseInt(o[b],32);b++,s=parseInt(o[b],32),b++,1&m&&(v=o.indexOf("|")+1,u=parseInt(o[v],32),v++),2&m&&(y=o.indexOf("|",v)+1,c=parseInt(o[y],32),y++)}else s=parseInt(o[b],32),b++;for(;b<o.length&&"|"!==o[b];){r=parseInt(o[b],32)+l,b++,l=r,n=parseInt(o[b],32)+h,b++,h=n;var g=[r/s,n/s];v&&(a=parseInt(o[v],32)+f,v++,f=a,g.push(a/u)),y&&(i=parseInt(o[y],32)+d,y++,d=i,g.push(i/c)),p.push(g)}return{paths:[p],hasZ:v>0,hasM:y>0,spatialReference:t}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){var r=[];(e||[]).forEach(function(e){e.paths.forEach(function(e){r=r.concat(e)})});var n=[],i=[0,0];return r.forEach(function(e){e[0]===i[0]&&e[1]===i[1]||(n.push(e),i=e)}),new d.a({paths:[n]},t)}}]),r}(r("8prj").default);Object(n.a)([Object(a.b)({type:f.a,json:{read:{source:"summary.envelope"}}})],b.prototype,"extent",void 0),Object(n.a)([Object(a.b)()],b.prototype,"features",void 0),Object(n.a)([Object(o.a)("features")],b.prototype,"readFeatures",null),Object(n.a)([Object(a.b)()],b.prototype,"geometryType",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],b.prototype,"mergedGeometry",null),Object(n.a)([Object(a.b)()],b.prototype,"routeId",void 0),Object(n.a)([Object(a.b)()],b.prototype,"routeName",void 0),Object(n.a)([Object(a.b)({value:null,readOnly:!0})],b.prototype,"strings",null),Object(n.a)([Object(a.b)({json:{read:{source:"summary.totalDriveTime"}}})],b.prototype,"totalDriveTime",void 0),Object(n.a)([Object(a.b)({json:{read:{source:"summary.totalLength"}}})],b.prototype,"totalLength",void 0),Object(n.a)([Object(a.b)({json:{read:{source:"summary.totalTime"}}})],b.prototype,"totalTime",void 0),b=Object(n.a)([Object(u.a)("esri.tasks.support.DirectionsFeatureSet")],b),t.a=b},eLqb:function(e,r,n){"use strict";n.d(r,"a",function(){return h});var i=n("srIe"),a=n("6S2I"),o=n("xkkJ"),s=n("tQ+6"),u=n("9MzC"),c=n("36Co"),l=a.a.getLogger("esri.core.workers.WorkerHandle"),h=function(){function e(r,n,i){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};y(this,e),this._mainMethod=n,this._listeners=[],this._promise=Object(c.b)(r,t(t({},o),{},{scheduler:i})).then(function(e){if(void 0===a._thread){a._thread=e,a._promise=null,o.hasInitialize&&a.broadcast({},"initialize");var t,r=p(a._listeners);try{for(r.s();!(t=r.n()).done;){var n=t.value;a._connectListener(n)}}catch(i){r.e(i)}finally{r.f()}}else e.close()}),this._promise.catch(function(e){return l.error("Failed to initialize ".concat(r," worker: ").concat(e))})}return g(e,[{key:"on",value:function(e,t){var r=this,n={removed:!1,eventName:e,callback:t,threadHandle:null};return this._listeners.push(n),this._connectListener(n),Object(o.c)(function(){n.removed=!0,Object(s.i)(r._listeners,n),r._thread&&Object(i.k)(n.threadHandle)&&n.threadHandle.remove()})}},{key:"destroy",value:function(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}},{key:"invoke",value:function(e,t){return this.invokeMethod(this._mainMethod,e,t)}},{key:"invokeMethod",value:function(e,t,r){var n=this;if(this._thread){var i=this.getTransferList(t,e);return this._thread.invoke(e,t,{transferList:i,signal:r})}return this._promise?this._promise.then(function(){return Object(u.u)(r),n.invokeMethod(e,t,r)}):Promise.reject(null)}},{key:"broadcast",value:function(e,t){var r=this;return this._thread?Promise.all(this._thread.broadcast(t,e)).then(function(){}):this._promise?this._promise.then(function(){return r.broadcast(e,t)}):Promise.reject()}},{key:"promise",get:function(){return this._promise}},{key:"_connectListener",value:function(e){this._thread&&this._thread.on(e.eventName,e.callback).then(function(t){e.removed||(e.threadHandle=t)})}}]),e}()},"fqh+":function(e,r,n){"use strict";n.d(r,"a",function(){return v});var i=n("pO5D"),a=(n("wSAH"),n("6S2I"),n("zqDF"),n("WbKI")),u=n("04ZG"),l=n("zlDU"),h=(n("4EHJ"),n("ju1D"),n("9AIY"),n("/CmD")),f=n("r0DZ"),d=n("N5XI"),b=n("Tl51"),v=function(e){s(i,e);var r,n=c(i);function i(e){var t;return y(this,i),(t=n.call(this,e)).tool=null,t._baseHandles=new f.a,t._loggedUnsupportedErrorOnce=!1,t._creationAbortController=null,e&&null!=e.visible&&(t.visible=e.visible),t}return g(i,[{key:"initialize",value:function(){var e=this;this._baseHandles.add(Object(d.init)(this,["view.ready","isSupported"],function(){e.view&&e.view.ready&&!e.isSupported?e._loggedUnsupportedErrorOnce||(e.logUnsupportedError(),e._loggedUnsupportedErrorOnce=!0):e._loggedUnsupportedErrorOnce=!1}))}},{key:"destroy",value:function(){this.removeTool(),this.view=null,this._baseHandles.destroy(),this._baseHandles=null}},{key:"isSupported",get:function(){return!this.view||this.view.type===this.supportedViewType}},{key:"view",get:function(){return this._get("view")},set:function(e){var t=this;if(e!==this.view){this.removeTool(),this._set("view",e);var r="tools";this._baseHandles.remove(r),e&&this._baseHandles.add(e.tools.on("change",function(e){if(t.tool){var r,n=p(e.removed);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t.tool===i){i.destroyed||i.destroy(),t._set("tool",null);break}}}catch(a){n.e(a)}finally{n.f()}}}),r)}}},{key:"visible",set:function(e){this._set("visible",e),this.tool&&(this.tool.visible=e),!e&&this._creationAbortController&&(this._creationAbortController.abort(),this._creationAbortController=null)}},{key:"active",get:function(){return null!=this._creationAbortController||null!=this.tool&&this.tool.active}},{key:"isDisabled",get:function(){return!this.view||!this.view.ready||!this.isSupported}},{key:"creatingTool",get:function(){return!!this._creationAbortController}},{key:"createTool",value:(r=o(regeneratorRuntime.mark(function e(){var r,n,i,a,o,s,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.removeTool(),this.isSupported){e.next=2;break}return e.abrupt("return",Promise.reject(new l.a("tool:create","The view does not support the tool")));case 2:return r=this.createToolParams(),n=function(){var e=Object(b.b)(r.constructorArguments);return t({visible:u.visible},e)},i=new AbortController,a=i.signal,this._creationAbortController=i,o=function(){i===u._creationAbortController&&(u._creationAbortController=null)},e.prev=5,e.next=8,this.view.createTool(r.toolConstructor,n,{signal:a});case 8:s=e.sent,this._set("tool",s),o(),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(5),o(),e.t0;case 15:case"end":return e.stop()}},e,this,[[5,12]])})),function(){return r.apply(this,arguments)})},{key:"removeTool",value:function(){this._creationAbortController&&this._creationAbortController.abort(),this._creationAbortController=null;var e=this.tool;e&&(this.view&&this.view.tools&&this.view.tools.remove(e),e.destroyed||e.destroy(),this._set("tool",null))}}]),i}(h.a);Object(i.a)([Object(a.b)({constructOnly:!0})],v.prototype,"tool",void 0),Object(i.a)([Object(a.b)()],v.prototype,"isSupported",null),Object(i.a)([Object(a.b)({value:null})],v.prototype,"view",null),Object(i.a)([Object(a.b)({type:Boolean,value:!0})],v.prototype,"visible",null),Object(i.a)([Object(a.b)()],v.prototype,"active",null),Object(i.a)([Object(a.b)()],v.prototype,"isDisabled",null),Object(i.a)([Object(a.b)()],v.prototype,"_creationAbortController",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],v.prototype,"creatingTool",null),v=Object(i.a)([Object(u.a)("esri.widgets.support.InteractiveToolViewModel")],v)},fqtG:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsStatistics:!1,tileMaxRecordCount:0}}},hIOP:function(e,r,n){"use strict";n.d(r,"a",function(){return h});var i=n("wSAH"),a=n("srIe"),s=n("gvqN"),u=n("DxxZ"),c=n("6S2I"),l=n.e(148).then(n.bind(null,"zKxS")),h=function(){function e(t,r){y(this,e),this._canCacheExpressionValue=!1,this._sourceInfo=t,this._bitsets={computed:r.getBitset(r.createBitset())}}var r,n,h;return g(e,[{key:"invalidate",value:function(){this._bitsets.computed.clear()}},{key:"updateSchema",value:(h=o(regeneratorRuntime.mark(function e(t,r){var n,o,s,c,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(u.a)(this._schema,r),this._schema=r,r&&!Object(a.j)(n)&&Object(u.b)(n,"attributes")){e.next=3;break}return e.abrupt("return");case 3:Object(i.a)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",n),this._bitsets.computed.clear(),t.targets[r.name]=!0,o=r.attributes,s=[],c=[],e.t0=regeneratorRuntime.keys(o);case 6:if((e.t1=e.t0()).done){e.next=20;break}l=e.t1.value,h=o[l],e.t2=h.type,e.next="field"===e.t2?12:"expression"===e.t2?13:"label-expression"===e.t2?15:"statistic"===e.t2?17:18;break;case 12:return e.abrupt("break",18);case 13:return s.push(this._createArcadeComputedField(h)),e.abrupt("break",18);case 15:return s.push(this._createLabelArcadeComputedField(h)),e.abrupt("break",18);case 17:c.push(h);case 18:e.next=6;break;case 20:return e.next=22,Promise.all(s);case 22:this._computedFields=e.sent,this._canCacheExpressionValue=!this._computedFields.some(function(e){return"expression"===e.type&&e.expression.referencesScale()}),this._statisticFields=c;case 25:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"setComputedAttributes",value:function(e,t,r,n){var i=this._bitsets.computed;if(!this._canCacheExpressionValue||!i.has(r)){i.set(r);var a,o=p(this._computedFields);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=this._evaluateField(t,s,n);switch(s.resultType){case"numeric":e.setComputedNumericAtIndex(r,s.fieldIndex,u);break;case"string":e.setComputedStringAtIndex(r,s.fieldIndex,u)}}}catch(c){o.e(c)}finally{o.f()}}}},{key:"_createArcadeComputedField",value:(n=o(regeneratorRuntime.mark(function e(r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex,e.t0=t,e.t1=t({},r),e.t2={},e.next=6,Object(s.d)(r.valueExpression,n,i);case 6:return e.t3=e.sent,e.t4={expression:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_createLabelArcadeComputedField",value:(r=o(regeneratorRuntime.mark(function e(r){var n,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._sourceInfo.spatialReference,i=this._sourceInfo.fields,e.next=4,l;case 4:return a=e.sent,o=a.createLabelFunction,e.next=8,o(r.label,i,n);case 8:return s=e.sent,e.abrupt("return",t(t({},r),{},{builder:s}));case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_evaluateField",value:function(e,r,n){switch(r.type){case"label-expression":var i=e.readArcadeFeature();return r.builder.evaluate(i)||"";case"expression":return function(e,r,n){e.referencesGeometry();var i=r.readArcadeFeature();try{return e.evaluate(t(t({},n),{},{$feature:i}))}catch(a){return c.a.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",a),null}}(r.expression,e,{$view:{scale:n}})}}}]),e}()},iNG6:function(e,n,i){"use strict";i.d(n,"a",function(){return c}),i.d(n,"b",function(){return l}),i.d(n,"c",function(){return u});var a=i("wSAH"),o=i("f/qv"),s=i("gkbi");function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.a:"esriGeometryPolyline"===e?s.c:s.b}}}function c(e,n){if(Object(a.a)("csp-restrictions"))return function(){return t(r({},n,null),e)};try{var i="this.".concat(n," = null;");for(var o in e)i+="this".concat(o.indexOf(".")?'["'.concat(o,'"]'):".".concat(o)," = ").concat(JSON.stringify(e[o]),";");var s=new Function(i);return function(){return new s}}catch(s){return function(){return t(r({},n,null),e)}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:Object(o.a)(e)}}]}},iUxC:function(e,t,r){"use strict";t.a=function(){function e(t,r,n){y(this,e),this.pixelBlock=t,this.extent=r,this.originalPixelBlock=n}return g(e,[{key:"width",get:function(){return this.pixelBlock?this.pixelBlock.width:0}},{key:"height",get:function(){return this.pixelBlock?this.pixelBlock.height:0}},{key:"render",value:function(e){var t=this.pixelBlock;if(t){var r=this.filter({pixelBlock:t}),n=r.pixelBlock.getAsRGBA(),i=e.createImageData(r.pixelBlock.width,r.pixelBlock.height);i.data.set(n),e.putImageData(i,0,0)}}},{key:"getRenderedRasterPixels",value:function(){var e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}]),e}()},kGdt:function(e,t,r){"use strict";var n=r("1F90");t.a=function(){function e(t){y(this,e),this._programCacheByTemplate=new Map,this._rctx=t}return g(e,[{key:"dispose",value:function(){this._programCacheByTemplate.forEach(function(e){e.programs.forEach(function(e){e.dispose()})}),this._programCacheByTemplate=null}},{key:"getProgram",value:function(e,t){var r=this;return this._programCacheByTemplate.has(e)||this.addProgramTemplate(e,function(t){return Object(n.a)(r._rctx,e,t)}),this.getProgramTemplateInstance(e,t)}},{key:"addProgramTemplate",value:function(e,t){this._programCacheByTemplate.set(e,{constructor:t,programs:new Map})}},{key:"getProgramTemplateInstance",value:function(e,t){var r=this._programCacheByTemplate.get(e);if(r){var n=t?JSON.stringify(t):"default";if(!r.programs.has(n)){var i=r.constructor(t);r.programs.set(n,i)}return r.programs.get(n)}return null}}]),e}()},l5Tg:function(e,t,r){"use strict";r.d(t,"a",function(){return E}),r.d(t,"b",function(){return M}),r.d(t,"c",function(){return A}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return F}),r.d(t,"f",function(){return L}),r.d(t,"g",function(){return P}),r.d(t,"h",function(){return B}),r.d(t,"i",function(){return D}),r.d(t,"j",function(){return G}),r.d(t,"k",function(){return N}),r.d(t,"l",function(){return s}),r.d(t,"m",function(){return u}),r.d(t,"n",function(){return o}),r.d(t,"o",function(){return c}),r.d(t,"p",function(){return a}),r.d(t,"q",function(){return l}),r.d(t,"r",function(){return z}),r.d(t,"s",function(){return h}),r.d(t,"t",function(){return f}),r.d(t,"u",function(){return b}),r.d(t,"v",function(){return m}),r.d(t,"w",function(){return O}),r.d(t,"x",function(){return x}),r.d(t,"y",function(){return j}),r.d(t,"z",function(){return v}),r.d(t,"A",function(){return _}),r.d(t,"B",function(){return k}),r.d(t,"C",function(){return y}),r.d(t,"D",function(){return g}),r.d(t,"E",function(){return d}),r.d(t,"F",function(){return w}),r.d(t,"G",function(){return S}),r.d(t,"H",function(){return p}),r.d(t,"I",function(){return I}),r.d(t,"J",function(){return T}),r.d(t,"K",function(){return R});var n=r("9gar"),i=r("1kEK");function a(e){return n.a.extendedSpatialReferenceInfo(e)}function o(e,t,r){return n.a.clip(i.a,e,t,r)}function s(e,t,r){return n.a.cut(i.a,e,t,r)}function u(e,t,r){return n.a.contains(i.a,e,t,r)}function c(e,t,r){return n.a.crosses(i.a,e,t,r)}function l(e,t,r,a){return n.a.distance(i.a,e,t,r,a)}function h(e,t,r){return n.a.equals(i.a,e,t,r)}function f(e,t,r){return n.a.intersects(i.a,e,t,r)}function d(e,t,r){return n.a.touches(i.a,e,t,r)}function p(e,t,r){return n.a.within(i.a,e,t,r)}function b(e,t,r){return n.a.disjoint(i.a,e,t,r)}function v(e,t,r){return n.a.overlaps(i.a,e,t,r)}function y(e,t,r,a){return n.a.relate(i.a,e,t,r,a)}function m(e,t){return n.a.isSimple(i.a,e,t)}function g(e,t){return n.a.simplify(i.a,e,t)}function O(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.a.convexHull(i.a,e,t,r)}function x(e,t,r){return n.a.difference(i.a,e,t,r)}function j(e,t,r){return n.a.symmetricDifference(i.a,e,t,r)}function _(e,t,r){return n.a.intersect(i.a,e,t,r)}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.a.union(i.a,e,t,r)}function k(e,t,r,a,o,s,u){return n.a.offset(i.a,e,t,r,a,o,s,u)}function S(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n.a.buffer(i.a,e,t,r,a,o)}function I(e,t,r,a,o,s,u){return n.a.geodesicBuffer(i.a,e,t,r,a,o,s,u)}function T(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.a.nearestCoordinate(i.a,e,t,r,a)}function R(e,t,r){return n.a.nearestVertex(i.a,e,t,r)}function E(e,t,r,a,o){return n.a.nearestVertices(i.a,e,t,r,a,o)}function M(e,t,r,i){if(null==t||null==i)throw new Error("Illegal Argument Exception");var a=n.a.rotate(t,r,i);return a.spatialReference=e,a}function A(e,t,r){if(null==t||null==r)throw new Error("Illegal Argument Exception");var i=n.a.flipHorizontal(t,r);return i.spatialReference=e,i}function C(e,t,r){if(null==t||null==r)throw new Error("Illegal Argument Exception");var i=n.a.flipVertical(t,r);return i.spatialReference=e,i}function F(e,t,r,a,o){return n.a.generalize(i.a,e,t,r,a,o)}function L(e,t,r,a){return n.a.densify(i.a,e,t,r,a)}function P(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return n.a.geodesicDensify(i.a,e,t,r,a,o)}function B(e,t,r){return n.a.planarArea(i.a,e,t,r)}function D(e,t,r){return n.a.planarLength(i.a,e,t,r)}function G(e,t,r,a){return n.a.geodesicArea(i.a,e,t,r,a)}function N(e,t,r,a){return n.a.geodesicLength(i.a,e,t,r,a)}var z=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:a,clip:o,cut:s,contains:u,crosses:c,distance:l,equals:h,intersects:f,touches:d,within:p,disjoint:b,overlaps:v,relate:y,isSimple:m,simplify:g,convexHull:O,difference:x,symmetricDifference:j,intersect:_,union:w,offset:k,buffer:S,geodesicBuffer:I,nearestCoordinate:T,nearestVertex:R,nearestVertices:E,rotate:M,flipHorizontal:A,flipVertical:C,generalize:F,densify:L,geodesicDensify:P,planarArea:B,planarLength:D,geodesicArea:G,geodesicLength:N})},lq5k:function(e,r,n){"use strict";n.d(r,"a",function(){return z});var i=n("pO5D"),a=(n("wSAH"),n("srIe")),u=n("6S2I"),l=(n("zqDF"),n("WbKI")),h=n("r88o"),f=n("04ZG"),d=n("Cduq"),b=n("zlDU"),v=n("4EHJ"),m=n("ju1D"),O=(n("9AIY"),n("9MzC")),x=n("WZb1"),j=n("OvF4"),_=n("Lqtk"),w=n("AiS/"),k=n("p+Gi"),S=n("Jpjp");function I(e){e&&e.writtenProperties&&e.writtenProperties.forEach(function(e){var t=e.target;e.newOrigin&&e.oldOrigin!==e.newOrigin&&Object(S.a)(t)&&t.updateOrigin(e.propName,e.newOrigin)})}var T=n("VLTf"),R=n("5k2a"),E=n("eSsm"),M=n("5qYV");function A(e,t,r){return C.apply(this,arguments)}function C(){return(C=o(regeneratorRuntime.mark(function e(t,r,n){var i,a,o,s,u,c,l,h,f,d,v,y,g,x,j,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.resources){e.next=2;break}return e.abrupt("return");case 2:i=r.portalItem===t.portalItem?new Set(t.paths):new Set,t.paths.length=0,t.portalItem=r.portalItem,a=new Set(r.resources.toKeep.map(function(e){return e.resource.path})),o=new Set,s=[],a.forEach(function(e){i.delete(e),t.paths.push(e)}),u=p(r.resources.toUpdate);try{for(u.s();!(c=u.n()).done;)l=c.value,i.delete(l.resource.path),a.has(l.resource.path)||o.has(l.resource.path)?(h=l.resource,f=l.content,d=l.finish,v=l.error,y=Object(M.getSiblingOfSameTypeI)(h,Object(m.a)()),t.paths.push(y.path),s.push(F({resource:y,content:f,finish:d,error:v},n))):(t.paths.push(l.resource.path),s.push(P(l,n)),o.add(l.resource.path))}catch(k){u.e(k)}finally{u.f()}g=p(r.resources.toAdd);try{for(g.s();!(x=g.n()).done;)j=x.value,s.push(F(j,n)),t.paths.push(j.resource.path)}catch(k){g.e(k)}finally{g.f()}if(i.forEach(function(e){var t=r.portalItem.resourceFromPath(e);s.push(t.portalItem.removeResource(t).catch(function(){}))}),0!==s.length){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,Object(O.j)(s);case 14:if(_=e.sent,Object(O.u)(n),!((w=_.filter(function(e){return"error"in e}).map(function(e){return e.error})).length>0)){e.next=19;break}throw new b.a("save:resources","Failed to save one or more resources",{errors:w});case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){return L.apply(this,arguments)}function L(){return(L=o(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)(t.resource.portalItem.addResource(t.resource,t.content,r));case 2:if(!0===(n=e.sent).ok){e.next=5;break}throw t.error&&t.error(n.error),n.error;case 5:t.finish&&t.finish(t.resource);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return B.apply(this,arguments)}function B(){return(B=o(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.c)(t.resource.update(t.content,r));case 2:if(!0===(n=e.sent).ok){e.next=5;break}throw t.error(n.error),n.error;case 5:t.finish(t.resource);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=n("IvSi"),G=n("bjZF"),N=u.a.getLogger("esri.layers.mixins.SceneService"),z=function(e){var r=function(e){s(R,e);var r,i,u,l,h,f,d,m,S=c(R);function R(){var e;return y(this,R),(e=S.apply(this,arguments)).spatialReference=null,e.fullExtent=null,e.heightModelInfo=null,e.minScale=0,e.maxScale=0,e.version={major:Number.NaN,minor:Number.NaN,versionString:""},e.copyright=null,e.sublayerTitleMode="item-title",e.title=null,e.layerId=null,e.indexInfo=null,e._debouncedSaveOperations=Object(O.i)(function(){var t=o(regeneratorRuntime.mark(function t(r,n,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next=0===t.t0?3:1===t.t0?4:5;break;case 3:return t.abrupt("return",e._save(n));case 4:return t.abrupt("return",e._saveAs(i,n));case 5:case"end":return t.stop()}},t)}));return function(e,r,n){return t.apply(this,arguments)}}()),e}return g(R,[{key:"readSpatialReference",value:function(e,t){return this._readSpatialReference(t)}},{key:"_readSpatialReference",value:function(e){if(null!=e.spatialReference)return x.a.fromJSON(e.spatialReference);var t=e.store,r=t.indexCRS||t.geographicCRS,n=r&&parseInt(r.substring(r.lastIndexOf("/")+1,r.length),10);return null!=n?new x.a(n):null}},{key:"readFullExtent",value:function(e,t,r){if(null!=e&&"object"==typeof e)return j.a.fromJSON(e,r);var n=t.store,i=this._readSpatialReference(t);return null==i||null==n||null==n.extent||!Array.isArray(n.extent)||n.extent.some(function(e){return e<U})?null:new j.a({xmin:n.extent[0],ymin:n.extent[1],xmax:n.extent[2],ymax:n.extent[3],spatialReference:i})}},{key:"readVersion",value:function(e,t){var r=t.store,n=null!=r.version?r.version.toString():"",i={major:Number.NaN,minor:Number.NaN,versionString:n},a=n.split(".");return a.length>=2&&(i.major=parseInt(a[0],10),i.minor=parseInt(a[1],10)),i}},{key:"readTitlePortalItem",value:function(e){return"item-title"!==this.sublayerTitleMode?void 0:e}},{key:"readTitleService",value:function(e,t){var r=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return Object(T.i)(this.url,t.name);var n=t.name;if(!n&&this.url){var i=Object(T.e)(this.url);Object(a.k)(i)&&(n=i.title)}return"item-title-and-service-name"===this.sublayerTitleMode&&r&&(n=r+" - "+n),Object(T.a)(n)}},{key:"url",set:function(e){var t=Object(T.h)({layer:this,url:e,nonStandardUrlAllowed:!1,logger:N});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,r,n){Object(T.j)(this,e,"layers",t,n)}},{key:"parsedUrl",get:function(){var e=this._get("url");if(!e)return null;var t=Object(v.J)(e);return null!=this.layerId&&(t.path="".concat(t.path,"/layers/").concat(this.layerId)),t}},{key:"_fetchIndexAndUpdateExtent",value:(m=o(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.indexInfo=Object(G.a)(this.parsedUrl.path,this.rootNode,t,N,r),e.t0=null==this.fullExtent||this.fullExtent.hasZ,e.t0){e.next=8;break}return e.t1=this,e.next=6,this.indexInfo;case 6:e.t2=e.sent,e.t1._updateExtent.call(e.t1,e.t2);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return m.apply(this,arguments)})},{key:"_updateExtent",value:function(e){if("page"===(null==e?void 0:e.type)){var t,r,n=e.rootIndex%e.pageSize,i=null==(t=e.rootPage)||null==(r=t.nodes)?void 0:r[n];if(null==i||null==i.obb||null==i.obb.center||null==i.obb.halfSize)throw new b.a("sceneservice:invalid-node-page","Invalid node page.");if(i.obb.center[0]<U||null==this.fullExtent||this.fullExtent.hasZ)return;var a=i.obb.halfSize,o=i.obb.center[2],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);this.fullExtent.zmin=o-s,this.fullExtent.zmax=o+s}else if("node"===(null==e?void 0:e.type)){var u,c=null==(u=e.rootNode)?void 0:u.mbs;if(!Array.isArray(c)||4!==c.length||c[0]<U)return;var l=c[2],h=c[3];this.fullExtent.zmin=l-h,this.fullExtent.zmax=l+h}}},{key:"_fetchService",value:(d=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.url){e.next=2;break}throw new b.a("sceneservice:url-not-set","Scene service can not be loaded without valid portal item or url");case 2:if(null!=this.layerId||!/SceneServer\/*$/i.test(this.url)){e.next=7;break}return e.next=5,this._fetchFirstLayerId(t);case 5:null!=(r=e.sent)&&(this.layerId=r);case 7:return e.abrupt("return",this._fetchServiceLayer(t));case 8:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"_fetchFirstLayerId",value:(f=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.default)(this.url,{query:{f:"json"},responseType:"json",signal:t});case 2:if(!((r=e.sent).data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)){e.next=5;break}return e.abrupt("return",r.data.layers[0].id);case 5:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"_fetchServiceLayer",value:(h=o(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.default)(this.parsedUrl.path,{query:{f:"json"},responseType:"json",signal:t});case 2:(r=e.sent).ssl&&(this.url=this.url.replace(/^http:/i,"https:")),n=r.data,this.read(n,{origin:"service",url:this.parsedUrl}),this.validateLayer(n);case 6:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"_ensureLoadBeforeSave",value:(l=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:if(e.t0="beforeSave"in this&&"function"==typeof this.beforeSave,!e.t0){e.next=6;break}return e.next=6,this.beforeSave();case 6:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"validateLayer",value:function(e){}},{key:"_updateTypeKeywords",value:function(e,t,r){e.typeKeywords||(e.typeKeywords=[]);var n,i=p(t.getTypeKeywords());try{for(i.s();!(n=i.n()).done;){var a=n.value;e.typeKeywords.push(a)}}catch(o){i.e(o)}finally{i.f()}e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(function(e,t,r){return r.indexOf(e)===t}),1===r&&(e.typeKeywords=e.typeKeywords.filter(function(e){return"Hosted Service"!==e})))}},{key:"_saveAs",value:(u=o(regeneratorRuntime.mark(function e(r,n){var i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t(t({},X),n),a=k.default.from(r),e.t0=a,e.t0){e.next=7;break}return N.error("_saveAs(): requires a portal item parameter"),e.next=7,Promise.reject(new b.a("sceneservice:portal-item-required","_saveAs() requires a portal item to save to"));case 7:return a.id&&((a=a.clone()).id=null),o=a.portal||w.a.getDefault(),e.next=11,this._ensureLoadBeforeSave();case 11:return a.type=q,a.portal=o,s={origin:"portal-item",url:null,messages:[],portal:o,portalItem:a,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},u={layers:[this.write(null,s)]},e.next=16,Promise.all(s.resources.pendingOperations);case 16:return e.next=18,this._validateAgainstJSONSchema(u,s,i);case 18:return a.url=this.url,a.title||(a.title=this.title),this._updateTypeKeywords(a,i,1),e.next=23,o._signIn();case 23:return e.next=25,o.user.addItem({item:a,folder:i&&i.folder,data:u});case 25:return e.next=27,A(this.resourceReferences,s,null);case 27:return this.portalItem=a,I(s),s.portalItem=a,e.abrupt("return",a);case 31:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)})},{key:"_save",value:(i=o(regeneratorRuntime.mark(function e(r){var n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t(t({},X),r),e.t0=this.portalItem,e.t0){e.next=6;break}return N.error("_save(): requires the .portalItem property to be set"),e.next=6,Promise.reject(new b.a("sceneservice:portal-item-not-set","Portal item to save to has not been set on this SceneService"));case 6:if(e.t1=this.portalItem.type!==q,!e.t1){e.next=11;break}return N.error("_save(): Non-matching portal item type. Got "+this.portalItem.type+", expected "+q),e.next=11,Promise.reject(new b.a("sceneservice:portal-item-wrong-type",'Portal item needs to have type "'.concat(q,'"')));case 11:return e.next=13,this._ensureLoadBeforeSave();case 13:return i={origin:"portal-item",url:this.portalItem.itemUrl&&Object(v.J)(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||w.a.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a={layers:[this.write(null,i)]},e.next=16,Promise.all(i.resources.pendingOperations);case 16:return e.next=18,this._validateAgainstJSONSchema(a,i,n);case 18:return this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,n,0),e.next=23,this.portalItem.update({data:a});case 23:return e.next=25,A(this.resourceReferences,i,null);case 25:return I(i),e.abrupt("return",this.portalItem);case 27:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_validateAgainstJSONSchema",value:(r=o(regeneratorRuntime.mark(function e(t,r,i){var a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.messages.filter(function(e){return"error"===e.type}).map(function(e){return new b.a(e.name,e.message,e.details)}),i&&i.validationOptions.ignoreUnsupported&&(a=a.filter(function(e){return"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name&&"scenemodification:unsupported"!==e.name})),!i.validationOptions.enabled&&!H){e.next=10;break}return e.next=4,n.e(149).then(n.bind(null,"p+sB"));case 4:if(!((o=e.sent.validate(t,i.portalItemLayerType)).length>0)){e.next=10;break}if(s="Layer item did not validate:\n".concat(o.join("\n")),N.error("_validateAgainstJSONSchema(): ".concat(s)),"throw"!==i.validationOptions.failPolicy){e.next=10;break}throw u=o.map(function(e){return new b.a("sceneservice:schema-validation",e)}).concat(a),new b.a("sceneservice-validate:error","Failed to save layer item due to schema validation, see `details.errors`.",{combined:u});case 10:if(!(a.length>0)){e.next=12;break}throw new b.a("sceneservice:save","Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:a});case 12:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})}]),R}(e);return Object(i.a)([Object(l.b)(D.c)],r.prototype,"id",void 0),Object(i.a)([Object(l.b)({type:x.a})],r.prototype,"spatialReference",void 0),Object(i.a)([Object(h.a)("spatialReference",["spatialReference","store.indexCRS","store.geographicCRS"])],r.prototype,"readSpatialReference",null),Object(i.a)([Object(l.b)({type:j.a})],r.prototype,"fullExtent",void 0),Object(i.a)([Object(h.a)("fullExtent",["fullExtent","store.extent","spatialReference","store.indexCRS","store.geographicCRS"])],r.prototype,"readFullExtent",null),Object(i.a)([Object(l.b)({readOnly:!0,type:R.a})],r.prototype,"heightModelInfo",void 0),Object(i.a)([Object(l.b)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:{source:"minScale"},write:!1}}}})],r.prototype,"minScale",void 0),Object(i.a)([Object(l.b)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:{source:"maxScale"},write:!1}}}})],r.prototype,"maxScale",void 0),Object(i.a)([Object(l.b)({readOnly:!0})],r.prototype,"version",void 0),Object(i.a)([Object(h.a)("version",["store.version"])],r.prototype,"readVersion",null),Object(i.a)([Object(l.b)({type:String,json:{read:{source:"copyrightText"}}})],r.prototype,"copyright",void 0),Object(i.a)([Object(l.b)({type:String,json:{read:!1}})],r.prototype,"sublayerTitleMode",void 0),Object(i.a)([Object(l.b)({type:String})],r.prototype,"title",void 0),Object(i.a)([Object(h.a)("portal-item","title")],r.prototype,"readTitlePortalItem",null),Object(i.a)([Object(h.a)("service","title",["name"])],r.prototype,"readTitleService",null),Object(i.a)([Object(l.b)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{write:{target:"id",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],r.prototype,"layerId",void 0),Object(i.a)([Object(l.b)(D.n)],r.prototype,"url",null),Object(i.a)([Object(d.a)("url")],r.prototype,"writeUrl",null),Object(i.a)([Object(l.b)()],r.prototype,"parsedUrl",null),Object(i.a)([Object(l.b)({readOnly:!0})],r.prototype,"store",void 0),Object(i.a)([Object(l.b)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],r.prototype,"rootNode",void 0),r=Object(i.a)([Object(f.a)("esri.layers.mixins.SceneService")],r)},U=-1e38,H=!1,q="Scene Service",X={getTypeKeywords:function(){return[]},portalItemLayerType:"unknown",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:"throw"}}},lx5q:function(e,t,r){"use strict";var n=r("srIe");t.a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;y(this,e),this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[]}return g(e,[{key:"entries",get:function(){return this._buffer}},{key:"enqueue",value:function(e){if(this.size===this.maxSize){var t=this._buffer[this._start];return this._buffer[this._start]=e,this._start=(this._start+1)%this.maxSize,t}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=e:this._buffer[this._start+this.size++]=e,null}},{key:"dequeue",value:function(){if(0===this.size)return null;var e=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,e}},{key:"peek",value:function(){return 0===this.size?null:this._buffer[this._start]}},{key:"find",value:function(e){if(0===this.size)return null;var t,r=p(this._buffer);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Object(n.k)(i)&&e(i))return i}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"clear",value:function(e){for(var t=this.dequeue();Object(n.k)(t);)e&&e(t),t=this.dequeue()}}]),e}()},mYC1:function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n=r("srIe"),i=r("9MzC"),a=r("975N"),s=r("Lqtk"),u=r("AiS/"),c=r("p+Gi"),l=r("W9Wu"),h=function(){function e(t,r,n){y(this,e),this.parsedUrl=t,this.portalItem=r,this.signal=n,this.rootDocument=null;var i=this.parsedUrl.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);i&&(this.urlParts={root:i[1],layerId:parseInt(i[2],10)})}var t,r,h,f,p,b,v,m,O;return g(e,[{key:"fetch",value:(O=o(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.urlParts){e.next=2;break}return e.abrupt("return",null);case 2:if(null==(t=this.portalItem)){e.next=6;break}e.t0=t,e.next=9;break;case 6:return e.next=8,this.portalItemFromServiceItemId();case 8:e.t0=e.sent;case 9:if(r=e.t0,!Object(n.j)(r)){e.next=12;break}return e.abrupt("return",this.loadFromUrl());case 12:return e.next=14,this.findAndLoadRelatedPortalItem(r);case 14:return i=e.sent,e.abrupt("return",Object(n.j)(i)?null:this.loadFeatureLayerFromPortalItem(i));case 16:case"end":return e.stop()}},e,this)})),function(){return O.apply(this,arguments)})},{key:"fetchPortalItem",value:(m=o(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.urlParts){e.next=2;break}return e.abrupt("return",null);case 2:if(null==(t=this.portalItem)){e.next=6;break}e.t0=t,e.next=9;break;case 6:return e.next=8,this.portalItemFromServiceItemId();case 8:e.t0=e.sent;case 9:return r=e.t0,e.abrupt("return",Object(n.j)(r)?null:this.findAndLoadRelatedPortalItem(r));case 11:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"fetchRootDocument",value:(v=o(regeneratorRuntime.mark(function e(){var t,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(n.k)(this.rootDocument)){e.next=2;break}return e.abrupt("return",this.rootDocument);case 2:if(!Object(n.j)(this.urlParts)){e.next=4;break}return e.abrupt("return",(this.rootDocument={},{}));case 4:return t={query:{f:"json"},responseType:"json",signal:this.signal},r="".concat(this.urlParts.root,"/SceneServer"),e.prev=5,e.next=8,Object(s.default)(r,t);case 8:i=e.sent,this.rootDocument=i.data,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this.rootDocument={};case 15:return e.abrupt("return",this.rootDocument);case 16:case"end":return e.stop()}},e,this,[[5,12]])})),function(){return v.apply(this,arguments)})},{key:"fetchServiceOwningPortalUrl",value:(b=o(regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=null==(t=a.b)?void 0:t.findServerInfo(this.parsedUrl.path))||!r.owningSystemUrl){e.next=3;break}return e.abrupt("return",r.owningSystemUrl);case 3:return n=this.parsedUrl.path.replace(/(.*\/rest)\/.*/i,"$1")+"/info",e.prev=4,e.next=7,Object(s.default)(n,{query:{f:"json"},responseType:"json",signal:this.signal});case 7:if(!(o=e.sent.data.owningSystemUrl)){e.next=10;break}return e.abrupt("return",o);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),Object(i.t)(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[4,12]])})),function(){return b.apply(this,arguments)})},{key:"findAndLoadRelatedPortalItem",value:(p=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:this.signal});case 3:if(e.t0=e.sent.find(function(e){return"Feature Service"===e.type}),e.t0){e.next=6;break}e.t0=null;case 6:return e.abrupt("return",e.t0);case 9:return e.prev=9,e.t1=e.catch(0),e.abrupt("return",(Object(i.t)(e.t1),null));case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return p.apply(this,arguments)})},{key:"loadFeatureLayerFromPortalItem",value:(f=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load({signal:this.signal});case 2:return e.next=4,this.findMatchingAssociatedSublayerUrl(t.url);case 4:return r=e.sent,e.abrupt("return",new l.default({url:r,portalItem:t}).load({signal:this.signal}));case 6:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"loadFromUrl",value:(h=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findMatchingAssociatedSublayerUrl("".concat(this.urlParts.root,"/FeatureServer"));case 2:return t=e.sent,e.abrupt("return",new l.default({url:t}).load({signal:this.signal}));case 4:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"findMatchingAssociatedSublayerUrl",value:(r=o(regeneratorRuntime.mark(function e(t){var r,n,i,a,o,u,c,l,h,f,p,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),n={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:this.signal},i=this.urlParts.layerId,a=this.fetchRootDocument(),o=Object(s.default)(r,n),e.next=7,Promise.all([o,a]);case 7:if(u=e.sent,c=d(u,2),l=c[0],h=c[1],f=h&&h.layers,p=l.data&&l.data.layers,Array.isArray(p)){e.next=15;break}throw new Error("expected layers array");case 15:if(!Array.isArray(f)){e.next=25;break}b=0;case 17:if(!(b<Math.min(f.length,p.length))){e.next=23;break}if(f[b].id!==i){e.next=20;break}return e.abrupt("return","".concat(r,"/").concat(p[b].id));case 20:b++,e.next=17;break;case 23:e.next=27;break;case 25:if(!(i<p.length)){e.next=27;break}return e.abrupt("return","".concat(r,"/").concat(p[i].id));case 27:throw new Error("could not find matching associated sublayer");case 28:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"portalItemFromServiceItemId",value:(t=o(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchRootDocument();case 2:if(t=e.sent.serviceItemId){e.next=5;break}return e.abrupt("return",null);case 5:return r=new c.default({id:t}),e.next=8,this.fetchServiceOwningPortalUrl();case 8:return a=e.sent,Object(n.k)(a)&&(r.portal=new u.a({url:a})),e.prev=10,e.abrupt("return",r.load({signal:this.signal}));case 14:return e.prev=14,e.t0=e.catch(10),e.abrupt("return",(Object(i.t)(e.t0),null));case 17:case"end":return e.stop()}},e,this,[[10,14]])})),function(){return t.apply(this,arguments)})}]),e}()},n4FQ:function(e,t,r){"use strict";var n=r("gEht"),i=function(){function e(t,r){y(this,e),this.measure=Object(n.o)(r),this.value=t,this.unit=r}return g(e,[{key:"isBaseUnit",get:function(){return Object(n.k)(this.unit)}},{key:"toUnit",value:function(t){return new e(Object(n.c)(this.value,this.unit,t),t)}},{key:"toBaseUnit",value:function(){return this.toUnit(Object(n.b)(this.unit))}}]),e}();t.a=i},ncPp:function(e,r,n){"use strict";n.r(r);var i=n("pO5D"),a=(n("wSAH"),n("s7YA")),o=(n("6S2I"),n("zqDF"),n("WbKI")),u=n("r88o"),l=n("04ZG"),h=n("Cduq"),f=n("zlDU"),d=n("4EHJ"),b=(n("ju1D"),n("9AIY"),n("WZb1")),v=n("SuVq"),m=n("OvF4"),O=(n("4GrV"),n("Lqtk")),x=n("pqNC"),j=n("5pQd"),_=n("uRH/"),w=n("mXvl"),k=n("DbUH"),S=n("jhcG"),I=n("WmKv"),T=n("UOZ4"),R=n("3/ME"),E=n("OYGz"),M=function(e){s(n,e);var r=c(n);function n(){var e;y(this,n);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).copyright="",e.fullExtent=new m.a(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,b.a.WebMercator),e.legendEnabled=!1,e.isReference=null,e.popupEnabled=!1,e.spatialReference=b.a.WebMercator,e.subDomains=null,e.tileInfo=new R.a({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new v.a({x:-20037508.342787,y:20037508.342787,spatialReference:b.a.WebMercator}),spatialReference:b.a.WebMercator,lods:[new T.a({level:0,scale:591657527.591555,resolution:156543.033928}),new T.a({level:1,scale:295828763.795777,resolution:78271.5169639999}),new T.a({level:2,scale:147914381.897889,resolution:39135.7584820001}),new T.a({level:3,scale:73957190.948944,resolution:19567.8792409999}),new T.a({level:4,scale:36978595.474472,resolution:9783.93962049996}),new T.a({level:5,scale:18489297.737236,resolution:4891.96981024998}),new T.a({level:6,scale:9244648.868618,resolution:2445.98490512499}),new T.a({level:7,scale:4622324.434309,resolution:1222.99245256249}),new T.a({level:8,scale:2311162.217155,resolution:611.49622628138}),new T.a({level:9,scale:1155581.108577,resolution:305.748113140558}),new T.a({level:10,scale:577790.554289,resolution:152.874056570411}),new T.a({level:11,scale:288895.277144,resolution:76.4370282850732}),new T.a({level:12,scale:144447.638572,resolution:38.2185141425366}),new T.a({level:13,scale:72223.819286,resolution:19.1092570712683}),new T.a({level:14,scale:36111.909643,resolution:9.55462853563415}),new T.a({level:15,scale:18055.954822,resolution:4.77731426794937}),new T.a({level:16,scale:9027.977411,resolution:2.38865713397468}),new T.a({level:17,scale:4513.988705,resolution:1.19432856685505}),new T.a({level:18,scale:2256.994353,resolution:.597164283559817}),new T.a({level:19,scale:1128.497176,resolution:.298582141647617})]}),e.type="web-tile",e.urlTemplate=null,e.wmtsInfo=null,e}return g(n,[{key:"normalizeCtorArgs",value:function(e,r){return"string"==typeof e?t({urlTemplate:e},r):e}},{key:"load",value:function(e){var t=this,r=this.loadFromPortal({supportedTypes:["WMTS"]},e).then(function(){var e="";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r=new d.a(t.urlTemplate);t.subDomains&&t.subDomains.length>0||-1===r.authority.indexOf("{subDomain}")||(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new f.a("web-tile-layer:load","WebTileLayer (title: '".concat(t.title,"', id: '").concat(t.id,"') ").concat(e))});return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"levelValues",get:function(){var e=[];if(!this.tileInfo)return null;var t,r=p(this.tileInfo.lods);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.level]=n.levelValue||n.level}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"readSpatialReference",value:function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&b.a.fromJSON(t.fullExtent.spatialReference)}},{key:"tileServers",get:function(){if(!this.urlTemplate)return null;var e=[],t=this.urlTemplate,r=this.subDomains,n=new d.a(t),i=n.scheme?n.scheme+"://":"//",a=i+n.authority+"/";if(-1===n.authority.indexOf("{subDomain}"))e.push(a);else if(r&&r.length>0&&n.authority.split(".").length>1){var o,s=p(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;e.push(i+n.authority.replace(/\{subDomain\}/gi,u)+"/")}}catch(c){s.e(c)}finally{s.f()}}return e.map(function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e})}},{key:"urlPath",get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new d.a(e);return e.substring(((t.scheme?t.scheme+"://":"//")+t.authority+"/").length)}},{key:"readUrlTemplate",value:function(e,t){return e||t.templateUrl}},{key:"writeUrlTemplate",value:function(e,t){e&&Object(d.v)(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=Object(d.C)(e)),t.templateUrl=e}},{key:"fetchTile",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.signal,a=n.timestamp,o=this.getTileUrl(e,t,r),s={responseType:"image",signal:i};return null!=a&&(s.query={_ts:n.timestamp}),Object(O.default)(o,s).then(function(e){return e.data})}},{key:"getTileUrl",value:function(e,t,r){var n=this.levelValues[e];return this.tileServers[t%this.tileServers.length]+Object(a.c)(this.urlPath,{level:n,z:n,col:r,x:r,row:t,y:t})}}]),n}(Object(w.a)(Object(S.a)(Object(I.a)(Object(_.a)(Object(k.a)(Object(j.a)(x.a)))))));Object(i.a)([Object(o.b)({type:String,value:"",json:{write:!0}})],M.prototype,"copyright",void 0),Object(i.a)([Object(o.b)({type:m.a,json:{write:!0}})],M.prototype,"fullExtent",void 0),Object(i.a)([Object(o.b)({readOnly:!0,json:{read:!1,write:!1}})],M.prototype,"legendEnabled",void 0),Object(i.a)([Object(o.b)({type:["show","hide"]})],M.prototype,"listMode",void 0),Object(i.a)([Object(o.b)()],M.prototype,"levelValues",null),Object(i.a)([Object(o.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],M.prototype,"isReference",void 0),Object(i.a)([Object(o.b)({type:["WebTiledLayer"],value:"WebTiledLayer"})],M.prototype,"operationalLayerType",void 0),Object(i.a)([Object(o.b)({readOnly:!0,json:{read:!1,write:!1}})],M.prototype,"popupEnabled",void 0),Object(i.a)([Object(o.b)({type:b.a})],M.prototype,"spatialReference",void 0),Object(i.a)([Object(u.a)("spatialReference",["spatialReference","fullExtent.spatialReference"])],M.prototype,"readSpatialReference",null),Object(i.a)([Object(o.b)({type:[String],json:{write:!0}})],M.prototype,"subDomains",void 0),Object(i.a)([Object(o.b)({type:R.a,json:{write:!0}})],M.prototype,"tileInfo",void 0),Object(i.a)([Object(o.b)({readOnly:!0})],M.prototype,"tileServers",null),Object(i.a)([Object(o.b)({json:{read:!1}})],M.prototype,"type",void 0),Object(i.a)([Object(o.b)()],M.prototype,"urlPath",null),Object(i.a)([Object(o.b)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],M.prototype,"urlTemplate",void 0),Object(i.a)([Object(u.a)("urlTemplate",["urlTemplate","templateUrl"])],M.prototype,"readUrlTemplate",null),Object(i.a)([Object(h.a)("urlTemplate",{templateUrl:{type:String}})],M.prototype,"writeUrlTemplate",null),Object(i.a)([Object(o.b)({type:E.a,json:{write:!0}})],M.prototype,"wmtsInfo",void 0),M=Object(i.a)([Object(l.a)("esri.layers.WebTileLayer")],M),r.default=M},o6Le:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,e),this._options=t}return g(e,[{key:"toQueryParams",value:function(e){var t=this;if(!e)return null;var r=e.toJSON(),n={};return Object.keys(r).forEach(function(e){var i=t._options[e];if(i){var a="boolean"!=typeof i&&i.name?i.name:e,o="boolean"!=typeof i&&i.getter?i.getter(r):r[e];null!=o&&(n[a]=function(e){if(!Array.isArray(e))return!1;var t=d(e,1)[0];return"number"==typeof t||"string"==typeof t}(o)?o.join(","):"object"==typeof o?JSON.stringify(o):o)}else n[e]=r[e]},this),n}}]),e}();function i(e){return new n(e)}},oLSx:function(e,t,r){"use strict";r.d(t,"a",function(){return R});var n,i,a,s,u,c,l,h,f,d,p,b,v,y,m,g,O,x,j,_,w,k,S,I,T,R={BingMapsLayer:(T=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"CR/Q"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return T.apply(this,arguments)}),BuildingSceneLayer:(I=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(129)]).then(r.bind(null,"TWTt"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return I.apply(this,arguments)}),CSVLayer:(S=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(73).then(r.bind(null,"Kn0e"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return S.apply(this,arguments)}),ElevationLayer:(k=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(27)]).then(r.bind(null,"8g7C"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return k.apply(this,arguments)}),FeatureLayer:(w=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"W9Wu"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return w.apply(this,arguments)}),GroupLayer:(_=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(0).then(r.bind(null,"VPx4"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return _.apply(this,arguments)}),GeoRSSLayer:(j=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(130).then(r.bind(null,"AP+b"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return j.apply(this,arguments)}),ImageryLayer:(x=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"/GVf"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return x.apply(this,arguments)}),ImageryTileLayer:(O=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(131)]).then(r.bind(null,"mRf7"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return O.apply(this,arguments)}),IntegratedMeshLayer:(g=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(132)]).then(r.bind(null,"yvy3"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return g.apply(this,arguments)}),KMLLayer:(m=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(133)]).then(r.bind(null,"9fxc"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)}),MapImageLayer:(y=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"U/i9"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return y.apply(this,arguments)}),MapNotesLayer:(v=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(134)]).then(r.bind(null,"Wvof"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)}),OpenStreetMapLayer:(b=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(135)]).then(r.bind(null,"jFi3"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return b.apply(this,arguments)}),PointCloudLayer:(p=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(136)]).then(r.bind(null,"RLtZ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return p.apply(this,arguments)}),RouteLayer:(d=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(137).then(r.bind(null,"soW6"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)}),SceneLayer:(f=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(138)]).then(r.bind(null,"0yFX"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return f.apply(this,arguments)}),StreamLayer:(h=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(139).then(r.bind(null,"u6iX"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return h.apply(this,arguments)}),TileLayer:(l=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(140).then(r.bind(null,"JlDE"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return l.apply(this,arguments)}),UnknownLayer:(c=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(141).then(r.bind(null,"qcqe"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),UnsupportedLayer:(u=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(142).then(r.bind(null,"GN2T"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)}),VectorTileLayer:(s=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"FzwJ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)}),WebTileLayer:(a=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(0).then(r.bind(null,"ncPp"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)}),WMSLayer:(i=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(null,"h2Da"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),WMTSLayer:(n=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(0),r.e(143)]).then(r.bind(null,"sDlQ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}},ofcG:function(e,r,n){"use strict";var i,a=n("pO5D"),o=(n("wSAH"),n("f/qv")),u=(n("6S2I"),n("zqDF")),l=n("WbKI"),h=n("RI0u"),f=n("04ZG"),d=(n("4EHJ"),n("ju1D"),n("9AIY"),n("dzHX")),p=n("1hFN"),b=n("ag7Y"),v=n("nvBr"),m=i=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).description=null,e.label=null,e.values=null,e.color=null,e}return g(r,[{key:"clone",value:function(){return new i({description:this.description,label:this.label,values:Object(o.a)(this.values),color:Object(o.a)(this.color)})}}]),r}(b.a);Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"description",void 0),Object(a.a)([Object(l.b)({type:String,json:{write:!0}})],m.prototype,"label",void 0),Object(a.a)([Object(l.b)({type:[String],json:{write:!0}})],m.prototype,"values",void 0),Object(a.a)([Object(l.b)({type:v.a,json:{type:[u.a],write:!0}})],m.prototype,"color",void 0);var O,x=m=i=Object(a.a)([Object(f.a)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],m),j=O=function(e){s(n,e);var r=c(n);function n(e){var t;return y(this,n),(t=r.call(this,e)).type="point-cloud-unique-value",t.field=null,t.fieldTransformType=null,t.colorUniqueValueInfos=null,t.legendOptions=null,t}return g(n,[{key:"clone",value:function(){return new O(t(t({},this.cloneProperties()),{},{field:Object(o.a)(this.field),fieldTransformType:Object(o.a)(this.fieldTransformType),colorUniqueValueInfos:Object(o.a)(this.colorUniqueValueInfos),legendOptions:Object(o.a)(this.legendOptions)}))}}]),n}(d.a);Object(a.a)([Object(h.a)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],j.prototype,"type",void 0),Object(a.a)([Object(l.b)({json:{write:!0},type:String})],j.prototype,"field",void 0),Object(a.a)([Object(l.b)({type:d.a.fieldTransformTypeKebabDict.apiValues,json:{type:d.a.fieldTransformTypeKebabDict.jsonValues,read:d.a.fieldTransformTypeKebabDict.read,write:d.a.fieldTransformTypeKebabDict.write}})],j.prototype,"fieldTransformType",void 0),Object(a.a)([Object(l.b)({type:[x],json:{write:!0}})],j.prototype,"colorUniqueValueInfos",void 0),Object(a.a)([Object(l.b)({type:p.a,json:{write:!0}})],j.prototype,"legendOptions",void 0),j=O=Object(a.a)([Object(f.a)("esri.renderers.PointCloudUniqueValueRenderer")],j),r.a=j},p0UO:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return n});var n=1;function i(e,t){var r,n=0,i=p(t);try{for(i.s();!(r=i.n()).done;){var a,o=null==(a=r.value.attributes)?void 0:a[e];"number"==typeof o&&isFinite(o)&&(n=Math.max(n,o))}}catch(s){i.e(s)}finally{i.f()}return n}},q03O:function(e,t,r){"use strict";var n=r("yE7X"),a=r("kvL/");t.a=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return g(r,[{key:"renderChildren",value:function(e){this.attributeView.bindTextures(e.context),this.children.some(function(e){return e.hasData})&&(i(f(r.prototype),"renderChildren",this).call(this,e),e.drawPhase===n.c.MAP&&this._renderChildren(e),e.drawPhase===n.c.HIGHLIGHT&&this._renderHighlight(e))}},{key:"_renderHighlight",value:function(e){var t=e.painter.effects.highlight;t.bind(e),this._renderChildren(e,t.defines),t.draw(e),t.unbind()}}]),r}(a.a)},tODX:function(e,t,r){"use strict";r.d(t,"a",function(){return _}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return x}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return O}),r.d(t,"f",function(){return g}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return j});var n=r("zlDU"),i=r("f4Nx"),a=r("l4ZG"),s=r("SuVq"),u=r("OvF4"),c=(r("4GrV"),r("gEht")),l=r("gYg2"),h=5e-4,f=function(e,t){var r=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||r)};function p(){return b.apply(this,arguments)}function b(){return(b=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(l.g)()&&Object(l.h)()){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Object(l.i)();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t,r){if(!f(e.spatialReference,t))return null;if(!Object(l.g)())throw new n.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");return r?Object(l.e)(t,e.spatialReference,e):Object(l.e)(e.spatialReference,t,e)}function y(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e.spatialReference.equals(t))return e;var o=f(e.spatialReference,t);if(o&&!Object(l.g)())throw new n.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");var s=r.center,c=new u.a({xmin:s.x-e.x/2,xmax:s.x+e.x/2,ymin:s.y-e.y/2,ymax:s.y+e.y/2,spatialReference:e.spatialReference}),h=o?Object(l.j)(c,t,i):Object(a.d)(c,t);return null==h?null:{x:h.xmax-h.xmin,y:h.ymax-h.ymin}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return Object(c.f)(e)?t/Object(c.f)(e):0}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=e.spatialReference;if(s.equals(t))return e;var u=f(s,t);if(u&&!Object(l.g)())throw new n.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");var c=u?Object(l.j)(e,t,r):Object(a.d)(e,t);if(c&&o&&t.isGeographic){var p,b,v=s.isWebMercator?Object(i.d)(s).origin:null!=(p=null==(b=Object(i.d)(s))?void 0:b.valid)?p:[],y=d(v,2),g=y[0],O=y[1],x=m(s);x&&null!=g&&null!=O&&(Math.abs(e.x-g)<x&&Math.abs(180-c.x)<h?c.x-=360:Math.abs(e.x-O)<x&&Math.abs(180+c.x)<h&&(c.x+=360))}return c}function O(e,t){var r,o,u,c,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,b=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],v=e.spatialReference;if(v.equals(t))return e;var y=f(v,t);if(y&&!Object(l.g)())throw new n.a("rasterprojectionhelper-projectExtent","projection engine is not loaded");var O=y?Object(l.j)(e,t,p):Object(a.d)(e,t),x=null!=(r=null==(o=Object(i.d)(v))?void 0:o.origin)?r:[],j=d(x,2),_=j[0],w=j[1];if(O&&b&&v.isWebMercator&&t.isGeographic&&null!=_&&null!=w){var k=.001,S=1e3;if(Math.abs(e.xmin-_)<k&&Math.abs(w-e.xmax)>S&&Math.abs(180-O.xmax)<h){O.xmin=-180;var I=[];I.push(new s.a(e.xmax,e.ymin,v)),I.push(new s.a(e.xmax,(e.ymin+e.ymax)/2,v)),I.push(new s.a(e.xmax,e.ymax,v));var T=I.map(function(e){return g(e,t,p)}).filter(function(e){return!isNaN(null==e?void 0:e.x)}).map(function(e){return e.x});O.xmax=Math.max.apply(null,T)}if(Math.abs(e.xmax-w)<k&&Math.abs(_-e.xmin)>S&&Math.abs(180+O.xmin)<h){O.xmax=180;var R=[];R.push(new s.a(e.xmin,e.ymin,v)),R.push(new s.a(e.xmin,(e.ymin+e.ymax)/2,v)),R.push(new s.a(e.xmin,e.ymax,v));var E=R.map(function(e){return g(e,t,p)}).filter(function(e){return!isNaN(null==e?void 0:e.x)}).map(function(e){return e.x});O.xmin=Math.min.apply(null,E)}}var M=t.isWebMercator?Object(i.d)(t).origin:null!=(u=null==(c=Object(i.d)(t))?void 0:c.valid)?u:[],A=d(M,2);_=A[0],w=A[1];var C=m(t);return C&&null!=_&&null!=w&&(Math.abs(O.xmin-_)<C&&(O.xmin=_),Math.abs(O.xmax-w)<C&&(O.xmax=w)),O}function x(e,t,r){var a,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,h=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[32,32];if(f(e.spatialReference,t.spatialReference)&&!Object(l.g)())throw new n.a("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(e&&t&&r))return null;for(var b,v=e.xmin,y=e.ymin,m=e.xmax,O=e.ymax,x=e.spatialReference,j=t.spatialReference,_=null!=(a=null==(o=Object(i.d)(x))?void 0:o.valid)?a:[],w=d(_,2),k=w[0],S=w[1],I={x:p[0]*r.x,y:p[1]*r.y},T={cols:Math.ceil((m-v)/I.x-.1)+1,rows:Math.ceil((O-y)/I.y-.1)+1},R=I.x,E=I.y,M=[],A=!1,C=0;C<T.cols;C++){for(var F=[],L=0;L<T.rows;L++){var P=g(new s.a({x:v+R*C,y:O-E*L,spatialReference:x}),j,u);c&&(P=c.inverseTransform(P)),F.push(P),C>0&&h&&P&&b[L]&&null!=k&&P.x<b[L].x&&(P.x+=S-k),P?(M.push((P.x-t.xmin)/(t.xmax-t.xmin)),M.push((t.ymax-P.y)/(t.ymax-t.ymin))):(M.push(NaN),M.push(NaN),A=!0)}b=F}for(var B=function(e,t){var r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs((e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4-e[2*t.rows+2]),Math.abs(r-e[2*t.rows+3])]}(M,T),D=new Float32Array((T.cols-1)*(T.rows-1)*2*6),G=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),N=new Float32Array([-1,1,0,0,-1,1,1,0,0]),z=0;z<T.cols-1;z++){for(var U=0;U<T.rows-1;U++){for(var H=z*T.rows*2+2*U,q=M[H],X=M[H+1],V=M[H+2],Y=M[H+3],W=M[H+=2*T.rows],Z=M[H+1],J=M[H+2],K=M[H+3],Q=0,$=12*(U*(T.cols-1)+z),ee=0;ee<3;ee++)D[$++]=G[Q++]*q+G[Q++]*V+G[Q++]*J;Q=0;for(var te=0;te<3;te++)D[$++]=G[Q++]*X+G[Q++]*Y+G[Q++]*K;Q=0;for(var re=0;re<3;re++)D[$++]=N[Q++]*q+N[Q++]*W+N[Q++]*J;Q=0;for(var ne=0;ne<3;ne++)D[$++]=N[Q++]*X+N[Q++]*Z+N[Q++]*K}if(A)for(var ie=0;ie<D.length;ie++)isNaN(D[ie])&&(D[ie]=-1)}return{offsets:M,error:B,coefficients:D,spacing:p,size:[T.cols-1,T.rows-1]}}function j(e,t,r){var n=Math.log(e.x/t.pixelSize.x)/Math.LN2,i=Math.log(e.y/t.pixelSize.y)/Math.LN2,a=t.storageInfo.maximumPyramidLevel||0,o="down"===r?Math.floor(Math.min(n,i)):"up"===r?Math.ceil(Math.max(n,i)):Math.round((n+i)/2),u=!1;o<0?o=0:o>a&&(u=o>a+3,o=a);var c=Math.pow(2,o);return{pyramidLevel:o,pyramidResolution:new s.a({x:c*t.nativePixelSize.x,y:c*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:u}}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e.extent,a=e.spatialReference,o=e.pixelSize,u=y(new s.a({x:o.x,y:o.y,spatialReference:a}),t,i);if(null==u)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};var l=(u.x+u.y)/2,h=Object(c.f)(t),f=l*h*96*39.37,d=t.isGeographic?512/r*295828763.7958547:512/r*591657527.591555,p=!1,b=O(i,t);n&&(t.isGeographic||t.isWebMercator)&&(p=b.xmin*b.xmax<0);var v,m=f,g=1.001;if(p){m=d;var x=.29858214164761665,j=x*(96*h*39.37);(v=y(new s.a({x:x,y:x,spatialReference:{wkid:3857}}),a,b)).x*=m/j,v.y*=m/j}else{v={x:o.x,y:o.y};for(var _=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),w=0;m<d*(g/2)&&w<_;)w++,m*=2,v.x*=2,v.y*=2;Math.max(m,d)/Math.min(m,d)<=g&&(m=d)}for(var k=[m],S=[{x:v.x,y:v.y}],I=Math.min(70.5310735,f)/g;m>=I;)m/=2,v.x/=2,v.y/=2,k.push(m),S.push({x:v.x,y:v.y});return{projectedPixelSize:u,scales:k,srcResolutions:S,isCustomTilingScheme:!p}}},ukaK:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("04ZG"),o=function(e){s(r,e);var t=c(r);function r(){return y(this,r),t.apply(this,arguments)}return g(r,[{key:"initialize",value:function(){}},{key:"destroy",value:function(){}},{key:"supportsTileUpdates",get:function(){return!1}},{key:"spatialReference",get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null}}]),r}((r("4EHJ"),r("ju1D"),r("9AIY"),r("kJYu")).a);Object(n.a)([Object(i.b)({readOnly:!0})],o.prototype,"supportsTileUpdates",null),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"remoteClient",void 0),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"service",void 0),Object(n.a)([Object(i.b)()],o.prototype,"spatialReference",null),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"tileInfo",void 0),Object(n.a)([Object(i.b)({constructOnly:!0})],o.prototype,"tileStore",void 0),o=Object(n.a)([Object(a.a)("esri.views.2d.layers.features.processors.BaseProcessor")],o),t.a=o},vbiG:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),a=r("04ZG"),u=(r("4EHJ"),r("ju1D"),r("9AIY"),r("9MzC")),l=r("/CmD"),h=r("f4Nx"),f=r("OvF4"),b=r("kYAx"),v=r("3/ME"),m=r("rlSK"),O=r("AY31"),x=Math.PI/180,j=r("xzrc"),_=Object(b.g)(),w=[0,0],k=new m.a(0,0,0,0),S=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this,e))._imagePromise=null,n.hidpi=!1,n.imageMaxWidth=2048,n.imageMaxHeight=2048,n.imageRotationSupported=!1,n.imageNormalizationSupported=!1,n.update=Object(u.i)(function(){var e=o(regeneratorRuntime.mark(function e(t,r){var i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.state,a=Object(h.d)(i.spatialReference),s=n.hidpi?t.pixelRatio:1,t.stationary&&!n.destroyed){e.next=3;break}return e.abrupt("return",null);case 3:return n.imageRotationSupported?(w[0]=i.size[0],w[1]=i.size[1]):function(e,t){var r=t.rotation*x,n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),a=d(t.size,2),o=a[0],s=a[1];e[0]=Math.round(s*i+o*n),e[1]=Math.round(s*n+o*i)}(w,i),u=Math.floor(w[0]*s)>n.imageMaxWidth||Math.floor(w[1]*s)>n.imageMaxHeight,c=!n.imageNormalizationSupported&&a&&(i.extent.xmin<a.valid[0]||i.extent.xmax>a.valid[1]),l=n.imageRotationSupported?i.rotation:0,u||c?(f=Math.min(n.imageMaxWidth,n.imageMaxHeight),c&&(f=Math.min(i.worldScreenWidth,f)),n._imagePromise=n._tiledExport(i,f,l,s,r)):n._imagePromise=n._singleExport(i,w,l,s,r),e.abrupt("return",n._imagePromise.then(function(){var e=o(regeneratorRuntime.mark(function e(t){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n._imagePromise=null,!n.destroyed){r=p(n.container.children);try{for(a=function(){var e=i.value;t.includes(e)||e.fadeOut().then(function(){e.remove()})},r.s();!(i=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}o=p(t);try{for(o.s();!(s=o.n()).done;)u=s.value,n.container.addChild(u),u.fadeIn()}catch(c){o.e(c)}finally{o.f()}}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){throw n._imagePromise=null,e}));case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),5e3),n}return g(r,[{key:"destroy",value:function(){}},{key:"updating",get:function(){return null!==this._imagePromise}},{key:"updateExports",value:function(e){var t,r=p(this.container.children);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!n.visible||!n.stage)return;e(n)?console.error("ExportStrategy.updateExports doesn't support promise yet"):(n.invalidateTexture(),n.requestRender())}}catch(i){r.e(i)}finally{r.f()}}},{key:"_export",value:function(e,t,r,n,i,a){var o=this;return Promise.resolve().then(function(){return o.fetchSource(e,Math.floor(t*i),Math.floor(r*i),{rotation:n,pixelRatio:i,signal:a})}).then(function(r){var a=new j.a(r,"additive");return a.x=e.xmin,a.y=e.ymax,a.resolution=e.width/t,a.rotation=n,a.pixelRatio=i,a})}},{key:"_singleExport",value:function(e,t,r,n,i){!function(e,t,r,n){var i=d(t,2),a=i[0],o=i[1],s=d(n,2),u=s[0],c=s[1],l=.5*r;e[0]=a-l*u,e[1]=o-l*c,e[2]=a+l*u,e[3]=o+l*c}(_,e.center,e.resolution,t);var a=new f.a(_[0],_[1],_[2],_[3],e.spatialReference);return this._export(a,t[0],t[1],r,n,i).then(function(e){return[e]})}},{key:"_tiledExport",value:function(e,t,r,n,i){var a=this,o=v.a.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),s=new O.a(o),u=s.getTileCoverage(e);if(!u)return null;var c=[];return u.forEach(function(o,u,l,h){k.set(o,u,l,h),s.getTileBounds(_,k);var d=new f.a(_[0],_[1],_[2],_[3],e.spatialReference);c.push(a._export(d,t,t,r,n,i))}),Promise.all(c)}}]),r}(l.a);Object(n.a)([Object(i.b)()],S.prototype,"_imagePromise",void 0),Object(n.a)([Object(i.b)()],S.prototype,"container",void 0),Object(n.a)([Object(i.b)()],S.prototype,"fetchSource",void 0),Object(n.a)([Object(i.b)()],S.prototype,"hidpi",void 0),Object(n.a)([Object(i.b)()],S.prototype,"imageMaxWidth",void 0),Object(n.a)([Object(i.b)()],S.prototype,"imageMaxHeight",void 0),Object(n.a)([Object(i.b)()],S.prototype,"imageRotationSupported",void 0),Object(n.a)([Object(i.b)()],S.prototype,"imageNormalizationSupported",void 0),Object(n.a)([Object(i.b)()],S.prototype,"requestUpdate",void 0),Object(n.a)([Object(i.b)()],S.prototype,"updating",null),S=Object(n.a)([Object(a.a)("esri.views.2d.layers.support.ExportStrategy")],S),t.a=S},xzrc:function(e,t,r){"use strict";r.d(t,"a",function(){return v}),r("wSAH");var n=r("HJJS"),a=r("jHF5"),o=r("c46T"),u=(r("n4uK"),r("GVa1"),r("of9L")),l=(r("0meK"),r("fEsP")),p=r("iUxC");function b(e,t,r){var n={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return t&&r&&(n.width=t,n.height=r),new u.a(e,n)}var v=function(e){s(r,e);var t=c(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return y(this,r),(e=t.call(this)).requestRenderOnSourceChangedEnabled=o,e._textureInvalidated=!0,e.stencilRef=0,e.coordScale=[1,1],e._height=void 0,e.pixelRatio=1,e.resolution=0,e.rotation=0,e._source=null,e._width=void 0,e.x=0,e.y=0,e.transforms={dvs:Object(a.b)()},e.blendFunction=i,e.source=n,e.requestRender=e.requestRender.bind(h(e)),e}return g(r,[{key:"destroy",value:function(){this._texture&&(this._texture.dispose(),this._texture=null)}},{key:"isSourceScaled",get:function(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}},{key:"height",get:function(){return void 0!==this._height?this._height:this.sourceHeight},set:function(e){this._height=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e,this.invalidateTexture()}},{key:"sourceHeight",get:function(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}},{key:"sourceWidth",get:function(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}},{key:"width",get:function(){return void 0!==this._width?this._width:this.sourceWidth},set:function(e){this._width=e}},{key:"beforeRender",value:function(e){i(f(r.prototype),"beforeRender",this).call(this,e),this.updateTexture(e)}},{key:"invalidateTexture",value:function(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}},{key:"setTransform",value:function(e){var t=Object(n.e)(this.transforms.dvs),r=d(e.toScreenNoRotation([0,0],this.x,this.y),2),i=r[0],a=r[1],s=this.resolution/this.pixelRatio/e.resolution,u=s*this.width,c=s*this.height,l=Math.PI*this.rotation/180;Object(n.a)(t,t,Object(o.b)(i,a)),Object(n.a)(t,t,Object(o.b)(u/2,c/2)),Object(n.i)(t,t,-l),Object(n.a)(t,t,Object(o.b)(-u/2,-c/2)),Object(n.f)(t,t,Object(o.b)(u,c)),Object(n.g)(this.transforms.dvs,e.displayViewMat3,t)}},{key:"setSamplingProfile",value:function(e){this._texture&&(e.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(e.samplingMode))}},{key:"bind",value:function(e,t){var r=e.context;this._texture&&r.bindTexture(this._texture,t)}},{key:"updateTexture",value:function(e){var t,r=e.context;if(!this.stage)return null==(t=this._texture)||t.dispose(),void(this._texture=null);if(this._textureInvalidated){this._textureInvalidated=!1,this._texture||(this._texture=this.source?b(r,this.sourceWidth,this.sourceHeight):b(r));var n=this.source;if(n){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(e){return e&&"render"in e}(n))if(n instanceof p.a){var i=n.getRenderedRasterPixels();this._texture.setData(i.renderedRasterPixels)}else this._texture.setData(function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,e.render(t.getContext("2d")),t}(n));else(function(e){return e&&!("render"in e)})(n)&&this._texture.setData(n);this.ready()}else this._texture.setData(null)}}},{key:"onAttach",value:function(){this.invalidateTexture()}},{key:"onDetach",value:function(){this.invalidateTexture()}}]),r}(l.a)},zna6:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r("srIe"),i=r("tQ+6"),a=r("ikTR"),o=r("RjdO"),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,r=arguments.length>1?arguments[1]:void 0;y(this,e),this.compareMinX=d,this.compareMinY=b,this.toBBox=function(e){return e},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&("function"==typeof r?this.toBBox=r:this._initFormat(r)),this.clear()}return g(e,[{key:"destroy",value:function(){this.clear(),k.prune(),S.prune(),I.prune(),T.prune()}},{key:"all",value:function(e){this._all(this.data,e)}},{key:"search",value:function(e,t){var r=this.data,n=this.toBBox;if(_(e,r))for(k.clear();r;){for(var i=0,a=r.children.length;i<a;i++){var o=r.children[i],s=r.leaf?n(o):o;_(e,s)&&(r.leaf?t(o):j(e,s)?this._all(o,t):k.push(o))}r=k.pop()}}},{key:"collides",value:function(e){var t=this.data,r=this.toBBox;if(!_(e,t))return!1;for(k.clear();t;){for(var n=0,i=t.children.length;n<i;n++){var a=t.children[n],o=t.leaf?r(a):a;if(_(e,o)){if(t.leaf||j(e,o))return!0;k.push(a)}}t=k.pop()}return!1}},{key:"load",value:function(e){if(!e.length)return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++)this.insert(e[t]);return this}var n=this._build(e.slice(0,e.length),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new E([]),this}},{key:"remove",value:function(e){if(!e)return this;var t,r=this.data,a=null,o=0,s=!1,u=this.toBBox(e);for(I.clear(),T.clear();r||I.length>0;){var c;if(r||(r=Object(n.d)(I.pop()),a=I.data[I.length-1],o=null!=(c=T.pop())?c:0,s=!0),r.leaf&&-1!==(t=Object(i.e)(r.children,e,r.children.length,r.indexHint)))return r.children.splice(t,1),I.push(r),this._condense(I),this;s||r.leaf||!j(r,u)?a?(o++,r=a.children[o],s=!1):r=null:(I.push(r),T.push(o),o=0,a=r,r=r.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(e){return this.data=e,this}},{key:"_all",value:function(e,t){var r=e;for(S.clear();r;){var n;if(!0===r.leaf){var i,a=p(r.children);try{for(a.s();!(i=a.n()).done;){t(i.value)}}catch(o){a.e(o)}finally{a.f()}}else S.pushArray(r.children);r=null!=(n=S.pop())?n:null}}},{key:"_build",value:function(e,t,r,n){var i=r-t+1,a=this._maxEntries;if(i<=a){var o=new E(e.slice(t,r+1));return l(o,this.toBBox),o}n||(n=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,n-1)));var s=new M([]);s.height=n;var u=Math.ceil(i/a),c=u*Math.ceil(Math.sqrt(a));w(e,t,r,c,this.compareMinX);for(var h=t;h<=r;h+=c){var f=Math.min(h+c-1,r);w(e,h,f,u,this.compareMinY);for(var d=h;d<=f;d+=u){var p=Math.min(d+u-1,f);s.children.push(this._build(e,d,p,n-1))}}return l(s,this.toBBox),s}},{key:"_chooseSubtree",value:function(e,t,r,n){for(;n.push(t),!0!==t.leaf&&n.length-1!==r;){for(var i=void 0,a=1/0,o=1/0,s=0,u=t.children.length;s<u;s++){var c=t.children[s],l=v(c),h=O(e,c)-l;h<o?(o=h,a=l<a?l:a,i=c):h===o&&l<a&&(a=l,i=c)}t=i||t.children[0]}return t}},{key:"_insert",value:function(e,t,r){var n=r?e:(0,this.toBBox)(e);I.clear();var i=this._chooseSubtree(n,this.data,t,I);for(i.children.push(e),f(i,n);t>=0&&I.data[t].children.length>this._maxEntries;)this._split(I,t),t--;this._adjustParentBBoxes(n,I,t)}},{key:"_split",value:function(e,t){var r=e.data[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n);if(a){var o=r.children.splice(a,r.children.length-a),s=r.leaf?new E(o):new M(o);s.height=r.height,l(r,this.toBBox),l(s,this.toBBox),t?e.data[t-1].children.push(s):this._splitRoot(r,s)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(e,t){this.data=new M([e,t]),this.data.height=e.height+1,l(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,r){var n,i,a;n=i=1/0;for(var o=t;o<=r-t;o++){var s=h(e,0,o,this.toBBox),u=h(e,o,r,this.toBBox),c=x(s,u),l=v(s)+v(u);c<n?(n=c,a=o,i=l<i?l:i):c===n&&l<i&&(i=l,a=o)}return a}},{key:"_chooseSplitAxis",value:function(e,t,r){var n=e.leaf?this.compareMinX:d,i=e.leaf?this.compareMinY:b;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)}},{key:"_allDistMargin",value:function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,a=h(e,0,t,i),o=h(e,r-t,r,i),s=m(a)+m(o),u=t;u<r-t;u++){var c=e.children[u];f(a,e.leaf?i(c):c),s+=m(a)}for(var l=r-t-1;l>=t;l--){var d=e.children[l];f(o,e.leaf?i(d):d),s+=m(o)}return s}},{key:"_adjustParentBBoxes",value:function(e,t,r){for(var n=r;n>=0;n--)f(t.data[n],e)}},{key:"_condense",value:function(e){for(var t=e.length-1;t>=0;t--){var r=e.data[t];if(0===r.children.length)if(t>0){var n=e.data[t-1],a=n.children;a.splice(Object(i.e)(a,r,a.length,n.indexHint),1)}else this.clear();else l(r,this.toBBox)}}},{key:"_initFormat",value:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}]),e}();function l(e,t){h(e,0,e.children.length,t,e)}function h(e,t,r,n,i){i||(i=new E([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<r;o++)a=e.children[o],f(i,e.leaf?n(a):a);return i}function f(e,t){e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY)}function d(e,t){return e.minX-t.minX}function b(e,t){return e.minY-t.minY}function v(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function m(e){return e.maxX-e.minX+(e.maxY-e.minY)}function O(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function x(e,t){var r=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,a-n)}function j(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function w(e,t,r,i,a){for(var s=[t,r];s.length;){var u=Object(n.d)(s.pop()),c=Object(n.d)(s.pop());if(!(u-c<=i)){var l=c+Math.ceil((u-c)/i/2)*i;Object(o.a)(e,l,c,u,a),s.push(c,l,l,u)}}}var k=new a.a,S=new a.a,I=new a.a,T=new a.a({deallocator:void 0}),R=function(e){s(r,e);var t=c(r);function r(){var e;return y(this,r),(e=t.apply(this,arguments)).height=1,e.indexHint=new i.a,e}return r}(function(){return function e(){y(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}()),E=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this)).children=e,n.leaf=!0,n}return r}(R),M=function(e){s(r,e);var t=c(r);function r(e){var n;return y(this,r),(n=t.call(this)).children=e,n.leaf=!1,n}return r}(R)}}])}();