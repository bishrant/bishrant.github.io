(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/graphics/dehydratedFeatureComparison":"/Vvo","esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":"7ahC","arcgis-js-api/core/requireUtils":"ADZV","esri/core/requireUtils":"ADZV","esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":"AWmc","esri/renderers/support/pointCloud/StopInfo":"FPyo","esri/renderers/support/pointCloud/ColorUniqueValueInfo":"Izrp","arcgis-js-api/renderers/PointCloudClassBreaksRenderer":"O0KB","esri/renderers/PointCloudClassBreaksRenderer":"O0KB","esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":"R+Pf","arcgis-js-api/geometry/support/aaBoundingBox":"WRgd","esri/geometry/support/aaBoundingBox":"WRgd","arcgis-js-api/renderers/PointCloudRenderer":"YT9w","esri/renderers/PointCloudRenderer":"YT9w","arcgis-js-api/layers/graphics/dehydratedFeatures":"ZcgO","esri/layers/graphics/dehydratedFeatures":"ZcgO","esri/renderers/support/pointCloud/ColorModulation":"fsLf","esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":"lbhO","arcgis-js-api/renderers/PointCloudUniqueValueRenderer":"mkxQ","esri/renderers/PointCloudUniqueValueRenderer":"mkxQ","esri/renderers/support/pointCloud/PointSizeAlgorithm":"mu/x","esri/views/3d/layers/i3s/PointCloudRendererUtil":"qSbo","arcgis-js-api/renderers/PointCloudStretchRenderer":"qasq","esri/renderers/PointCloudStretchRenderer":"qasq","esri/renderers/support/LegendOptions":"sHoj","arcgis-js-api/renderers/support/LegendOptions":"sHoj","esri/renderers/support/pointCloud/ColorClassBreakInfo":"sYb8","arcgis-js-api/geometry/support/quantizationUtils":"u90+","esri/geometry/support/quantizationUtils":"u90+","esri/views/3d/layers/PointCloudWorker":"wCvz"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"/Vvo":function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("pcDC"),r("LxLY")],void 0===(o=(function(e,t,r,n){function o(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r];if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==o[i])return!1}return!0}function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}function a(e,t){return e===t||e&&t&&e.equals(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.equals=function(e,t){return e===t||null!=e&&null!=t&&e.objectId===t.objectId&&!!function(e,t){if(e===t)return!0;if(n.isNone(e)||n.isNone(t))return!1;if(e.type!==t.type)return!1;switch(e.type){case"point":return function(e,t){return!!a(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}(e,t);case"extent":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!a(e.spatialReference,t.spatialReference)&&e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax}(e,t);case"polyline":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!a(e.spatialReference,t.spatialReference)&&i(e.paths,t.paths)}(e,t);case"polygon":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!a(e.spatialReference,t.spatialReference)&&i(e.rings,t.rings)}(e,t);case"multipoint":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!a(e.spatialReference,t.spatialReference)&&o(e.points,t.points)}(e,t);case"mesh":return!1;default:return void r.neverReached(e)}}(e.geometry,t.geometry)&&!!function(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0,i=r;o<i.length;o++){var a=i[o];if(e[a]!==t[a])return!1}return!0}(e.attributes,t.attributes)}}).apply(null,n))||(e.exports=o)},"7ahC":function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("mu/x"),r("R+Pf"),r("lbhO")],void 0===(o=(function(e,t,r,n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.pointSizeAlgorithmTypes={key:"type",base:r.default,typeMap:{"fixed-size":n.default,splat:o.default}}}).apply(null,n))||(e.exports=o)},ADZV:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("7bfM"),r("qsST"),r("qMld")],void 0===(o=(function(e,t,r,n,o){Object.defineProperty(t,"__esModule",{value:!0});var i=n.getLogger("esri.core.requireUtils");t.when=function e(t,n){return r.deprecatedFunction(i,"when",{moduleName:"requireUtils",replacement:"Use `promiseUtils.create()` instead.",version:"4.10",warnOnce:!0}),Array.isArray(n)?o.create((function(e){t(n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e(t)}))})):e(t,[n]).then((function(e){return e[0]}))},t.getAbsMid=function(e,t,r){return t.toAbsMid?t.toAbsMid(e):r.id.replace(/\/[^\/]*$/gi,"/")+e}}).apply(null,n))||(e.exports=o)},AWmc:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("V2ZO"),r("R+Pf"),r("lbhO")],void 0===(o=(function(e,t,r,n,o){function i(e){return e&&a[e.type]||null}Object.defineProperty(t,"__esModule",{value:!0});var a={pointCloudFixedSizeAlgorithm:n.default,pointCloudSplatAlgorithm:o.default};t.read=function(e,t,n){var o=i(e);if(o){var a=new o;return a.read(e,n),a}return n&&n.messages&&e&&n.messages.push(new r("pointsizealgorithm:unsupported","Point size algorithms of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:n})),null},t.fromJSON=function(e){var t=i(e);return t?t.fromJSON(e):null}}).apply(null,n))||(e.exports=o)},FPyo:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(o=(function(e,t,r,n,o,i,a,l,u){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.value=0,t.color=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({label:this.label,value:this.value,color:a.clone(this.color)})},n([l.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([l.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"value",void 0),n([l.property({type:o,json:{type:[u.Integer],write:!0}})],t.prototype,"color",void 0),i=n([l.subclass("esri.renderers.support.pointCloud.StopInfo")],t)}(l.declared(i.JSONSupport));t.StopInfo=s,t.default=s}).apply(null,n))||(e.exports=o)},Izrp:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(o=(function(e,t,r,n,o,i,a,l,u){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.values=null,t.color=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({description:this.description,label:this.label,values:a.clone(this.values),color:a.clone(this.color)})},n([l.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),n([l.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([l.property({type:[String],json:{write:!0}})],t.prototype,"values",void 0),n([l.property({type:o,json:{type:[u.Integer],write:!0}})],t.prototype,"color",void 0),i=n([l.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],t)}(l.declared(i.JSONSupport));t.ColorUniqueValueInfo=s,t.default=s}).apply(null,n))||(e.exports=o)},O0KB:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("sYb8")],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-class-breaks",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.colorClassBreakInfos=null,r}var p;return n(t,e),p=t,t.prototype.clone=function(){return new p(r({},this.cloneProperties(),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:i.clone(this.colorClassBreakInfos),legendOptions:i.clone(this.legendOptions)}))},o([a.enumeration.serializable()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],t.prototype,"type",void 0),o([a.property({json:{write:!0},type:String})],t.prototype,"field",void 0),o([a.property({type:u.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),o([a.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),o([a.property({type:[s.default],json:{write:!0}})],t.prototype,"colorClassBreakInfos",void 0),p=o([a.subclass("esri.renderers.PointCloudClassBreaksRenderer")],t)}(a.declared(l))}).apply(null,n))||(e.exports=o)},"R+Pf":function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Vx27"),r("mu/x")],void 0===(o=(function(e,t,r,n,o,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="fixed-size",t.size=0,t.useRealWorldSymbolSizes=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})},n([o.enumeration.serializable()({pointCloudFixedSizeAlgorithm:"fixed-size"})],t.prototype,"type",void 0),n([o.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"size",void 0),n([o.property({type:Boolean,json:{write:!0}})],t.prototype,"useRealWorldSymbolSizes",void 0),i=n([o.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],t)}(o.declared(i.default));t.PointSizeFixedSizeAlgorithm=a,t.default=a}).apply(null,n))||(e.exports=o)},WRgd:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("N7S/"),r("lRq4")],void 0===(o=(function(e,t,r,n){function o(e){return void 0===e&&(e=t.ZERO),[e[0],e[1],e[2],e[3],e[4],e[5]]}function i(e,t,r,n,i,a,l){return void 0===l&&(l=o()),l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l}function a(e){return e[0]>=e[3]?0:e[3]-e[0]}function l(e){return e[1]>=e[4]?0:e[4]-e[1]}function u(e){return e[2]>=e[5]?0:e[5]-e[2]}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function p(e){return 6===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.fromValues=i,t.fromExtent=function(e,t){return void 0===t&&(t=o()),t[0]=e.xmin,t[1]=e.ymin,t[2]=e.zmin,t[3]=e.xmax,t[4]=e.ymax,t[5]=e.zmax,t},t.toExtent=function(e,t){var n=isFinite(e[2])||isFinite(e[5]);return new r(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})},t.fromMinMax=function(e,t,r){return void 0===r&&(r=o()),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r},t.expandPointInPlace=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[3]&&(e[3]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[4]&&(e[4]=t[1]),t[2]<e[2]&&(e[2]=t[2]),t[2]>e[5]&&(e[5]=t[2])},t.expand=function(e,t,r){return void 0===r&&(r=e),p(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r[3]=Math.max(e[3],t[3]),r[4]=Math.max(e[4],t[4]),r[5]=Math.max(e[5],t[5])):n.is(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[3]=Math.max(e[3],t[2]),r[4]=Math.max(e[4],t[3])):2===t.length?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[3]=Math.max(e[3],t[0]),r[4]=Math.max(e[4],t[1])):3===t.length&&(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r[3]=Math.max(e[3],t[0]),r[4]=Math.max(e[4],t[1]),r[5]=Math.max(e[5],t[2])),r},t.expandWithBuffer=function(e,t,r,n,o){void 0===o&&(o=e);for(var i=e[0],a=e[1],l=e[2],u=e[3],s=e[4],p=e[5],c=0;c<n;c++)i=Math.min(i,t[r+3*c]),a=Math.min(a,t[r+3*c+1]),l=Math.min(l,t[r+3*c+2]),u=Math.max(u,t[r+3*c]),s=Math.max(s,t[r+3*c+1]),p=Math.max(p,t[r+3*c+2]);return o[0]=i,o[1]=a,o[2]=l,o[3]=u,o[4]=s,o[5]=p,o},t.expandWithOffset=function(e,t,r,n,o){return void 0===o&&(o=e),o[0]=Math.min(e[0],e[0]+t),o[3]=Math.max(e[3],e[3]+t),o[1]=Math.min(e[1],e[1]+r),o[4]=Math.max(e[4],e[4]+r),o[2]=Math.min(e[2],e[2]+n),o[5]=Math.max(e[5],e[5]+n),o},t.expandWithNestedArray=function(e,t,r,n){void 0===n&&(n=e);var o=t.length,i=e[0],a=e[1],l=e[2],u=e[3],s=e[4],p=e[5];if(r)for(var c=0;c<o;c++){var f=t[c];i=Math.min(i,f[0]),a=Math.min(a,f[1]),l=Math.min(l,f[2]),u=Math.max(u,f[0]),s=Math.max(s,f[1]),p=Math.max(p,f[2])}else for(c=0;c<o;c++)f=t[c],i=Math.min(i,f[0]),a=Math.min(a,f[1]),u=Math.max(u,f[0]),s=Math.max(s,f[1]);return n[0]=i,n[1]=a,n[2]=l,n[3]=u,n[4]=s,n[5]=p,n},t.allFinite=function(e){for(var t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0},t.width=a,t.depth=l,t.height=u,t.diameter=function(e){var t=a(e),r=u(e),n=l(e);return Math.sqrt(t*t+r*r+n*n)},t.center=function(e,t){return void 0===t&&(t=[0,0,0]),t[0]=e[0]+a(e)/2,t[1]=e[1]+l(e)/2,t[2]=e[2]+u(e)/2,t},t.size=function(e,t){return void 0===t&&(t=[0,0,0]),t[0]=a(e),t[1]=l(e),t[2]=u(e),t},t.maximumDimension=function(e){return Math.max(a(e),u(e),l(e))},t.containsPoint=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]},t.containsPointWithMargin=function(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[2]>=e[2]-r&&t[0]<=e[3]+r&&t[1]<=e[4]+r&&t[2]<=e[5]+r},t.contains=function(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]},t.intersects=function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])},t.offset=function(e,t,r,n,o){return void 0===o&&(o=e),o[0]=e[0]+t,o[1]=e[1]+r,o[2]=e[2]+n,o[3]=e[3]+t,o[4]=e[4]+r,o[5]=e[5]+n,o},t.setMin=function(e,t,r){return void 0===r&&(r=e),r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r},t.setMax=function(e,t,r){return void 0===r&&(r=e),r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e},t.set=s,t.empty=function(e){return e?s(e,t.NEGATIVE_INFINITY):o(t.NEGATIVE_INFINITY)},t.toRect=function(e,t){return t||(t=n.create()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t},t.fromRect=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e},t.is=p,t.isPoint=function(e){return 0===a(e)&&0===l(e)&&0===u(e)},t.equals=function(e,t,r){if(null==e||null==t)return e===t;if(!p(e)||!p(t))return!1;if(r){for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.wrap=function(e,t,r,n,o,a){return i(e,t,r,n,o,a,c)},t.POSITIVE_INFINITY=[-1/0,-1/0,-1/0,1/0,1/0,1/0],t.NEGATIVE_INFINITY=[1/0,1/0,1/0,-1/0,-1/0,-1/0],t.ZERO=[0,0,0,0,0,0];var c=o()}).apply(null,n))||(e.exports=o)},YT9w:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ImIS"),r("ycL1"),r("rg9i"),r("Vx27"),r("fsLf"),r("AWmc"),r("7ahC")],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s,p){var c=o.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"}),f=function(e){function t(t){var r=e.call(this,t)||this;return r.type=void 0,r.pointSizeAlgorithm=null,r.colorModulation=null,r.pointsPerInch=10,r}return r(t,e),t.prototype.clone=function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null},t.prototype.cloneProperties=function(){return{pointSizeAlgorithm:a.clone(this.pointSizeAlgorithm),colorModulation:a.clone(this.colorModulation),pointsPerInch:a.clone(this.pointsPerInch)}},n([l.property({type:c.apiValues,readOnly:!0,nonNullable:!0,json:{type:c.jsonValues,read:!1,write:c.write}})],t.prototype,"type",void 0),n([l.property({types:p.pointSizeAlgorithmTypes,json:{read:s.read,write:!0}})],t.prototype,"pointSizeAlgorithm",void 0),n([l.property({type:u.default,json:{write:!0}})],t.prototype,"colorModulation",void 0),n([l.property({json:{write:!0},nonNullable:!0,type:Number})],t.prototype,"pointsPerInch",void 0),n([l.subclass("esri.renderers.PointCloudRenderer")],t)}(l.declared(i.JSONSupport));return function(e){e.fieldTransformTypeKebabDict=new o.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(f||(f={})),f}).apply(null,n))||(e.exports=o)},ZcgO:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("TMur"),r("jZlN"),r("pcDC"),r("H1tY"),r("rg9i"),r("LxLY"),r("rusB"),r("Z4y+"),r("WRgd"),r("lRq4"),r("Lzvl"),r("u90+"),r("KQcO"),r("/Vvo")],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s,p,c,f,d,h,y){function m(e,t,r,o){return{uid:n.generateUID(),objectId:o&&e.attributes?e.attributes[o]:null,attributes:e.attributes,geometry:v(e.geometry,t,r),visible:!0}}function v(e,t,r){if(!e)return null;switch(t){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,hasZ:null!=e.z,hasM:null!=e.m,type:"point",spatialReference:r};case"polyline":return{paths:e.paths,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"polyline",spatialReference:r};case"polygon":return{rings:e.rings,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"polygon",spatialReference:r};case"multipoint":return{points:e.points,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"multipoint",spatialReference:r}}}function g(e,t,r,n){return{x:e,y:t,z:r,hasZ:null!=r,hasM:!1,spatialReference:n,type:"point"}}function b(e){return"declaredClass"in e}function x(e){return"declaredClass"in e}function M(e){return"declaredClass"in e}function S(e){return l.isNone(e)?null:b(e)?e:f.fromJSON(function(e){var t=e.spatialReference.toJSON();switch(e.type){case"point":return{x:e.x,y:e.y,z:e.z,m:e.m,spatialReference:t};case"polygon":var r=e.hasZ,n=e.hasM;return{rings:A(e.rings),hasZ:r,hasM:n,spatialReference:t};case"polyline":return r=e.hasZ,n=e.hasM,{paths:A(e.paths),hasZ:r,hasM:n,spatialReference:t};case"extent":return{xmin:e.xmin,xmax:e.xmax,ymin:e.ymin,ymax:e.ymax,zmin:e.zmin,zmax:e.zmax,mmin:e.mmin,mmax:e.mmax,hasZ:r=e.hasZ,hasM:n=e.hasM,spatialReference:t};case"multipoint":var i=e.points;return r=e.hasZ,n=e.hasM,{points:w(i)?T(i):i,hasZ:r,hasM:n,spatialReference:t};default:return void o.neverReached(e)}}(e))}function I(e){if(!e)return 0;var t=32;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];switch(typeof n){case"string":t+=P(n);break;default:case"number":t+=16}}return t}function z(e){if(l.isNone(e))return 0;var t=32;switch(e.type){case"point":t+=42;break;case"polyline":case"polygon":for(var r=0,n=2+(e.hasZ?1:0)+(e.hasM?1:0),i="polyline"===e.type?e.paths:e.rings,a=0,s=i;a<s.length;a++)r+=s[a].length;t+=8*r*n+64,t+=128*r,t+=34,t+=32*(i.length+1);break;case"multipoint":var p=e.points.length;t+=8*p*(2+(e.hasZ?1:0)+(e.hasM?1:0))+64,t+=128*p,t+=34,t+=32;break;case"extent":t+=98,e.hasM&&(t+=32),e.hasZ&&(t+=32);break;case"mesh":t+=u.estimateSize(e.vertexAttributes.position),t+=u.estimateSize(e.vertexAttributes.normal),t+=u.estimateSize(e.vertexAttributes.uv),t+=u.estimateSize(e.vertexAttributes.tangent);break;default:o.neverReached(e)}return t}function A(e){return function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(0!==n.length)return w(n)}return!1}(e)?e.map((function(e){return T(e)})):e}function T(e){return e.map((function(e){return u.toArray(e)}))}function w(e){return e.length&&(u.isFloat32Array(e[0])||u.isFloat64Array(e[0]))}function j(e,t){switch(p.empty(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[3]=e.x,t[1]=t[4]=e.y,e.hasZ&&(t[2]=t[5]=e.z);break;case"polyline":for(var r=0;r<e.paths.length;r++)p.expandWithNestedArray(t,e.paths[r],e.hasZ);break;case"polygon":for(r=0;r<e.rings.length;r++)p.expandWithNestedArray(t,e.rings[r],e.hasZ);break;case"multipoint":p.expandWithNestedArray(t,e.points,e.hasZ);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[3]=e.xmax,t[4]=e.ymax,null!=e.zmin&&(t[2]=e.zmin),null!=e.zmax&&(t[5]=e.zmax);break;default:o.neverReached(e)}}function N(e,t){switch(c.empty(t),"mesh"===e.type&&(e=e.extent),e.type){case"point":t[0]=t[2]=e.x,t[1]=t[3]=e.y;break;case"polyline":for(var r=0;r<e.paths.length;r++)c.expandWithNestedArray(t,e.paths[r]);break;case"polygon":for(r=0;r<e.rings.length;r++)c.expandWithNestedArray(t,e.rings[r]);break;case"multipoint":c.expandWithNestedArray(t,e.points);break;case"extent":t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax;break;default:o.neverReached(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.equals=y.equals,t.DehydratedFeatureClass=function(e,t,r){this.uid=e,this.geometry=t,this.attributes=r,this.visible=!0,this.objectId=null,this.centroid=null},t.hasGeometry=function(e){return l.isSome(e.geometry)},t.isFeatureGeometry=function(e){return r.isFeatureGeometryType(e.type)},t.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null},t.isPoint=function(e){return"point"===e.type},t.fromFeatureSetJSON=function(e){var t=r.featureGeometryTypeKebabDictionary.fromJSON(e.geometryType),n=s.fromJSON(e.spatialReference),i=e.transform,a=e.features.map((function(r){var a=m(r,t,n,e.objectIdFieldName),l=a.geometry;if(l&&i)switch(l.type){case"point":a.geometry=d.hydratePoint(i,l,l,l.hasZ,l.hasM);break;case"multipoint":a.geometry=d.hydrateMultipoint(i,l,l,l.hasZ,l.hasM);break;case"polygon":a.geometry=d.hydratePolygon(i,l,l,l.hasZ,l.hasM);break;case"polyline":a.geometry=d.hydratePolyline(i,l,l,l.hasZ,l.hasM);break;default:o.neverReached(l)}return a}));return{geometryType:t,features:a,spatialReference:n,fields:e.fields?e.fields.map((function(e){return h.fromJSON(e)})):null,objectIdFieldName:e.objectIdFieldName,globalIdFieldName:e.globalIdFieldName,geohashFieldName:e.geohashFieldName,geometryProperties:e.geometryProperties,hasZ:e.hasZ,hasM:e.hasM,exceededTransferLimit:e.exceededTransferLimit,transform:null}},t.fromJSONGeometry=v,t.makeDehydratedPoint=g,t.isHydratedGeometry=b,t.isHydratedPoint=x,t.isHydratedGraphic=M,t.hydrateGraphic=function(e,t){if(!e||M(e))return e;var r=new n({layer:t,sourceLayer:t});return r.visible=e.visible,r.symbol=a.clone(e.symbol),r.attributes=a.clone(e.attributes),r.geometry=S(e.geometry),r},t.hydrateGeometry=S,t.clonePoint=function(e,t){if(!e)return null;var r;if(x(e)){if(null==t)return e.clone();if(x(t))return t.copy(e)}return null!=t?((r=t).x=e.x,r.y=e.y,r.spatialReference=e.spatialReference,e.hasZ?(r.z=e.z,r.hasZ=e.hasZ):(r.z=null,r.hasZ=!1),e.hasM?(r.m=e.m,r.hasM=!0):(r.m=null,r.hasM=!1)):(r=g(e.x,e.y,e.z,e.spatialReference),e.hasM&&(r.m=e.m,r.hasM=!0)),r};var P=i("esri-text-decoder")?function(e){return 32+e.length}:function(e){return 32*e.length};t.estimateAttributesObjectSize=I,t.estimateGeometryObjectSize=z,t.estimateSize=function(e){var t=32;return t+=I(e.attributes),(t+=3)+(8+z(e.geometry))},t.numVertices=function(e){if(l.isNone(e))return 0;switch(e.type){case"point":return 1;case"polyline":for(var t=0,r=0,n=e.paths;r<n.length;r++)t+=n[r].length;return t;case"polygon":t=0;for(var i=0,a=e.rings;i<a.length;i++)t+=a[i].length;return t;case"multipoint":return e.points.length;case"extent":return 2;case"mesh":var u=e.vertexAttributes&&e.vertexAttributes.position;return u?u.length/3:0;default:return void o.neverReached(e)}},t.hasVertices=function(e){if(!e)return!1;switch(e.type){case"extent":case"point":return!0;case"polyline":for(var t=0,r=e.paths;t<r.length;t++)if(r[t].length>0)return!0;return!1;case"polygon":for(var n=0,i=e.rings;n<i.length;n++)if(i[n].length>0)return!0;return!1;case"multipoint":return e.points.length>0;case"mesh":return e.vertexAttributes&&e.vertexAttributes.position&&e.vertexAttributes.position.length>0;default:return void o.neverReached(e)}},t.computeAABB=j,t.expandAABB=function(e,t){j(e,O),p.expand(t,O)},t.computeAABR=N,t.expandAABR=function(e,t){N(e,C),c.expand(t,C)},t.getObjectId=function(e,t){return null!=e.objectId?e.objectId:e.attributes&&t?e.attributes[t]:null};var O=p.create(),C=c.create()}).apply(null,n))||(e.exports=o)},fsLf:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27")],void 0===(o=(function(e,t,r,n,o,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.field=null,t.minValue=0,t.maxValue=255,t}var o;return r(t,e),o=t,t.prototype.clone=function(){return new o({field:this.field,minValue:this.minValue,maxValue:this.maxValue})},n([i.property({type:String,json:{write:!0}})],t.prototype,"field",void 0),n([i.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minValue",void 0),n([i.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxValue",void 0),o=n([i.subclass("esri.renderers.support.pointCloud.ColorModulation")],t)}(i.declared(o.JSONSupport));t.ColorModulation=a,t.default=a}).apply(null,n))||(e.exports=o)},lbhO:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Vx27"),r("mu/x")],void 0===(o=(function(e,t,r,n,o,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="splat",t.scaleFactor=1,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({scaleFactor:this.scaleFactor})},n([o.enumeration.serializable()({pointCloudSplatAlgorithm:"splat"})],t.prototype,"type",void 0),n([o.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],t.prototype,"scaleFactor",void 0),i=n([o.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],t)}(o.declared(i.default));t.PointSizeSplatAlgorithm=a,t.default=a}).apply(null,n))||(e.exports=o)},mkxQ:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("Izrp")],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-unique-value",r.field=null,r.fieldTransformType=null,r.colorUniqueValueInfos=null,r.legendOptions=null,r}var p;return n(t,e),p=t,t.prototype.clone=function(){return new p(r({},this.cloneProperties(),{field:i.clone(this.field),fieldTransformType:i.clone(this.fieldTransformType),colorUniqueValueInfos:i.clone(this.colorUniqueValueInfos),legendOptions:i.clone(this.legendOptions)}))},o([a.enumeration.serializable()({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],t.prototype,"type",void 0),o([a.property({json:{write:!0},type:String})],t.prototype,"field",void 0),o([a.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),o([a.property({type:[s.default],json:{write:!0}})],t.prototype,"colorUniqueValueInfos",void 0),o([a.property({type:u.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),p=o([a.subclass("esri.renderers.PointCloudUniqueValueRenderer")],t)}(a.declared(l))}).apply(null,n))||(e.exports=o)},"mu/x":function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ImIS"),r("ycL1"),r("Vx27")],void 0===(o=(function(e,t,r,n,o,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.typeKebabDictionary=new o.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});var l=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return r(o,e),n([a.property({type:t.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:t.typeKebabDictionary.jsonValues,read:!1,write:t.typeKebabDictionary.write}})],o.prototype,"type",void 0),n([a.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],o)}(a.declared(i.JSONSupport));t.PointSizeAlgorithm=l,t.default=l}).apply(null,n))||(e.exports=o)},qSbo:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("LxLY"),r("O0KB"),r("qasq"),r("mkxQ"),r("W2ph"),r("1RVI")],void 0===(o=(function(e,t,r,n,o,i,a,l){function u(e){for(var t=0,r=0,n=e||[];r<n.length;r++)t|=1<<n[r];return t}function s(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o.name===t&&null!=o.attributeValues&&"UInt8"===o.attributeValues.valueType&&3===o.attributeValues.valuesPerElement)return{name:t,storageInfo:o,useElevation:!1}}return null}function p(e,t){for(var r=0,n=e;r<n.length;r++){var o=n[r];if(o.name===t){var i="embedded-elevation"===o.encoding;return{name:t,storageInfo:i?null:o,useElevation:i}}}return"elevation"===t.toLowerCase()?{name:t,storageInfo:null,useElevation:!0}:null}function c(e,t){for(var r=new Float64Array(t),n=0;n<t;n++)r[n]=e[3*n+2];return r}function f(e){return null==e||"none"===e?null:"low-four-bit"===e?function(e){return 15&e}:"high-four-bit"===e?function(e){return(240&e)>>4}:"absolute-value"===e?function(e){return Math.abs(e)}:"modulo-ten"===e?function(e){return e%10}:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getRendererInfo=function(e){var t=e.renderer,r=t&&t.type,n=t&&e.renderer.toJSON()||null,o=null,i=!1;"point-cloud-unique-value"===r?o=p(e.attributeStorageInfo,t.field):"point-cloud-stretch"===r?o=p(e.attributeStorageInfo,t.field):"point-cloud-class-breaks"===r?o=p(e.attributeStorageInfo,t.field):i="point-cloud-rgb"===r?null!=(o=s(e.attributeStorageInfo,t.field)):null!=(o=s(e.attributeStorageInfo,"RGB"));var a=null;return t&&t.colorModulation&&(a=p(e.attributeStorageInfo,t.colorModulation.field)),{rendererJSON:n,isRGBRenderer:i,primaryAttribute:o,modulationAttribute:a}},t.getFilterInfo=function(e){var t=e.filters;return t?t.map((function(t){return{filterJSON:t.toJSON(),attributeInfo:p(e.attributeStorageInfo,t.field)}})):[]},t.evaluateRenderer=function(e,t,r,a){var l=e.rendererJSON,u=null,s=null;if(t&&e.isRGBRenderer)u=t;else if(t&&"pointCloudUniqueValueRenderer"===l.type){var p=(s=i.fromJSON(l)).colorUniqueValueInfos;u=new Uint8Array(3*a);for(var c=f(s.fieldTransformType),d=0;d<a;d++)for(var h=(v=c?c(t[d]):t[d])+"",y=0;y<p.length;y++)if(p[y].values.indexOf(h)>=0){u[3*d]=p[y].color.r,u[3*d+1]=p[y].color.g,u[3*d+2]=p[y].color.b;break}}else if(t&&"pointCloudStretchRenderer"===l.type){var m=(s=o.fromJSON(l)).stops;for(u=new Uint8Array(3*a),c=f(s.fieldTransformType),d=0;d<a;d++){var v=c?c(t[d]):t[d],g=m.length-1;if(v<m[0].value)u[3*d]=m[0].color.r,u[3*d+1]=m[0].color.g,u[3*d+2]=m[0].color.b;else if(v>=m[g].value)u[3*d]=m[g].color.r,u[3*d+1]=m[g].color.g,u[3*d+2]=m[g].color.b;else for(y=1;y<m.length;y++)if(v<m[y].value){var b=(v-m[y-1].value)/(m[y].value-m[y-1].value);u[3*d]=m[y].color.r*b+m[y-1].color.r*(1-b),u[3*d+1]=m[y].color.g*b+m[y-1].color.g*(1-b),u[3*d+2]=m[y].color.b*b+m[y-1].color.b*(1-b);break}}}else if(t&&"pointCloudClassBreaksRenderer"===l.type){var x=(s=n.fromJSON(l)).colorClassBreakInfos;for(u=new Uint8Array(3*a),c=f(s.fieldTransformType),d=0;d<a;d++)for(v=c?c(t[d]):t[d],y=0;y<x.length;y++)if(v>=x[y].minValue&&v<=x[y].maxValue){u[3*d]=x[y].color.r,u[3*d+1]=x[y].color.g,u[3*d+2]=x[y].color.b;break}}else for(u=new Uint8Array(3*a),d=0;d<u.length;d++)u[d]=255;if(r&&s&&s.colorModulation){var M=s.colorModulation.minValue,S=s.colorModulation.maxValue;for(d=0;d<a;d++){var I=(v=r[d])>=S?1:v<=M?.3:.3+.7*(v-M)/(S-M);u[3*d]=I*u[3*d],u[3*d+1]=I*u[3*d+1],u[3*d+2]=I*u[3*d+2]}}return u},t.filterInPlace=function(e,t,r,n,o){for(var i=e.length/3,a=0,l=0;l<i;l++){for(var s=!0,p=0;p<n.length&&s;p++){var c=n[p].filterJSON,f=o[p].values[l];switch(c.type){case"pointCloudValueFilter":var d="exclude"===c.mode;-1!==c.values.indexOf(f)===d&&(s=!1);break;case"pointCloudBitfieldFilter":var h=u(c.requiredSetBits),y=u(c.requiredClearBits);(f&h)===h&&0==(f&y)||(s=!1);break;case"pointCloudReturnFilter":for(var m=15&f,v=f>>>4&15,g=v>1,b=1===m,x=m===v,M=!1,S=0,I=c.includedReturns;S<I.length;S++){var z=I[S];if("last"===z&&x||"firstOfMany"===z&&b&&g||"lastOfMany"===z&&x&&g||"single"===z&&!g){M=!0;break}}M||(s=!1)}}s&&(r[a]=l,e[3*a]=e[3*l],e[3*a+1]=e[3*l+1],e[3*a+2]=e[3*l+2],t[3*a]=t[3*l],t[3*a+1]=t[3*l+1],t[3*a+2]=t[3*l+2],a++)}return a},t.getSplatSizeAlgorithm=function(e){var t=e&&e.pointSizeAlgorithm;return t&&"splat"===t.type?t:null},t.getFixedSizeAlgorithm=function(e){var t=e&&e.pointSizeAlgorithm;return t&&"fixed-size"===t.type?t:null},t.rendererUsesFixedSizes=function(e){var t=e&&e.pointSizeAlgorithm;return!(!t||!t.type)&&"fixed-size"===t.type},t.getAttributeInfo=p,t.elevationFromPositions=c,t.getAttributeValues=function(e,t,n){return r.isSome(e)&&e.attributeInfo.useElevation?c(t,n):r.isSome(e)?a.readBinaryAttribute(e.attributeInfo.storageInfo,e.buffer,n):null},t.readGeometry=function(e,t){if(null==e.encoding||""===e.encoding){for(var r=a.createGeometryIndexFromSchema(t,e),n=a.createTypedView(t,r.vertexAttributes.position),o=r.header.fields,i=[o.offsetX,o.offsetY,o.offsetZ],u=[o.scaleX,o.scaleY,o.scaleZ],s=n.length/3,p=new Float64Array(3*s),c=0;c<s;c++)p[3*c]=n[3*c]*u[0]+i[0],p[3*c+1]=n[3*c+1]*u[1]+i[1],p[3*c+2]=n[3*c+2]*u[2]+i[2];return p}if("lepcc-xyz"===e.encoding)return l.decodeXYZ(t).result}}).apply(null,n))||(e.exports=o)},qasq:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("FPyo")],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-stretch",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.stops=null,r}var p;return n(t,e),p=t,t.prototype.clone=function(){return new p(r({},this.cloneProperties(),{field:i.clone(this.field),fieldTransformType:i.clone(this.fieldTransformType),stops:i.clone(this.stops),legendOptions:i.clone(this.legendOptions)}))},o([a.enumeration.serializable()({pointCloudStretchRenderer:"point-cloud-stretch"})],t.prototype,"type",void 0),o([a.property({json:{write:!0},type:String})],t.prototype,"field",void 0),o([a.property({type:u.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),o([a.property({type:l.fieldTransformTypeKebabDict.apiValues,json:{type:l.fieldTransformTypeKebabDict.jsonValues,read:l.fieldTransformTypeKebabDict.read,write:l.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),o([a.property({type:[s.default],json:{write:!0}})],t.prototype,"stops",void 0),p=o([a.subclass("esri.renderers.PointCloudStretchRenderer")],t)}(a.declared(l))}).apply(null,n))||(e.exports=o)},sHoj:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27")],void 0===(o=(function(e,t,r,n,o,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t}var o;return r(t,e),o=t,t.prototype.clone=function(){return new o({title:this.title})},n([i.property({type:String,json:{write:!0}})],t.prototype,"title",void 0),o=n([i.subclass("esri.renderers.support.LegendOptions")],t)}(i.declared(o.JSONSupport));t.LegendOptions=a,t.default=a}).apply(null,n))||(e.exports=o)},sYb8:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(o=(function(e,t,r,n,o,i,a,l,u){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.minValue=0,t.maxValue=0,t.color=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:a.clone(this.color)})},n([l.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),n([l.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([l.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],t.prototype,"minValue",void 0),n([l.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],t.prototype,"maxValue",void 0),n([l.property({type:o,json:{type:[u.Integer],write:!0}})],t.prototype,"color",void 0),i=n([l.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],t)}(l.declared(i.JSONSupport));t.ColorClassBreakInfo=s,t.default=s}).apply(null,n))||(e.exports=o)},"u90+":function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("Lzvl")],void 0===(o=(function(e,t,r){function n(e){return e&&"upperLeft"===e.originPosition}function o(e,t){return Math.round((t-e.translate[0])/e.scale[0])}function i(e,t){return Math.round((e.translate[1]-t)/e.scale[1])}function a(e,t,r){for(var n,a,l,u,s=[],p=0;p<r.length;p++){var c=r[p];p>0?(l=o(e,c[0]),u=i(e,c[1]),l===n&&u===a||(s.push(t(c,l-n,u-a)),n=l,a=u)):(n=o(e,c[0]),a=i(e,c[1]),s.push(t(c,n,a)))}return s.length>0?s:null}function l(e,t,r,n){return a(e,r?n?T:A:n?A:z,t)}function u(e,t,r,n){for(var o=[],i=r?n?T:A:n?A:z,l=0;l<t.length;l++){var u=a(e,i,t[l]);u&&u.length>=3&&o.push(u)}return o.length?o:null}function s(e,t,r,n){for(var o=[],i=r?n?T:A:n?A:z,l=0;l<t.length;l++){var u=a(e,i,t[l]);u&&u.length>=2&&o.push(u)}return o.length?o:null}function p(e,t){return t*e.scale[0]+e.translate[0]}function c(e,t){return e.translate[1]-t*e.scale[1]}function f(e,t,r){var n=new Array(r.length);if(!r.length)return n;var o=e.scale,i=o[0],a=o[1],l=p(e,r[0][0]),u=c(e,r[0][1]);n[0]=t(r[0],l,u);for(var s=1;s<r.length;s++){var f=r[s];n[s]=t(f,l+=f[0]*i,u-=f[1]*a)}return n}function d(e,t,r){for(var n=new Array(r.length),o=0;o<r.length;o++)n[o]=f(e,t,r[o]);return n}function h(e,t,r,n){return f(e,r?n?T:A:n?A:z,t)}function y(e,t,r,n){return d(e,r?n?T:A:n?A:z,t)}function m(e,t,r,n){return d(e,r?n?T:A:n?A:z,t)}function v(e,t,r){for(var n=r[0],o=n[0],i=n[1],a=Math.min(o,t[0]),l=Math.min(i,t[1]),u=Math.max(o,t[2]),s=Math.max(i,t[3]),p=1;p<r.length;p++){var c=r[p],f=c[0],d=c[1];o+=f,i+=d,f<0&&(a=Math.min(a,o)),f>0&&(u=Math.max(u,o)),d<0?l=Math.min(l,i):d>0&&(s=Math.max(s,i))}return e[0]=a,e[1]=l,e[2]=u,e[3]=s,e}function g(e,t){if(!t.length)return null;e[0]=e[1]=Number.POSITIVE_INFINITY,e[2]=e[3]=Number.NEGATIVE_INFINITY;for(var r=0;r<t.length;r++)v(e,e,t[r]);return e}function b(e,t,r,n,a){return t.xmin=o(e,r.xmin),t.ymin=i(e,r.ymin),t.xmax=o(e,r.xmax),t.ymax=i(e,r.ymax),t!==r&&(n&&(t.zmin=r.zmin,t.zmax=r.zmax),a&&(t.mmin=r.mmin,t.mmax=r.mmax)),t}function x(e,t,r,n,o){return t.points=l(e,r.points,n,o),t}function M(e,t,r,n,a){return t.x=o(e,r.x),t.y=i(e,r.y),t!==r&&(n&&(t.z=r.z),a&&(t.m=r.m)),t}function S(e,t,r,n,o){var i=u(e,r.rings,n,o);return i?(t.rings=i,t):null}function I(e,t,r,n,o){var i=s(e,r.paths,n,o);return i?(t.paths=i,t):null}Object.defineProperty(t,"__esModule",{value:!0});var z=function(e,t,r){return[t,r]},A=function(e,t,r){return[t,r,e[2]]},T=function(e,t,r){return[t,r,e[2],e[3]]};t.toQuantizationTransform=function(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:[e.tolerance,e.tolerance],translate:[e.extent.xmin,e.extent.ymax]}:null},t.equals=function(e,t){return e===t||null==e&&null==t||null!=e&&null!=t&&(n(e)?(r=e.translate[0],o=e.translate[1],i=e.scale[0]):(r=e.extent.xmin,o=e.extent.ymax,i=e.tolerance),n(t)?(a=t.translate[0],l=t.translate[1],u=t.scale[0]):(a=t.extent.xmin,l=t.extent.ymax,u=t.tolerance),r===a&&o===l&&i===u);var r,o,i,a,l,u},t.quantizeX=o,t.quantizeY=i,t.quantizeBounds=function(e,t,r){return t[0]=o(e,r[0]),t[3]=i(e,r[1]),t[2]=o(e,r[2]),t[1]=i(e,r[3]),t},t.quantizePoints=l,t.quantizeRings=u,t.quantizePaths=s,t.hydrateX=p,t.hydrateY=c,t.hydrateCoordsArray=f,t.hydrateCoordsArrayArray=d,t.hydrateBounds=function(e,t,r){return r?(t[0]=p(e,r[0]),t[1]=c(e,r[3]),t[2]=p(e,r[2]),t[3]=c(e,r[1]),t):[p(e,t[0]),c(e,t[3]),p(e,t[2]),c(e,t[1])]},t.hydratePoints=h,t.hydratePaths=y,t.hydrateRings=m,t.getQuantizedBoundsCoordsArray=v,t.getQuantizedBoundsCoordsArrayArray=g,t.getQuantizedBoundsPoints=function(e){var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return v(t,t,e)},t.getQuantizedBoundsPaths=function(e){return g([0,0,0,0],e)},t.getQuantizedBoundsRings=function(e){return g([0,0,0,0],e)},t.quantizeExtent=b,t.quantizeMultipoint=x,t.quantizePoint=M,t.quantizePolygon=S,t.quantizePolyline=I,t.quantizeGeometry=function(e,t){return e&&t?r.isPoint(t)?M(e,{},t,!1,!1):r.isPolyline(t)?I(e,{},t,!1,!1):r.isPolygon(t)?S(e,{},t,!1,!1):r.isMultipoint(t)?x(e,{},t,!1,!1):r.isExtent(t)?b(e,{},t,!1,!1):null:null},t.hydrateExtent=function(e,t,r,n,o){return t.xmin=p(e,r.xmin),t.ymin=c(e,r.ymin),t.xmax=p(e,r.xmax),t.ymax=c(e,r.ymax),t!==r&&(n&&(t.zmin=r.zmin,t.zmax=r.zmax),o&&(t.mmin=r.mmin,t.mmax=r.mmax)),t},t.hydrateMultipoint=function(e,t,r,n,o){return t.points=h(e,r.points,n,o),t},t.hydratePoint=function(e,t,r,n,o){return t.x=p(e,r.x),t.y=c(e,r.y),t!==r&&(n&&(t.z=r.z),o&&(t.m=r.m)),t},t.hydratePolygon=function(e,t,r,n,o){return t.rings=m(e,r.rings,n,o),t},t.hydratePolyline=function(e,t,r,n,o){return t.paths=y(e,r.paths,n,o),t}}).apply(null,n))||(e.exports=o)},wCvz:function(e,t,r){var n,o;n=[r.dj.c(e.i),t,r("xhoE"),r("LxLY"),r("qMld"),r("ADZV"),r("rusB"),r("8V7H"),r("EuvN"),r("fdzS"),r("0LE5"),r("vlC2"),r("Z4y+"),r("qSbo"),r("mmEe"),r.dj.m(e)],void 0===(o=(function(e,t,r,n,o,i,a,l,u,s,p,c,f,d,h,y){Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(){}return e.prototype._process=function(e){var t=this._transform(e),r=[t.points.buffer,t.rgb.buffer];n.isSome(t.pointIdFilterMap)&&r.push(t.pointIdFilterMap.buffer);for(var i=0,l=t.attributes;i<l.length;i++){var u=l[i];"buffer"in u.values&&a.isArrayBuffer(u.values.buffer)&&u.values.buffer!==t.rgb.buffer&&r.push(u.values.buffer)}return o.resolve({result:t,transferList:r})},e.prototype._transform=function(e){var t=d.readGeometry(e.schema,e.geometryBuffer),r=t.length/3,o=null,i=[],a=d.getAttributeValues(e.primaryAttributeData,t,r);n.isSome(e.primaryAttributeData)&&a&&i.push({attributeInfo:e.primaryAttributeData.attributeInfo,values:a});var l=d.getAttributeValues(e.modulationAttributeData,t,r);n.isSome(e.modulationAttributeData)&&l&&i.push({attributeInfo:e.modulationAttributeData.attributeInfo,values:l});var u=d.evaluateRenderer(e.rendererInfo,a,l,r);if(e.filterInfo&&e.filterInfo.length>0&&n.isSome(e.filterAttributesData)){var s=e.filterAttributesData.map((function(e){var n=d.getAttributeValues(e,t,r),o={attributeInfo:e.attributeInfo,values:n};return i.push(o),o}));o=new Uint32Array(r),r=d.filterInPlace(t,u,o,e.filterInfo,s)}for(var p=0,c=e.userAttributesData;p<c.length;p++){var h=c[p],y=d.getAttributeValues(h,t,r);i.push({attributeInfo:h.attributeInfo,values:y})}3*r<u.length&&(u=new Uint8Array(u.buffer.slice(0,3*r))),this._applyElevationOffsetInPlace(t,r,e.elevationOffset);var m=this._transformCoordinates(t,r,e.obb,f.fromJSON(e.inSR),f.fromJSON(e.outSR));return{obb:e.obb,points:m,rgb:u,attributes:i,pointIdFilterMap:o}},e.prototype._transformCoordinates=function(e,t,r,n,o){if(!h.bufferToBuffer(e,n,0,e,o,0,t))throw Error("Can't reproject");var i=c.vec3f32.fromValues(r.center[0],r.center[1],r.center[2]),a=c.vec3f32.create(),l=c.vec3f32.create();u.quat.conjugate(v,r.quaternion);for(var s=new Float32Array(3*t),f=0;f<t;f++)a[0]=e[3*f]-i[0],a[1]=e[3*f+1]-i[1],a[2]=e[3*f+2]-i[2],p.vec3.transformQuat(l,a,v),r.halfSize[0]=Math.max(r.halfSize[0],Math.abs(l[0])),r.halfSize[1]=Math.max(r.halfSize[1],Math.abs(l[1])),r.halfSize[2]=Math.max(r.halfSize[2],Math.abs(l[2])),s[3*f]=a[0],s[3*f+1]=a[1],s[3*f+2]=a[2];return s},e.prototype._applyElevationOffsetInPlace=function(e,t,r){if(0!==r)for(var n=0;n<t;n++)e[3*n+2]+=r},e}(),v=s.quatf32.create(),g=function(t){function n(){var r=t.call(this)||this;return r._thread=void 0,l.open(i.getAbsMid("./PointCloudWorker",e,y)).then((function(e){void 0===r._thread?r._thread=e:e.close()})),r}return r(n,t),n.prototype.destroy=function(){this._thread&&this._thread.close(),this._thread=null},n.prototype.transform=function(e,t,r){return this._thread?this._thread.invoke("_process",e,{transferList:t,signal:r}):o.resolve(this._transform(e))},n}(m);t.PointCloudWorker=g,t.default=function(){return new m}}).apply(null,n))||(e.exports=o)}}]);