!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r,n,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[41,74],{"6BjF":function(t,r,i){"use strict";i.r(r);var a,s,f=i("pO5D"),d=(i("wSAH"),i("6S2I")),b=(i("zqDF"),i("WbKI")),v=i("04ZG"),m=(i("4EHJ"),i("ju1D"),i("9AIY"),i("9MzC")),O=i("9iar"),g=i("bHqs"),j=i("NloG"),w=i("6UvW"),k=i("Vh9r"),x=i("srIe"),I=i("zlDU"),R=i("gvqN"),P=i("IvSi"),q=i("cM4j"),E=i("U282"),M=i("rXMu"),S=i("LTnl"),U=i("Vm2Q"),_=i("vbiG"),V=i("yE7X"),A=function(e){p(r,e);var t=h(r);function r(){return u(this,r),t.apply(this,arguments)}return c(r,[{key:"renderChildren",value:function(e){if(e.drawPhase===V.c.HIGHLIGHT&&(this.attributeView.bindTextures(e.context),this.children.some(function(e){return e.hasData}))){l(y(r.prototype),"renderChildren",this).call(this,e);var t=e.painter.effects.highlight;t.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(16384),this._renderChildren(e,t.defines.concat(["highlightAll"])),t.draw(e),t.unbind()}}}]),r}(i("kvL/").a),F=A=Object(f.a)([Object(v.a)("esri.views.2d.layers.support.HighlightGraphicContainer")],A),C=d.a.getLogger("esri.views.2d.layers.MapImageLayerView2D"),D=function(e){p(i,e);var t,r=h(i);function i(){var e;return u(this,i),(e=r.apply(this,arguments))._highlightGraphics=new O.b,e}return c(i,[{key:"hitTest",value:function(){return null}},{key:"update",value:function(e){this.strategy.update(e).catch(function(e){Object(m.m)(e)||C.error(e)})}},{key:"attach",value:function(){var e=this,t=this.layer,r=t.imageMaxWidth,n=t.imageMaxHeight,i=t.version,a=i>=10.3,o=i>=10;this._bitmapContainer=new S.a,this.container.addChild(this._bitmapContainer);var u=new k.a({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:function(){return e.requestUpdate()},container:new F(this.view.featuresTilingScheme)});this.container.addChild(u.container),this.strategy=new _.a({container:this._bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxWidth:r,imageMaxHeight:n,imageRotationSupported:a,imageNormalizationSupported:o,hidpi:!0}),this.handles.add(this.watch("exportImageVersion",function(){return e.requestUpdate()}),"exportImageVersion"),this.requestUpdate()}},{key:"detach",value:function(){this.handles.remove("exportImageVersion"),this.strategy.destroy(),this.container.removeAllChildren(),this._bitmapContainer.removeAllChildren()}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){this.requestUpdate()}},{key:"highlight",value:function(e,t){var r=this;return this._highlightGraphics.add(e),{remove:function(){r._highlightGraphics.remove(e)}}}},{key:"createFetchPopupFeaturesQueryGeometry",value:function(e,t){return Object(w.a)(e,t,this.view)}},{key:"doRefresh",value:(t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.requestUpdate();case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isUpdating",value:function(){return this.strategy.updating||this.updateRequested}},{key:"fetchImage",value:function(e,t,r,i){return this.layer.fetchImage(e,t,r,n({timeExtent:this.timeExtent,timestamp:this.refreshTimestamp},i))}}]),i}((a=Object(g.a)(Object(U.a)(j.a)),s=function(t){p(a,t);var r,i=h(a);function a(){return u(this,a),i.apply(this,arguments)}return c(a,[{key:"initialize",value:function(){this.exportImageParameters=new q.a({layer:this.layer})}},{key:"destroy",value:function(){this.exportImageParameters.destroy(),this.exportImageParameters=null}},{key:"exportImageVersion",get:function(){var e;return null==(e=this.exportImageParameters)||e.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}},{key:"fetchPopupFeatures",value:(r=o(regeneratorRuntime.mark(function t(r,i){var a,u,s,c,l,p,f=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.layer,r){t.next=3;break}return t.abrupt("return",Promise.reject(new I.a("mapimagelayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:a})));case 3:return u=this.get("view.scale"),s=[],c=function(){var e=o(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.visible&&(0===t.minScale||u<=t.minScale)&&(0===t.maxScale||u>=t.maxScale)&&(t.sublayers?t.sublayers.forEach(c):t.popupEnabled&&(r=Object(M.a)(t,n(n({},i),{},{defaultPopupTemplateEnabled:!1})),Object(x.k)(r)&&s.unshift({sublayer:t,popupTemplate:r})));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=a.sublayers.toArray().reverse().map(c),t.next=6,Promise.all(l);case 6:return p=s.map(function(){var e=o(regeneratorRuntime.mark(function e(t){var n,a,o,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sublayer,a=t.popupTemplate,e.next=3,n.load().catch(function(){});case 3:return o=n.createQuery(),u=Object(x.k)(i)?i.event:null,s=Object(E.a)({renderer:n.renderer,event:u}),c=f.createFetchPopupFeaturesQueryGeometry(r,s),o.geometry=c,e.next=7,Object(M.b)(n,a);case 7:return o.outFields=e.sent,e.next=10,f._loadArcadeModules(a);case 10:return(l=e.sent)&&l.arcadeUtils.hasGeometryOperations(a)||(o.maxAllowableOffset=c.width/s),e.next=14,n.queryFeatures(o);case 14:return e.abrupt("return",e.sent.features);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),t.next=9,Object(m.j)(p);case 9:return t.abrupt("return",t.sent.reduce(function(t,r){return r.value?[].concat(e(t),e(r.value)):t},[]).filter(function(e){return null!=e}));case 10:case"end":return t.stop()}},t,this)})),function(e,t){return r.apply(this,arguments)})},{key:"canResume",value:function(){var e;return!(!l(y(a.prototype),"canResume",this).call(this)||null!=(e=this.timeExtent)&&e.isEmpty)}},{key:"_loadArcadeModules",value:function(e){if(e.get("expressionInfos.length"))return Object(R.e)()}}]),a}(a),Object(f.a)([Object(b.b)()],s.prototype,"exportImageParameters",void 0),Object(f.a)([Object(b.b)({readOnly:!0})],s.prototype,"exportImageVersion",null),Object(f.a)([Object(b.b)()],s.prototype,"layer",void 0),Object(f.a)([Object(b.b)()],s.prototype,"suspended",void 0),Object(f.a)([Object(b.b)(P.a)],s.prototype,"timeExtent",void 0),s=Object(f.a)([Object(v.a)("esri.views.layers.MapImageLayerView")],s)));Object(f.a)([Object(b.b)()],D.prototype,"strategy",void 0),Object(f.a)([Object(b.b)()],D.prototype,"updating",void 0),D=Object(f.a)([Object(v.a)("esri.views.2d.layers.MapImageLayerView2D")],D),r.default=D},"6UvW":function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return s});var n=r("srIe"),i=r("OvF4"),a=(r("4GrV"),r("gEht")),o=r("U282");function u(e,t,r){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.a;if("2d"===r.type)o=t*r.resolution;else if("3d"===r.type){var s=r.overlayPixelSizeInMapUnits(e),c=r.basemapSpatialReference;o=Object(n.k)(c)&&!c.equals(r.spatialReference)?Object(a.f)(c)/Object(a.f)(r.spatialReference):t*s}var l=e.x-o,p=e.y-o,f=e.x+o,h=e.y+o,d=r.spatialReference;return u.xmin=Math.min(l,f),u.ymin=Math.min(p,h),u.xmax=Math.max(l,f),u.ymax=Math.max(p,h),u.spatialReference=d,u}function s(e,t,r){var i=r.toMap(e);return!Object(n.j)(i)&&u(i,Object(o.a)(),r,c).intersects(t)}var c=new i.a},NloG:function(e,t,r){"use strict";var n=r("pO5D"),i=(r("wSAH"),r("6S2I")),a=(r("zqDF"),r("WbKI")),o=r("04ZG"),s=(r("4EHJ"),r("ju1D"),r("9AIY"),r("/CmD")),l=r("zm0L"),f=r("pdg3"),d=r("+rMe"),y=r("kJYu"),b=function(e){p(r,e);var t=h(r);function r(e){var n;return u(this,r),(n=t.call(this,e)).layer=null,n.parent=null,n}return c(r,[{key:"initialize",value:function(){var e=this;this.when().catch(function(t){if("layerview:create-error"!==t.name){var r=e.layer&&e.layer.id||"no id",n=e.layer&&e.layer.title||"no title";throw i.a.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '".concat(n,"', id: '").concat(r,"')"),t),t}})}},{key:"fullOpacity",get:function(){var e=function(e){return null==e?1:e};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}},{key:"visible",get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}},{key:"canResume",value:function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1}},{key:"getSuspendInfo",value:function(){var e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}},{key:"isUpdating",value:function(){return!1}}]),r}(Object(y.b)(Object(f.a)(Object(d.b)(l.a.EventedMixin(s.a)))));Object(n.a)([Object(a.b)()],b.prototype,"fullOpacity",null),Object(n.a)([Object(a.b)()],b.prototype,"layer",void 0),Object(n.a)([Object(a.b)()],b.prototype,"parent",void 0),Object(n.a)([Object(a.b)({readOnly:!0})],b.prototype,"suspended",null),Object(n.a)([Object(a.b)({readOnly:!0})],b.prototype,"suspendInfo",null),Object(n.a)([Object(a.b)({readOnly:!0})],b.prototype,"legendEnabled",null),Object(n.a)([Object(a.b)({type:Boolean,readOnly:!0})],b.prototype,"updating",null),Object(n.a)([Object(a.b)()],b.prototype,"visible",null),b=Object(n.a)([Object(o.a)("esri.views.layers.LayerView")],b),t.a=b},U282:function(e,t,r){"use strict";function n(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function i(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){for(var t=0,r=0,n=0;n<e.length;n++){var i=e[n].size;"number"==typeof i&&(t+=i,r++)}return t/r}(e.stops):t}function a(e,t){if(!t)return e;var r=t.filter(function(e){return"size"===e.type}).map(function(t){var r=t.maxSize,n=t.minSize;return(i(r,e)+i(n,e))/2}),n=0,a=r.length;if(0===a)return e;for(var o=0;o<a;o++)n+=r[o];var u=Math.floor(n/a);return Math.max(u,e)}function o(e){var t=e&&e.renderer,r="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return r;var i="visualVariables"in t?a(r,t.visualVariables):r;if("simple"===t.type)return n(i,t.symbol);if("unique-value"===t.type){var o=i;return t.uniqueValueInfos.forEach(function(e){o=n(o,e.symbol)}),o}if("class-breaks"===t.type){var u=i;return t.classBreakInfos.forEach(function(e){u=n(u,e.symbol)}),u}return i}r.d(t,"a",function(){return o})},Vm2Q:function(e,t,r){"use strict";r.d(t,"a",function(){return q});var n,i=r("pO5D"),a=(r("wSAH"),r("6S2I"),r("zqDF"),r("WbKI")),o=r("04ZG"),s=(r("4EHJ"),r("ju1D"),r("9AIY"),r("LE9a")),f=r("fX31"),d=r("N5XI"),b=r("ZuQG"),v=r("L1EH"),m=r("AMBt"),O=r("N2DF"),g=r("OvF4"),j=r("Ehki"),w=r("qatw");r("4GrV");var k={base:O.a,key:"type",typeMap:{extent:g.a,polygon:j.a}},x=n=function(e){p(r,e);var t=h(r);function r(){var e;return u(this,r),(e=t.apply(this,arguments)).type="geometry",e.geometry=null,e}return c(r,[{key:"version",get:function(){return(this._get("version")||0)+1}},{key:"clone",value:function(){return new n({geometry:this.geometry.clone()})}}]),r}(b.a);Object(i.a)([Object(a.b)({types:k,json:{read:w.a,write:!0}})],x.prototype,"geometry",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],x.prototype,"version",null);var I=x=n=Object(i.a)([Object(o.a)("esri.views.layers.support.Geometry")],x),R=function(e){p(r,e);var t=h(r);function r(){var e;return u(this,r),(e=t.apply(this,arguments)).type="path",e.path=[],e}return c(r,[{key:"version",get:function(){return(this._get("version")||0)+1}}]),r}(b.a);Object(i.a)([Object(a.b)({type:[[[Number]]],json:{write:!0}})],R.prototype,"path",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],R.prototype,"version",null),R=Object(i.a)([Object(o.a)("esri.views.layers.support.Path")],R);var P=s.a.ofType({key:"type",base:b.a,typeMap:{rect:v.a,path:R,geometry:I}}),q=function(e){var t=function(e){p(r,e);var t=h(r);function r(){var e;return u(this,r),(e=t.apply(this,arguments)).clips=new P,e.moving=!1,e.attached=!1,e.lastUpdateId=-1,e.updateRequested=!1,e}return c(r,[{key:"initialize",value:function(){var e,t=this;this.container||(this.container=new m.a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([Object(d.init)(this,"suspended",function(e){t.container&&(t.container.visible=!e),t.view&&!e&&t.updateRequested&&t.view.requestUpdate()},!0),Object(d.init)(this,["layer.opacity","container"],function(){var e,r;t.container&&(t.container.opacity=null!=(e=null==(r=t.layer)?void 0:r.opacity)?e:1)},!0),Object(d.init)(this,["layer.blendMode"],function(e){t.container&&(t.container.blendMode=e)},!0),Object(d.init)(this,["layer.effect"],function(e){t.container&&(t.container.effect=e)},!0),this.clips.on("change",function(){t.container.clips=t.clips,t.notifyChange("clips")})]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then(function(e){e!==t||t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)},function(){}):this.when().then(function(){t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)},function(){})}},{key:"destroy",value:function(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1}},{key:"updating",get:function(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}},{key:"isVisibleAtScale",value:function(e){var t=!0,r=this.layer,n=r.minScale,i=r.maxScale;if(null!=n&&null!=i){var a=!n,o=!i;!a&&e<=n&&(a=!0),!o&&e>=i&&(o=!0),t=a&&o}return t}},{key:"requestUpdate",value:function(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}},{key:"processUpdate",value:function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}},{key:"isUpdating",value:function(){return!1}},{key:"isRendering",value:function(){return!1}},{key:"canResume",value:function(){return!!l(y(r.prototype),"canResume",this).call(this)&&this.isVisibleAtScale(this.view.scale)}}]),r}(e);return Object(i.a)([Object(a.b)({type:P,set:function(e){var t=Object(f.b)(e,this._get("clips"),P);this._set("clips",t)}})],t.prototype,"clips",void 0),Object(i.a)([Object(a.b)()],t.prototype,"moving",void 0),Object(i.a)([Object(a.b)()],t.prototype,"attached",void 0),Object(i.a)([Object(a.b)()],t.prototype,"container",void 0),Object(i.a)([Object(a.b)()],t.prototype,"suspended",void 0),Object(i.a)([Object(a.b)({readOnly:!0})],t.prototype,"updateParameters",void 0),Object(i.a)([Object(a.b)()],t.prototype,"updateRequested",void 0),Object(i.a)([Object(a.b)()],t.prototype,"updating",null),Object(i.a)([Object(a.b)()],t.prototype,"view",void 0),t=Object(i.a)([Object(o.a)("esri.views.2d.layers.LayerView2D")],t)}},rXMu:function(t,r,n){"use strict";n.d(r,"a",function(){return c}),n.d(r,"b",function(){return u});var i=n("srIe"),a=n("wdpY");function u(e){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark(function t(r){var n,o,u,s,c,l,p,f,h,d=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:r.popupTemplate,Object(i.k)(n)){t.next=3;break}return t.abrupt("return",[]);case 3:return t.next=5,n.getRequiredFields(r.fields);case 5:if(o=t.sent,u=n.lastEditInfoEnabled,s=r.objectIdField,c=r.typeIdField,l=r.globalIdField,p=r.relationships,!o.includes("*")){t.next=13;break}return t.abrupt("return",["*"]);case 13:if(!u){t.next=19;break}return t.next=16,Object(a.m)(r);case 16:t.t0=t.sent,t.next=20;break;case 19:t.t0=[];case 20:return f=t.t0,h=Object(a.i)(r.fields,[].concat(e(o),e(f))),t.abrupt("return",(c&&h.push(c),h&&s&&Object(a.p)(r.fields,s)&&-1===h.indexOf(s)&&h.push(s),h&&l&&Object(a.p)(r.fields,l)&&-1===h.indexOf(l)&&h.push(l),p&&p.forEach(function(e){var t=e.keyField;h&&t&&Object(a.p)(r.fields,t)&&-1===h.indexOf(t)&&h.push(t)}),h));case 23:case"end":return t.stop()}},t)}))).apply(this,arguments)}function c(e,t){return e.popupTemplate?e.popupTemplate:Object(i.k)(t)&&t.defaultPopupTemplateEnabled&&Object(i.k)(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}}}])}();