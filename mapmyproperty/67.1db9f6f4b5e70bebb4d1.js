(function(){var e={"esri/core/libs/earcut/earcut":"1E+e","arcgis-js-api/core/libs/earcut/earcut":"1E+e","arcgis-js-api/views/2d/engine/webgl/mesh/templates/meshUtils":"OfLC","arcgis-js-api/views/2d/engine/webgl/collisions/CollisionGrid":"Tauk","arcgis-js-api/views/2d/engine/webgl/GeometryUtils":"VY6u","arcgis-js-api/views/2d/layers/features/processors/SymbolProcessor":"dh9Z","arcgis-js-api/views/2d/engine/webgl/materialKey/MaterialKey":"m87x"},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"1E+e":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";function r(e,t,r,n,i){var o;if(i===y(e,t,r,n)>0)for(var a=t;a<r;a+=n)o=s(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=s(a,e[a],e[a+1],o);return o&&x(o,o.next)&&(u(o),o=o.next),o}function n(e,t){if(void 0===t&&(t=e),!e)return e;var r,n=e;do{if(r=!1,n.steiner||!x(n,n.next)&&0!==p(n.prev,n,n.next))n=n.next;else{if(u(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function i(e,t,r,s,l,c,p){if(void 0===p&&(p=0),e){!p&&c&&(e=function e(t,r,n,i){for(var o=void 0;o!==t;o=o.next){if(null===(o=o||t).z&&(o.z=d(o.x,o.y,r,n,i)),o.prev.next!==o||o.next.prev!==o)return o.prev.next=o,o.next.prev=o,e(t,r,n,i);o.prevZ=o.prev,o.nextZ=o.next}return t.prevZ.nextZ=null,t.prevZ=null,function(e){for(var t,r=1;;){var n=e,i=void 0;e=null,t=null;for(var o=0;n;){o++,i=n;for(var a=0;a<r&&i;a++)i=i.nextZ;for(var s=r;a>0||s>0&&i;){var u=void 0;0===a?(u=i,i=i.nextZ,s--):0!==s&&i?n.z<=i.z?(u=n,n=n.nextZ,a--):(u=i,i=i.nextZ,s--):(u=n,n=n.nextZ,a--),t?t.nextZ=u:e=u,u.prevZ=t,t=u}n=i}if(t.nextZ=null,r*=2,o<2)return e}}(t)}(e,s,l,c));for(var v=e;e.prev!==e.next;){var y=e.prev,f=e.next;if(c?a(e,s,l,c):o(e))t.push(y.index/r),t.push(e.index/r),t.push(f.index/r),u(e),e=f.next,v=f.next;else if((e=f)===v){p?1===p?i(e=_(e,t,r),t,r,s,l,c,2):2===p&&V(e,t,r,s,l,c):i(n(e),t,r,s,l,c,1);break}}}}function o(e){var t=e.prev,r=e,n=e.next;if(p(t,r,n)>=0)return!1;for(var i=e.next.next,o=i,a=0;i!==e.prev&&(0===a||i!==o);){if(a++,f(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&p(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(e,t,r,n){var i=e.prev,o=e,a=e.next;if(p(i,o,a)>=0)return!1;for(var s=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,l=d(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,t,r,n),c=d(s,u,t,r,n),v=e.prevZ,y=e.nextZ;v&&v.z>=l&&y&&y.z<=c;){if(v!==e.prev&&v!==e.next&&f(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&p(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,y!==e.prev&&y!==e.next&&f(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&p(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;v&&v.z>=l;){if(v!==e.prev&&v!==e.next&&f(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&p(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;y&&y.z<=c;){if(y!==e.prev&&y!==e.next&&f(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&p(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function s(e,t,r,n){var i=new S(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function u(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function c(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;var u,l=r,c=r.x,p=r.y,v=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=c&&i!==n.x&&f(o<p?i:a,o,c,p,o<p?a:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<v||u===v&&n.x>r.x)&&h(n,e)&&(r=n,v=u),n=n.next;return r}(e,t)){var r=m(t,e);n(r,r.next)}}function p(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function v(e,t,r,n){return!!(x(e,t)&&x(r,n)||x(e,n)&&x(r,t))||p(e,t,r)>0!=p(e,t,n)>0&&p(r,n,e)>0!=p(r,n,t)>0}function y(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function f(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function h(e,t){return p(e.prev,e,e.next)<0?p(e,t,e.next)>=0&&p(e,e.prev,t)>=0:p(e,t,e.prev)<0||p(e,e.next,t)<0}function d(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function x(e,t){return e.x===t.x&&e.y===t.y}function g(e,t){return e.x-t.x}function _(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!x(i,o)&&v(i,n,n.next,o)&&h(i,o)&&h(o,i)&&(t.push(i.index/r),t.push(n.index/r),t.push(o.index/r),u(n),u(n.next),n=e=o),n=n.next}while(n!==e);return n}function V(e,t,r,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.index!==l.index&&b(u,l)){var c=m(u,l);return u=n(u,u.next),c=n(c,c.next),i(u,t,r,o,a,s),void i(c,t,r,o,a,s)}l=l.next}u=u.next}while(u!==e)}function b(e,t){return e.next.index!==t.index&&e.prev.index!==t.index&&!function(e,t){var r=e;do{if(r.index!==e.index&&r.next.index!==e.index&&r.index!==t.index&&r.next.index!==t.index&&v(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&h(e,t)&&h(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function m(e,t){var r=new S(e.index,e.x,e.y),n=new S(t.index,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}Object.defineProperty(t,"__esModule",{value:!0}),t.deviation=t.earcut=void 0,t.earcut=function(e,t,o){var a,s,u,p,v,y=t&&t.length,f=y?t[0]*o:e.length,h=r(e,0,f,o,!0),d=new Array;if(!h||h.next===h.prev)return d;if(y&&(h=function(e,t,i,o){for(var a=new Array,s=0,u=t.length;s<u;s++){var p=r(e,t[s]*o,s<u-1?t[s+1]*o:e.length,o,!1);p===p.next&&(p.steiner=!0),a.push(l(p))}a.sort(g);for(var v=0,y=a;v<y.length;v++)c(y[v],i),i=n(i,i.next);return i}(e,t,h,o)),e.length>80*o){a=u=e[0],s=p=e[1];for(var x=o;x<f;x+=o){var _=e[x],V=e[x+1];a=Math.min(a,_),s=Math.min(s,V),u=Math.max(u,_),p=Math.max(p,V)}v=0!==(v=Math.max(u-a,p-s))?1/v:0}return i(h,d,o,a,s,v),d},t.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(y(e,0,i?t[0]*r:e.length,r));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(y(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var u=0;for(a=0;a<n.length;a+=3){var l=n[a]*r,c=n[a+1]*r,p=n[a+2]*r;u+=Math.abs((e[l]-e[p])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[p+1]-e[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)};var S=function(e,t,r){this.index=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}).apply(null,n))||(e.exports=i)},OfLC:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMapAligned=void 0,t.isMapAligned=function(e){switch(e){case"above-along":case"below-along":case"center-along":return 1;default:return 0}}}).apply(null,n))||(e.exports=i)},Tauk:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("tI6k")],void 0===(i=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollisionGrid=void 0;var n=function(){function e(e,t){void 0===t&&(t=2),this._bucketSize=e,this._rowsLength=r.TILE_SIZE/e,this._colsLength=r.TILE_SIZE/e,this._elementsPerBucket=t,this._grid=this._initGrid()}return e.prototype.checkOverlap=function(e,t){var r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);return r<0||r>=this._rowsLength||n<0||n>=this._colsLength||this._grid[n*this._colsLength+r]>=this._elementsPerBucket},e.prototype.markUsed=function(e,t){var r=Math.floor(e/this._bucketSize),n=Math.floor(t/this._bucketSize);this._grid[n*this._colsLength+r]+=1},e.prototype.reset=function(){this._grid=this._initGrid()},e.prototype._initGrid=function(){return new Uint8Array(this._rowsLength*this._colsLength)},e}();t.CollisionGrid=n}).apply(null,n))||(e.exports=i)},VY6u:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.between=t.interpolate=t.sqr=t.log2=t.degToByte=t.radToByte=t.positiveMod=t.C_SQRT2_INV=t.C_SQRT2=t.C_DEG_TO_RAD=t.C_DEG_TO_256=t.C_256_TO_RAD=t.C_RAD_TO_256=t.C_PI_BY_2=t.C_2PI=t.C_PI=t.C_INFINITY=void 0,t.C_INFINITY=Number.POSITIVE_INFINITY,t.C_PI=Math.PI,t.C_2PI=2*t.C_PI,t.C_PI_BY_2=t.C_PI/2,t.C_RAD_TO_256=128/t.C_PI,t.C_256_TO_RAD=t.C_PI/128,t.C_DEG_TO_256=256/360,t.C_DEG_TO_RAD=t.C_PI/180,t.C_SQRT2=1.414213562,t.C_SQRT2_INV=1/t.C_SQRT2;var r=1/Math.LN2;function n(e,t){return(e%=t)>=0?e:e+t}t.positiveMod=n,t.radToByte=function(e){return n(e*t.C_RAD_TO_256,256)},t.degToByte=function(e){return n(e*t.C_DEG_TO_256,256)},t.log2=function(e){return Math.log(e)*r},t.sqr=function(e){return e*e},t.interpolate=function(e,t,r){return e*(1-r)+t*r},t.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}}).apply(null,n))||(e.exports=i)},dh9Z:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("H1tY"),r("qsST"),r("LxLY"),r("qMld"),r("Vx27"),r("CYRa"),r("Z4y+"),r("tI6k"),r("Tauk"),r("bLBh"),r("LCdb"),r("MGRT"),r("2Gaw"),r("rAGl"),r("68TM"),r("lvbU")],void 0===(i=(function(e,t,r,n,i,o,a,s,u,l,c,p,v,y,f,h,d,x,g,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var V=o.getLogger("esri.views.2d.layers.features.processors.SymbolProcessor"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="symbol",t}return r.__extends(t,e),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"supportsTileUpdates",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.update=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o;return r.__generator(this,(function(r){return"symbol"!==(n=t.schema.processors[0]).type?(i("esri-2d-debug")&&console.debug("Tried to update symbol processor with schema of type",n.type),[2]):(o=l.diff(this._schema,n),l.hasDiff(o,"mesh")?(i("esri-2d-update-debug")&&console.debug("Applying Update - Processor:",o),e.mesh=!0,e.why.mesh.push("Symbology changed"),this._schema=n,this._factory=this._createFactory(n),this._factory.update(n,this.tileStore.tileScheme.tileInfo),[2]):[2])}))}))},t.prototype.onTileData=function(e,t,r){return s.throwIfAborted(r),this._onTileData(e,t,r)},t.prototype.onTileError=function(e,t,r){var n=r.signal,o={tileKey:e.id,error:t};return i("esri-2d-debug")&&console.debug(t),this.remoteClient.invoke("tileRenderer.onTileError",o,{signal:n})},t.prototype._createFactory=function(e){var t=this,r=this.service,n=r.geometryType,i=r.objectIdField,o={geometryType:n,fields:r.fields,spatialReference:c.fromJSON(this.spatialReference)},a=new h.WGLTemplateStore((function(e,r){return t.remoteClient.invoke("tileRenderer.getMaterialItems",e,r)}),!1);return this._store=a,this._matcher=y.createMatcher(e.mesh.matcher,a,o),new f.WGLMeshFactory(n,i,a)},t.prototype._onTileData=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,u,l,c,p,v,y,f,h,d,x;return r.__generator(this,(function(r){switch(r.label){case 0:if(i=t.type,u=t.remove,l=t.end,!(o=t.addOrUpdate))return[2,this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:h={type:i,addOrUpdate:null,remove:u,clear:!1,end:l}},n)];c=this._processFeatures(e,o,n),p=n.signal,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c];case 2:return v=r.sent(),y=a.andThen(v,(function(e){return e.message})),f=a.andThen(v,(function(e){return e.transferList}))||[],h={type:i,addOrUpdate:y,remove:u,clear:!1,end:l},d={transferList:a.unwrap(f)||[],signal:p},s.throwIfAborted(d),[2,this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:h},d)];case 3:return x=r.sent(),this._handleError(e,x,n),[3,4];case 4:return[2]}}))}))},t.prototype._processFeatures=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,u,l,c;return r.__generator(this,(function(r){switch(r.label){case 0:return a.isNone(t)||!t.hasFeatures?[2,null]:(i={transform:e.transform,hasZ:!1,hasM:!1},o=this._factory,u={viewingMode:"",scale:e.scale},[4,this._matcher]);case 1:return l=r.sent(),s.throwIfAborted(n),c=this._getLabelInfos(e,t),[4,o.analyze(t.getCursor(),l,i,u)];case 2:return r.sent(),s.throwIfAborted(n),[2,this._writeFeatureSet(e,t,i,c,o)]}}))}))},t.prototype._writeFeatureSet=function(e,t,r,o,s){for(var u=s.createMeshData(t.getApproximateSize()),l={viewingMode:"",scale:e.scale},c=t.getCursor();c.next();)try{var p=c.getDisplayId(),v=a.isSome(o)?o.get(p):null;s.writeCursor(u,c,r,l,e.level,v)}catch(t){if(i("esri-2d-debug")){var y={tileKey:e.key.id,objectId:c.getObjectId(),error:t};V.error(new n("mapview-mesh-factory","Failed to write feature",y))}}return this._encodeDisplayData(u)},t.prototype._encodeDisplayData=function(e){var t={},r=new Array;return e.encode(t,r),{message:t,transferList:r}},t.prototype._handleError=function(e,t,r){if(!s.isAbortError(t)){var n={tileKey:e.id,error:t.message};return i("esri-2d-debug")&&console.debug(t),this.remoteClient.invoke("tileRenderer.onTileError",n,{signal:r.signal})}},t.prototype._shouldDiscard=function(e,t){switch(this.service.geometryType){case"esriGeometryPoint":var r=t.readLegacyPointGeometry();return!r||e.checkOverlap(r.x,r.y);case"esriGeometryPolygon":var n=t.readLegacyCentroid();return!n||e.checkOverlap(n.x,n.y);default:return!1}},t.prototype._markUsed=function(e,t){switch(this.service.geometryType){case"esriGeometryPoint":var r=t.readLegacyPointGeometry(),n=r.x,i=r.y;return e.markUsed(n,i);case"esriGeometryPolygon":var o=t.readLegacyCentroid();return e.markUsed(n=o.x,i=o.y)}},t.prototype._getLabelInfos=function(e,t){var r=a.andThen(this._schema.mesh.labels,(function(t){return t.filter((function(t){return function(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}(t,e.scale)}))}));if(a.isNone(r)||0===r.length)return null;for(var n=new Map,i=new v.CollisionGrid(p.COLLISION_EARLY_REJECT_BUCKET_SIZE),o=t.getCursor(),s=function(){var e=o.getDisplayId();if(u._shouldDiscard(i,o))return n.has(e)||n.set(e,null),"continue";for(var t=!1,a=[],s=_.isAggregateId(e),l=s&&1!==o.readAttribute("cluster_count")?"aggregate":"feature",c=function(r){if(r.target!==l)return"continue";var n=o.getStorage().getComputedStringAtIndex(s&&"feature"===l?o.readAttribute("referenceId"):e,r.fieldIndex);if(!n)return"continue";var i=d.bidiText(n.toString()),c=i[1];u._store.getMosaicItem(r.symbol,x.codepoints(i[0])).then((function(e){a[r.index]={glyphs:e.glyphMosaicItems,rtl:c,index:r.index}})),t=!0},p=0,v=r;p<v.length;p++)c(v[p]);n.set(e,a),t&&u._markUsed(i,o)},u=this;o.next();)s();return n},r.__decorate([u.subclass("esri.views.2d.layers.features.processors.SymbolProcessor")],t)}(g.default);t.default=b}).apply(null,n))||(e.exports=i)},m87x:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("JNkf"),r("OfLC")],void 0===(i=(function(e,t,r,n,i,o){"use strict";function a(e,t){void 0===t&&(t=!1);var r=i.WGLVVFlag.SIZE_FIELD_STOPS|i.WGLVVFlag.SIZE_MINMAX_VALUE|i.WGLVVFlag.SIZE_SCALE_STOPS|i.WGLVVFlag.SIZE_UNIT_VALUE,n=(e&(i.WGLVVTarget.FIELD_TARGETS_OUTLINE|i.WGLVVTarget.MINMAX_TARGETS_OUTLINE|i.WGLVVTarget.SCALE_TARGETS_OUTLINE|i.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return t?r&n:r&~n}function s(e){var t=a(e,!1);return e&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY|i.WGLVVFlag.ROTATION|t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LabelMaterialKey=t.TextMaterialKey=t.LineMaterialKey=t.MarkerMaterialKey=t.FillMaterialKey=t.MaterialKeyBase=t.hydrateMaterialKey=t.createMaterialKey=t.getLabelVVFlags=t.getTextVVFlags=t.getLineVVFlags=t.getFillVVFlags=t.getMarkerVVFlags=t.getSizeFlagsMask=void 0,t.getSizeFlagsMask=a,t.getMarkerVVFlags=s,t.getFillVVFlags=function(e){return e&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY)},t.getLineVVFlags=function(e,t){if(t)return e&a(e,!0);var r=a(e,!1);return e&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY|r)},t.getTextVVFlags=function(e){return s(e)},t.getLabelVVFlags=function(e){return e&a(e,!1)},t.createMaterialKey=function(e,t,r,n,o){switch(e){case i.WGLGeometryType.FILL:return y.from(t,n);case i.WGLGeometryType.LINE:return h.from(t,r);case i.WGLGeometryType.MARKER:return f.from(t);case i.WGLGeometryType.TEXT:return d.from(t);case i.WGLGeometryType.LABEL:return x.from(t,o);default:throw new Error("Unable to createMaterialKey for unknown geometryType "+e)}},t.hydrateMaterialKey=function(e){switch(u.load(e).geometryType){case i.WGLGeometryType.MARKER:return new f(e);case i.WGLGeometryType.FILL:return new y(e);case i.WGLGeometryType.LINE:return new h(e);case i.WGLGeometryType.TEXT:return new d(e);case i.WGLGeometryType.LABEL:return new x(e)}};var u=function(){function e(e){this._data=0,this._data=e}return e.load=function(e){var t=this.shared;return t.data=e,t},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geometryType",{get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapAligned",{get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sdf",{get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textureBinding",{get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"geometryTypeString",{get:function(){switch(this.geometryType){case i.WGLGeometryType.FILL:return"fill";case i.WGLGeometryType.MARKER:return"marker";case i.WGLGeometryType.LINE:return"line";case i.WGLGeometryType.TEXT:return"text";case i.WGLGeometryType.LABEL:return"label";default:throw new n("Unable to handle unknown geometryType: "+this.geometryType)}},enumerable:!1,configurable:!0}),e.prototype.setBit=function(e,t){var r=1<<e;t?this._data|=r:this._data&=~r},e.prototype.bit=function(e){return(this._data&1<<e)>>e},e.prototype.setBits=function(e,t,r){for(var n=t,i=0;n<r;n++,i++)this.setBit(n,0!=(e&1<<i))},e.prototype.bits=function(e,t){for(var r=0,n=e,i=0;n<t;n++,i++)r|=this.bit(n)<<i;return r},e.prototype.hasVV=function(){return!1},e.prototype.setVV=function(e,t){},e.prototype.getVariation=function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}},e.prototype.getVariationHash=function(){return this._data&~(7&this.textureBinding)},e.shared=new e(0),e}();t.MaterialKeyBase=u;var l=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"vvSizeMinMaxValue",{get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeScaleStops",{get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeFieldStops",{get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vvSizeUnitValue",{get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)},enumerable:!1,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r);var n=a(t,r)&t;this.vvSizeMinMaxValue=!!(n&i.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(n&i.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(n&i.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(n&i.WGLVVFlag.SIZE_SCALE_STOPS)},t}(e)},c=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"vvRotation",{get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)},enumerable:!1,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvRotation},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvRotation=!r&&!!(t&i.WGLVVFlag.ROTATION)},t}(e)},p=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"vvColor",{get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)},enumerable:!1,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvColor},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvColor=!r&&!!(t&i.WGLVVFlag.COLOR)},t}(e)},v=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"vvOpacity",{get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)},enumerable:!1,configurable:!0}),t.prototype.hasVV=function(){return e.prototype.hasVV.call(this)||this.vvOpacity},t.prototype.setVV=function(t,r){e.prototype.setVV.call(this,t,r),this.vvOpacity=!r&&!!(t&i.WGLVVFlag.OPACITY)},t}(e)},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e,t){var r=this.load(0);return r.geometryType=i.WGLGeometryType.FILL,t?r.dotDensity=!0:r.setVV(e,!1),r.data},t.prototype.getVariation=function(){return r.__assign(r.__assign({},e.prototype.getVariation.call(this)),{dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity})},Object.defineProperty(t.prototype,"dotDensity",{get:function(){return!!this.bit(15)},set:function(e){this.setBit(15,e)},enumerable:!1,configurable:!0}),t.shared=new t(0),t}(p(v(u)));t.FillMaterialKey=y;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e){var t=this.load(0);return t.geometryType=i.WGLGeometryType.MARKER,t.setVV(e,!1),t.data},t.prototype.getVariation=function(){return r.__assign(r.__assign({},e.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},t.shared=new t(0),t}(p(v(c(l(u)))));t.MarkerMaterialKey=f;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e,t){var r=this.load(0);return r.geometryType=i.WGLGeometryType.LINE,r.setVV(e,t),r.data},t.prototype.getVariation=function(){return r.__assign(r.__assign({},e.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},t.shared=new t(0),t}(p(v(l(u))));t.LineMaterialKey=h;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e){var t=this.load(e);return t.geometryType=i.WGLGeometryType.TEXT,t.setVV(e,!1),t.data},t.prototype.getVariation=function(){return r.__assign(r.__assign({},e.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},t.shared=new t(0),t}(p(v(c(l(u)))));t.TextMaterialKey=d;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.load=function(e){var t=this.shared;return t.data=e,t},t.from=function(e,t){var r=this.load(0);return r.geometryType=i.WGLGeometryType.LABEL,r.setVV(e,!1),r.mapAligned=!!o.isMapAligned(t),r.data},t.prototype.getVariation=function(){return r.__assign(r.__assign({},e.prototype.getVariation.call(this)),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},t.shared=new t(0),t}(l(u));t.LabelMaterialKey=x}).apply(null,n))||(e.exports=i)}}]);