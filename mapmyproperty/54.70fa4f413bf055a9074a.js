(function(){var e={"esri/tasks/support/IdentifyResult":"A0Z0","esri/tasks/support/IdentifyParameters":"ULj+","esri/layers/support/layerUtils":"Uq3m","esri/tasks/IdentifyTask":"Z1iv","esri/rest/identify":"iP6Z","esri/tasks/operations/identify":"zjrk"},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{A0Z0:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("TMur"),i("jZlN"),i("ycL1"),i("LxLY"),i("Vx27")],void 0===(n=(function(e,t,i,r,n,o,a,s){"use strict";return function(e){function t(t){var i=e.call(this,t)||this;return i.displayFieldName=null,i.feature=null,i.layerId=null,i.layerName=null,i}return i.__extends(t,e),t.prototype.readFeature=function(e,t){return n.fromJSON({attributes:i.__assign({},t.attributes),geometry:i.__assign({},t.geometry)})},t.prototype.writeFeature=function(e,t){if(e){var n=e.attributes,o=e.geometry;n&&(t.attributes=i.__assign({},n)),a.isSome(o)&&(t.geometry=o.toJSON(),t.geometryType=r.typeKebabDictionary.toJSON(o.type))}},i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),i.__decorate([s.property({type:n})],t.prototype,"feature",void 0),i.__decorate([s.reader("feature",["attributes","geometry"])],t.prototype,"readFeature",null),i.__decorate([s.writer("feature")],t.prototype,"writeFeature",null),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"layerId",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"layerName",void 0),i.__decorate([s.subclass("esri.tasks.support.IdentifyResult")],t)}(o.JSONSupport)}).apply(null,r))||(e.exports=n)},EXxd:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("fXoL"),i("aZ8m"),i("Nvl2")],void 0===(n=(function(e,t,i,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPHomeComponent=void 0,r=i.__importStar(r),n=i.__importStar(n),o=i.__importStar(o);var a=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-mmphome"]],decls:3,vars:4,consts:[[1,"parentContainer"],[3,"headerColor","title"],[1,"esriMap"]],template:function(e,t){1&e&&(r.\u0275\u0275elementStart(0,"main",0),r.\u0275\u0275element(1,"app-header",1),r.\u0275\u0275element(2,"app-esrimap",2),r.\u0275\u0275elementEnd()),2&e&&(r.\u0275\u0275classMap("mmp-theme"),r.\u0275\u0275advance(1),r.\u0275\u0275property("headerColor","rgb(176 186 137)")("title","Map My Property"))},directives:[n.HeaderComponent,o.EsrimapComponent],styles:[""]}),e}();t.MMPHomeComponent=a}).apply(null,r))||(e.exports=n)},NpA2:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("tyNb"),i("ofXK"),i("IwBl"),i("EXxd"),i("tj0F"),i("fXoL"),i("tyNb")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPHomepageModule=void 0,l=i.__importStar(l),p=i.__importStar(p);var d=[{path:"",component:a.MMPHomeComponent}],c=function(){function e(){}return e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule,s.EsriMapModule,r.RouterModule.forChild(d),o.HeaderModule],r.RouterModule]}),e}();t.MMPHomepageModule=c}).apply(null,r))||(e.exports=n)},Nvl2:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("HEKD"),i("krU8"),i("1Zcn"),i("VcYX"),i("RYqx"),i("iy1n"),i("PhHr"),i("mQzU"),i("0w9u"),i("2+LD"),i("nP63"),i("Y2gT"),i("fXoL"),i("l7P3"),i("2uI/"),i("frIU"),i("ofXK"),i("j/Vj"),i("iy1n"),i("T6IO"),i("ysC3"),i("bUUP"),i("DWcW"),i("IIzr"),i("8WOb"),i("/rtH"),i("m1Uf"),i("7HKM"),i("W5Qm"),i("aCCJ"),i("GxbR"),i("X8NZ")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p,d,c,u,m,y,h,f,g,v,b,_,w,S,M,x,C,L,V,P,O,E,k,T,j,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsrimapComponent=void 0,o=i.__importDefault(o),s=i.__importDefault(s),h=i.__importStar(h),f=i.__importStar(f),g=i.__importStar(g),v=i.__importStar(v),b=i.__importStar(b),_=i.__importStar(_),w=i.__importStar(w),S=i.__importStar(S),M=i.__importStar(M),x=i.__importStar(x),C=i.__importStar(C),L=i.__importStar(L),V=i.__importStar(V),P=i.__importStar(P),O=i.__importStar(O),E=i.__importStar(E),k=i.__importStar(k),T=i.__importStar(T),j=i.__importStar(j),I=i.__importStar(I);var G=["mapViewNode"],N=["searchBar"],D=["graphicsStore"],R=["sessionModal"];function B(e,t){1&e&&(h.\u0275\u0275namespaceSVG(),h.\u0275\u0275elementStart(0,"svg",39),h.\u0275\u0275element(1,"path",40),h.\u0275\u0275elementEnd())}function z(e,t){1&e&&(h.\u0275\u0275namespaceSVG(),h.\u0275\u0275elementStart(0,"svg",41),h.\u0275\u0275element(1,"path",40),h.\u0275\u0275elementEnd())}var F=function(){function e(e,t,l,p){var d=this;this.store=e,this.esrimapService=t,this.mapViewService=l,this.renderer=p,this.clickToAddText=!1,this.sketchVM=new o.default,this.sidebarVisible=window.innerWidth>640,this.geomLabelsSketchVM=new o.default,this.geomLabelsGraphicsLayer=new s.default({id:"geomlabels"}),this.polygonGraphicsLayer=r.CreatePolygonGraphicsLayer(),this.textGraphicsLayer=r.CreateTextGraphicsLayer(),this.generalGraphicsLayer=r.CreatePolygonGraphicsLayer("generalGraphicsLayer"),this.notificationHeader="",this.notificationBody="",this.helpHeader="Getting Started Tour",this.helpItem="gettingStartedTour",this.checkIfSavedGraphicsExists=function(){d.savedData=c.getSavedState(),d.savedData&&d.savedData.length>0&&d.sessionModal.show(),d.listenToGraphicsStore()},this.listenToGraphicsStore=function(){var e=d.store.select((function(e){return e.app.graphics}));d.graphicsStoreSub$&&d.graphicsStoreSub$.unsubscribe(),d.graphicsStoreSub$=e.subscribe((function(e){c.setSavedState(e)}))},this.closeOtherPanels=function(e){var t=d.accordionPanels.filter((function(t){return t.title===e}));t.length>0&&t[0].toggleOthers()},this.showCoordinates=function(){var e=d.mapView.center;d.mapCoords="Lat: "+e.latitude.toFixed(5)+" &nbsp; Long: "+e.longitude.toFixed(5)},this.setMapEvents=function(){d.mapView&&(d.mapView.watch("stationary",d.showCoordinates),d.mapView.on("pointer-move",d.showCoordinates),d.mapView.watch("scale",(function(e){return d.mapViewService.pushMapScale(e)})),d.mapView.when((function(){setTimeout((function(){return d.checkIfSavedGraphicsExists()}),2e3)})))},this.initializeMap=function(){return i.__awaiter(d,void 0,void 0,(function(){return i.__generator(this,(function(e){try{u.InitializeArcGISWorkers(),this.mapView=a.createMapView(this.mapViewEl,this.searchBarDiv),m.reorderGraphicsLayer(this.mapView.map),this.mapView.map.addMany([this.polygonGraphicsLayer,this.textGraphicsLayer,this.geomLabelsGraphicsLayer,this.generalGraphicsLayer]),this.sketchVM=n.SetupSketchViewModel(this.polygonGraphicsLayer,this.mapView),this.generalSketchVM=n.CreateGeneralSketchViewModel(this.generalGraphicsLayer,this.mapView),this.sketchVM.updatePointSymbol=y.defaultPointCircleSymbol,this.sketchVM.activePointSymbol=y.defaultPointCircleSymbol,this.setMapEvents()}catch(t){console.error("Map load error ",t)}return[2]}))}))}}return e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){return e.closeOtherPanels("Draw")}),100),this.keyboardSub$=p.ListenToKeyboard(this.graphicsStoreEl,this.mapViewEl,this.renderer)},e.prototype.ngOnDestroy=function(){this.keyboardSub$&&this.keyboardSub$(),this.graphicsStoreSub$&&this.graphicsStoreSub$.unsubscribe()},e.prototype.restoreSession=function(e){var t=this;null!==e&&this.sessionModal.hide(),e?(this.store.dispatch(d.addGraphics({graphics:this.savedData})),setTimeout((function(){t.mapView.goTo(t.polygonGraphicsLayer.graphics)}),500)):c.clearLocalStorage(),this.listenToGraphicsStore()},e.prototype.ngOnInit=function(){var e=this;this.initializeMap(),this.esrimapService.closeAllPanelsExcept.subscribe((function(t){return e.closeOtherPanels(t)}))},e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275directiveInject(f.Store),h.\u0275\u0275directiveInject(g.EsrimapService),h.\u0275\u0275directiveInject(v.MapviewService),h.\u0275\u0275directiveInject(h.Renderer2))},e.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-esrimap"]],viewQuery:function(e,t){if(1&e&&(h.\u0275\u0275staticViewQuery(G,!0),h.\u0275\u0275staticViewQuery(N,!0),h.\u0275\u0275staticViewQuery(D,!0),h.\u0275\u0275viewQuery(R,!0),h.\u0275\u0275viewQuery(l.AccordionPanelComponent,!0)),2&e){var i=void 0;h.\u0275\u0275queryRefresh(i=h.\u0275\u0275loadQuery())&&(t.mapViewEl=i.first),h.\u0275\u0275queryRefresh(i=h.\u0275\u0275loadQuery())&&(t.searchBarDiv=i.first),h.\u0275\u0275queryRefresh(i=h.\u0275\u0275loadQuery())&&(t.graphicsStoreEl=i.first),h.\u0275\u0275queryRefresh(i=h.\u0275\u0275loadQuery())&&(t.sessionModal=i.first),h.\u0275\u0275queryRefresh(i=h.\u0275\u0275loadQuery())&&(t.accordionPanels=i)}},decls:58,vars:32,consts:[[1,"sidebarBlanket"],["sidebar",""],[1,"sidebar"],[1,"sidebarToggle",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate90",4,"ngIf"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate270",4,"ngIf"],["panelTitle","Draw"],["drawAccPanel",""],[3,"sketchVM","mapView","textGraphicsLayer","geomLabelsSketchVM","geomLabelsGraphicsLayer","polygonGraphicsLayer","generalSketchVM"],["panelTitle","Themes"],["themesAccPanel",""],[3,"mapView"],["panelTitle","Import | Export"],["importExportAccPanel",""],["panelTitle","Export Map to PDF"],["exportMapAccPanel",""],[3,"mapView","sketchVM"],[1,"mapBlanket"],[1,"headerBlanket","hidden","md:block"],[1,"header","headerRow","secondary"],[1,"flex","items-center"],[1,"mr-2"],["searchBar",""],[3,"header","itemName","fillColor"],[1,"coordsDisplay","hidden","md:inline"],[3,"innerHTML"],[1,"translucentPadding","mapViewNodeBlanket","pmloMap"],["id","parent",1,"mapViewNode"],["mapViewNode",""],["id","textboxes"],[3,"mapView","colorPrefix"],[1,"graphicsControls",3,"sketchVM","textGraphicsLayer"],["graphicsStore",""],[1,"pmloModal","sessionModal",3,"maximizable","inViewport","closeModal"],["sessionModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"sessionBtns"],[1,"pmlo-btn","pmlo-secondary","sessionBtn","py-2","px-4",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate90"],["d","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate270"]],template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"div",0,1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"button",3),h.\u0275\u0275listener("click",(function(){return t.sidebarVisible=!t.sidebarVisible})),h.\u0275\u0275template(4,B,2,0,"svg",4),h.\u0275\u0275text(5),h.\u0275\u0275template(6,z,2,0,"svg",5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"app-accordion"),h.\u0275\u0275elementStart(8,"app-accordion-panel",6,7),h.\u0275\u0275element(10,"app-drawtools",8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"app-accordion-panel",9,10),h.\u0275\u0275element(13,"app-mmp-themes",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"app-accordion-panel",12,13),h.\u0275\u0275element(16,"app-import-export",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"app-accordion-panel",14,15),h.\u0275\u0275element(19,"app-print-tool",16),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(20,"app-site-policies"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",17),h.\u0275\u0275elementStart(22,"div",18),h.\u0275\u0275elementStart(23,"div",19),h.\u0275\u0275elementStart(24,"div",20),h.\u0275\u0275element(25,"div",21,22),h.\u0275\u0275element(27,"app-help-button",23),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(28,"div",24),h.\u0275\u0275text(29," Mouse Coordinates [ "),h.\u0275\u0275element(30,"span",25),h.\u0275\u0275text(31," ] "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(32,"div",26),h.\u0275\u0275elementStart(33,"div",27,28),h.\u0275\u0275element(35,"div",29),h.\u0275\u0275element(36,"app-basemap-widget",11),h.\u0275\u0275element(37,"app-overlay-layers-widget",30),h.\u0275\u0275element(38,"app-swipe-widget",11),h.\u0275\u0275element(39,"app-measurement-widget",11),h.\u0275\u0275element(40,"app-scale-text"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(41,"app-graphic-store",31,32),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(43,"app-modal",33,34),h.\u0275\u0275listener("closeModal",(function(){return t.restoreSession(null)})),h.\u0275\u0275elementContainerStart(45,35),h.\u0275\u0275text(46,"Restore previous session?"),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(47,36),h.\u0275\u0275text(48," This application was closed while you had some drawings. "),h.\u0275\u0275element(49,"br"),h.\u0275\u0275text(50," Would you like to restore those drawings? "),h.\u0275\u0275element(51,"br"),h.\u0275\u0275element(52,"br"),h.\u0275\u0275elementStart(53,"div",37),h.\u0275\u0275elementStart(54,"button",38),h.\u0275\u0275listener("click",(function(){return t.restoreSession(!0)})),h.\u0275\u0275text(55,"Restore"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(56,"button",38),h.\u0275\u0275listener("click",(function(){return t.restoreSession(!1)})),h.\u0275\u0275text(57,"Start New"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementEnd()),2&e&&(h.\u0275\u0275classProp("sidebarHidden",!t.sidebarVisible),h.\u0275\u0275advance(3),h.\u0275\u0275classProp("sideOpen",t.sidebarVisible),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",t.sidebarVisible),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate1(" ",t.sidebarVisible?"Hide":"Show"," "),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!t.sidebarVisible),h.\u0275\u0275advance(4),h.\u0275\u0275property("sketchVM",t.sketchVM)("mapView",t.mapView)("textGraphicsLayer",t.textGraphicsLayer)("geomLabelsSketchVM",t.geomLabelsSketchVM)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("polygonGraphicsLayer",t.polygonGraphicsLayer)("generalSketchVM",t.generalSketchVM),h.\u0275\u0275advance(3),h.\u0275\u0275property("mapView",t.mapView),h.\u0275\u0275advance(3),h.\u0275\u0275property("mapView",t.mapView),h.\u0275\u0275advance(3),h.\u0275\u0275property("mapView",t.mapView)("sketchVM",t.sketchVM),h.\u0275\u0275advance(8),h.\u0275\u0275property("header","Find Location")("itemName","search")("fillColor","white"),h.\u0275\u0275advance(3),h.\u0275\u0275property("innerHTML",t.mapCoords,h.\u0275\u0275sanitizeHtml),h.\u0275\u0275advance(6),h.\u0275\u0275property("mapView",t.mapView),h.\u0275\u0275advance(1),h.\u0275\u0275property("mapView",t.mapView)("colorPrefix","pmlo"),h.\u0275\u0275advance(1),h.\u0275\u0275property("mapView",t.mapView),h.\u0275\u0275advance(1),h.\u0275\u0275property("mapView",t.mapView),h.\u0275\u0275advance(2),h.\u0275\u0275property("sketchVM",t.sketchVM)("textGraphicsLayer",t.textGraphicsLayer),h.\u0275\u0275advance(2),h.\u0275\u0275property("maximizable",!1)("inViewport",!0))},directives:[b.NgIf,_.AccordionComponent,w.AccordionPanelComponent,S.DrawtoolsComponent,M.MMPThemesComponent,x.ImportExportComponent,C.PrintToolComponent,L.SitePoliciesComponent,V.HelpbuttonComponent,P.BasemapWidgetComponent,O.OverlayLayersWidgetComponent,E.SwipeWidgetComponent,k.MeasurementWidgetComponent,T.ScaleTextComponent,j.GraphicsStoreComponent,I.ModalComponent],styles:[".headerRow[_ngcontent-%COMP%]{height:50px;align-items:center;color:#000;padding-left:10px}.secondary[_ngcontent-%COMP%]{color:#fff;border-radius:5px 0 0 5px}.mapViewNode[_ngcontent-%COMP%]{height:100%;width:100%}.graphicsControls[_ngcontent-%COMP%]{width:300px;position:absolute;bottom:20px;z-index:10;left:0;right:0;margin:auto}.mapBlanket[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.mapViewNodeBlanket[_ngcontent-%COMP%]{flex:1;padding:5px 0 0 5px;position:relative}.coordsDisplay[_ngcontent-%COMP%]{text-align:right;padding-right:10px;font-size:14px;flex:1;color:#dad2d2}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px}.sidebarBlanket[_ngcontent-%COMP%]{width:270px}.sidebar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px 5px 0 0}.sidebarToggle[_ngcontent-%COMP%]{right:-68px;color:#fff;position:absolute;background:#000;padding:5px;display:none;border-radius:5px;justify-content:center;align-items:center}@media only screen and (max-width:600px){.sidebarBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px;position:fixed;left:0;z-index:9000;background:transparent!important;background-color:transparent!important}.sidebarToggle[_ngcontent-%COMP%]{display:flex}.sidebarHidden[_ngcontent-%COMP%]{left:-269px}}.sideOpen[_ngcontent-%COMP%]{right:-58px}.showHideSvg[_ngcontent-%COMP%]{fill:#fff;height:20px;display:inline-block}.rotate90[_ngcontent-%COMP%]{transform:rotate(90deg)}.rotate270[_ngcontent-%COMP%]{transform:rotate(270deg)}.headerRow[_ngcontent-%COMP%]{background-color:rgba(97,117,19,.5);display:flex}.secondary[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]{background-color:#161616}.sidebar[_ngcontent-%COMP%]{overflow-y:auto}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%], .translucentPadding[_ngcontent-%COMP%]{background-color:rgba(97,117,19,.5)}"]}),e}();t.EsrimapComponent=F}).apply(null,r))||(e.exports=n)},"ULj+":function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("TMur"),i("TMur"),i("9gfz"),i("ycL1"),i("Vx27"),i("1dvD"),i("Lzvl")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p){"use strict";var d=function(e){function t(t){var i=e.call(this,t)||this;return i.dpi=96,i.dynamicLayerInfos=null,i.gdbVersion=null,i.geometry=null,i.geometryPrecision=null,i.height=400,i.layerDefinitions=null,i.layerIds=null,i.layerOption="top",i.layerTimeOptions=null,i.mapExtent=null,i.maxAllowableOffset=null,i.returnFieldName=!1,i.returnGeometry=!1,i.returnM=!1,i.returnUnformattedValues=!1,i.returnZ=!1,i.spatialReference=null,i.timeExtent=null,i.tolerance=null,i.width=400,i}return i.__extends(t,e),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"dpi",void 0),i.__decorate([s.property({type:[Object],json:{read:{source:"dynamicLayers"},write:{target:"dynamicLayers"}}})],t.prototype,"dynamicLayerInfos",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"gdbVersion",void 0),i.__decorate([s.property({types:n.geometryTypes,json:{read:p.fromJSON,write:!0}})],t.prototype,"geometry",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"geometryPrecision",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"height",void 0),i.__decorate([s.property({type:[Object],json:{write:!0}})],t.prototype,"layerDefinitions",void 0),i.__decorate([s.property({type:[Number],json:{write:!0}})],t.prototype,"layerIds",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"layerOption",void 0),i.__decorate([s.property({type:[Object],json:{write:!0}})],t.prototype,"layerTimeOptions",void 0),i.__decorate([s.property({type:r.Extent,json:{write:!0}})],t.prototype,"mapExtent",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"maxAllowableOffset",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnFieldName",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnGeometry",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnM",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnUnformattedValues",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnZ",void 0),i.__decorate([s.property({type:r.SpatialReference,json:{write:!0}})],t.prototype,"spatialReference",void 0),i.__decorate([s.property({type:o,json:{write:!0}})],t.prototype,"timeExtent",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"tolerance",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"width",void 0),i.__decorate([s.subclass("esri.tasks.support.IdentifyParameters")],t)}(a.JSONSupport);return d.from=l.default(d),d}).apply(null,r))||(e.exports=n)},Uq3m:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areLabelsVisible=t.getLayersForScale=t.serializeTimeOptions=t.serializeLayerDefinitions=t.isBaseLayer=t.isTiledLayer=void 0,t.isTiledLayer=function(e){return e&&"base-tile"===e.type||"tile"===e.type||"elevation"===e.type||"imagery-tile"===e.type||"base-elevation"===e.type||"open-street-map"===e.type||"wcs"===e.type||"web-tile"===e.type||"wmts"===e.type||"vector-tile"===e.type},t.isBaseLayer=function(e){return e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.indexOf(e)>-1},t.serializeLayerDefinitions=function(e){var t=/[:;]/,i=[],r=!1;if(e&&(e.forEach((function(e,n){i.push([n,e]),!r&&t.test(e)&&(r=!0)})),i.length>0)){var n=void 0;if(r){var o={};i.forEach((function(e){o[e[0]]=e[1]})),n=JSON.stringify(o)}else{var a=[];i.forEach((function(e){a.push(e[0]+":"+e[1])})),n=a.join(";")}return n}return null},t.serializeTimeOptions=function(e){if(e){var t=[];return e.forEach((function(e,i){t.push('"'+i+'":'+JSON.stringify(e))})),t.length?"{"+t.join(",")+"}":void 0}},t.getLayersForScale=function(e,t){var i=[];if(e>0&&t)for(var r=function(r){if(t[r].parentLayerId>=0&&-1===i.indexOf(t[r].parentLayerId)&&t.some((function(e){return e.id===t[r].parentLayerId})))return"continue";if(t[r].id>=0){var n=!0,o=t[r].maxScale,a=t[r].minScale;(o>0||a>0)&&(o>0&&a>0?n=o<=e&&e<=a:o>0?n=o<=e:a>0&&(n=e<=a)),n&&i.push(t[r].id)}},n=0;n<t.length;n++)r(n);return i},t.areLabelsVisible=function(e){return!0===e.labelsVisible&&null!=e.labelingInfo&&e.labelingInfo.length>0}}).apply(null,r))||(e.exports=n)},XYMc:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("ofXK"),i("kmnG"),i("DC2l"),i("3Pt+"),i("Wqx0"),i("FhEM"),i("fXoL")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPThemesModule=void 0,p=i.__importStar(p);var d=function(){function e(){}return e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},providers:[],imports:[[r.CommonModule,n.MatFormFieldModule,a.FormsModule,o.ModalModule,l.HelpbuttonModule,s.SliderModule]]}),e}();t.MMPThemesModule=d}).apply(null,r))||(e.exports=n)},Z1iv:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("Vx27"),i("iP6Z"),i("FPqO")],void 0===(n=(function(e,t,i,r,n,o){"use strict";return function(e){function t(t){var i=e.call(this,t)||this;return i.gdbVersion=null,i.url=null,i}return i.__extends(t,e),t.prototype.execute=function(e,t){return this.gdbVersion&&!e.gdbVersion&&(e.gdbVersion=this.gdbVersion),n.identify(this.url,e,t)},i.__decorate([r.property()],t.prototype,"gdbVersion",void 0),i.__decorate([r.property()],t.prototype,"url",void 0),i.__decorate([r.subclass("esri.tasks.IdentifyTask")],t)}(o)}).apply(null,r))||(e.exports=n)},aWe4:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPSoil=void 0,t.MMPSoil=function(e,t,i,r,n,o,a,s,l,p,d,c,u,m,y,h,f,g){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s=""),void 0===l&&(l=""),void 0===p&&(p=""),void 0===d&&(d=""),void 0===c&&(c=""),void 0===u&&(u=""),void 0===m&&(m=""),void 0===y&&(y=""),void 0===h&&(h=""),void 0===f&&(f=""),void 0===g&&(g=""),this.mukey=e,this.musym=t,this.muname=i,this.slopegradwta=r,this.forpehrtdcp=n,this.flodfreqdcd=o,this.drclassdcd=a,this.hydclprs=s,this.pH=l,this.ecoclassid=p,this.ecoclassname=d,this.si=c,this.plantcomname=u,this.fpa=m,this.rpa=y,this.saversion=h,this.tabularversion=f,this.spatialversion=g}}).apply(null,r))||(e.exports=n)},iP6Z:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("zp6E"),i("fw2w"),i("p09i"),i("zjrk"),i("ULj+"),i("A0Z0")],void 0===(n=(function(e,t,i,r,n,o,a,s,l){"use strict";function p(e){var t=e.data;t.results=t.results||[];var i={results:[]};return i.results=t.results.map((function(e){return l.fromJSON(e)})),i}Object.defineProperty(t,"__esModule",{value:!0}),t.identify=void 0,t.identify=function(e,t,l){return i.__awaiter(this,void 0,void 0,(function(){var d,c;return i.__generator(this,(function(u){return t=function(e){return s.from(e)}(t),d=t.geometry?[t.geometry]:[],(c=o.parseUrl(e)).path+="/identify",[2,n.normalizeCentralMeridian(d).then((function(e){var n=a.identifyToIdentifyRESTParameters(t,{geometry:e&&e[0]}),s=o.encode(i.__assign(i.__assign(i.__assign({},c.query),{f:"json"}),n)),d=o.asValidOptions(s,l);return r(c.path,d).then(p)}))]}))}))}}).apply(null,r))||(e.exports=n)},tj0F:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("niHo"),i("ofXK"),i("ZRjd"),i("LAbW"),i("Kww6"),i("Wqx0"),i("XYMc"),i("ITmb"),i("XpBf"),i("M8/b"),i("FhEM"),i("S4iY"),i("0I6m"),i("piud"),i("KAcK"),i("DC2l"),i("fXoL")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p,d,c,u,m,y,h,f,g,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsriMapModule=void 0,b=i.__importStar(b);var _=function(){function e(){}return e.\u0275mod=b.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=b.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule,u.GraphicsStoreModule,o.DrawtoolsModule,l.SliderModule,p.MMPThemesModule,r.ImportExportModule,a.PrintToolModule,s.AccordionPanelModule,d.BasemapWidgetModule,c.SwipeWidgetModule,y.SitePoliciesModule,m.HelpbuttonModule,h.OverlayLayersWidgetModule,f.MeasurementWidgetModule,g.ScaleTextModule,v.ModalModule]]}),e}();t.EsriMapModule=_}).apply(null,r))||(e.exports=n)},ysC3:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("zOht"),i("Z1iv"),i("ULj+"),i("dg76"),i("b9ir"),i("aWe4"),i("fXoL"),i("frIU"),i("1wtQ"),i("tk/3"),i("IQQX"),i("NVId"),i("8WOb"),i("3Pt+"),i("ofXK"),i("RGY+")],void 0===(n=(function(e,t,i,r,n,o,a,s,l,p,d,c,u,m,y,h,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPThemesComponent=void 0,r=i.__importDefault(r),n=i.__importDefault(n),l=i.__importStar(l),p=i.__importStar(p),d=i.__importStar(d),c=i.__importStar(c),u=i.__importStar(u),m=i.__importStar(m),y=i.__importStar(y),h=i.__importStar(h),f=i.__importStar(f),g=i.__importStar(g);var v=function(e){return{checkboxDisabled:e}},b=function(e){return{"cursor-not-allowed":e}},_=function(){function e(e,t,l,p,d){var c=this;this.mapViewService=e,this.appConfig=t,this.http=l,this.soilsService=p,this.loaderService=d,this.isIdentifyChecked=!1,this.isIdentifyDisabled=!0,this.isVisibleDisabled=!1,this.isVisibleChecked=!1,this.isSoilsDisabled=!0,this.selectedTheme="soils",this.transparency=0,this.identifyEvent=null,this.identifyParams=new n.default({tolerance:0,layerOption:"top:10"}),this.createGeologyLayer=function(){return a.CreateMapLayer("mapImage","geologyLayer",null,c.appConfig.geologyMapServerURL)},this.hideLayersExcept=function(e){["soilsLayer","vegetationLayer","geologyLayer"].forEach((function(t){if(t!==e){var i=c.getLayerRef(t);void 0!==i&&(i.visible=!1)}}))},this.queryRelatedFeaturesForGeology=function(e,t,i){c.http.get(c.appConfig.geologyMapServerURL+"/"+e+"/queryRelatedRecords?f=json&relationshipid=1&returnGeometry=false&objectids="+t+"&outFields=*").subscribe((function(e){if(e.relatedRecordGroups.length>0){var t=e.relatedRecordGroups[0].relatedRecords;if(t.length>0){var r=t[0].attributes;c.showPopup(r.ROCKUNIT_CD,o.GetMMPGeologyPopupContent(r),i)}}}))},this.identifyFeatures=function(e){return i.__awaiter(c,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){this.loaderService.isLoading.next(!0),t=new r.default(this.activeLayer.url),this.identifyParams.width=this.mapView.width,this.identifyParams.height=this.mapView.height,this.identifyParams.mapExtent=this.mapView.extent,this.identifyParams.geometry=e,this.identifyParams.returnGeometry=!1,this.identifyParams.layerOption="top:10";try{"geology"===this.selectedTheme?this.identifyGeology(t,e):"vegetation"===this.selectedTheme&&this.identifyVegetation(t,e)}catch(n){console.error(n)}finally{this.loaderService.isLoading.next(!1)}return[2]}))}))},this.identifySoils=function(e){c.loaderService.isLoading.next(!0),c.soilsService.identifySoil(e,"mmp").then((function(t){var r,n,a=t.Table[0],l=new s.MMPSoil,p=0;try{for(var d=i.__values(Object.keys(l)),u=d.next();!u.done;u=d.next())null!==a[p]&&(l[u.value]=a[p]),p+=1}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}c.showPopup(l.musym,o.GetMMPSoilPopupContent(l),e)}))},this.identifyVegetation=function(e,t){return i.__awaiter(c,void 0,void 0,(function(){var r,n;return i.__generator(this,(function(i){switch(i.label){case 0:return this.identifyParams.layerOption="top:0",[4,e.execute(this.identifyParams)];case 1:return(r=i.sent()).results.length>0&&this.showPopup("ID: "+(n=r.results[0].feature.attributes).VegID,o.GetMMPVegetationPopupContent(n),t),[2]}}))}))},this.showPopup=function(e,t,i){c.mapView.popup.dockOptions={buttonEnabled:!0,position:"top-left"},c.mapView.popup.actions=null,c.mapView.popup.open({title:e,location:i,content:t}),c.loaderService.isLoading.next(!1)},this.identifyGeology=function(e,t){return i.__awaiter(c,void 0,void 0,(function(){var r,n;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,e.execute(this.identifyParams)];case 1:return(r=i.sent()).results.length>0&&(n=parseInt(r.results[0].feature.attributes.OBJECTID),this.queryRelatedFeaturesForGeology(r.results[0].layerId,n,t)),[2]}}))}))}}return e.prototype.transparencyChanged=function(e){this.transparency=e,"geology"!==this.selectedTheme&&"vegetation"!==this.selectedTheme||(this.activeLayer.opacity=1-e/100)},e.prototype.ngOnInit=function(){var e=this;this.mapViewService.soilsDisabled.subscribe((function(t){e.isSoilsDisabled=t}))},e.prototype.getLayerRef=function(e){return this.mapView.map.findLayerById(e)},e.prototype.themeChanged=function(e){if(void 0===this.getLayerRef(e+"Layer")){switch(e){case"vegetation":this.vegetationLayer=a.CreateMapLayer("mapImage","vegetationLayer",null,this.appConfig.vegetationMapServerURL),this.activeLayer=this.vegetationLayer;break;case"geology":this.geologyLayer=a.CreateMapLayer("mapImage","geologyLayer",null,this.appConfig.geologyMapServerURL),this.activeLayer=this.geologyLayer;break;case"soils":this.soilsLayer=a.CreateSoilsLayer("soilsLayer",this.appConfig.ssurgoWMSURL),this.activeLayer=this.soilsLayer}this.mapView.map.add(this.activeLayer)}else this.activeLayer="soils"===e?this.soilsLayer:"vegetation"===e?this.vegetationLayer:this.geologyLayer;this.hideLayersExcept(e+"Layer"),this.activeLayer.visible=this.isVisibleChecked,this.mapView.popup.visible&&this.mapView.popup.close()},e.prototype.themeVisibleChanged=function(e){this.isVisibleChecked=e,this.themeChanged(this.selectedTheme),this.activeLayer.visible=e,this.isIdentifyDisabled=!this.isVisibleChecked},e.prototype.createLayerIdentifyEvent=function(e){var t=this;e&&this.activeLayer.visible&&null===this.identifyEvent?this.identifyEvent=this.mapView.on("click",(function(e){["vegetation","geology"].includes(t.selectedTheme)?t.identifyFeatures(e.mapPoint):t.identifySoils(e.mapPoint)})):e||null===this.identifyEvent||(this.identifyEvent.remove(),this.identifyEvent=null)},e.prototype.themeIdentifyChanged=function(e){this.isIdentifyChecked=e,this.createLayerIdentifyEvent(e),this.mapView.popup.visible&&this.mapView.popup.close()},e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(p.MapviewService),l.\u0275\u0275directiveInject(d.AppConfiguration),l.\u0275\u0275directiveInject(c.HttpClient),l.\u0275\u0275directiveInject(u.SoilsService),l.\u0275\u0275directiveInject(m.LoaderService))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["app-mmp-themes"]],inputs:{mapView:"mapView"},decls:36,vars:27,consts:[[1,"py-3","relative"],[3,"header","itemName"],["id","soilsTheme","type","radio","name","mapTheme",3,"value","ngModel","ngModelChange","change"],["for","soilsTheme"],["type","radio","id","vegetationTheme","name","mapTheme",3,"value","ngModel","ngModelChange","change"],["for","vegetationTheme"],["type","radio","id","geologyTheme","name","mapTheme",3,"value","ngModel","ngModelChange","change"],["for","geologyTheme"],[1,"row","prl-10","mt-8"],[1,"inline-flex","cursor-pointer",3,"ngClass"],["type","checkbox",1,"m-auto","form-checkbox","h-5","w-5","text-pmlo_secondary","cursor-pointer",3,"ngClass","disabled","change"],[1,"checkbox-label"],[1,"row","prl-10"],["identifyCheckbox",""],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275element(1,"app-help-button",1),l.\u0275\u0275element(2,"br"),l.\u0275\u0275elementStart(3,"div"),l.\u0275\u0275elementStart(4,"div"),l.\u0275\u0275elementStart(5,"input",2),l.\u0275\u0275listener("ngModelChange",(function(e){return t.selectedTheme=e}))("change",(function(){return t.themeChanged("soils")})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"label",3),l.\u0275\u0275text(7,"Soils"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(8,"br"),l.\u0275\u0275elementStart(9,"input",4),l.\u0275\u0275listener("ngModelChange",(function(e){return t.selectedTheme=e}))("change",(function(){return t.themeChanged("vegetation")})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"label",5),l.\u0275\u0275text(11,"TX Vegetation"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(12,"br"),l.\u0275\u0275elementStart(13,"input",6),l.\u0275\u0275listener("ngModelChange",(function(e){return t.selectedTheme=e}))("change",(function(){return t.themeChanged("geology")})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"label",7),l.\u0275\u0275text(15,"TX Geology"),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(16,"br"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(17,"div",8),l.\u0275\u0275elementStart(18,"label",9),l.\u0275\u0275elementStart(19,"input",10),l.\u0275\u0275listener("change",(function(e){return t.themeVisibleChanged(e.currentTarget.checked)})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"span",11),l.\u0275\u0275text(21,"Visible"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(22,"div",12),l.\u0275\u0275elementStart(23,"label",9),l.\u0275\u0275elementStart(24,"input",10,13),l.\u0275\u0275listener("change",(function(e){return t.themeIdentifyChanged(e.currentTarget.checked)})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(26,"span",11),l.\u0275\u0275text(27,"Identify"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(28,"div",14),l.\u0275\u0275text(29),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(30,"div",15),l.\u0275\u0275elementStart(31,"div"),l.\u0275\u0275text(32,"0"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(33,"app-slider",16),l.\u0275\u0275listener("onChange",(function(e){return t.transparencyChanged(e)})),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"div"),l.\u0275\u0275text(35,"100"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("header","Map Themes")("itemName","themes"),l.\u0275\u0275advance(4),l.\u0275\u0275property("value","soils")("ngModel",t.selectedTheme),l.\u0275\u0275advance(4),l.\u0275\u0275property("value","vegetation")("ngModel",t.selectedTheme),l.\u0275\u0275advance(4),l.\u0275\u0275property("value","geology")("ngModel",t.selectedTheme),l.\u0275\u0275advance(5),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(19,v,t.isVisibleDisabled)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(21,b,t.isVisibleDisabled))("disabled",t.isVisibleDisabled),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(23,v,t.isIdentifyDisabled)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(25,b,t.isIdentifyDisabled))("disabled",t.isIdentifyDisabled),l.\u0275\u0275advance(5),l.\u0275\u0275textInterpolate1("Transparency: ",t.transparency,"%"),l.\u0275\u0275advance(4),l.\u0275\u0275property("value",t.transparency)("min",0)("max",100)("steps",5))},directives:[y.HelpbuttonComponent,h.RadioControlValueAccessor,h.DefaultValueAccessor,h.NgControlStatus,h.NgModel,f.NgClass,g.SliderComponent],styles:[".drawBtn[_ngcontent-%COMP%]{padding:0 5px}.themesBody[_ngcontent-%COMP%]{width:min(55%,200px);margin:auto}.themesBody[_ngcontent-%COMP%]   [type=checkbox][_ngcontent-%COMP%], .themesBody[_ngcontent-%COMP%]   [type=radio][_ngcontent-%COMP%]{box-sizing:border-box;padding:0;margin-right:5px}"]}),e}();t.MMPThemesComponent=_}).apply(null,r))||(e.exports=n)},zjrk:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i("LxLY"),i("Lzvl"),i("qDpW"),i("Uq3m")],void 0===(n=(function(e,t,i,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyToIdentifyRESTParameters=void 0;var a=function(e){return e.spatialReference.wkid||JSON.stringify(e.spatialReference)};t.identifyToIdentifyRESTParameters=function(e,t){var s=e.toJSON(),l=s.dpi,p=s.dynamicLayers,d=s.geometry,c=s.geometryPrecision,u=s.height,m=s.layerDefinitions,y=s.layerIds,h=s.layerOption,f=s.layerTimeOptions,g=s.mapExtent,v=s.maxAllowableOffset,b=s.returnFieldName,_=s.returnGeometry,w=s.returnUnformattedValues,S=s.returnZ,M=s.spatialReference,x=s.timeExtent,C=s.tolerance,L=s.width,V=t&&i.isSome(t.geometry)?t.geometry:null,P={geometryPrecision:c,maxAllowableOffset:v,returnFieldName:b,returnGeometry:_,returnUnformattedValues:w,returnZ:S,tolerance:C},O=V&&V.toJSON()||d;if(P.imageDisplay=L+","+u+","+l,O&&(delete O.spatialReference,P.geometry=JSON.stringify(O),P.geometryType=r.getJsonType(O)),M?P.sr=M.wkid||JSON.stringify(M):O&&O.spatialReference?P.sr=a(O):g&&g.spatialReference&&(P.sr=a(g)),P.time=x?x.join(","):null,g&&(P.mapExtent=g.xmin+","+g.ymin+","+g.xmax+","+g.ymax),P.layers=h,y&&(P.layers+=":"+y.join(",")),m){for(var E=[],k=0;k<m.length;k++){var T=m[k];E[T.id]=T.definitionExpression}P.layerDefs=o.serializeLayerDefinitions(E)}if(p&&p.length){var j=[],I=n.getScale({extent:g,width:L,spatialReference:g.spatialReference}),G=o.getLayersForScale(I,p),N=function(e){var t=p[e],i=t.id;if(!t.subLayerIds&&y&&-1!==y.indexOf(i)&&-1!==G.indexOf(i)){var r={id:i};r.source=t.source;var n=null;if(m&&m.length){var o=m.filter((function(e){return e.id===i}))[0];n=o&&o.definitionExpression}n&&(r.definitionExpression=n);var a=void 0;f&&f[i]&&(a=f[i]),a&&(r.layerTimeOptions=a),j.push(r)}};for(k=0;k<p.length;k++)N(k);var D=JSON.stringify(j);"[]"===D&&(D="[{}]"),P.dynamicLayers=D}return P}}).apply(null,r))||(e.exports=n)}}]);