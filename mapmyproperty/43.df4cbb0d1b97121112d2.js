(function(){(this||window).webpackJsonp.registerAbsMids({"src/app/shared/components/dialogs/dialog.service":"/FBK","src/app/shared/services/PrintTask.service":"/gZE","src/app/shared/utils/ConversionTools":"2yZv","src/app/shared/components/custom-snack-bar/custom-snack-bar.service":"3aN3","src/app/shared/components/dialogs/dialog.component":"EA0v","src/app/shared/components/custom-snack-bar/custom-snack-bar.component":"SHIC","src/app/shared/utils/GISUrls":"kOQQ"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"/FBK":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("EA0v"),r("fXoL"),r("0IaG")],void 0===(a=(function(e,t,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogService=void 0,a=r.__importStar(a),o=r.__importStar(o);var i=function(){function e(e){this.dialog=e}return e.prototype.open=function(e){this.dialogRef=this.dialog.open(n.DialogComponent,{data:{message:e.message}})},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(o.MatDialog))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();t.DialogService=i}).apply(null,n))||(e.exports=a)},"/gZE":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("hMCy"),r("smTj"),r("TW8A"),r("kOQQ"),r("fXoL")],void 0===(a=(function(e,t,r,n,a,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintTaskService=void 0,n=r.__importDefault(n),a=r.__importDefault(a),o=r.__importDefault(o),s=r.__importStar(s);var l=function(){function e(){this.printTask=new n.default({url:i.GetCustomExportWebMapUrl()})}return e.prototype.exportWebMap=function(e,t,r){var n=this;return new Promise((function(i){var s=new a.default({template:new o.default({layout:t,format:r}),view:e,extraParameters:{Final_Map_WKID:""}});n.printTask.execute(s).then((function(e){i(e.url)}),(function(e){i(e)}))}))},e.\u0275prov=s.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}();t.PrintTaskService=l}).apply(null,n))||(e.exports=a)},"2yZv":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("ofXK")],void 0===(a=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatRoundNumber=t.SquareMetersToAcres=void 0,t.SquareMetersToAcres=function(e){return 247105e-9*e},t.FormatRoundNumber=function(e,t){var n="1."+t.toString()+"-"+t.toString();return r.formatNumber(e,"en-US",n)}}).apply(null,n))||(e.exports=a)},"3aN3":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("SHIC"),r("fXoL"),r("dNgK")],void 0===(a=(function(e,t,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSnackBarService=void 0,a=r.__importStar(a),o=r.__importStar(o);var i=function(){function e(e){this.snackBar=e}return e.prototype.open=function(e){this.snackBar.openFromComponent(n.CustomSnackBarComponent,{data:e})},e.prototype.close=function(){this.snackBar.dismiss()},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(o.MatSnackBar))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();t.CustomSnackBarService=i}).apply(null,n))||(e.exports=a)},EA0v:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("0IaG"),r("fXoL"),r("0IaG"),r("bTqV")],void 0===(a=(function(e,t,r,n,a,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogComponent=void 0,a=r.__importStar(a),o=r.__importStar(o),i=r.__importStar(i);var s=function(){function e(e,t){this.data=e,this.mdDialogRef=t}return e.prototype.close=function(){this.mdDialogRef.close(!1)},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(n.MAT_DIALOG_DATA),a.\u0275\u0275directiveInject(o.MatDialogRef))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-dialog"]],decls:6,vars:1,consts:[["mat-dialog-content",""],[1,"dialog-message"],["mat-dialog-actions",""],["mat-raised-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"p",1),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"div",2),a.\u0275\u0275elementStart(4,"button",3),a.\u0275\u0275listener("click",(function(){return t.close()})),a.\u0275\u0275text(5,"Close"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.data.message))},directives:[o.MatDialogContent,o.MatDialogActions,i.MatButton],encapsulation:2}),e}();t.DialogComponent=s}).apply(null,n))||(e.exports=a)},FPvF:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetWetlandsBufferProps=t.GetSlopeProps=t.GetSMZProps=t.GetWetlandsProps=t.GetStreamsLineProps=t.GetDefaultLineProps=void 0,t.GetDefaultLineProps=function(){return{style:"dash",color:null,opacity:100,width:0}},t.GetStreamsLineProps=function(e){return{style:"dash",color:{r:51,g:102,b:255,a:e},opacity:100,width:3}},t.GetWetlandsProps=function(e){return{color:{r:102,g:153,b:205,a:e},style:"solid",opacity:100}},t.GetSMZProps=function(e){return{color:{r:255,g:255,b:0,a:e},style:"solid",opacity:100}},t.GetSlopeProps=function(e){return{color:{r:255,g:0,b:0,a:e},style:"solid",opacity:100}},t.GetWetlandsBufferProps=function(e){return{color:{r:68,g:79,b:137,a:e},style:"solid",opacity:100}}}).apply(null,n))||(e.exports=a)},Jl9L:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("N5Jl"),r("8Vgs"),r("2yZv"),r("fXoL"),r("/FBK"),r("ofXK"),r("uTRD"),r("JqCM"),r("/gZE"),r("QnnR"),r("3aN3"),r("7EHt"),r("NFeN"),r("bv9b"),r("5RNC"),r("bSwM"),r("bTqV"),r("kmnG"),r("qFsG"),r("3Pt+")],void 0===(a=(function(e,t,r,n,a,o,i,s,l,c,p,u,m,d,f,g,h,b,v,y,S,_,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensAreasComponent=void 0,i=r.__importStar(i),s=r.__importStar(s),l=r.__importStar(l),c=r.__importStar(c),p=r.__importStar(p),u=r.__importStar(u),m=r.__importStar(m),d=r.__importStar(d),f=r.__importStar(f),g=r.__importStar(g),h=r.__importStar(h),b=r.__importStar(b),v=r.__importStar(v),y=r.__importStar(y),S=r.__importStar(S),_=r.__importStar(_),C=r.__importStar(C);var M=["sensAreaToolHeader"];function x(e,t){1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"p"),i.\u0275\u0275text(2,"A drawn boundary is needed to be able to calculate sensitive areas."),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd())}function w(e,t){1&e&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"mat-progress-bar",5),i.\u0275\u0275elementStart(2,"p"),i.\u0275\u0275text(3,"Clipping Sensitive Areas..."),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"p"),i.\u0275\u0275text(5,"The clipping of the sensitive areas is in progress. Pleas wait."),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd())}function k(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"+"),i.\u0275\u0275elementEnd())}function P(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"\u2013"),i.\u0275\u0275elementEnd())}function G(e,t){if(1&e){var r=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",7),i.\u0275\u0275elementStart(1,"div",22),i.\u0275\u0275elementStart(2,"mat-form-field",23),i.\u0275\u0275elementStart(3,"mat-label"),i.\u0275\u0275text(4,"Feet"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"input",24),i.\u0275\u0275listener("input",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).smzBufferValue=e.target.value})),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"button",25),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).bufferGraphic("smz")})),i.\u0275\u0275text(7,"Buffer"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(5),i.\u0275\u0275property("value",n.smzBufferValue)}}function O(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"+"),i.\u0275\u0275elementEnd())}function E(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"\u2013"),i.\u0275\u0275elementEnd())}function A(e,t){if(1&e){var r=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",7),i.\u0275\u0275elementStart(1,"div",22),i.\u0275\u0275elementStart(2,"span",26),i.\u0275\u0275text(3,"<"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"mat-form-field",23),i.\u0275\u0275elementStart(5,"mat-label"),i.\u0275\u0275text(6,"Percent"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"input",27),i.\u0275\u0275listener("input",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).slopeValue=e.target.value})),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"button",25),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).setSlope("slopes")})),i.\u0275\u0275text(9,"Set"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()}if(2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(7),i.\u0275\u0275property("value",n.slopeValue)}}function V(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"+"),i.\u0275\u0275elementEnd())}function j(e,t){1&e&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1,"\u2013"),i.\u0275\u0275elementEnd())}function B(e,t){if(1&e){var r=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",7),i.\u0275\u0275elementStart(1,"div",22),i.\u0275\u0275elementStart(2,"mat-form-field",23),i.\u0275\u0275elementStart(3,"mat-label"),i.\u0275\u0275text(4,"Feet"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"input",24),i.\u0275\u0275listener("input",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).wetlandsBufferValue=e.target.value})),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(6,"button",25),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext(2).bufferGraphic("wetlandsBuffer")})),i.\u0275\u0275text(7,"Buffer"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"div",28),i.\u0275\u0275elementEnd()}if(2&e){var n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(5),i.\u0275\u0275property("value",n.wetlandsBufferValue)}}function I(e,t){if(1&e){var r=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div"),i.\u0275\u0275text(2," Transparency"),i.\u0275\u0275element(3,"br"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div"),i.\u0275\u0275text(5,"0 \xa0"),i.\u0275\u0275elementStart(6,"mat-slider",6),i.\u0275\u0275listener("input",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().updateSliderValue(e.value)})),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(7," \xa0100"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"div",7),i.\u0275\u0275element(9,"div",8),i.\u0275\u0275elementStart(10,"mat-checkbox",9),i.\u0275\u0275listener("change",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().updateGraphicOpacity(e.checked,"streams")})),i.\u0275\u0275text(11,"Streams"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(12,"div",10),i.\u0275\u0275elementStart(13,"div",11),i.\u0275\u0275text(14,"\u2013\u2013\u2013"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(15,"div",7),i.\u0275\u0275elementStart(16,"div",12),i.\u0275\u0275listener("click",(function(){i.\u0275\u0275restoreView(r);var e=i.\u0275\u0275nextContext();return e.streamCollapsed=!e.streamCollapsed})),i.\u0275\u0275template(17,k,2,0,"span",4),i.\u0275\u0275template(18,P,2,0,"span",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(19,"mat-checkbox",9),i.\u0275\u0275listener("change",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().updateGraphicOpacity(e.checked,"smz")})),i.\u0275\u0275text(20,"Streams Buffers (SMZ)"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(21,"div",13),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(22,G,8,1,"div",14),i.\u0275\u0275elementStart(23,"div",7),i.\u0275\u0275elementStart(24,"div",12),i.\u0275\u0275listener("click",(function(){i.\u0275\u0275restoreView(r);var e=i.\u0275\u0275nextContext();return e.slopeCollapsed=!e.slopeCollapsed})),i.\u0275\u0275template(25,O,2,0,"span",4),i.\u0275\u0275template(26,E,2,0,"span",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(27,"mat-checkbox",9),i.\u0275\u0275listener("change",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().updateGraphicOpacity(e.checked,"slopes")})),i.\u0275\u0275text(28,"Severe Slopes (>8%)"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(29,"div",15),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(30,A,10,1,"div",14),i.\u0275\u0275elementStart(31,"div",7),i.\u0275\u0275elementStart(32,"div",12),i.\u0275\u0275listener("click",(function(){i.\u0275\u0275restoreView(r);var e=i.\u0275\u0275nextContext();return e.wetCollapsed=!e.wetCollapsed})),i.\u0275\u0275template(33,V,2,0,"span",4),i.\u0275\u0275template(34,j,2,0,"span",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(35,"mat-checkbox",9),i.\u0275\u0275listener("change",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().updateGraphicOpacity(e.checked,"wetlands")})),i.\u0275\u0275text(36,"Wet Areas"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(37,"div",16),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(38,B,9,1,"div",14),i.\u0275\u0275elementStart(39,"div",17),i.\u0275\u0275elementStart(40,"button",18),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().clearSMZGraphics()})),i.\u0275\u0275text(41,"Clear Layer"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(42,"div",17),i.\u0275\u0275elementStart(43,"mat-form-field",19),i.\u0275\u0275elementStart(44,"mat-label"),i.\u0275\u0275text(45,"Report Title"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(46,"input",20),i.\u0275\u0275listener("ngModelChange",(function(e){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().reportTitle=e})),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(47,"div",17),i.\u0275\u0275elementStart(48,"button",21),i.\u0275\u0275listener("click",(function(){return i.\u0275\u0275restoreView(r),i.\u0275\u0275nextContext().buildSMZReport()})),i.\u0275\u0275text(49,"Create a Report"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()}if(2&e){var n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(6),i.\u0275\u0275property("thumbLabel",!0)("value",n.sliderValue),i.\u0275\u0275advance(4),i.\u0275\u0275property("checked",n.streamsChkboxValue),i.\u0275\u0275advance(7),i.\u0275\u0275property("ngIf",n.streamCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.streamCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("checked",n.smzChkboxValue),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!n.streamCollapsed),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",n.slopeCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.slopeCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("checked",n.slopesChkboxValue),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!n.slopeCollapsed),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",n.wetCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!n.wetCollapsed),i.\u0275\u0275advance(1),i.\u0275\u0275property("checked",n.wetAreasChkboxValue),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",!n.wetCollapsed),i.\u0275\u0275advance(8),i.\u0275\u0275property("ngModel",n.reportTitle)}}var L=function(){function e(e,t,r,a,o,i,s){this.dialogService=e,this.decimalPipe=t,this.sensAreasService=r,this.spinner=a,this.printTaskService=o,this.reportsService=i,this.customSnackBarService=s,this.state="noBoundary",this.streamCollapsed=!0,this.slopeCollapsed=!0,this.wetCollapsed=!0,this.sliderValue=50,this.streamsChkboxValue=!0,this.smzChkboxValue=!0,this.slopesChkboxValue=!0,this.wetAreasChkboxValue=!0,this.smzBufferValue=50,this.wetlandsBufferValue=0,this.slopeValue=8,this.reportTitle="",this.sensAreaGL=n.CreateSensAreasGL("sensAreasGL",1),this.opt={message:""}}return e.prototype.ngOnInit=function(){var e=this;this.sensAreasService.updateState.subscribe((function(t){e.state=t})),this.boundaryLayer=this.mapView.map.findLayerById("userGraphicsLayer"),this.boundaryLayer.graphics.on("change",(function(t){0===t.target.length&&(e.state="noBoundary")})),this.mapView.map.add(this.sensAreaGL)},e.prototype.opened=function(){var e=this;if(0===this.boundaryLayer.graphics.length)this.state="noBoundary";else if(this.boundaryLayer.graphics.length>1)this.sensAreaToolHeader.close(),this.opt.message="You can only display sensitive areas from one polygon at a time.",this.dialogService.open(this.opt);else if(a.GreaterThanMaxArea(this.boundaryLayer.graphics.getItemAt(0).geometry,1e4,"acres"))this.sensAreaToolHeader.close(),this.opt.message="Please make sure the boundary is less than "+this.decimalPipe.transform(1e4)+" acres",this.dialogService.open(this.opt);else if(0===this.sensAreaGL.graphics.length){this.state="clipping",this.spinner.show();var t=this.boundaryLayer.graphics.getItemAt(0);this.sensAreasService.isWithinTexas(t.geometry).then((function(r){r?e.sensAreasService.getSensAreas(t).then((function(t){0===t.length?(e.spinner.hide(),e.sensAreaToolHeader.close(),e.opt.message='There was an error calculating "Sensitive Areas". Please try again and, if the problem persists, contact the administrator.',e.dialogService.open(e.opt)):(e.sensAreasService.addSensAreasToMap(e.sensAreaGL,t,e.sliderValue),e.state="clipped",e.spinner.hide())})):(e.spinner.hide(),e.sensAreaToolHeader.close(),e.opt.message="Please make sure that your project area is totally within Texas.",e.dialogService.open(e.opt))}))}else this.state="clipped"},e.prototype.updateSliderValue=function(e){this.sensAreasService.updateGraphicsOpacity(this.sensAreaGL,e)},e.prototype.updateGraphicOpacity=function(e,t){this.sensAreasService.updateOpacity(this.sensAreaGL,t,e)},e.prototype.bufferGraphic=function(e){var t=this;this.spinner.show();var r=this.boundaryLayer.graphics.getItemAt(0),n="smz"===e?this.smzBufferValue:this.wetlandsBufferValue;n>0?this.sensAreasService.bufferGraphic(e,r,n).then((function(r){null===r?(t.spinner.hide(),t.opt.message="There was an error creating the buffer. Please try again and, if the problem persists, contact the administrator.",t.dialogService.open(t.opt)):(t.sensAreasService.addBuffersOrSlopeToMap(t.sensAreaGL,r.value,e,t.sliderValue),t.spinner.hide())})):"smz"!==e&&"wetlandsBuffer"!==e||(this.sensAreasService.removeGraphicsByAttribute(this.sensAreaGL,e),this.spinner.hide())},e.prototype.setSlope=function(e){var t=this;this.spinner.show();var r=this.boundaryLayer.graphics.getItemAt(0);this.sensAreasService.setSlope(r,this.slopeValue).then((function(r){null===r?(t.spinner.hide(),t.opt.message="There was an error setting the severe slope. Please try again and, if the problem persists, contact the administrator.",t.dialogService.open(t.opt)):(t.sensAreasService.addBuffersOrSlopeToMap(t.sensAreaGL,r.value,e,t.sliderValue),t.spinner.hide())}))},e.prototype.clearSMZGraphics=function(){this.sensAreaGL.removeAll(),this.sensAreaToolHeader.close()},e.prototype.buildSMZReport=function(){var e=this;this.spinner.show(),this.mapView.goTo(this.boundaryLayer.graphics.getItemAt(0).geometry.extent.clone().expand(1.2)).then((function(){e.printTaskService.exportWebMap(e.mapView,"SensAreasTemplate","jpg").then((function(t){if("error"===t)e.spinner.hide(),e.opt.message="There was an error creating the report. Please try again and, if the problem persists, contact the administrator.",e.dialogService.open(e.opt);else{var r=0;e.sensAreaGL.graphics.filter((function(e){return"slopes"===e.attributes.origin})).length>0&&(r=o.SquareMetersToAcres(e.sensAreaGL.graphics.filter((function(e){return"slopes"===e.attributes.origin})).getItemAt(0).attributes.Shape_Area));var n={zzProjNamezz:e.reportTitle,imageUrl:t,zzStreamsLengthzz:o.FormatRoundNumber(a.GetFeaturesLength(e.sensAreaGL.graphics.filter((function(e){return"streams"===e.attributes.origin}))),0)+" feet",zzSmzAreazz:o.FormatRoundNumber(a.GetFeaturesAreaAcres(e.sensAreaGL.graphics.filter((function(e){return"smz"===e.attributes.origin}))),1)+" acres",zzSevereSlopezz:e.slopeValue,zzSevereSlopesAreazz:o.FormatRoundNumber(r,1)+" acres",zzWetAreasAreazz:o.FormatRoundNumber(a.GetFeaturesAreaAcres(e.sensAreaGL.graphics.filter((function(e){return"wetlands"===e.attributes.origin}))),1)+" acres",zzWetAreasBufferAreazz:o.FormatRoundNumber(a.GetFeaturesAreaAcres(e.sensAreaGL.graphics.filter((function(e){return"wetlandsBuffer"===e.attributes.origin}))),1)+" acres"};e.reportsService.getSMZReports({content:JSON.stringify(n)}).subscribe((function(t){console.log(t),e.customSnackBarService.open({url:t.fileName}),e.spinner.hide()}))}}))}))},e.\u0275fac=function(t){return new(t||e)(i.\u0275\u0275directiveInject(s.DialogService),i.\u0275\u0275directiveInject(l.DecimalPipe),i.\u0275\u0275directiveInject(c.SensAreasService),i.\u0275\u0275directiveInject(p.NgxSpinnerService),i.\u0275\u0275directiveInject(u.PrintTaskService),i.\u0275\u0275directiveInject(m.ReportsService),i.\u0275\u0275directiveInject(d.CustomSnackBarService))},e.\u0275cmp=i.\u0275\u0275defineComponent({type:e,selectors:[["pmlo-sens-areas"]],viewQuery:function(e,t){var r;1&e&&i.\u0275\u0275viewQuery(M,!0),2&e&&i.\u0275\u0275queryRefresh(r=i.\u0275\u0275loadQuery())&&(t.sensAreaToolHeader=r.first)},inputs:{mapView:"mapView"},decls:12,vars:3,consts:[[3,"opened"],["sensAreaToolHeader",""],[1,"py-3"],[1,"smallIcon","right"],[4,"ngIf"],["mode","indeterminate"],["step","5","min","0","max","100",1,"widthSlider","mat-slider-has-ticks",3,"thumbLabel","value","input"],[1,"row"],[1,"plusSign"],[3,"checked","change"],[1,"saSymbol","streamLegend"],[1,"streamColor"],[1,"plusSign",3,"click"],[1,"saSymbol","smzBack"],["class","row",4,"ngIf"],[1,"saSymbol","slopeBack"],[1,"saSymbol","wetBack"],[1,"row","mt-3"],["mat-raised-button","",1,"pmlo-button","generalBtn",3,"click"],[1,"reportTitleContainer"],["matInput","","type","text","maxlength","40",3,"ngModel","ngModelChange"],["type","button","mat-raised-button","","color","accent",1,"pmlo-button","generalBtn",3,"click"],[1,"subMenuContainer"],[1,"example-form-field"],["matInput","","type","number","min","0",3,"value","input"],["mat-raised-button","","color","accent",1,"pmlo-button",3,"click"],[1,"prefix-margin"],["matInput","","type","number",3,"value","input"],[1,"saSymbol","wetBufferBack"]],template:function(e,t){1&e&&(i.\u0275\u0275elementStart(0,"mat-expansion-panel",0,1),i.\u0275\u0275listener("opened",(function(){return t.opened()})),i.\u0275\u0275elementStart(2,"mat-expansion-panel-header"),i.\u0275\u0275elementStart(3,"mat-panel-title"),i.\u0275\u0275text(4," Sensitive Areas "),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(5,"div",2),i.\u0275\u0275elementStart(6,"mat-icon",3),i.\u0275\u0275text(7,"help"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"br"),i.\u0275\u0275template(9,x,3,0,"ng-container",4),i.\u0275\u0275template(10,w,6,0,"ng-container",4),i.\u0275\u0275template(11,I,50,16,"ng-container",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&e&&(i.\u0275\u0275advance(9),i.\u0275\u0275property("ngIf","noBoundary"==t.state),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","clipping"==t.state),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf","clipped"==t.state))},directives:[f.MatExpansionPanel,f.MatExpansionPanelHeader,f.MatExpansionPanelTitle,g.MatIcon,l.NgIf,h.MatProgressBar,b.MatSlider,v.MatCheckbox,y.MatButton,S.MatFormField,S.MatLabel,_.MatInput,C.DefaultValueAccessor,C.MaxLengthValidator,C.NgControlStatus,C.NgModel],styles:["mat-slider[_ngcontent-%COMP%]{width:calc(100% - 3.3125rem)}.d-flex[_ngcontent-%COMP%]{display:flex}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.right[_ngcontent-%COMP%]{float:right}.row[_ngcontent-%COMP%]{display:flex}.py-3[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.mt-3[_ngcontent-%COMP%]{margin-top:.5rem}.plusSign[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.25rem;width:.75rem;align-self:center;cursor:pointer}.saSymbol[_ngcontent-%COMP%]{width:1.875rem;margin:.3125rem .625rem .3125rem auto;border:1px solid #000}.streamLegend[_ngcontent-%COMP%]{border:none!important}.streamColor[_ngcontent-%COMP%]{color:#005ce6;font-weight:700;font-size:1rem}.smzBack[_ngcontent-%COMP%]{background-color:#ff0}.slopeBack[_ngcontent-%COMP%]{background-color:red}.wetBack[_ngcontent-%COMP%]{background-color:#6699cd}.wetBufferBack[_ngcontent-%COMP%]{background-color:#444f89;margin-top:1.3125rem;margin-bottom:1.3125rem}.subMenuContainer[_ngcontent-%COMP%]{margin-left:2.5rem}.subMenuContainer[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:2.5rem;margin-right:.625rem}.pmlo-button[_ngcontent-%COMP%]{align-self:center}.prefix-margin[_ngcontent-%COMP%]{margin-right:.625rem}.generalBtn[_ngcontent-%COMP%], .reportTitleContainer[_ngcontent-%COMP%]{width:100%;margin-right:.625rem;margin-left:.625rem}.reportTitleContainer[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1rem}"]}),e}();t.SensAreasComponent=L}).apply(null,n))||(e.exports=a)},N5Jl:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("RYqx")],void 0===(a=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateSensAreasGL=void 0,n=r.__importDefault(n),t.CreateSensAreasGL=function(e,t){return new n.default({id:e,opacity:t})}}).apply(null,n))||(e.exports=a)},Ne1b:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("HEKD"),r("jZlN"),r("krU8"),r("1Zcn"),r("VcYX"),r("fXoL"),r("kt0X"),r("zzBJ"),r("T6IO"),r("Jl9L"),r("g1ZC")],void 0===(a=(function(e,t,r,n,a,o,i,s,l,c,p,u,m,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsrimapComponent=void 0,a=r.__importDefault(a),i=r.__importDefault(i),s=r.__importDefault(s),l=r.__importStar(l),c=r.__importStar(c),p=r.__importStar(p),u=r.__importStar(u),m=r.__importStar(m),d=r.__importStar(d);var f=["mapViewNode"],g=["searchBar"],h=["graphicsStore"],b=function(){function e(e){var t=this;this.store=e,this.clickToAddText=!1,this.sketchVM=new i.default,this.graphics$=this.store.select((function(e){return e.app.graphics})),this.polygonGraphicsLayer=n.CreatePolygonGraphicsLayer(),this.textGraphicsLayer=n.CreateTextGraphicsLayer(),this.showCoordinates=function(e){t.mapCoords="Lat: "+e.latitude.toFixed(5)+"  Long:"+e.longitude.toFixed(5)},this.showMapCoordinates=function(){t.mapView&&(t.mapView.watch("stationary",(function(){t.showCoordinates(t.mapView.center)})),t.mapView.on("pointer-move",(function(e){t.showCoordinates(t.mapView.toMap({x:e.x,y:e.y}))})))},this.initializeMap=function(){return r.__awaiter(t,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){try{this.mapView=s.default(this.mapViewEl,this.searchBarDiv),this.mapView.map.addMany([this.polygonGraphicsLayer,this.textGraphicsLayer]),this.sketchVM=o.SetupSketchViewModel(this.polygonGraphicsLayer,this.mapView),this.sketchVM.updatePointSymbol=e={type:"simple-marker",style:"circle",color:"cyan",size:"20px",outline:{color:[0,0,0],width:1}},this.sketchVM.activePointSymbol=e,this.showMapCoordinates()}catch(r){console.error("Map load error ",r)}return[2]}))}))},this.listenToGraphicsStore=function(){return t.graphics$.subscribe((function(e){if(e.length>0){var r=e.map((function(e){var t=JSON.parse(e);return"text"===t.attributes.geometryType?a.default.fromJSON(t):new a.default(t)})),n=r.filter((function(e){return"text"!=e.attributes.geometryType})),o=r.filter((function(e){return"text"===e.attributes.geometryType}));t.polygonGraphicsLayer.graphics=n,t.textGraphicsLayer.graphics=o}else t.polygonGraphicsLayer.removeAll(),t.textGraphicsLayer.removeAll()}))}}return e.prototype.undoFromKeyboard=function(){this.graphicsStoreEl.undo()},e.prototype.redoFromKeyboard=function(){this.graphicsStoreEl.redo()},e.prototype.redoFromKeyboardMac=function(){this.graphicsStoreEl.redo()},e.prototype.undoFromKeyboardMac=function(){this.graphicsStoreEl.undo()},e.prototype.ngOnInit=function(){this.initializeMap(),this.graphicsSubcription$=this.listenToGraphicsStore()},e.prototype.ngOnDestroy=function(){this.graphicsSubcription$.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(c.Store))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["pmlo-esrimap"]],viewQuery:function(e,t){var r;1&e&&(l.\u0275\u0275staticViewQuery(f,!0),l.\u0275\u0275staticViewQuery(g,!0),l.\u0275\u0275staticViewQuery(h,!0)),2&e&&(l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(t.mapViewEl=r.first),l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(t.searchBarDiv=r.first),l.\u0275\u0275queryRefresh(r=l.\u0275\u0275loadQuery())&&(t.graphicsStoreEl=r.first))},hostBindings:function(e,t){1&e&&l.\u0275\u0275listener("keydown.control.z",(function(){return t.undoFromKeyboard()}))("keydown.control.y",(function(){return t.redoFromKeyboard()}))("keydown.meta.shift.z",(function(){return t.redoFromKeyboardMac()}))("keydown.meta.z",(function(){return t.undoFromKeyboardMac()}))},decls:19,vars:8,consts:[[1,"sidebarBlanket"],["sidebar",""],[1,"sidebar"],[3,"sketchVM","mapView","textGraphicsLayer"],[3,"mapView"],[1,"mapBlanket"],[1,"headerBlanket"],["fxLayout","row",1,"header","headerRow","secondary"],["searchBar",""],[1,"coordsDisplay"],[1,"translucentPadding","mapViewNodeBlanket"],["id","parent",1,"mapViewNode"],["mapViewNode",""],["id","textboxes"],[1,"graphicsControls",3,"sketchVM","selectedGraphics","textGraphicsLayer"],["graphicsStore",""]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"div",0,1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275elementStart(3,"app-sidebar"),l.\u0275\u0275element(4,"app-drawtools",3),l.\u0275\u0275element(5,"pmlo-sens-areas",4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",5),l.\u0275\u0275elementStart(7,"div",6),l.\u0275\u0275elementStart(8,"div",7),l.\u0275\u0275element(9,"div",null,8),l.\u0275\u0275elementStart(11,"div",9),l.\u0275\u0275text(12),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(13,"div",10),l.\u0275\u0275elementStart(14,"div",11,12),l.\u0275\u0275element(16,"div",13),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(17,"app-graphic-store",14,15),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(4),l.\u0275\u0275property("sketchVM",t.sketchVM)("mapView",t.mapView)("textGraphicsLayer",t.textGraphicsLayer),l.\u0275\u0275advance(1),l.\u0275\u0275property("mapView",t.mapView),l.\u0275\u0275advance(7),l.\u0275\u0275textInterpolate1(" Mouse Coordinates [ ",t.mapCoords," ] "),l.\u0275\u0275advance(5),l.\u0275\u0275property("sketchVM",t.sketchVM)("selectedGraphics",t.selectedGraphics)("textGraphicsLayer",t.textGraphicsLayer))},directives:[p.SidebarComponent,u.DrawtoolsComponent,m.SensAreasComponent,d.GraphicsStoreComponent],styles:['@import url("https://js.arcgis.com/4.16/esri/css/main.css");.headerRow[_ngcontent-%COMP%]{height:50px;align-items:center;color:#000;padding-left:10px}.secondary[_ngcontent-%COMP%]{color:#fff;border-radius:5px 0 0 5px}.mapViewNode[_ngcontent-%COMP%]{height:100%;width:100%}.graphicsControls[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:20px;z-index:10;left:0;right:0}.mapBlanket[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.mapViewNodeBlanket[_ngcontent-%COMP%]{flex:1;padding:5px 0 0 5px;position:relative}.coordsDisplay[_ngcontent-%COMP%]{text-align:right;padding-right:10px;font-size:14px;flex:1;color:#dad2d2}.sidebarBlanket[_ngcontent-%COMP%]{width:250px;padding:5px 0 0 5px}.sidebar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px 5px 0 0}.translucentPadding[_ngcontent-%COMP%]{padding:5px}.headerBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px}.headerRow[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5);display:flex}.secondary[_ngcontent-%COMP%]{background-color:#353535}.sidebarBlanket[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5)}.sidebar[_ngcontent-%COMP%]{background-color:#353535;overflow-y:auto}.headerBlanket[_ngcontent-%COMP%], .translucentPadding[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5)}']}),e}();t.EsrimapComponent=b}).apply(null,n))||(e.exports=a)},QnnR:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("fXoL"),r("tk/3")],void 0===(a=(function(e,t,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReportsService=void 0,n=r.__importStar(n),a=r.__importStar(a);var o=function(){function e(e){this.http=e,this.backendServer="https://localhost:44358/",this.apiDomain=this.backendServer+"api/",this.smzReportUrl=this.apiDomain+"CreateSensAreasReport",this.httpOptions={responseType:"text"}}return e.prototype.getSMZReports=function(e){return this.http.post(this.smzReportUrl,e)},e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(a.HttpClient))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();t.ReportsService=o}).apply(null,n))||(e.exports=a)},SHIC:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("dNgK"),r("fXoL"),r("dNgK"),r("NFeN")],void 0===(a=(function(e,t,r,n,a,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSnackBarComponent=void 0,a=r.__importStar(a),o=r.__importStar(o),i=r.__importStar(i);var s=function(){function e(e,t){this.snackBar=e,this.data=t}return e.prototype.ngOnInit=function(){},e.prototype.close=function(){this.snackBar.dismiss()},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(o.MatSnackBar),a.\u0275\u0275directiveInject(n.MAT_SNACK_BAR_DATA))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-custom-snack-bar"]],decls:5,vars:1,consts:[[1,"snackbarContent"],["target","_blank","rel","noopener noreferrer",3,"href","click"],["aria-hidden","false","aria-label","cancel icon",1,"pointer",3,"click"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"a",1),a.\u0275\u0275listener("click",(function(){return t.close()})),a.\u0275\u0275text(2,"Open report"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(3,"mat-icon",2),a.\u0275\u0275listener("click",(function(){return t.close()})),a.\u0275\u0275text(4,"cancel"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("href",t.data.url,a.\u0275\u0275sanitizeUrl))},directives:[i.MatIcon],styles:[".snackbarContent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}a[_ngcontent-%COMP%]{color:#fff}mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),e}();t.CustomSnackBarComponent=s}).apply(null,n))||(e.exports=a)},a0Zm:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetSevereSlopesGpUrl=t.GetBufferSensAreasGpUrl=t.GetSensAreasGpUrl=t.GetTxStateUrl=void 0,t.GetTxStateUrl=function(){return"https://tfsgis02.tfs.tamu.edu/arcgis/rest/services/Shared/Boundaries/MapServer/5"},t.GetSensAreasGpUrl=function(){return"https://tfsgis-dfe02.tfs.tamu.edu/arcgis/rest/services/PMLO/ClipSensitiveAreas/GPServer/Clip%20Sensitive%20Areas"},t.GetBufferSensAreasGpUrl=function(){return"https://tfsgis-dfe02.tfs.tamu.edu/arcgis/rest/services/PMLO/BufferSensAreas/GPServer/Buffer%20Sensitive%20Areas"},t.GetSevereSlopesGpUrl=function(){return"http://tfsgis02.tfs.tamu.edu/arcgis/rest/services/PMLO/GetSlope/GPServer/Get%20Slope"}}).apply(null,n))||(e.exports=a)},bv9b:function(e,t,r){"use strict";r.r(t),r.d(t,"MAT_PROGRESS_BAR_LOCATION",(function(){return v})),r.d(t,"MAT_PROGRESS_BAR_LOCATION_FACTORY",(function(){return y})),r.d(t,"MatProgressBar",(function(){return _})),r.d(t,"MatProgressBarModule",(function(){return M}));var n=r("vuIU"),a=r("Ji7U"),o=r("LK+K"),i=r("1OyB"),s=r("fXoL"),l=r("ofXK"),c=r("FKr1"),p=r("8LU1"),u=r("R1ws"),m=r("quSY"),d=r("xgIS"),f=r("pLZG"),g=["primaryValueBar"],h=function e(t){Object(i.a)(this,e),this._elementRef=t},b=Object(c.mixinColor)(h,"primary"),v=new s.InjectionToken("mat-progress-bar-location",{providedIn:"root",factory:y});function y(){var e=Object(s.inject)(l.DOCUMENT),t=e?e.location:null;return{getPathname:function(){return t?t.pathname+t.search:""}}}var S=0,_=function(){var e=function(e){Object(a.a)(r,e);var t=Object(o.a)(r);function r(e,n,a,o){var l;Object(i.a)(this,r),(l=t.call(this,e))._elementRef=e,l._ngZone=n,l._animationMode=a,l._isNoopAnimation=!1,l._value=0,l._bufferValue=0,l.animationEnd=new s.EventEmitter,l._animationEndSubscription=m.a.EMPTY,l.mode="determinate",l.progressbarId="mat-progress-bar-".concat(S++);var c=o?o.getPathname().split("#")[0]:"";return l._rectangleFillValue="url('".concat(c,"#").concat(l.progressbarId,"')"),l._isNoopAnimation="NoopAnimations"===a,l}return Object(n.a)(r,[{key:"_primaryTransform",value:function(){return{transform:"scaleX(".concat(this.value/100,")")}}},{key:"_bufferTransform",value:function(){return"buffer"===this.mode?{transform:"scaleX(".concat(this.bufferValue/100,")")}:null}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.runOutsideAngular((function(){var t=e._primaryValueBar.nativeElement;e._animationEndSubscription=Object(d.a)(t,"transitionend").pipe(Object(f.a)((function(e){return e.target===t}))).subscribe((function(){"determinate"!==e.mode&&"buffer"!==e.mode||e._ngZone.run((function(){return e.animationEnd.next({value:e.value})}))}))}))}},{key:"ngOnDestroy",value:function(){this._animationEndSubscription.unsubscribe()}},{key:"value",get:function(){return this._value},set:function(e){this._value=C(Object(p.e)(e)||0)}},{key:"bufferValue",get:function(){return this._bufferValue},set:function(e){this._bufferValue=C(e||0)}}]),r}(b);return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.NgZone),s["\u0275\u0275directiveInject"](u.ANIMATION_MODULE_TYPE,8),s["\u0275\u0275directiveInject"](v,8))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["mat-progress-bar"]],viewQuery:function(e,t){var r;1&e&&s["\u0275\u0275viewQuery"](g,!0),2&e&&s["\u0275\u0275queryRefresh"](r=s["\u0275\u0275loadQuery"]())&&(t._primaryValueBar=r.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,t){2&e&&(s["\u0275\u0275attribute"]("aria-valuenow","indeterminate"===t.mode||"query"===t.mode?null:t.value)("mode",t.mode),s["\u0275\u0275classProp"]("_mat-animation-noopable",t._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,t){1&e&&(s["\u0275\u0275namespaceSVG"](),s["\u0275\u0275elementStart"](0,"svg",0),s["\u0275\u0275elementStart"](1,"defs"),s["\u0275\u0275elementStart"](2,"pattern",1),s["\u0275\u0275element"](3,"circle",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"rect",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275namespaceHTML"](),s["\u0275\u0275element"](5,"div",4),s["\u0275\u0275element"](6,"div",5,6),s["\u0275\u0275element"](8,"div",7)),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("id",t.progressbarId),s["\u0275\u0275advance"](2),s["\u0275\u0275attribute"]("fill",t._rectangleFillValue),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngStyle",t._bufferTransform()),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngStyle",t._primaryTransform()))},directives:[l.NgStyle],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),e}();function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(t,Math.min(r,e))}var M=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.CommonModule,c.MatCommonModule],c.MatCommonModule]}),e}()},"kF+t":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("tyNb"),r("ofXK"),r("YUcS"),r("IwBl"),r("nrK/"),r("xdbU"),r("/FBK"),r("0IaG"),r("3aN3"),r("fXoL"),r("tyNb"),r("rDax")],void 0===(a=(function(e,t,r,n,a,o,i,s,l,c,p,u,m,d,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlanmylandoperationModule=void 0,m=r.__importStar(m),d=r.__importStar(d),f=r.__importStar(f);var g=[{path:"",component:s.PmloComponent}],h=function(){function e(e){e.getContainerElement().classList.add("pmlo-theme")}return e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({factory:function(t){return new(t||e)(m.\u0275\u0275inject(f.OverlayContainer))},providers:[c.DialogService,p.MatDialog,a.DecimalPipe,u.CustomSnackBarService],imports:[[a.CommonModule,l.EsriMapModule,n.RouterModule.forChild(g),o.FlexLayoutModule,i.HeaderModule,p.MatDialogModule]]}),e}();t.PlanmylandoperationModule=h}).apply(null,n))||(e.exports=a)},kOQQ:function(e,t,r){var n,a;n=[r.dj.c(e.i),t],void 0===(a=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetCustomExportWebMapUrl=void 0,t.GetCustomExportWebMapUrl=function(){return"https://tfsgis-dfe02.tfs.tamu.edu/arcgis/rest/services/Shared/CustomExportWebMap/GPServer/Export%20Web%20Map"}}).apply(null,n))||(e.exports=a)},ktw2:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("ofXK"),r("fXoL")],void 0===(a=(function(e,t,r,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarModule=void 0,a=r.__importStar(a);var o=function(){function e(){}return e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule]]}),e}();t.SidebarModule=o}).apply(null,n))||(e.exports=a)},"nrK/":function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("fXoL"),r("aZ8m"),r("Ne1b")],void 0===(a=(function(e,t,r,n,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PmloComponent=void 0,n=r.__importStar(n),a=r.__importStar(a),o=r.__importStar(o);var i=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["app-pmlo"]],decls:3,vars:4,consts:[[1,"parentContainer"],[3,"headerColor","title"],[1,"esriMap"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"main",0),n.\u0275\u0275element(1,"app-header",1),n.\u0275\u0275element(2,"pmlo-esrimap",2),n.\u0275\u0275elementEnd()),2&e&&(n.\u0275\u0275classMap("pmlo-theme"),n.\u0275\u0275advance(1),n.\u0275\u0275property("headerColor","rgba(143, 131, 100, 0.5)")("title","Plan My Land Operation"))},directives:[a.HeaderComponent,o.EsrimapComponent],styles:[""]}),e}();t.PmloComponent=i}).apply(null,n))||(e.exports=a)},uTRD:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("a0Zm"),r("fXoL"),r("IpeC"),r("uajq"),r("w1v0"),r("PboI"),r("lNcg"),r("FPvF"),r("fXoL")],void 0===(a=(function(e,t,r,n,a,o,i,s,l,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SensAreasService=void 0,o=r.__importDefault(o),i=r.__importDefault(i),s=r.__importDefault(s),l=r.__importDefault(l),u=r.__importStar(u);var m=function(){function e(){this.updateState=new a.EventEmitter}return e.prototype.isWithinTexas=function(e){return new Promise((function(t){var r=new i.default({url:n.GetTxStateUrl()}),a=new o.default;a.spatialRelationship="within",a.returnGeometry=!1,a.geometry=e,r.execute(a).then((function(e){t(0!==e.features.length)}))}))},e.prototype.getSensAreas=function(e){return new Promise((function(t){var r=new s.default;r.features=[e];var a={inputPolygon:r},o=new l.default({url:n.GetSensAreasGpUrl()});o.submitJob(a).then((function(e){o.waitForJobCompletion(e.jobId).then((function(e){"job-succeeded"===e.jobStatus&&Promise.all([o.getResultData(e.jobId,"outputWetlands"),o.getResultData(e.jobId,"outputSevereSlopes"),o.getResultData(e.jobId,"outputSMZ"),o.getResultData(e.jobId,"outputStreams")]).then((function(e){t(e)}))}),(function(e){t([])}))}))}))},e.prototype.addSensAreasToMap=function(e,t,r){var n=this,a=(100-r)/100;t.forEach((function(t,r){var o,i,s=p.GetDefaultLineProps(),l="",u=!1;switch(r){case 0:i=p.GetWetlandsProps(a),o=c.CreatePolygonSymbol(s,i),l="wetlands";break;case 1:i=p.GetSlopeProps(a),o=c.CreatePolygonSymbol(s,i),l="slopes",u=!0;break;case 2:i=p.GetSMZProps(a),o=c.CreatePolygonSymbol(s,i),l="smz";break;case 3:s=p.GetStreamsLineProps(a),o=c.CreatePolylineSymbol(s),l="streams"}n.addGraphicsToGL(e,t.value,u,o,l,r,!1)}))},e.prototype.updateOpacity=function(e,t,r){e.graphics.forEach((function(e){e.attributes.origin===t&&(e.visible=r),"wetlands"===t&&"wetlandsBuffer"===e.attributes.origin&&(e.visible=r)}))},e.prototype.bufferGraphic=function(e,t,r){return new Promise((function(a){var o=new s.default;o.features=[t];var i={inputPolygon:o,origin:e,inputFeet:r.toString()},c=new l.default({url:n.GetBufferSensAreasGpUrl()});c.submitJob(i).then((function(e){c.waitForJobCompletion(e.jobId).then((function(e){"job-succeeded"===e.jobStatus&&c.getResultData(e.jobId,"outputBufferFeatures").then((function(e){a(e)}))}),(function(e){a(null)}))}))}))},e.prototype.addBuffersOrSlopeToMap=function(e,t,r,n){var a=(100-n)/100,o=p.GetSMZProps(a),i=p.GetDefaultLineProps(),s=!1,l=0;"smz"===r?(o=p.GetSMZProps(a),l=2):"wetlandsBuffer"===r?(o=p.GetWetlandsBufferProps(a),l=0):"slopes"===r&&(o=p.GetSlopeProps(a),l=1,s=!0);var u=c.CreatePolygonSymbol(i,o);this.addGraphicsToGL(e,t,s,u,r,l,!0)},e.prototype.updateGraphicsOpacity=function(e,t){var r=(100-t)/100;e.graphics.forEach((function(e){var t,n,a=p.GetDefaultLineProps();switch(e.attributes.origin){case"wetlands":n=p.GetWetlandsProps(r),t=c.CreatePolygonSymbol(a,n);break;case"wetlandsBuffer":n=p.GetWetlandsBufferProps(r),t=c.CreatePolygonSymbol(a,n);break;case"slopes":n=p.GetSlopeProps(r),t=c.CreatePolygonSymbol(a,n);break;case"smz":n=p.GetSMZProps(r),t=c.CreatePolygonSymbol(a,n);break;case"streams":a=p.GetStreamsLineProps(r),t=c.CreatePolylineSymbol(a)}e.symbol=t}))},e.prototype.setSlope=function(e,t){return new Promise((function(r){var a=new s.default;a.features=[e];var o={inputPolygon:a,minSlopeValue:t.toString()},i=new l.default({url:n.GetSevereSlopesGpUrl()});i.submitJob(o).then((function(e){i.waitForJobCompletion(e.jobId).then((function(e){"job-succeeded"===e.jobStatus&&i.getResultData(e.jobId,"outputSevereSlopes").then((function(e){r(e)}))}),(function(e){r(null)}))}))}))},e.prototype.removeGraphicsByAttribute=function(e,t){var r=e.graphics.filter((function(e){return e.attributes.origin===t}));e.removeMany(r)},e.prototype.addGraphicsToGL=function(e,t,r,n,a,o,i){if(i&&("smz"!==a&&"wetlandsBuffer"!==a&&"slopes"!==a||this.removeGraphicsByAttribute(e,a)),t.features.length>0){var s=[];t.features.forEach((function(e){e.symbol=n,e.attributes.origin=a,e.attributes.groupOrder=o,r?1===e.attributes.gridcode&&s.push(e):s.push(e)})),e.addMany(s),i&&e.graphics.sort((function(e,t){return e.attributes.groupOrder>t.attributes.groupOrder?1:e.attributes.groupOrder<t.attributes.groupOrder?-1:0}))}},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.\u0275\u0275defineDirective({type:e,outputs:{updateState:"updateState"}}),e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();t.SensAreasService=m}).apply(null,n))||(e.exports=a)},xdbU:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("ofXK"),r("9582"),r("ktw2"),r("ZRjd"),r("7EHt"),r("5RNC"),r("bSwM"),r("NFeN"),r("qFsG"),r("bTqV"),r("bv9b"),r("3Pt+"),r("fXoL")],void 0===(a=(function(e,t,r,n,a,o,i,s,l,c,p,u,m,d,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsriMapModule=void 0,g=r.__importStar(g);var h=function(){function e(){}return e.\u0275mod=g.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=g.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule,a.GraphicsStoreModule,o.SidebarModule,i.DrawtoolsModule,s.MatExpansionModule,l.MatSliderModule,c.MatCheckboxModule,p.MatIconModule,u.MatInputModule,m.MatButtonModule,d.MatProgressBarModule,f.FormsModule]]}),e}();t.EsriMapModule=h}).apply(null,n))||(e.exports=a)},zzBJ:function(e,t,r){var n,a;n=[r.dj.c(e.i),t,r("zOht"),r("fXoL")],void 0===(a=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarComponent=void 0,n=r.__importStar(n);var a=["*"],o=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["app-sidebar"]],ngContentSelectors:a,decls:1,vars:0,template:function(e,t){1&e&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275projection(0))},styles:[""]}),e}();t.SidebarComponent=o}).apply(null,n))||(e.exports=a)}}]);