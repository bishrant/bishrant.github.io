(function(){var e={"arcgis-js-api/layers/mixins/ArcGISService":"2fnV","arcgis-js-api/views/3d/support/polygonUtils":"DTDA","arcgis-js-api/core/MultiOriginJSONSupport":"EUqE","arcgis-js-api/layers/support/commonProperties":"EtsK","arcgis-js-api/layers/mixins/OperationalLayer":"FEX1","arcgis-js-api/core/libs/gl-matrix-2/mat4":"FXVB","arcgis-js-api/core/libs/gl-matrix-2/math/mat4":"Jl7l","arcgis-js-api/layers/support/SceneModifications":"Kkcm","arcgis-js-api/layers/mixins/PortalLayer":"QJ8R","arcgis-js-api/layers/mixins/operationalLayers":"hk3y","arcgis-js-api/core/ReadOnlyMultiOriginJSONSupport":"j8uw","arcgis-js-api/core/accessorSupport/MultiOriginStore":"rU+N","arcgis-js-api/layers/support/SceneModification":"sLdR","arcgis-js-api/layers/IntegratedMeshLayer":"wehw"},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"2fnV":function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("qsST"),r("Vx27"),r("8CIp")],void 0===(o=(function(e,t,r,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArcGISService=void 0,t.ArcGISService=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),Object.defineProperty(t.prototype,"title",{get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=n.parse(this.url);if(e&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{set:function(e){this._set("url",n.sanitizeUrl(e,i.getLogger(this.declaredClass)))},enumerable:!1,configurable:!0}),r.__decorate([o.property({dependsOn:["url"]})],t.prototype,"title",null),r.__decorate([o.property({type:String})],t.prototype,"url",null),r.__decorate([o.subclass("esri.layers.mixins.ArcGISService")],t)}(e)}}).apply(null,i))||(e.exports=o)},DTDA:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("mmEe")],void 0===(o=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.polygonToPolygon=void 0,t.polygonToPolygon=function(e,t,i,o){void 0===i&&(i=t.spatialReference),void 0===o&&(o=0);var n=[];return!!r.pathsToPaths(e.rings,e.hasZ,e.hasM,e.spatialReference,n,i,o)&&(t.rings=n,t.spatialReference=i,t.hasZ=e.hasZ,t.hasM=e.hasM,!0)}}).apply(null,i))||(e.exports=o)},EUqE:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("j8uw"),r("ZEeX"),r("o2T8"),r("Kg8D"),r("Dv6O")],void 0===(o=(function(e,t,r,i,o,n,a,s,p){"use strict";function l(e){return a.getProperties(e).store}Object.defineProperty(t,"__esModule",{value:!0}),t.MultiOriginJSONSupport=t.MultiOriginJSONMixin=void 0,t.MultiOriginJSONMixin=function(e){return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,t)||this}return r.__extends(t,e),r.__decorate([p.subclass("esri.core.MultiOriginJSONSupport")],t)}(function(e){var t=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,t)||this}return r.__extends(t,e),t.prototype.clear=function(e,t){return void 0===t&&(t="user"),l(this).delete(e,n.nameToId(t))},t.prototype.write=function(e,t){return void 0===e&&(e={}),s.default(this,e=e||{},t),e},t.prototype.setAtOrigin=function(e,t,r){a.getProperties(this).setAtOrigin(e,t,n.nameToId(r))},t.prototype.removeOrigin=function(e){for(var t=l(this),r=n.nameToId(e),i=0,o=t.keys(r);i<o.length;i++){var a=o[i];t.originOf(a)===r&&t.set(a,t.get(a,r),6)}},t.prototype.updateOrigin=function(e,t){for(var r=l(this),i=n.nameToId(t),o=this.get(e),a=i+1;a<n.OriginIdNum;++a)r.delete(e,a);r.set(e,o,i)},t.prototype.toJSON=function(e){return this.write({},e)},r.__decorate([p.subclass("esri.core.WriteableMultiOriginJSONSupport")],t)}(e);return t.prototype.toJSON.isDefaultToJSON=!0,t}(o.ReadOnlyMultiOriginJSONMixin(e)))};var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([p.subclass("esri.core.MultiOriginJSONSupport")],t)}(t.MultiOriginJSONMixin(i));t.MultiOriginJSONSupport=u}).apply(null,i))||(e.exports=o)},EtsK:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("9gfz"),r("o2T8"),r("Kg8D"),r("ojLd"),r("5ldw"),r("3fUp")],void 0===(o=(function(e,t,r,i,o,n,a,s,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combinedViewLayerTimeExtentProperty=t.opacityDrawingInfo=t.opacity=t.readOnlyService=t.elevationInfo=t.legendEnabled=t.url=t.labelsVisible=t.popupEnabled=t.screenSizePerspectiveEnabled=void 0,t.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(e,t){if(null!=t.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return t.screenSizePerspective;o.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0)}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(e,t,r,i){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||n.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},i))&&(t[r]=e)}}}}}},t.popupEnabled={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,r){t[r]=!e}}}},t.labelsVisible={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},t.url={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a.write}}},t.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},t.elevationInfo={value:null,type:s,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}},t.readOnlyService=function(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}},t.opacity={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},t.opacityDrawingInfo=r.__assign(r.__assign({},t.opacity),{json:r.__assign(r.__assign({},t.opacity.json),{origins:{"web-document":r.__assign(r.__assign({},t.opacity.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,r){return r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?p.transparencyToOpacity(t.layerDefinition.drawingInfo.transparency):void 0:p.transparencyToOpacity(t.drawingInfo.transparency)}}})}),t.combinedViewLayerTimeExtentProperty={type:i,dependsOn:["view.timeExtent","layer.timeExtent","layer.timeInfo","layer.timeOffset","layer.timeOffset.value","layer.timeOffset.unit","layer.useViewTime"],readOnly:!0,get:function(){var e,t;if(!(null===(e=this.layer)||void 0===e?void 0:e.timeInfo))return null;var r=null===(t=this.view)||void 0===t?void 0:t.timeExtent,i=this.layer.timeExtent,o=this.layer.useViewTime?r&&i?r.intersection(i):r||i:i;if(!o||o.isEmpty)return o;var n=this.layer.timeOffset,a=n?o.offset(-n.value,n.unit):o,s=this._get("timeExtent");return a.equals(s)?s:a}}}).apply(null,i))||(e.exports=o)},FEX1:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("Vx27"),r("Ab+N"),r("Kg8D"),r("hk3y"),r("EtsK"),r("2Kdy")],void 0===(o=(function(e,t,r,i,o,n,a,s,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationalLayer=void 0,t.OperationalLayer=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Layer",t}return r.__extends(t,e),t.prototype.writeListMode=function(e,t,r,i){(i&&"ground"===i.layerContainerType||e&&a.willPropertyWrite(this,r,{},i))&&(t[r]=e)},t.prototype.writeOperationalLayerType=function(e,t,r,i){!e||i&&"tables"===i.layerContainerType||(t.layerType=e)},t.prototype.writeTitle=function(e,t){t.title=e||"Layer"},t.prototype.read=function(t,r){var i=this;r&&(r.layer=this),n.readLoadable(this,t,(function(r){return e.prototype.read.call(i,t,r)}),r)},t.prototype.write=function(t,o){if(o&&o.origin){var n=o.origin+"/"+(o.layerContainerType||"operational-layers"),a=s.supportedTypes[n],p=a&&a[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===n&&(p=!1),!p)return o.messages&&o.messages.push(new i("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+n+"'",{layer:this})),null}var l=e.prototype.write.call(this,t,r.__assign(r.__assign({},o),{layer:this})),u=!!o&&!!o.messages&&!!o.messages.filter((function(e){return e instanceof i&&"web-document-write:property-required"===e.name})).length;return!this.url&&u?null:l},t.prototype.beforeSave=function(){},r.__decorate([o.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),r.__decorate([o.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),r.__decorate([o.writer("listMode")],t.prototype,"writeListMode",null),r.__decorate([o.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),r.__decorate([o.writer("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),r.__decorate([o.property(p.opacity)],t.prototype,"opacity",void 0),r.__decorate([o.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}}})],t.prototype,"title",void 0),r.__decorate([o.writer("title")],t.prototype,"writeTitle",null),r.__decorate([o.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),r.__decorate([o.subclass("esri.layers.mixins.OperationalLayer")],t)}(e)}}).apply(null,i))||(e.exports=o)},FXVB:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("Jl7l")],void 0===(o=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mat4=void 0,t.mat4=r}).apply(null,i))||(e.exports=o)},Jl7l:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("jaBu"),r("qysZ")],void 0===(o=(function(e,t,r,i){"use strict";function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function n(e,t,r){var i=t[0],o=t[1],n=t[2],a=t[3],s=t[4],p=t[5],l=t[6],u=t[7],c=t[8],d=t[9],y=t[10],f=t[11],h=t[12],v=t[13],g=t[14],m=t[15],_=r[0],M=r[1],S=r[2],b=r[3];return e[0]=_*i+M*s+S*c+b*h,e[1]=_*o+M*p+S*d+b*v,e[2]=_*n+M*l+S*y+b*g,e[3]=_*a+M*u+S*f+b*m,e[4]=(_=r[4])*i+(M=r[5])*s+(S=r[6])*c+(b=r[7])*h,e[5]=_*o+M*p+S*d+b*v,e[6]=_*n+M*l+S*y+b*g,e[7]=_*a+M*u+S*f+b*m,e[8]=(_=r[8])*i+(M=r[9])*s+(S=r[10])*c+(b=r[11])*h,e[9]=_*o+M*p+S*d+b*v,e[10]=_*n+M*l+S*y+b*g,e[11]=_*a+M*u+S*f+b*m,e[12]=(_=r[12])*i+(M=r[13])*s+(S=r[14])*c+(b=r[15])*h,e[13]=_*o+M*p+S*d+b*v,e[14]=_*n+M*l+S*y+b*g,e[15]=_*a+M*u+S*f+b*m,e}function a(e,t,r){var i=t[0],o=t[1],n=t[2],a=t[3],s=i+i,p=o+o,l=n+n,u=i*s,c=i*p,d=i*l,y=o*p,f=o*l,h=n*l,v=a*s,g=a*p,m=a*l;return e[0]=1-(y+h),e[1]=c+m,e[2]=d-g,e[3]=0,e[4]=c-m,e[5]=1-(u+h),e[6]=f+v,e[7]=0,e[8]=d+g,e[9]=f-v,e[10]=1-(u+y),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=t.equals=t.exactEquals=t.multiplyScalarAndAdd=t.multiplyScalar=t.subtract=t.add=t.frob=t.str=t.targetTo=t.lookAt=t.ortho=t.perspectiveFromFieldOfView=t.perspective=t.frustum=t.fromQuat=t.fromRotationTranslationScaleOrigin=t.fromRotationTranslationScale=t.getRotation=t.getScaling=t.getTranslation=t.fromQuat2=t.fromRotationTranslation=t.fromZRotation=t.fromYRotation=t.fromXRotation=t.fromRotation=t.fromScaling=t.fromTranslation=t.rotateZ=t.rotateY=t.rotateX=t.rotate=t.scale=t.translate=t.multiply=t.determinant=t.adjoint=t.invert=t.transpose=t.identity=t.set=t.copy=void 0,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.set=function(e,t,r,i,o,n,a,s,p,l,u,c,d,y,f,h,v){return e[0]=t,e[1]=r,e[2]=i,e[3]=o,e[4]=n,e[5]=a,e[6]=s,e[7]=p,e[8]=l,e[9]=u,e[10]=c,e[11]=d,e[12]=y,e[13]=f,e[14]=h,e[15]=v,e},t.identity=o,t.transpose=function(e,t){if(e===t){var r=t[1],i=t[2],o=t[3],n=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=n,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e},t.invert=function(e,t){var r=t[0],i=t[1],o=t[2],n=t[3],a=t[4],s=t[5],p=t[6],l=t[7],u=t[8],c=t[9],d=t[10],y=t[11],f=t[12],h=t[13],v=t[14],g=t[15],m=r*s-i*a,_=r*p-o*a,M=r*l-n*a,S=i*p-o*s,b=i*l-n*s,O=o*l-n*p,w=u*h-c*f,I=u*v-d*f,L=u*g-y*f,T=c*v-d*h,P=c*g-y*h,x=d*g-y*v,N=m*x-_*P+M*T+S*L-b*I+O*w;return N?(e[0]=(s*x-p*P+l*T)*(N=1/N),e[1]=(o*P-i*x-n*T)*N,e[2]=(h*O-v*b+g*S)*N,e[3]=(d*b-c*O-y*S)*N,e[4]=(p*L-a*x-l*I)*N,e[5]=(r*x-o*L+n*I)*N,e[6]=(v*M-f*O-g*_)*N,e[7]=(u*O-d*M+y*_)*N,e[8]=(a*P-s*L+l*w)*N,e[9]=(i*L-r*P-n*w)*N,e[10]=(f*b-h*M+g*m)*N,e[11]=(c*M-u*b-y*m)*N,e[12]=(s*I-a*T-p*w)*N,e[13]=(r*T-i*I+o*w)*N,e[14]=(h*_-f*S-v*m)*N,e[15]=(u*S-c*_+d*m)*N,e):null},t.adjoint=function(e,t){var r=t[0],i=t[1],o=t[2],n=t[3],a=t[4],s=t[5],p=t[6],l=t[7],u=t[8],c=t[9],d=t[10],y=t[11],f=t[12],h=t[13],v=t[14],g=t[15];return e[0]=s*(d*g-y*v)-c*(p*g-l*v)+h*(p*y-l*d),e[1]=-(i*(d*g-y*v)-c*(o*g-n*v)+h*(o*y-n*d)),e[2]=i*(p*g-l*v)-s*(o*g-n*v)+h*(o*l-n*p),e[3]=-(i*(p*y-l*d)-s*(o*y-n*d)+c*(o*l-n*p)),e[4]=-(a*(d*g-y*v)-u*(p*g-l*v)+f*(p*y-l*d)),e[5]=r*(d*g-y*v)-u*(o*g-n*v)+f*(o*y-n*d),e[6]=-(r*(p*g-l*v)-a*(o*g-n*v)+f*(o*l-n*p)),e[7]=r*(p*y-l*d)-a*(o*y-n*d)+u*(o*l-n*p),e[8]=a*(c*g-y*h)-u*(s*g-l*h)+f*(s*y-l*c),e[9]=-(r*(c*g-y*h)-u*(i*g-n*h)+f*(i*y-n*c)),e[10]=r*(s*g-l*h)-a*(i*g-n*h)+f*(i*l-n*s),e[11]=-(r*(s*y-l*c)-a*(i*y-n*c)+u*(i*l-n*s)),e[12]=-(a*(c*v-d*h)-u*(s*v-p*h)+f*(s*d-p*c)),e[13]=r*(c*v-d*h)-u*(i*v-o*h)+f*(i*d-o*c),e[14]=-(r*(s*v-p*h)-a*(i*v-o*h)+f*(i*p-o*s)),e[15]=r*(s*d-p*c)-a*(i*d-o*c)+u*(i*p-o*s),e},t.determinant=function(e){var t=e[0],r=e[1],i=e[2],o=e[3],n=e[4],a=e[5],s=e[6],p=e[7],l=e[8],u=e[9],c=e[10],d=e[11],y=e[12],f=e[13],h=e[14],v=e[15];return(t*a-r*n)*(c*v-d*h)-(t*s-i*n)*(u*v-d*f)+(t*p-o*n)*(u*h-c*f)+(r*s-i*a)*(l*v-d*y)-(r*p-o*a)*(l*h-c*y)+(i*p-o*s)*(l*f-u*y)},t.multiply=n,t.translate=function(e,t,r){var i=r[0],o=r[1],n=r[2],a=void 0,s=void 0,p=void 0,l=void 0,u=void 0,c=void 0,d=void 0,y=void 0,f=void 0,h=void 0,v=void 0,g=void 0;return t===e?(e[12]=t[0]*i+t[4]*o+t[8]*n+t[12],e[13]=t[1]*i+t[5]*o+t[9]*n+t[13],e[14]=t[2]*i+t[6]*o+t[10]*n+t[14],e[15]=t[3]*i+t[7]*o+t[11]*n+t[15]):(s=t[1],p=t[2],l=t[3],u=t[4],c=t[5],d=t[6],y=t[7],f=t[8],h=t[9],v=t[10],g=t[11],e[0]=a=t[0],e[1]=s,e[2]=p,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=y,e[8]=f,e[9]=h,e[10]=v,e[11]=g,e[12]=a*i+u*o+f*n+t[12],e[13]=s*i+c*o+h*n+t[13],e[14]=p*i+d*o+v*n+t[14],e[15]=l*i+y*o+g*n+t[15]),e},t.scale=function(e,t,r){var i=r[0],o=r[1],n=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.rotate=function(e,t,r,o){var n,a,s,p,l,u,c,d,y,f,h,v,g,m,_,M,S,b,O,w,I,L,T,P,x=o[0],N=o[1],j=o[2],E=Math.sqrt(x*x+N*N+j*j);return E<i.EPSILON?null:(x*=E=1/E,N*=E,j*=E,n=Math.sin(r),s=1-(a=Math.cos(r)),l=t[1],u=t[2],c=t[3],y=t[5],f=t[6],h=t[7],g=t[9],m=t[10],_=t[11],O=x*N*s-j*n,w=N*N*s+a,I=j*N*s+x*n,L=x*j*s+N*n,T=N*j*s-x*n,P=j*j*s+a,e[0]=(p=t[0])*(M=x*x*s+a)+(d=t[4])*(S=N*x*s+j*n)+(v=t[8])*(b=j*x*s-N*n),e[1]=l*M+y*S+g*b,e[2]=u*M+f*S+m*b,e[3]=c*M+h*S+_*b,e[4]=p*O+d*w+v*I,e[5]=l*O+y*w+g*I,e[6]=u*O+f*w+m*I,e[7]=c*O+h*w+_*I,e[8]=p*L+d*T+v*P,e[9]=l*L+y*T+g*P,e[10]=u*L+f*T+m*P,e[11]=c*L+h*T+_*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)},t.rotateX=function(e,t,r){var i=Math.sin(r),o=Math.cos(r),n=t[4],a=t[5],s=t[6],p=t[7],l=t[8],u=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*o+l*i,e[5]=a*o+u*i,e[6]=s*o+c*i,e[7]=p*o+d*i,e[8]=l*o-n*i,e[9]=u*o-a*i,e[10]=c*o-s*i,e[11]=d*o-p*i,e},t.rotateY=function(e,t,r){var i=Math.sin(r),o=Math.cos(r),n=t[0],a=t[1],s=t[2],p=t[3],l=t[8],u=t[9],c=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*o-l*i,e[1]=a*o-u*i,e[2]=s*o-c*i,e[3]=p*o-d*i,e[8]=n*i+l*o,e[9]=a*i+u*o,e[10]=s*i+c*o,e[11]=p*i+d*o,e},t.rotateZ=function(e,t,r){var i=Math.sin(r),o=Math.cos(r),n=t[0],a=t[1],s=t[2],p=t[3],l=t[4],u=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*o+l*i,e[1]=a*o+u*i,e[2]=s*o+c*i,e[3]=p*o+d*i,e[4]=l*o-n*i,e[5]=u*o-a*i,e[6]=c*o-s*i,e[7]=d*o-p*i,e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotation=function(e,t,r){var o,n,a,s=r[0],p=r[1],l=r[2],u=Math.sqrt(s*s+p*p+l*l);return u<i.EPSILON?null:(s*=u=1/u,p*=u,l*=u,o=Math.sin(t),a=1-(n=Math.cos(t)),e[0]=s*s*a+n,e[1]=p*s*a+l*o,e[2]=l*s*a-p*o,e[3]=0,e[4]=s*p*a-l*o,e[5]=p*p*a+n,e[6]=l*p*a+s*o,e[7]=0,e[8]=s*l*a+p*o,e[9]=p*l*a-s*o,e[10]=l*l*a+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},t.fromXRotation=function(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromYRotation=function(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromZRotation=function(e,t){var r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.fromRotationTranslation=a,t.fromQuat2=function(e,t){var r=s,i=-t[0],o=-t[1],n=-t[2],p=t[3],l=t[4],u=t[5],c=t[6],d=t[7],y=i*i+o*o+n*n+p*p;return y>0?(r[0]=2*(l*p+d*i+u*n-c*o)/y,r[1]=2*(u*p+d*o+c*i-l*n)/y,r[2]=2*(c*p+d*n+l*o-u*i)/y):(r[0]=2*(l*p+d*i+u*n-c*o),r[1]=2*(u*p+d*o+c*i-l*n),r[2]=2*(c*p+d*n+l*o-u*i)),a(e,t,r),e};var s=r.create();function p(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}t.getTranslation=function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},t.getScaling=function(e,t){var r=t[0],i=t[1],o=t[2],n=t[4],a=t[5],s=t[6],p=t[8],l=t[9],u=t[10];return e[0]=Math.sqrt(r*r+i*i+o*o),e[1]=Math.sqrt(n*n+a*a+s*s),e[2]=Math.sqrt(p*p+l*l+u*u),e},t.getRotation=function(e,t){var r=t[0]+t[5]+t[10],i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e},t.fromRotationTranslationScale=function(e,t,r,i){var o=t[0],n=t[1],a=t[2],s=t[3],p=o+o,l=n+n,u=a+a,c=o*p,d=o*l,y=o*u,f=n*l,h=n*u,v=a*u,g=s*p,m=s*l,_=s*u,M=i[0],S=i[1],b=i[2];return e[0]=(1-(f+v))*M,e[1]=(d+_)*M,e[2]=(y-m)*M,e[3]=0,e[4]=(d-_)*S,e[5]=(1-(c+v))*S,e[6]=(h+g)*S,e[7]=0,e[8]=(y+m)*b,e[9]=(h-g)*b,e[10]=(1-(c+f))*b,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},t.fromRotationTranslationScaleOrigin=function(e,t,r,i,o){var n=t[0],a=t[1],s=t[2],p=t[3],l=n+n,u=a+a,c=s+s,d=n*l,y=n*u,f=n*c,h=a*u,v=a*c,g=s*c,m=p*l,_=p*u,M=p*c,S=i[0],b=i[1],O=i[2],w=o[0],I=o[1],L=o[2],T=(1-(h+g))*S,P=(y+M)*S,x=(f-_)*S,N=(y-M)*b,j=(1-(d+g))*b,E=(v+m)*b,R=(f+_)*O,A=(v-m)*O,J=(1-(d+h))*O;return e[0]=T,e[1]=P,e[2]=x,e[3]=0,e[4]=N,e[5]=j,e[6]=E,e[7]=0,e[8]=R,e[9]=A,e[10]=J,e[11]=0,e[12]=r[0]+w-(T*w+N*I+R*L),e[13]=r[1]+I-(P*w+j*I+A*L),e[14]=r[2]+L-(x*w+E*I+J*L),e[15]=1,e},t.fromQuat=function(e,t){var r=t[0],i=t[1],o=t[2],n=t[3],a=r+r,s=i+i,p=o+o,l=r*a,u=i*a,c=i*s,d=o*a,y=o*s,f=o*p,h=n*a,v=n*s,g=n*p;return e[0]=1-c-f,e[1]=u+g,e[2]=d-v,e[3]=0,e[4]=u-g,e[5]=1-l-f,e[6]=y+h,e[7]=0,e[8]=d+v,e[9]=y-h,e[10]=1-l-c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},t.frustum=function(e,t,r,i,o,n,a){var s=1/(r-t),p=1/(o-i),l=1/(n-a);return e[0]=2*n*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*p,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(o+i)*p,e[10]=(a+n)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*l,e[15]=0,e},t.perspective=function(e,t,r,i,o){var n=1/Math.tan(t/2),a=void 0;return e[0]=n/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(e[10]=(o+i)*(a=1/(i-o)),e[14]=2*o*i*a):(e[10]=-1,e[14]=-2*i),e},t.perspectiveFromFieldOfView=function(e,t,r,i){var o=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),p=2/(a+s),l=2/(o+n);return e[0]=p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-s)*p*.5,e[9]=(o-n)*l*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e},t.ortho=function(e,t,r,i,o,n,a){var s=1/(t-r),p=1/(i-o),l=1/(n-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*p,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+r)*s,e[13]=(o+i)*p,e[14]=(a+n)*l,e[15]=1,e},t.lookAt=function(e,t,r,n){var a=void 0,s=void 0,p=void 0,l=void 0,u=void 0,c=void 0,d=void 0,y=void 0,f=void 0,h=void 0,v=t[0],g=t[1],m=t[2],_=n[0],M=n[1],S=n[2],b=r[0],O=r[1],w=r[2];return Math.abs(v-b)<i.EPSILON&&Math.abs(g-O)<i.EPSILON&&Math.abs(m-w)<i.EPSILON?o(e):(d=v-b,y=g-O,f=m-w,a=M*(f*=h=1/Math.sqrt(d*d+y*y+f*f))-S*(y*=h),s=S*(d*=h)-_*f,p=_*y-M*d,(h=Math.sqrt(a*a+s*s+p*p))?(a*=h=1/h,s*=h,p*=h):(a=0,s=0,p=0),l=y*p-f*s,u=f*a-d*p,c=d*s-y*a,(h=Math.sqrt(l*l+u*u+c*c))?(l*=h=1/h,u*=h,c*=h):(l=0,u=0,c=0),e[0]=a,e[1]=l,e[2]=d,e[3]=0,e[4]=s,e[5]=u,e[6]=y,e[7]=0,e[8]=p,e[9]=c,e[10]=f,e[11]=0,e[12]=-(a*v+s*g+p*m),e[13]=-(l*v+u*g+c*m),e[14]=-(d*v+y*g+f*m),e[15]=1,e)},t.targetTo=function(e,t,r,i){var o=t[0],n=t[1],a=t[2],s=i[0],p=i[1],l=i[2],u=o-r[0],c=n-r[1],d=a-r[2],y=u*u+c*c+d*d;y>0&&(u*=y=1/Math.sqrt(y),c*=y,d*=y);var f=p*d-l*c,h=l*u-s*d,v=s*c-p*u;return(y=f*f+h*h+v*v)>0&&(f*=y=1/Math.sqrt(y),h*=y,v*=y),e[0]=f,e[1]=h,e[2]=v,e[3]=0,e[4]=c*v-d*h,e[5]=d*f-u*v,e[6]=u*h-c*f,e[7]=0,e[8]=u,e[9]=c,e[10]=d,e[11]=0,e[12]=o,e[13]=n,e[14]=a,e[15]=1,e},t.str=function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))},t.add=function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},t.subtract=p,t.multiplyScalar=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},t.multiplyScalarAndAdd=function(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},t.equals=function(e,t){var r=e[0],o=e[1],n=e[2],a=e[3],s=e[4],p=e[5],l=e[6],u=e[7],c=e[8],d=e[9],y=e[10],f=e[11],h=e[12],v=e[13],g=e[14],m=e[15],_=t[0],M=t[1],S=t[2],b=t[3],O=t[4],w=t[5],I=t[6],L=t[7],T=t[8],P=t[9],x=t[10],N=t[11],j=t[12],E=t[13],R=t[14],A=t[15];return Math.abs(r-_)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(o-M)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(n-S)<=i.EPSILON*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(a-b)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(s-O)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(p-w)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(l-I)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(u-L)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(L))&&Math.abs(c-T)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(d-P)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(y-x)<=i.EPSILON*Math.max(1,Math.abs(y),Math.abs(x))&&Math.abs(f-N)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(h-j)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(v-E)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(g-R)<=i.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(m-A)<=i.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))},t.mul=n,t.sub=p}).apply(null,i))||(e.exports=o)},Kkcm:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("y4WC"),r("ycL1"),r("LxLY"),r("jfWY"),r("Vx27"),r("sLdR")],void 0===(o=(function(e,t,r,i,o,n,a,s,p,l){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.url=null,r}var o;return r.__extends(t,e),o=t,t.prototype.toJSON=function(e){return this.toArray().map((function(t){return t.toJSON(e)})).filter((function(e){return!!e.geometry}))},t.prototype.clone=function(){return new o({url:this.url,items:this.items.map((function(e){return e.clone()}))})},t.prototype._readModifications=function(e,t){for(var r=0,i=e;r<i.length;r++)this.add(l.fromJSON(i[r],t))},t.fromJSON=function(e,t){var r=new o;return r._readModifications(e,t),r},t.fromUrl=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var p,u,c,d,y,f,h;return r.__generator(this,(function(v){switch(v.label){case 0:return p={url:s.urlToObject(e),origin:"service"},[4,i(e,{responseType:"json",signal:a.get(n,"signal")})];case 1:for(u=v.sent(),c=t.toJSON(),d=[],y=0,f=u.data;y<f.length;y++)d.push(l.fromJSON(r.__assign(r.__assign({},h=f[y]),{geometry:r.__assign(r.__assign({},h.geometry),{spatialReference:c})}),p));return[2,new o({url:e,items:d})]}}))}))},r.__decorate([p.property({type:String})],t.prototype,"url",void 0),o=r.__decorate([p.subclass("esri.layers.support.SceneModifications")],t)}(n.JSONSupportMixin(o.ofType(l)))}).apply(null,i))||(e.exports=o)},QJ8R:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("qsST"),r("qMld"),r("jfWY"),r("Vx27"),r("Qwus"),r("QmTF"),r("2Kdy")],void 0===(o=(function(e,t,i,o,n,a,s,p,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PortalLayer=void 0;var c=n.getLogger("esri.layers.mixins.PortalLayer");t.PortalLayer=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resourceReferences={portalItem:null,paths:[]},t}return i.__extends(t,e),t.prototype.destroy=function(){var e;null===(e=this.portalItem)||void 0===e||e.destroy(),this.portalItem=null},Object.defineProperty(t.prototype,"portalItem",{set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))},enumerable:!1,configurable:!0}),t.prototype.readPortalItem=function(e,t,r){if(t.itemId)return new u({id:t.itemId,portal:r&&r.portal})},t.prototype.writePortalItem=function(e,t){e&&e.id&&(t.itemId=e.id)},t.prototype.loadFromPortal=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var o,n;return i.__generator(this,(function(i){switch(i.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,new Promise((function(e,t){Promise.all([r.e(1),r.e(106)]).then((function(){var t=[r("6hwa")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))];case 2:return o=i.sent(),a.throwIfAborted(t),[4,o.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)];case 3:return[2,i.sent()];case 4:throw n=i.sent(),c.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+n),n;case 5:return[2]}}))}))},t.prototype.read=function(t,r){r&&(r.layer=this),e.prototype.read.call(this,t,r)},t.prototype.write=function(t,r){var n=r&&r.portal,a=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||l.getDefault());return n&&a&&!s.hasSamePortal(a.restUrl,n.restUrl)?(r.messages&&r.messages.push(new o("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):e.prototype.write.call(this,t,i.__assign(i.__assign({},r),{layer:this}))},i.__decorate([p.property({type:u})],t.prototype,"portalItem",null),i.__decorate([p.reader("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),i.__decorate([p.writer("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),i.__decorate([p.property()],t.prototype,"resourceReferences",void 0),i.__decorate([p.subclass("esri.layers.mixins.PortalLayer")],t)}(e)}}).apply(null,i))||(e.exports=o)},hk3y:function(e,t,r){var i,o;i=[r.dj.c(e.i),t],void 0===(o=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypes=void 0,t.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}}}).apply(null,i))||(e.exports=o)},j8uw:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("LxLY"),r("rU+N"),r("ZEeX"),r("Ab+N"),r("o2T8"),r("Dv6O")],void 0===(o=(function(e,t,r,i,o,n,a,s,p,l){"use strict";function u(e){return p.getProperties(e).store}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadOnlyMultiOriginJSONSupport=t.ReadOnlyMultiOriginJSONMixin=void 0,t.ReadOnlyMultiOriginJSONMixin=function(e){return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this,a=o.assumeNonNull(p.getProperties(i)),s=a.metadatas,l=a.store,u=new n.default;return a.store=u,l.keys().forEach((function(e){u.set(e,l.get(e),0)})),Object.keys(s).forEach((function(e){a.internalGet(e)&&u.set(e,a.internalGet(e),0)})),i}return r.__extends(t,e),t.prototype.read=function(e,t){s.default(this,e,t)},t.prototype.getAtOrigin=function(e,t){var r=u(this),i=a.nameToId(t);if("string"==typeof e)return r.get(e,i);var o={};return e.forEach((function(e){o[e]=r.get(e,i)})),o},t.prototype.originOf=function(e){return a.idToName(this.originIdOf(e))},t.prototype.originIdOf=function(e){return u(this).originOf(e)},t.prototype.revert=function(e,t){var r=u(this),i=a.nameToId(t),o=p.getProperties(this);("string"==typeof e?"*"===e?r.keys(i):[e]:e).forEach((function(e){o.propertyInvalidated(e),r.revert(e,i),o.propertyCommitted(e)}))},r.__decorate([l.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],t)}(e)};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([l.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],t)}(t.ReadOnlyMultiOriginJSONMixin(i));t.ReadOnlyMultiOriginJSONSupport=c}).apply(null,i))||(e.exports=o)},"rU+N":function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("KY0m"),r("rg9i"),r("LxLY"),r("ZEeX")],void 0===(o=(function(e,t,r,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this._propertyOriginMap=new Map,this._originStores=new Array(n.OriginIdNum),this._values=new Map}return e.prototype.clone=function(t){var r=new e,o=this._originStores[0];o&&o.forEach((function(e,t){r.set(t,i.clone(e),0)}));for(var a=function(e){var o=s._originStores[e];o&&o.forEach((function(o,n){t&&t.has(n)||r.set(n,i.clone(o),e)}))},s=this,p=2;p<n.OriginIdNum;p++)a(p);return r},e.prototype.get=function(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0},e.prototype.keys=function(e){var t=null==e?this._values:this._originStores[e];return t?r.keysOfMap(t):[]},e.prototype.set=function(e,t,r){void 0===r&&(r=6);var i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||o.assumeNonNull(this._propertyOriginMap.get(e))<=r){var n=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),n!==t}return!1},e.prototype.delete=function(e,t){void 0===t&&(t=6);var r=this._originStores[t];if(r){var i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var o=t-1;o>=0;o--){var n=this._originStores[o];if(n&&n.has(e)){this._values.set(e,n.get(e)),this._propertyOriginMap.set(e,o);break}}}return i}},e.prototype.has=function(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)},e.prototype.revert=function(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],i=r&&r.get(e),o=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),o!==i},e.prototype.originOf=function(e){return this._propertyOriginMap.get(e)||0},e.prototype.forEach=function(e){this._values.forEach(e)},e}();t.default=a}).apply(null,i))||(e.exports=o)},sLdR:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("ycL1"),r("rg9i"),r("V2ZO"),r("Vx27"),r("RPEu"),r("DTDA"),r("mmEe")],void 0===(o=(function(e,t,r,i,o,n,a,s,p,l,u){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.geometry=null,r.type="clip",r}var o;return r.__extends(t,e),o=t,t.prototype.writeGeometry=function(e,t,r,o){if(o.layer&&o.layer.spatialReference&&!o.layer.spatialReference.equals(this.geometry.spatialReference)){if(!u.canProject(e.spatialReference,o.layer.spatialReference))return void(o&&o.messages&&o.messages.push(new a("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:o.layer.spatialReference,context:o})));var n=new i.Polygon({spatialReference:o.layer.spatialReference});l.polygonToPolygon(e,n),t[r]=n.toJSON(o)}else t[r]=e.toJSON(o);delete t[r].spatialReference},t.prototype.clone=function(){return new o({geometry:n.clone(this.geometry),type:this.type})},r.__decorate([s.property({type:i.Polygon}),p.persistable()],t.prototype,"geometry",void 0),r.__decorate([s.writer(["web-scene","portal-item"],"geometry")],t.prototype,"writeGeometry",null),r.__decorate([s.property({type:["clip","mask","replace"],nonNullable:!0}),p.persistable()],t.prototype,"type",void 0),o=r.__decorate([s.subclass("esri.layers.support.SceneModification")],t)}(o.JSONSupport)}).apply(null,i))||(e.exports=o)},wehw:function(e,t,r){var i,o;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("eIBl"),r("LxLY"),r("EUqE"),r("8MXS"),r("Vx27"),r("RPEu"),r("0RER"),r("2fnV"),r("FEX1"),r("QJ8R"),r("OXmT"),r("JNpq"),r("EtsK"),r("OjNT"),r("Kkcm"),r("ojLd")],void 0===(o=(function(e,t,r,i,o,n,a,s,p,l,u,c,d,y,f,h,v,g,m,_){"use strict";return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this;return i.handles=new o,i.geometryType="mesh",i.operationalLayerType="IntegratedMeshLayer",i.type="integrated-mesh",i.nodePages=null,i.materialDefinitions=null,i.textureSetDefinitions=null,i.geometryDefinitions=null,i.serviceUpdateTimeStamp=null,i.profile="mesh-pyramids",i.modifications=null,i._modificationsSource=null,i.elevationInfo=null,i.path=null,i}return r.__extends(t,e),t.prototype.destroy=function(){this.handles.destroy()},t.prototype.initialize=function(){var e=this;this.handles.add(s.on(this,"modifications","after-changes",(function(){return e.modifications=e.modifications}),null,null,!0))},t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?r.__assign({url:e},t):e},t.prototype.readModifications=function(e,t,r){this._modificationsSource={url:_.fromJSON(e,r),context:r}},t.prototype.load=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.addResolvingPromise(this._doLoad(e)),[2,this]}))}))},t.prototype._doLoad=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i;return r.__generator(this,(function(r){switch(r.label){case 0:t=n.get(e,"signal"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.loadFromPortal({supportedTypes:["Scene Service"]},e)];case 2:case 3:return r.sent(),[3,4];case 4:return[4,this._fetchService(t)];case 5:return r.sent(),n.isSome(this._modificationsSource)?[4,m.fromUrl(this._modificationsSource.url,this.spatialReference,e)]:[3,7];case 6:i=r.sent(),this.setAtOrigin("modifications",i,this._modificationsSource.context.origin),this._modificationsSource=null,r.label=7;case 7:return[4,this._verifyRootNodeAndUpdateExtent(this.nodePages,t)];case 8:return r.sent(),[2]}}))}))},t.prototype.beforeSave=function(){if(!n.isNone(this._modificationsSource))return this.load().then((function(){}),(function(){}))},t.prototype.saveAs=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){return[2,this._debouncedSaveOperations(1,r.__assign(r.__assign({},t),{getTypeKeywords:function(){return i._getTypeKeywords()},portalItemLayerType:"integrated-mesh"}),e)]}))}))},t.prototype.save=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){return[2,this._debouncedSaveOperations(0,{getTypeKeywords:function(){return e._getTypeKeywords()},portalItemLayerType:"integrated-mesh"})]}))}))},t.prototype.validateLayer=function(e){if(e.layerType&&"IntegratedMesh"!==e.layerType)throw new i("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new i("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new i("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})},t.prototype._getTypeKeywords=function(){return["IntegratedMeshLayer"]},r.__decorate([p.property({type:String,readOnly:!0})],t.prototype,"geometryType",void 0),r.__decorate([p.property({type:["show","hide"]})],t.prototype,"listMode",void 0),r.__decorate([p.property({type:["IntegratedMeshLayer"]})],t.prototype,"operationalLayerType",void 0),r.__decorate([p.property({json:{read:!1},readOnly:!0})],t.prototype,"type",void 0),r.__decorate([p.property({type:g.I3SNodePageDefinition,readOnly:!0})],t.prototype,"nodePages",void 0),r.__decorate([p.property({type:[g.I3SMaterialDefinition],readOnly:!0})],t.prototype,"materialDefinitions",void 0),r.__decorate([p.property({type:[g.I3STextureSetDefinition],readOnly:!0})],t.prototype,"textureSetDefinitions",void 0),r.__decorate([p.property({type:[g.I3SGeometryDefinition],readOnly:!0})],t.prototype,"geometryDefinitions",void 0),r.__decorate([p.property({readOnly:!0})],t.prototype,"serviceUpdateTimeStamp",void 0),r.__decorate([p.property({type:m}),l.persistable({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],t.prototype,"modifications",void 0),r.__decorate([p.reader(["web-scene","portal-item"],"modifications")],t.prototype,"readModifications",null),r.__decorate([p.property(v.elevationInfo)],t.prototype,"elevationInfo",void 0),r.__decorate([p.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],t.prototype,"path",void 0),r.__decorate([p.subclass("esri.layers.IntegratedMeshLayer")],t)}(h.SceneService(c.ArcGISService(d.OperationalLayer(y.PortalLayer(f.ScaleRangeLayer(a.MultiOriginJSONMixin(u)))))))}).apply(null,i))||(e.exports=o)}}]);