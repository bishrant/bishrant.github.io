(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/graphics/data/timeSupport":"/61J","esri/layers/graphics/data/BoundsStore":"2xGR","esri/layers/graphics/data/QueryEngineCapabilities":"4/qq","esri/layers/graphics/data/AttributesBuilder":"700l","esri/layers/graphics/centroid":"Fzzg","esri/layers/graphics/data/spatialQuerySupport":"V1i6","esri/layers/graphics/data/attributeSupport":"Ytki","esri/layers/graphics/data/executeTileQuery":"ZGAQ","esri/core/ItemCache":"ZHL0","esri/layers/graphics/data/QueryEngine":"ZooB","esri/layers/graphics/data/QueryEngineResult":"d81A","esri/layers/graphics/contains":"gT/q","esri/layers/graphics/data/FeatureStore":"rfv1","esri/layers/support/PromiseQueue":"tZaU","esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":"yLD6","esri/layers/graphics/data/utils":"zDti","esri/core/sql/WhereClauseCache":"ztx9"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/61J":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeExtent=function(e,t){if(!e)return null;var r=t.featureAdapter,i=e.startTimeField,n=e.endTimeField,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(i&&n)t.forEach((function(e){var t=r.getAttribute(e,i),u=r.getAttribute(e,n);null==t||isNaN(t)||(s=Math.min(s,t)),null==u||isNaN(u)||(o=Math.max(o,u))}));else{var u=i||n;t.forEach((function(e){var t=r.getAttribute(e,u);null==t||isNaN(t)||(s=Math.min(s,t),o=Math.max(o,t))}))}return{start:s,end:o}},t.getTimeOperator=function(e,t,r){if(!t||!e)return null;var i=e.startTimeField,n=e.endTimeField;if(!i&&!n)return null;var s=t.start,o=t.end;return null===s&&null===o?null:void 0===s&&void 0===o?function(){return!1}:i&&n?function(e,t,r,i,n){if(null!=i&&null!=n&&i===n){var s=i;return function(i){return s>=e.getAttribute(i,t)&&s<=e.getAttribute(i,r)}}return null!=i&&null!=n?function(s){return o=i,u=n,a=e.getAttribute(s,t),l=e.getAttribute(s,r),!(a>u||l<o);var o,u,a,l}:null!=i?function(t){return!(e.getAttribute(t,r)<i)}:null!=n?function(r){return!(e.getAttribute(r,t)>n)}:void 0}(r,i,n,s,o):function(e,t,r,i){return null!=r&&null!=i&&r===i?function(i){return e.getAttribute(i,t)===r}:null!=r&&null!=i?function(n){return e.getAttribute(n,t)>=r&&e.getAttribute(n,t)<=i}:null!=r?function(i){return e.getAttribute(i,t)>=r}:null!=i?function(r){return e.getAttribute(r,t)<=i}:void 0}(r,i||n,s,o)}}).apply(null,i))||(e.exports=n)},"2xGR":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("H1tY"),r("jEml"),r("2Kdy")],void 0===(n=(function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n={minX:0,minY:0,maxX:0,maxY:0},s=function(){function e(){var e=this;this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,r("csp-restrictions")?function(e){return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}:["[0]","[1]","[2]","[3]"]),this._loadIndex=function(){if(e._indexInvalid){var t=new Array(e._idByBounds.size),r=0;e._idByBounds.forEach((function(e,i){t[r++]=i})),e._indexInvalid=!1,e._index.clear(),e._index.load(t)}else e._boundsToLoad.length&&(e._index.load(e._boundsToLoad.filter((function(t){return e._idByBounds.has(t)}))),e._boundsToLoad.length=0)}}return e.prototype.clear=function(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()},e.prototype.delete=function(e){var t=this._boundsById.get(e);this._boundsById.delete(e),t&&(this._idByBounds.delete(t),this._indexInvalid||this._index.remove(t))},e.prototype.forEachInBounds=function(e,t){this._loadIndex();for(var r=0,i=function(e,t){return n.minX=t[0],n.minY=t[1],n.maxX=t[2],n.maxY=t[3],e.search(n)}(this._index,e);r<i.length;r++)t(this._idByBounds.get(i[r]))},e.prototype.get=function(e){return this._boundsById.get(e)},e.prototype.has=function(e){return this._boundsById.has(e)},e.prototype.invalidateIndex=function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)},e.prototype.set=function(e,t){if(!this._indexInvalid){var r=this._boundsById.get(e);r&&(this._index.remove(r),this._idByBounds.delete(r))}this._boundsById.set(e,t),t&&(this._idByBounds.set(t,e),this._indexInvalid||(this._boundsToLoad.push(t),this._boundsToLoad.length>5e4&&this._loadIndex()))},e}();t.BoundsStore=s}).apply(null,i))||(e.exports=n)},"4/qq":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}}).apply(null,i))||(e.exports=n)},"700l":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("LxLY"),r("Ytki")],void 0===(n=(function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=e.returnDistinctValues,this.fieldsIndex=r,this.featureAdapter=t;var n=e.outFields;if(n&&-1===n.indexOf("*")){this.outFields=n;for(var s=0,o=0,u=n;o<u.length;o++){var a=u[o],l=i.getExpressionFromFieldName(a),c=this.fieldsIndex.get(l),h=c?null:i.getWhereClause(l,r),d=c?c.name:i.getAliasFromFieldName(a)||"FIELD_EXP_"+s++;this._fieldDataCache.set(a,{alias:d,clause:h})}}}return e.prototype.getAttributes=function(e){var t=this._processAttributesForOutFields(e);return this._processAttributesForDistinctValues(t)},e.prototype.getFieldValue=function(e,t,r){var n=r?r.name:t,s=null;return this._fieldDataCache.has(n)?s=this._fieldDataCache.get(n).clause:r||(s=i.getWhereClause(t,this.fieldsIndex),this._fieldDataCache.set(n,{alias:n,clause:s})),r?this.featureAdapter.getAttribute(e,n):s.calculateValue(e,this.featureAdapter)},e.prototype.validateItem=function(e,t){return this._fieldDataCache.has(t)||this._fieldDataCache.set(t,{alias:t,clause:i.getWhereClause(t,this.fieldsIndex)}),this._fieldDataCache.get(t).clause.testFeature(e,this.featureAdapter)},e.prototype.validateItems=function(e,t){return this._fieldDataCache.has(t)||this._fieldDataCache.set(t,{alias:t,clause:i.getWhereClause(t,this.fieldsIndex)}),this._fieldDataCache.get(t).clause.testSet(e,this.featureAdapter)},e.prototype._processAttributesForOutFields=function(e){var t=this.outFields;if(!t||!t.length)return this.featureAdapter.getAttributes(e);for(var r={},i=0,n=t;i<n.length;i++){var s=this._fieldDataCache.get(n[i]),o=s.alias,u=s.clause;r[o]=u?u.calculateValue(e,this.featureAdapter):this.featureAdapter.getAttribute(e,o)}return r},e.prototype._processAttributesForDistinctValues=function(e){if(r.isNone(e)||!this.returnDistinctValues)return e;var t=this.outFields,i=[];if(t)for(var n=0,s=t;n<s.length;n++){var o=this._fieldDataCache.get(s[n]).alias;i.push(e[o])}else for(var o in e)i.push(e[o]);var u=(t||["*"]).join(",")+"="+i.join(","),a=this._returnDistinctMap.get(u)||0;return this._returnDistinctMap.set(u,++a),a>1?null:e},e}();t.default=n}).apply(null,i))||(e.exports=n)},Fzzg:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){function r(e,t){return e?t?4:3:t?3:2}function i(e,t,i,n,s,o){for(var u=r(s,o),a=i,l=i+u,c=0,h=0,d=0,f=0,p=0,y=0,g=n-1;y<g;y++,a+=u,l+=u){var m=t[a],_=t[a+1],v=t[a+2],I=t[l],b=t[l+1],x=t[l+2],S=m*b-I*_;f+=S,c+=(m+I)*S,h+=(_+b)*S,s&&(d+=(v+x)*(S=m*x-I*v),p+=S),m<e[0]&&(e[0]=m),m>e[1]&&(e[1]=m),_<e[2]&&(e[2]=_),_>e[3]&&(e[3]=_),s&&(v<e[4]&&(e[4]=v),v>e[5]&&(e[5]=v))}if(f>0&&(f*=-1),p>0&&(p*=-1),!f)return null;var F=[c,h,.5*f];return s&&(F[3]=d,F[4]=.5*p),F}function n(e,t,i,n,l){for(var c=r(n,l),h=t,d=t+c,f=0,p=0,y=0,g=0,m=0,_=i-1;m<_;m++,h+=c,d+=c){var v,I=e[h],b=e[h+1],x=e[h+2],S=e[d],F=e[d+1],w=e[d+2],T=n?o(I,b,x,S,F,w):s(I,b,S,F);T&&(f+=T,n?(p+=T*(v=a(I,b,x,S,F,w))[0],y+=T*v[1],g+=T*v[2]):(p+=T*(v=u(I,b,S,F))[0],y+=T*v[1]))}return f>0?n?[p/f,y/f,g/f]:[p/f,y/f]:i>0?n?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function s(e,t,r,i){var n=r-e,s=i-t;return Math.sqrt(n*n+s*s)}function o(e,t,r,i,n,s){var o=i-e,u=n-t,a=s-r;return Math.sqrt(o*o+u*u+a*a)}function u(e,t,r,i){return[e+.5*(r-e),t+.5*(i-t)]}function a(e,t,r,i,n,s){return[e+.5*(i-e),t+.5*(n-t),r+.5*(s-r)]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCentroidOptimizedGeometry=function(e,t,s,o){if(!t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);for(var u=e.coords,a=[],l=s?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],c=t.lengths,h=t.coords,d=r(s,o),f=0,p=0,y=c;p<y.length;p++){var g=y[p],m=i(l,h,f,g,s,o);m&&a.push(m),f+=g*d}if(a.sort((function(e,t){var r=e[2]-t[2];return 0===r&&s&&(r=e[4]-t[4]),r})),a.length){var _=6*a[0][2];u[0]=a[0][0]/_,u[1]=a[0][1]/_,s&&(u[2]=0!=(_=6*a[0][4])?a[0][3]/_:0),(u[0]<l[0]||u[0]>l[1]||u[1]<l[2]||u[1]>l[3]||s&&(u[2]<l[4]||u[2]>l[5]))&&(u.length=0)}if(!u.length){var v=t.lengths[0]?n(h,0,c[0],s,o):null;if(!v)return null;u[0]=v[0],u[1]=v[1],s&&v.length>2&&(u[2]=v[2])}return e},t.lineCentroid=n}).apply(null,i))||(e.exports=n)},V1i6:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("qMld"),r("k1EI"),r("Thzy"),r("Lzvl"),r("nrlZ"),r("gT/q"),r("+6sX"),r("Jvs9"),r("Q2Em"),r("zDti"),r("2Kdy")],void 0===(n=(function(e,t,i,n,s,o,u,a,l,c,h,d,f,p){Object.defineProperty(t,"__esModule",{value:!0});var y={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},g={esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},m={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},_={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1};function v(){return new Promise((function(e,t){r.e(1).then((function(){var t=[r("tNTp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))}t.importGeometryEngine=v,t.getGeodesicBufferOperator=function(){return v().then((function(e){return e.geodesicBuffer}))},t.getSpatialQueryOperator=function(e,t,r,i,n){if(a.isPolygon(t)&&"esriGeometryPoint"===r&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){var l=h.convertFromPolygon(new d.default,t,!1,!1);return s.resolve((function(e){return c.polygonContainsPoint(l,!1,!1,e)}))}if(a.isPolygon(t)&&"esriGeometryMultipoint"===r){var f=h.convertFromPolygon(new d.default,t,!1,!1);if("esriSpatialRelContains"===e)return s.resolve((function(e){return c.polygonContainsMultipoint(f,!1,!1,e,i,n)}))}if(a.isExtent(t)&&"esriGeometryPoint"===r&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return s.resolve((function(e){return o.extentContainsPoint(t,p.getGeometry(r,i,n,e))}));if(a.isExtent(t)&&"esriGeometryMultipoint"===r&&"esriSpatialRelContains"===e)return s.resolve((function(e){return o.extentContainsMultipoint(t,p.getGeometry(r,i,n,e))}));if(a.isExtent(t)&&"esriSpatialRelIntersects"===e){var g=u.getExtentIntersector(r);return s.resolve((function(e){return g(t,p.getGeometry(r,i,n,e))}))}return v().then((function(s){var o=s[y[e]].bind(null,t.spatialReference,t);return function(e){return o(p.getGeometry(r,i,n,e))}}))},t.checkSpatialQuerySupport=function(e,t,r){return i.__awaiter(this,void 0,void 0,(function(){var s,o;return i.__generator(this,(function(i){if(s=e.spatialRel,!(o=e.geometry))return[2];if(!0!==g[s])throw new n("feature-store:unsupported-query","Unsupported query spatial relationship",{query:e});if(!l.isValid(o.spatialReference)||!l.isValid(r))return[2];if(!function(e){return!0===m[a.getJsonType(e)]}(o))throw new n("feature-store:unsupported-query","Unsupported query geometry type",{query:e});if(!function(e){return!0===_[e]}(t))throw new n("feature-store:unsupported-query","Unsupported layer geometry type",{query:e});return e.outSR?[2,f.checkProjectionSupport(e.geometry&&e.geometry.spatialReference,e.outSR)]:[2]}))}))},t.canQueryWithRBush=function(e){if(a.isExtent(e))return!0;if(a.isPolygon(e)){for(var t=0,r=e.rings;t<r.length;t++){var i=r[t];if(5!==i.length)return!1;if(i[0][0]!==i[1][0]||i[0][0]!==i[4][0]||i[2][0]!==i[3][0]||i[0][1]!==i[3][1]||i[0][1]!==i[4][1]||i[1][1]!==i[2][1])return!1}return!0}return!1}}).apply(null,i))||(e.exports=n)},Ytki:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f"),r("ULaq"),r("ztx9")],void 0===(n=(function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0});var s=new n.WhereClauseCache(50,500),o="feature-store:unsupported-query",u=i.SetFromValues(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeDate"]);function a(e,t){return e?s.get(e,t):null}function l(e,t,i,n){void 0===n&&(n=!0);for(var s=[],u=0,h=t;u<h.length;u++){var d=h[u];if("*"!==d&&!e.has(d))if(n){var f=c(d);try{var p=a(f,e);if(!p)throw new r(o,"invalid SQL expression",{where:f});if(!p.isStandardized)throw new r(o,"expression is not standard",{clause:p});l(e,p.fieldNames,"expression contains missing fields")}catch(e){var y=e&&e.details;if(y&&(y.clause||y.where))throw e;y&&y.missingFields?s.push.apply(s,y.missingFields):s.push(d)}}else s.push(d)}if(s.length)throw new r(o,i,{missingFields:s})}function c(e){return e.split(" as ")[0]}t.validateWhere=function(e,t){if(!t)return!0;var i=s.get(t,e);if(!i)throw new r(o,"invalid SQL expression",{where:t});if(!i.isStandardized)throw new r(o,"where clause is not standard",{where:t});return l(e,i.fieldNames,"where clause contains missing fields"),!0},t.validateHaving=function(e,t,i){if(!t)return!0;var n=s.get(t,e);if(!n)throw new r(o,"invalid SQL expression",{having:t});if(!n.isAggregate)throw new r(o,"having does not contain a valid aggregate function",{having:t});if(l(e,n.fieldNames,"having contains missing fields"),!n.getExpressions().every((function(t){var r=t.aggregateType,n=t.field,s=e.has(n)&&e.get(n).name;return i.some((function(t){var i=t.onStatisticField,n=t.statisticType;return(e.has(i)&&e.get(i).name)===s&&n.toLowerCase().trim()===r}))})))throw new r(o,"expressions in having should also exist in outStatistics",{having:t});return!0},t.getWhereClause=a,t.validateFields=l,t.getExpressionFromFieldName=c,t.getAliasFromFieldName=function(e){return e.split(" as ")[1]},t.hasInvalidFieldType=function(e,t){var r=t.get(e);return!!r&&!u.has(r.type)}}).apply(null,i))||(e.exports=n)},ZGAQ:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("lRq4"),r("+6sX"),r("Jvs9"),r("ZooB"),r("zDti")],void 0===(n=(function(e,t,r,i,n,s,o){Object.defineProperty(t,"__esModule",{value:!0});var u=new n.default,a={esriGeometryPoint:i.convertToPoint,esriGeometryPolyline:i.convertToPolyline,esriGeometryPolygon:i.convertToPolygon,esriGeometryMultipoint:i.convertToMultipoint};t.executeTileQueryForIds=function(e,t,i){var n=r.pad(t.bounds,i.pixelBuffer*t.resolution,r.create()),s=[];return e.featureStore.forEachInBounds(n,(function(t){return s.push(e.featureAdapter.getObjectId(t))})),s},t.createTileFeatures=function(e,t,r,i,n,h,d,f,p){var y=a[r.geometryType],g=l[r.geometryType],m="esriGeometryPolygon"===r.geometryType&&!f,_=r.hasZ?r.hasM?4:3:r.hasM?3:2;i.forEachInBounds(n,d&&!h?function(i){return function(e,t,r,i,n){if(!t.has(r.objectId)){var u=o.getCentroid(i,r,n),a=r.attributes;u&&(t.add(r.objectId),e.push(new s.Feature(a,r.localId,null,u)))}}(e,t,i,r,p)}:h&&!d?function(r){return function(e,t,r,i,n,o,a,l){if(!t.has(r.objectId)){var h=r.attributes,d=i(c(u,r.geometry,n,o,l,a),!1,!1);d&&(t.add(r.objectId),e.push(new s.Feature(h,r.localId,d,null)))}}(e,t,r,y,_,g,p,m)}:function(i){return function(e,t,r,i,n,a,l,h,d){if(!t.has(r.objectId)){var f=o.getCentroid(i,r,n),p=r.attributes,y=a(c(u,r.geometry,l,h,d,n),!1,!1);y&&f&&(t.add(r.objectId),e.push(new s.Feature(p,r.localId,y,f)))}}(e,t,i,r,p,y,_,g,m)})};var l={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0};function c(e,t,r,n,s,o){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;var u,a,l,c,h=t.coords,d=t.lengths;if(!d.length)return e.coords[0]=i.quantizeX(o,h[0]),e.coords[1]=i.quantizeY(o,h[1]),e.coords.length=r,e;for(var f=0,p=0,y=p,g=0,m=d;g<m.length;g++){var _=m[g];if(!(_<n))if(p=y,l=u=i.quantizeX(o,h[f]),c=a=i.quantizeY(o,h[f+1]),e.coords[p]=l,e.coords[p+1]=c,f+=r,1!==_){var v=(l=i.quantizeX(o,h[f]))-u,I=(c=i.quantizeY(o,h[f+1]))-a,b=I/v;e.coords[p+=2]=v,e.coords[p+1]=I,u=l,a=c,f+=r;for(var x=2;x<_;x++){if(l=i.quantizeX(o,h[f]),c=i.quantizeY(o,h[f+1]),l!==u||c!==a){var S=l-u,F=c-a,w=F/S;b!==w&&(isFinite(b)||isFinite(w))||!(s||(I>=0&&F>=0||I<=0&&F<=0)&&(v>=0&&S>=0||v<=0&&S<=0))?(v=S,I=F,p+=2):(v+=S,I+=F),e.coords[p]=v,e.coords[p+1]=I,b=w,u=l,a=c}f+=r}var T=(p+2-y)/2;T>=n&&(e.lengths.push(T),y=p+2)}else e.lengths.push(1),y=p+2}return e.coords.length>y&&(e.coords.length=y),e.coords.length?e:null}t.quantizeOptimizedGeometryForDisplay=c}).apply(null,i))||(e.exports=n)},ZHL0:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("r7jh")],void 0===(n=(function(e,t,r){return function(){function e(e,t){this._storage=new r.MemCacheStorage,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}return e.prototype.put=function(e,t){this._storage.put(e,t,1,1)},e.prototype.pop=function(e){return this._storage.pop(e)},e.prototype.get=function(e){return this._storage.get(e)},e.prototype.clear=function(){this._storage.clearAll()},e.prototype.destroy=function(){this._storage.clearAll()},e}()}).apply(null,i))||(e.exports=n)},ZooB:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("rg9i"),r("LxLY"),r("r7jh"),r("qMld"),r("ULaq"),r("8uEs"),r("WRgd"),r("lRq4"),r("hBh5"),r("Lzvl"),r("nrlZ"),r("Ytki"),r("Q2Em"),r("4/qq"),r("d81A"),r("V1i6"),r("/61J"),r("zDti"),r("I90O"),r("tZaU")],void 0===(n=(function(e,t,r,i,n,s,o,u,a,l,c,h,d,f,p,y,g,m,_,v,I,b,x,S){Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=function(e,t,r,i,n){void 0===t&&(t=null),this.attributes=e,this.geometry=r,this.centroid=i,this.filterFlags=n,this.groupId=-1,this.localId=t};var F=new Set,w=new o.MemCacheStorage(2e6),T=0,E=function(){function e(e){var t=this;this.capabilities={query:m.queryCapabilities},this.geometryType=e.geometryType,this.hasM=e.hasM,this.hasZ=e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this._changeHandle=this.featureStore.events.on("changed",(function(){return t.clearCache()})),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new o.MemCache(T+++"$$",w)),this.fieldsIndex=new x(e.fields),e.scheduler&&e.task&&(this._frameQueue=new S.default,this._frameTask=e.scheduler.registerTask(e.task,(function(e){return t._update(e)}),(function(){return t._frameQueue.length>0})))}return e.prototype.destroy=function(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null),this.clearCache(),this._geometryQueryCache&&this._geometryQueryCache.destroy(),this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null),this.fieldsIndex.destroy()},Object.defineProperty(e.prototype,"featureAdapter",{get:function(){return this.featureStore.featureAdapter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullExtent",{get:function(){var e=this.featureStore.fullBounds;return e?{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:b.cleanFromGeometryEngine(this.spatialReference)}:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeExtent",{get:function(){return this.timeInfo?(this._timeExtent||(this._timeExtent=I.getTimeExtent(this.timeInfo,this.featureStore)),this._timeExtent):null},enumerable:!0,configurable:!0}),e.prototype.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear(),this._allItems=null,this._timeExtent=null},e.prototype.executeQuery=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var t,i,s,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:t=n.clone(e),r.label=1;case 1:return r.trys.push([1,8,,9]),[4,this._schedule((function(){return b.normalizeQuery(t,o.definitionExpression,o.spatialReference)}))];case 2:return t=r.sent(),[4,this._reschedule((function(){return o._checkQuerySupport(t)}))];case 3:return t=r.sent(),[4,this._reschedule((function(){return o._executeGeometryQuery(t)}))];case 4:return i=r.sent(),[4,this._reschedule((function(){return i.executeObjectIdsQuery(t)}))];case 5:return i=r.sent(),[4,this._reschedule((function(){return i.executeTimeQuery(t)}))];case 6:return i=r.sent(),[4,this._reschedule((function(){return i.executeAttributesQuery(t)}))];case 7:return i=r.sent(),[3,9];case 8:if((s=r.sent())!==b.QUERY_ENGINE_EMPTY_RESULT)throw s;return i=new _.default([],null,this),[3,9];case 9:return[2,i.createQueryResponse(t)]}}))}))},e.prototype.executeQueryForCount=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var t,i,s,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:(t=n.clone(e)).returnGeometry=!1,t.returnCentroid=!1,t.outSR=null,r.label=1;case 1:return r.trys.push([1,8,,9]),[4,this._schedule((function(){return b.normalizeQuery(t,o.definitionExpression,o.spatialReference)}))];case 2:return t=r.sent(),[4,this._reschedule((function(){return o._checkQuerySupport(t)}))];case 3:return t=r.sent(),[4,this._reschedule((function(){return o._executeGeometryQuery(t)}))];case 4:return i=r.sent(),[4,this._reschedule((function(){return i.executeObjectIdsQuery(t)}))];case 5:return i=r.sent(),[4,this._reschedule((function(){return i.executeTimeQuery(t)}))];case 6:return i=r.sent(),[4,this._reschedule((function(){return i.executeAttributesQuery(t)}))];case 7:return[2,(i=r.sent()).size];case 8:if((s=r.sent())!==b.QUERY_ENGINE_EMPTY_RESULT)throw s;return[2,0];case 9:return[2]}}))}))},e.prototype.executeQueryForExtent=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var t,i,s,o,u,a,h,d,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:t=n.clone(e),s=t.outSR,r.label=1;case 1:return r.trys.push([1,8,,9]),[4,this._schedule((function(){return b.normalizeQuery(t,f.definitionExpression,f.spatialReference)}))];case 2:return t=r.sent(),[4,this._reschedule((function(){return f._checkQuerySupport(t)}))];case 3:return(t=r.sent()).returnGeometry=!0,t.returnCentroid=!1,t.outSR=null,[4,this._reschedule((function(){return f._executeGeometryQuery(t)}))];case 4:return i=r.sent(),[4,this._reschedule((function(){return i.executeObjectIdsQuery(t)}))];case 5:return i=r.sent(),[4,this._reschedule((function(){return i.executeTimeQuery(t)}))];case 6:return i=r.sent(),[4,this._reschedule((function(){return i.executeAttributesQuery(t)}))];case 7:return i=r.sent(),(o=i.size)?(c.set(M,c.NEGATIVE_INFINITY),this.featureStore.forEachBounds(i.items,(function(e){return c.expand(M,e)}),R),u={xmin:M[0],ymin:M[1],xmax:M[3],ymax:M[4],spatialReference:b.cleanFromGeometryEngine(this.spatialReference)},this.hasZ&&isFinite(M[2])&&isFinite(M[5])&&(u.zmin=M[2],u.zmax=M[5]),(a=g.project(u,i.spatialReference,s)).spatialReference=b.cleanFromGeometryEngine(s||this.spatialReference),a.xmax-a.xmin==0&&(h=l.getMetersPerUnitForSR(a.spatialReference),a.xmin-=h,a.xmax+=h),a.ymax-a.ymin==0&&(h=l.getMetersPerUnitForSR(a.spatialReference),a.ymin-=h,a.ymax+=h),this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0&&(h=l.getMetersPerUnitForSR(a.spatialReference),a.zmin-=h,a.zmax+=h),[2,{count:o,extent:a}]):[2,{count:o,extent:null}];case 8:if((d=r.sent())===b.QUERY_ENGINE_EMPTY_RESULT)return[2,{count:0,extent:null}];throw d;case 9:return[2]}}))}))},e.prototype.executeQueryForIds=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.executeQueryForIdSet(e,t).then((function(e){return a.valuesOfSet(e)}))]}))}))},e.prototype.executeQueryForIdSet=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var t,i,s,o,u,a=this;return r.__generator(this,(function(r){switch(r.label){case 0:(t=n.clone(e)).returnGeometry=!1,t.returnCentroid=!1,t.outSR=null,r.label=1;case 1:return r.trys.push([1,9,,10]),[4,this._schedule((function(){return b.normalizeQuery(t,a.definitionExpression,a.spatialReference)}))];case 2:return t=r.sent(),[4,this._reschedule((function(){return a._checkQuerySupport(t)}))];case 3:return t=r.sent(),[4,this._reschedule((function(){return a._executeGeometryQuery(t)}))];case 4:return i=r.sent(),[4,this._reschedule((function(){return i.executeObjectIdsQuery(t)}))];case 5:return i=r.sent(),[4,this._reschedule((function(){return i.executeTimeQuery(t)}))];case 6:return i=r.sent(),[4,this._reschedule((function(){return i.executeAttributesQuery(t)}))];case 7:return i=r.sent(),s=i.items,o=new Set,[4,this._reschedule((function(){for(var e=0,t=s;e<t.length;e++)o.add(i.featureAdapter.getObjectId(t[e]))}))];case 8:return r.sent(),[2,o];case 9:if((u=r.sent())===b.QUERY_ENGINE_EMPTY_RESULT)return[2,new Set];throw u;case 10:return[2]}}))}))},e.prototype.executeQueryForLatestObservations=function(e,t){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var t,s,o,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this.timeInfo||!this.timeInfo.trackIdField)throw new i("feature-store:unsupported-query","Missing timeInfo or timeInfo.trackIdField",{query:e,timeInfo:this.timeInfo});t=n.clone(e),r.label=1;case 1:return r.trys.push([1,9,,10]),[4,this._schedule((function(){return b.normalizeQuery(t,u.definitionExpression,u.spatialReference)}))];case 2:return t=r.sent(),[4,this._reschedule((function(){return u._checkQuerySupport(t)}))];case 3:return t=r.sent(),[4,this._reschedule((function(){return u._executeGeometryQuery(t)}))];case 4:return s=r.sent(),[4,this._reschedule((function(){return s.executeObjectIdsQuery(t)}))];case 5:return s=r.sent(),[4,this._reschedule((function(){return s.executeTimeQuery(t)}))];case 6:return s=r.sent(),[4,this._reschedule((function(){return s.executeAttributesQuery(t)}))];case 7:return s=r.sent(),[4,this._reschedule((function(){return s.filterLatest()}))];case 8:return s=r.sent(),[3,10];case 9:if((o=r.sent())!==b.QUERY_ENGINE_EMPTY_RESULT)throw o;return s=new _.default([],null,this),[3,10];case 10:return[2,s.createQueryResponse(t)]}}))}))},e.prototype._schedule=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this._frameQueue?[2,this._frameQueue.push(e)]:[2,e()]}))}))},e.prototype._reschedule=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this._frameQueue?[2,this._frameQueue.unshift(e)]:[2,e()]}))}))},e.prototype._update=function(e){for(this._budget=e;!e.done&&this._frameQueue&&this._frameQueue.process();)e.madeProgress();this._budget=null},e.prototype._getAll=function(){if(!this._allItems){var e=[];this.featureStore.forEach((function(t){return e.push(t)})),this._allItems=new _.default(e,null,this)}return this._allItems},e.prototype._executeGeometryQuery=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,n,o,u,a,l,c,h,d,f,y,g,m,I,b,x,S,F=this;return r.__generator(this,(function(w){switch(w.label){case 0:if(t=e.geometry,n=e.spatialRel,o=p.isValid(i=e.outSR)&&!p.equals(this.spatialReference,i),(u=this._geometryQueryCache?o?JSON.stringify({geometry:t,spatialRelationship:n,outSpatialReference:i}):JSON.stringify({geometry:t,spatialRelationship:n}):null)&&(a=this._geometryQueryCache.get(u),!s.isUndefined(a)))return[2,a];if(l=function(t){return r.__awaiter(F,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return o&&(e.returnGeometry||e.returnCentroid)?[4,t.project(i)]:[3,2];case 1:return n=r.sent(),u&&this._geometryQueryCache.put(u,n,n.size||1),[2,n];case 2:return u&&this._geometryQueryCache.put(u,t,t.size||1),[2,t]}}))}))},!t)return[2,l(this._getAll())];if(c=this.featureAdapter,"esriSpatialRelDisjoint"!==n)return[3,3];if(!(h=this._searchFeatures(this._getQueryBBoxes(t))).length)return[2,l(this._getAll())];for(y=new Set,g=0,m=h;g<m.length;g++)y.add(c.getObjectId(m[g]));return[4,this._reschedule((function(){var e=0;d=new Array(y.size),F.featureStore.forEach((function(t){return d[e++]=t})),f=y}))];case 1:return w.sent(),[4,this._reschedule((function(){return r.__awaiter(F,void 0,void 0,(function(){var e,i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,v.getSpatialQueryOperator(n,t,this.geometryType,this.hasZ,this.hasM)];case 1:return e=r.sent(),i=_.default.bind,[4,this._runSpatialFilter(d,(function(t){return!f.has(c.getObjectId(t))||e(c.getGeometry(t))}))];case 2:return[2,new(i.apply(_.default,[void 0,r.sent(),t,this]))]}}))}))}))];case 2:return b=w.sent(),[2,l(b)];case 3:return(I=this._searchFeatures(this._getQueryBBoxes(t))).length?this._canExecuteSoloPass(t,e)?[2,l(new _.default(I,t,this))]:[4,v.getSpatialQueryOperator(n,t,this.geometryType,this.hasZ,this.hasM)]:(b=new _.default([],t,this),u&&this._geometryQueryCache.put(u,b,b.size||1),[2,b]);case 4:return x=w.sent(),[4,this._runSpatialFilter(I,(function(e){return x(c.getGeometry(e))}))];case 5:return S=w.sent(),[2,l(new _.default(S,t,this))]}}))}))},e.prototype._runSpatialFilter=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,n,s,o=this;return r.__generator(this,(function(u){return t?this._budget?(i=0,n=new Array,s=function(){return r.__awaiter(o,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:return i<e.length?(t(o=e[i])&&n.push(o),this._budget.done?[4,this._reschedule((function(){return s()}))]:[3,2]):[3,3];case 1:r.sent(),r.label=2;case 2:return++i,[3,0];case 3:return[2]}}))}))},[2,this._reschedule((function(){return s()})).then((function(){return n}))]):[2,e.filter((function(e){return t(e)}))]:[2,e]}))}))},e.prototype._canExecuteSoloPass=function(e,t){var r=this.geometryType,i=t.spatialRel;return v.canQueryWithRBush(e)&&("esriSpatialRelEnvelopeIntersects"===i||"esriGeometryPoint"===r&&("esriSpatialRelIntersects"===i||"esriSpatialRelContains"===i||"esriSpatialRelWithin"===i))},e.prototype._getQueryBBoxes=function(e){if(v.canQueryWithRBush(e)){if(f.isExtent(e))return[h.fromValues(e.xmin,e.ymin,e.xmax,e.ymax)];if(f.isPolygon(e))return e.rings.map((function(e){return h.fromValues(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))}))}return[d.getBoundsXY(h.create(),e)]},e.prototype._searchFeatures=function(e){for(var t=0,r=e;t<r.length;t++)this.featureStore.forEachInBounds(r[t],(function(e){F.add(e)}));var i=new Array(F.size),n=0;return F.forEach((function(e){return i[n++]=e})),F.clear(),i},e.prototype._checkQuerySupport=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){if(e.distance<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new i("feature-store:unsupported-query","Unsupported query options",{query:e});return[2,u.all([this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),v.checkSpatialQuerySupport(e,this.geometryType,this.spatialReference),g.checkProjectionSupport(this.spatialReference,e.outSR)]).then((function(){return e}))]}))}))},e.prototype._checkAttributesQuerySupport=function(e){var t=e.outFields,r=e.orderByFields,n=e.returnDistinctValues,s=e.outStatistics,o=s?s.map((function(e){return e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase()})):[];if(r&&r.length>0){var u=r.map((function(e){var t=e.toLowerCase();return t.indexOf(" asc")>-1?t.split(" asc")[0]:t.indexOf(" desc")>-1?t.split(" desc")[0]:e})).filter((function(e){return-1===o.indexOf(e)}));y.validateFields(this.fieldsIndex,u,"orderByFields contains missing fields")}if(t&&t.length>0)y.validateFields(this.fieldsIndex,t,"outFields contains missing fields");else if(n)throw new i("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:e});y.validateWhere(this.fieldsIndex,e.where)},e.prototype._checkStatisticsQuerySupport=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,s,o,u,a,l,c,h,d,f;return r.__generator(this,(function(r){if(o=(n=e.groupByFieldsForStatistics)&&n.length,u=(t=e.outStatistics)&&t.length,s=e.having){if(!o||!u)throw new i("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",{query:e});y.validateHaving(this.fieldsIndex,s,t)}if(u){if(!function(e){return e.every((function(e){return"exceedslimit"!==e.statisticType}))}(t))return[2];for(a=t.map((function(e){return e.onStatisticField})),y.validateFields(this.fieldsIndex,a,"onStatisticFields contains missing fields"),o&&y.validateFields(this.fieldsIndex,n,"groupByFieldsForStatistics contains missing fields"),l=0,c=t;l<c.length;l++)if(d=(h=c[l]).onStatisticField,"percentile_disc"!==(f=h.statisticType)&&"percentile_cont"!==f||!("statisticParameters"in h)){if("count"!==f&&d&&y.hasInvalidFieldType(d,this.fieldsIndex))throw new i("feature-store:unsupported-query","outStatistics contains non-numeric fields",{definition:h,query:e})}else if(!h.statisticParameters)throw new i("feature-store:unsupported-query","statisticParamters should be set for percentile type",{definition:h,query:e})}return[2]}))}))},e}();t.default=E;var R=c.create(),M=c.create()}).apply(null,i))||(e.exports=n)},d81A:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("zOht"),r("R2Zq"),r("LxLY"),r("qMld"),r("ULaq"),r("u90+"),r("nrlZ"),r("+6sX"),r("700l"),r("Ytki"),r("Q2Em"),r("/61J"),r("zDti")],void 0===(n=(function(e,t,r,i,n,s,o,u,a,l,c,h,d,f,p){function y(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function g(e,t,r){return(r?e>t:e<t)?-1:(r?e<t:e>t)?1:0}function m(e,t,r){return r?t-e:e-t}function _(e,t,r,i){if(r&&"esriFieldTypeDate"===r.type){var n=new Date(e).getTime(),s=new Date(t).getTime();if(!isNaN(n)&&!isNaN(s))return m(n,s,i)}return"number"==typeof e&&"number"==typeof t?m(e,t,i):"string"==typeof e&&"string"==typeof t?(n=e.toUpperCase(),s=t.toUpperCase(),!r||"esriFieldTypeGUID"!==r.type&&"esriFieldTypeGlobalID"!==r.type?g(n,s,i):g(y(n),y(s),i)):i?1:-1}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t,r){this.items=e,this.queryGeometry=t,this.definitionExpression=r.definitionExpression,this.geometryType=r.geometryType,this.hasM=r.hasM,this.hasZ=r.hasZ,this.objectIdField=r.objectIdField,this.spatialReference=r.spatialReference,this.fieldsIndex=r.fieldsIndex,this.timeInfo=r.timeInfo,this.featureAdapter=r.featureAdapter}return Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e.prototype.createQueryResponse=function(e){var t;return t=e.outStatistics?e.outStatistics.some((function(e){return"exceedslimit"===e.statisticType}))?this._createExceedsLimitQueryResponse(e):this._createStatisticsQueryResponse(e):this._createFeatureQueryResponse(e),e.returnQueryGeometry&&(t.queryGeometry=a.isValid(e.outSR)&&!a.equals(this.queryGeometry.spatialReference,e.outSR)?p.cleanFromGeometryEngine(r.__assign({spatialReference:e.outSR},d.project(this.queryGeometry,this.queryGeometry.spatialReference,e.outSR))):p.cleanFromGeometryEngine(r.__assign({spatialReference:e.outSR},this.queryGeometry))),t},e.prototype.executeAttributesQuery=function(t){var r=h.getWhereClause(t.where,this.fieldsIndex);if(!r)return s.resolve(this);if(r.isStandardized){for(var i=0,n=[],o=0,u=this.items;o<u.length;o++){var a=u[o];r.testFeature(a,this.featureAdapter)&&(n[i++]=a)}var l=new e(n,this.queryGeometry,this);return l.definitionExpression=t.where,s.resolve(l)}return s.reject(new TypeError("Where clause is not standardized"))},e.prototype.executeObjectIdsQuery=function(t){if(!t.objectIds||!t.objectIds.length)return s.resolve(this);var r=o.SetFromValues(t.objectIds),i=this.featureAdapter.getObjectId;return s.resolve(new e(this.items.filter((function(e){return r.has(i(e))})),this.queryGeometry,this))},e.prototype.executeTimeQuery=function(t){var r=f.getTimeOperator(this.timeInfo,t.timeExtent,this.featureAdapter);if(!n.isSome(r))return s.resolve(this);var i=this.items.filter(r);return s.resolve(new e(i,this.queryGeometry,this))},e.prototype.filterLatest=function(){for(var t=this.timeInfo,r=t.trackIdField,n=t.endTimeField||t.startTimeField,o=new Map,u=this.featureAdapter.getAttribute,a=0,l=this.items;a<l.length;a++){var c=l[a],h=u(c,r),d=u(c,n),f=o.get(h);(!f||d>u(f,n))&&o.set(h,c)}var p=i.valuesOfMap(o);return s.resolve(new e(p,this.queryGeometry,this))},e.prototype.project=function(t){return r.__awaiter(this,void 0,void 0,(function(){var i,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!t||a.equals(this.spatialReference,t)?[2,this]:(i=this.featureAdapter,[4,d.projectMany(this.items.map((function(e){return p.getGeometry(n.geometryType,n.hasZ,n.hasM,i.getGeometry(e))})),this.spatialReference,t)]);case 1:return[2,new e(r.sent().map((function(e,t){return i.cloneWithGeometry(n.items[t],l.convertFromGeometry(e,n.hasZ,n.hasM))})),this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:t,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})]}}))}))},e.prototype._sortFeatures=function(e,t,r){if(e.length>1&&t&&t.length)for(var i=function(t){var i=t.split(" "),s=i[0],o=n.fieldsIndex.get(s),u=i[1]&&"desc"===i[1].toLowerCase();e.sort((function(e,t){return _(r(e,s,o),r(t,s,o),o,u)}))},n=this,s=0,o=t.reverse();s<o.length;s++)i(o[s])},e.prototype._createFeatureQueryResponse=function(e){var t=this,i=this.items,n=this,s=n.geometryType,o=n.hasM,a=n.hasZ,l=n.objectIdField,c=n.spatialReference,h=e.outFields,d=e.outSR,f=e.quantizationParameters,y=e.resultRecordCount,g=e.resultOffset,m=e.returnZ,_=e.returnM,v=!1;if(null!=y&&null!=g){var I=g+y;v=i.length>I,i=i.slice(g,Math.min(i.length,I))}var b=h&&(h.indexOf("*")>-1?r.__spreadArrays(this.fieldsIndex.fields):h.map((function(e){return t.fieldsIndex.get(e)})));return{exceededTransferLimit:v,features:this._createFeatures(e,i),fields:b,geometryType:s,hasM:o&&_,hasZ:a&&m,objectIdFieldName:l,spatialReference:p.cleanFromGeometryEngine(d||c),transform:f&&u.toQuantizationTransform(f)||null}},e.prototype._createFeatures=function(e,t){var r=new c.default(e,this.featureAdapter,this.fieldsIndex),i=e.orderByFields,n=e.returnGeometry,s=e.returnCentroid,o=e.maxAllowableOffset,a=e.returnZ,l=e.returnM,h=this.hasZ&&void 0!==a&&a,d=this.hasM&&void 0!==l&&l,f=[],y=0;if(n||s){var g=u.toQuantizationTransform(e.quantizationParameters);if(n&&!s)for(var m=0,_=t;m<_.length;m++)f[y++]={attributes:r.getAttributes(w=_[m]),geometry:p.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(w),o,g,h,d)};else if(!n&&s)for(var v=0,I=t;v<I.length;v++)f[y++]={attributes:r.getAttributes(w=I[v]),centroid:p.transformCentroid(this,this.featureAdapter.getCentroid(w,this),g)};else for(var b=0,x=t;b<x.length;b++)f[y++]={attributes:r.getAttributes(w=x[b]),centroid:p.transformCentroid(this,this.featureAdapter.getCentroid(w,this),g),geometry:p.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(w),o,g,h,d)}}else for(var S=0,F=t;S<F.length;S++){var w=F[S],T=r.getAttributes(w);T&&(f[y++]={attributes:T})}return this._sortFeatures(f,i,(function(e,t,i){return r.getFieldValue(e,t,i)})),f},e.prototype._createExceedsLimitQueryResponse=function(e){for(var t=!1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=0,o=e.outStatistics;s<o.length;s++){var u=o[s];if("exceedslimit"===u.statisticType){r=null!=u.maxPointCount?u.maxPointCount:Number.POSITIVE_INFINITY,i=null!=u.maxRecordCount?u.maxRecordCount:Number.POSITIVE_INFINITY,n=null!=u.maxVertexCount?u.maxVertexCount:Number.POSITIVE_INFINITY;break}}if("esriGeometryPoint"===this.geometryType)t=this.items.length>r;else if(this.items.length>i)t=!0;else{var a=this.hasZ?this.hasM?4:3:this.hasM?3:2,l=this.featureAdapter;t=this.items.reduce((function(e,t){var r=l.getGeometry(t);return e+(r&&r.coords.length||0)}),0)/a>n}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}},e.prototype._createStatisticsQueryResponse=function(e){for(var t=this,r={attributes:{}},n=[],s=new Map,o=new Map,u=new Map,a=new Map,l=new c.default(e,this.featureAdapter,this.fieldsIndex),h=e.outStatistics,d=e.groupByFieldsForStatistics,f=e.having,p=e.orderByFields,y=d&&d.length,g=!!y,m=g&&d[0],_=g&&!this.fieldsIndex.get(m),v=0,I=h;v<I.length;v++){var b=I[v],x=b.outStatisticFieldName,S=b.statisticType,F=b,w="exceedslimit"!==S?b.onStatisticField:void 0,T="percentile_disc"===S||"percentile_cont"===S,E=g&&1===y&&(w===m||_)&&"count"===S;if(g){if(!u.has(w)){for(var R=[],M=0,P=d;M<P.length;M++){var Q=this._getAttributeValues(l,P[M],s);R.push(Q)}u.set(w,this._calculateUniqueValues(R))}var N=u.get(w),G=function(e){var r=N[e],i=r.count,n=r.data,o=r.items,u=r.itemPositions,c=n.join(",");if(!f||l.validateItems(o,f)){var h=a.get(c)||{attributes:{}},p=null;if(E)p=i;else{var y=C._getAttributeValues(l,w,s),g=u.map((function(e){return y[e]}));p=T&&"statisticParameters"in F?C._getPercentileValue(F,g):C._getStatisticValue(F,g)}h.attributes[x]=p,d.forEach((function(e,r){return h.attributes[t.fieldsIndex.get(e)?e:"EXPR_"+(r+1)]=n[r]})),a.set(c,h)}},C=this;for(var A in N)G(A)}else Q=this._getAttributeValues(l,w,s),r.attributes[x]=T&&"statisticParameters"in F?this._getPercentileValue(F,Q):this._getStatisticValue(F,Q,o);n.push({name:x,alias:x,type:"esriFieldTypeDouble"})}var j=g?i.valuesOfMap(a):[r];return this._sortFeatures(j,p,(function(e,t){return e.attributes[t]})),{fields:n,features:j}},e.prototype._getStatisticValue=function(e,t,r){var i=e.onStatisticField,n=e.statisticType,s=r&&r.has(i)?r.get(i):this._calculateStatistics(t);return r&&r.set(i,s),s["var"===n?"variance":n]},e.prototype._getPercentileValue=function(e,t){var i=e.statisticParameters,n=e.statisticType,s=i.value,o="desc"===i.orderBy,u=this.fieldsIndex.get(e.onStatisticField),a=r.__spreadArrays(t).sort((function(e,t){return _(e,t,u,o)}));return this._calculatePercentile(a,s,"percentile_disc"===n)},e.prototype._getAttributeValues=function(e,t,r){if(r.has(t))return r.get(t);var i=this.fieldsIndex.get(t),n=this.items.map((function(r){return e.getFieldValue(r,t,i)}));return r.set(t,n),n},e.prototype._calculateStatistics=function(e){for(var t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=null,n=null,s=null,o=null,u=[],a=0,l=0,c=e;l<c.length;l++)"string"==typeof(p=c[l])?a++:null==p||isNaN(p)||(i+=p,t=Math.min(t,p),r=Math.max(r,p),u.push(p),a++);if(a){n=i/a;for(var h=0,d=0,f=u;d<f.length;d++){var p=f[d];h+=Math.pow(p-n,2)}o=a>1?h/(a-1):0,s=Math.sqrt(o)}else t=null,r=null;return{avg:n,count:a,max:r,min:t,stddev:s,sum:i,variance:o}},e.prototype._calculateUniqueValues=function(e){for(var t={},r=this.items,i=r.length,n=0;n<i;n++){for(var s=r[n],o=[],u=0,a=e;u<a.length;u++)o.push(a[u][n]);var l=o.join(",");null==t[l]?t[l]={count:1,data:o,items:[s],itemPositions:[n]}:(t[l].count++,t[l].items.push(s),t[l].itemPositions.push(n))}return t},e.prototype._calculatePercentile=function(e,t,r){if(0===e.length)return null;if(t<=0)return e[0];if(t>=1)return e[e.length-1];var i=(e.length-1)*t,n=Math.floor(i),s=n+1,o=i%1,u=e[n],a=e[s];return s>=e.length||r||"string"==typeof u||"string"==typeof a?u:u*(1-o)+a*o},e}();t.default=v}).apply(null,i))||(e.exports=n)},"gT/q":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){function r(e,t){return e?t?4:3:t?3:2}function i(e,t,i,s,o){if(!e)return!1;for(var u=r(t,i),a=e.coords,l=!1,c=0,h=0,d=e.lengths;h<d.length;h++){var f=d[h];l=n(l,a,u,c,f,s,o),c+=f*u}return l}function n(e,t,r,i,n,s,o){for(var u=e,a=i,l=i,c=i+n*r;l<c;l+=r){(a=l+r)===c&&(a=i);var h=t[l],d=t[l+1],f=t[a+1];(d<o&&f>=o||f<o&&d>=o)&&h+(o-d)/(f-d)*(t[a]-h)<s&&(u=!u)}return u}Object.defineProperty(t,"__esModule",{value:!0}),t.polygonContainsPoint=function(e,t,r,n){return i(e,t,r,n.coords[0],n.coords[1])},t.polygonContainsMultipoint=function(e,t,n,s,o,u){var a=r(o,u),l=s.coords,c=s.lengths;if(!c)return!1;for(var h=0,d=0;h<c.length;h++,d+=a)if(!i(e,t,n,l[d],l[d+1]))return!1;return!0},t.polygonContainsCoords=i}).apply(null,i))||(e.exports=n)},rfv1:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("BcWh"),r("qsST"),r("LxLY"),r("WRgd"),r("lRq4"),r("nrlZ"),r("+6sX"),r("2xGR"),r("ZGAQ"),r("yLD6")],void 0===(n=(function(e,t,r,i,n,s,o,u,a,l,c,h,d,f){Object.defineProperty(t,"__esModule",{value:!0});var p=s.getLogger("esri.layers.graphics.data.FeatureStore"),y=function(){function e(e){this.geometryInfo=e,this._boundsStore=new h.BoundsStore,this._featuresById=new Map,this._markedIds=new Set,this.events=new n,this.featureAdapter=f.optimizedFeatureQueryEngineAdapter}return Object.defineProperty(e.prototype,"geometryType",{get:function(){return this.geometryInfo.geometryType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasM",{get:function(){return this.geometryInfo.hasM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasZ",{get:function(){return this.geometryInfo.hasZ},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numFeatures",{get:function(){return this._featuresById.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullBounds",{get:function(){var e=this;if(!this.numFeatures)return null;var t=a.create(a.NEGATIVE_INFINITY);return this._featuresById.forEach((function(r){var i=e._boundsStore.get(r.objectId);i&&(t[0]=Math.min(i[0],t[0]),t[1]=Math.min(i[1],t[1]),t[2]=Math.max(i[2],t[2]),t[3]=Math.max(i[3],t[3]))})),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storeStatistics",{get:function(){var e=0;return this._featuresById.forEach((function(t){t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this._add(e),this._emitChanged()},e.prototype.addMany=function(e){for(var t=0,r=e;t<r.length;t++)this._add(r[t]);this._emitChanged()},e.prototype.clear=function(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()},e.prototype.removeById=function(e){var t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null},e.prototype.removeManyById=function(e){this._boundsStore.invalidateIndex();for(var t=0,r=e;t<r.length;t++){var i=this._featuresById.get(r[t]);i&&this._remove(i)}this._emitChanged()},e.prototype.forEachBounds=function(e,t,r){for(var i=0,n=e;i<n.length;i++){var s=this._boundsStore.get(n[i].objectId);s&&t(u.fromRect(r,s))}},e.prototype.getFeature=function(e){return this._featuresById.get(e)},e.prototype.has=function(e){return this._featuresById.has(e)},e.prototype.forEach=function(e){this._featuresById.forEach((function(t){return e(t)}))},e.prototype.forEachInBounds=function(e,t){var r=this;this._boundsStore.forEachInBounds(e,(function(e){t(r._featuresById.get(e))}))},e.prototype.startMarkingUsedFeatures=function(){this._boundsStore.invalidateIndex(),this._markedIds.clear()},e.prototype.sweep=function(){var e=this,t=!1;this._featuresById.forEach((function(r,i){e._markedIds.has(i)||(t=!0,e._remove(r))})),this._markedIds.clear(),t&&this._emitChanged()},e.prototype.executeTileQuery=function(e,t,i){return r.__awaiter(this,void 0,void 0,(function(){var n,s,o,u,c,h,f,p,y,g,m,_,v,I;return r.__generator(this,(function(r){return n=i.returnGeometry,s=i.returnCentroid,o=i.returnOutline,u=i.pixelBuffer,c=new Set,h=[],p=a.pad(e.bounds,f=u*e.resolution,a.create()),d.createTileFeatures(h,c,this.geometryInfo,this,p,n,s,o,{originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]}),("esriGeometryPoint"===this.geometryType||s)&&(y=l.getInfo(t))&&(_=(g=y.valid)[1],p[0]<(m=g[0])&&(v=a.fromValues(_-f,p[1],_,p[3]),d.createTileFeatures(h,c,this.geometryInfo,this,v,n,s,o,{originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[_,e.bounds[3]]})),p[2]>_&&(I=a.fromValues(m,p[1],m+f,p[3]),d.createTileFeatures(h,c,this.geometryInfo,this,I,n,s,o,{originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[m-_+e.bounds[0],e.bounds[3]]}))),h.sort((function(e,t){return e.localId-t.localId})),[2,{features:h,objectIds:c}]}))}))},e.prototype._emitChanged=function(){this.events.emit("changed",void 0)},e.prototype._add=function(e){if(e){var t=e.objectId;if(null!=t){var r,n=this._featuresById.get(t);if(this._markedIds.add(t),n?(e.localId=n.localId,r=this._boundsStore.get(t),this._boundsStore.delete(t)):o.isSome(this.onFeatureAdd)&&this.onFeatureAdd(e),!e.geometry||!e.geometry.coords||!e.geometry.coords.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);r=c.getBoundsOptimizedGeometry(r||a.create(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(t,r),this._featuresById.set(t,e)}else p.error(new i("featurestore:invalid-feature","feature id is missing",{feature:e}))}},e.prototype._remove=function(e){return o.isSome(this.onFeatureRemove)&&this.onFeatureRemove(e),this._markedIds.delete(e.objectId),this._boundsStore.delete(e.objectId),this._featuresById.delete(e.objectId),e},e}();t.default=y}).apply(null,i))||(e.exports=n)},tZaU:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qMld")],void 0===(n=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._tasks=new Array}return Object.defineProperty(e.prototype,"length",{get:function(){return this._tasks.length},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this;return r.create((function(r,i){return t._tasks.push(new n(r,i,e))}))},e.prototype.unshift=function(e){var t=this;return r.create((function(r,i){return t._tasks.unshift(new n(r,i,e))}))},e.prototype.process=function(){if(0===this._tasks.length)return!1;var e=this._tasks.shift();try{var t=e.callback();t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(t){e.reject(t)}return!0},e.prototype.cancelAll=function(){for(var e=r.createAbortError(),t=0,i=this._tasks;t<i.length;t++)i[t].reject(e);this._tasks.length=0},e}();t.default=i;var n=function(e,t,r){this.resolve=e,this.reject=t,this.callback=r}}).apply(null,i))||(e.exports=n)},yLD6:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("Fzzg"),r("/COu"),r("Jvs9")],void 0===(n=(function(e,t,r,i,n){Object.defineProperty(t,"__esModule",{value:!0}),t.optimizedFeatureQueryEngineAdapter={getObjectId:function(e){return e.objectId},getAttributes:function(e){return e.attributes},getAttribute:function(e,t){return e.attributes[t]},cloneWithGeometry:function(e,t){return new i.default(t,e.attributes,null,e.objectId)},getGeometry:function(e){return e.geometry},getCentroid:function(e,t){return e.centroid||(e.centroid=r.getCentroidOptimizedGeometry(new n.default,e.geometry,t.hasZ,t.hasM)),e.centroid}},t.default=t.optimizedFeatureQueryEngineAdapter}).apply(null,i))||(e.exports=n)},zDti:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("LxLY"),r("8uEs"),r("d466"),r("Lzvl"),r("fw2w"),r("nrlZ"),r("Fzzg"),r("+6sX"),r("Jvs9"),r("Q2Em"),r("V1i6")],void 0===(n=(function(e,t,r,i,n,s,o,u,a,l,c,h,d,f,p){Object.defineProperty(t,"__esModule",{value:!0});var y=new i.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});t.QUERY_ENGINE_EMPTY_RESULT=Object.freeze({});var g=new d.default,m=new d.default,_=new d.default,v={esriGeometryPoint:h.convertToPoint,esriGeometryPolyline:h.convertToPolyline,esriGeometryPolygon:h.convertToPolygon,esriGeometryMultipoint:h.convertToMultipoint};function I(e,t,r,i,n){void 0===i&&(i=e.hasZ),void 0===n&&(n=e.hasM);var s=e.hasZ&&i,o=e.hasM&&n;if(r){var u=h.quantizeOptimizedGeometry(_,t,e.hasZ,e.hasM,"esriGeometryPoint",r,i,n);return h.convertToPoint(u,s,o)}return h.convertToPoint(t,s,o)}function b(e,i,s){return r.__awaiter(this,void 0,void 0,(function(){var l,c,h,d,p,y;return r.__generator(this,(function(r){switch(r.label){case 0:return e?(e.where=l=(l=e.where)&&l.trim(),(!l||/^1 *= *1$/.test(l)||i&&i===l)&&(e.where=null),e.geometry?[4,x(e)]:[2,e]):[2,null];case 1:return c=r.sent(),e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel&&(h=e.geometry.spatialReference,(c=o.getGeometryExtent(c)).spatialReference=h),e.geometry=c,[4,f.checkProjectionSupport(c.spatialReference,s)];case 2:return r.sent(),[4,a.normalizeCentralMeridian(u.fromJSON(c))];case 3:if(d=r.sent()[0],n.isNone(d))throw t.QUERY_ENGINE_EMPTY_RESULT;return p=d.toJSON(),[4,f.project(p,p.spatialReference,s)];case 4:if(!(y=r.sent()))throw t.QUERY_ENGINE_EMPTY_RESULT;return y.spatialReference=s,e.geometry=y,[2,e]}}))}))}function x(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,n,o,u,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:return t=e.geometry,n=e.units,null==(i=e.distance)||"vertexAttributes"in t?[2,t]:(o=t.spatialReference,u=n?y.fromJSON(n):s.getUnitString(o),o&&(l.isGeographic(o)||l.isWebMercator(o))?(c=t,[3,3]):[3,1]);case 1:return[4,f.checkProjectionSupport(o,l.WGS84).then((function(){return f.project(t,l.WGS84)}))];case 2:c=r.sent(),r.label=3;case 3:return a=c,[4,p.getGeodesicBufferOperator()];case 4:return[2,r.sent()(a.spatialReference,a,i,u)]}}))}))}t.transformCentroid=I,t.getCentroid=function(e,t,r){return"esriGeometryPolygon"===e.geometryType&&t&&(t.centroid||t.geometry)?(t.centroid||(t.centroid=c.getCentroidOptimizedGeometry(new d.default,t.geometry,e.hasZ,e.hasM)),I(e,t.centroid,r)):null},t.getGeometry=function(e,t,r,i,n,s,o,u){void 0===o&&(o=t),void 0===u&&(u=r);var a=t&&o,l=r&&u,c=i?"coords"in i?i:i.geometry:null;if(!c)return null;if(n){var d=h.generalizeOptimizedGeometry(m,c,t,r,e,n,o,u);return s&&(d=h.quantizeOptimizedGeometry(_,d,a,l,e,s)),v[e](d,a,l)}return s?(d=h.quantizeOptimizedGeometry(_,c,t,r,e,s,o,u),v[e](d,a,l)):(h.removeZMValues(g,c,t,r,o,u),v[e](g,a,l))},t.normalizeQuery=function(e,t,i){return r.__awaiter(this,void 0,void 0,(function(){var n,s,o,u,a;return r.__generator(this,(function(r){if(s=e.orderByFields,o=e.groupByFieldsForStatistics,u=e.outStatistics,n=e.outFields)for(a=0;a<n.length;a++)n[a]=n[a].trim();if(s)for(a=0;a<s.length;a++)s[a]=s[a].trim();if(o)for(a=0;a<o.length;a++)o[a]=o[a].trim();if(u)for(a=0;a<u.length;a++)u[a].onStatisticField&&(u[a].onStatisticField=u[a].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),[2,b(e,t,i)]}))}))},t.normalizeFilter=function(e,t,i){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,b(e,t,i)]}))}))},t.normalizeQueryLike=b,t.cleanFromGeometryEngine=function(e){return e&&S in e?JSON.parse(JSON.stringify(e,F)):e};var S="_geVersion",F=function(e,t){return e!==S?t:void 0}}).apply(null,i))||(e.exports=n)},ztx9:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ZHL0"),r("1eyA")],void 0===(n=(function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._cache=new r(e),this._invalidCache=new r(t)}return e.prototype.get=function(e,t){var r=t.uid+":"+e,n=this._cache.get(r);if(n)return n;if(void 0!==this._invalidCache.get(r))return null;try{var s=i.WhereClause.create(e,t);return this._cache.put(r,s),s}catch(e){return this._invalidCache.put(r,null),null}},e}();t.WhereClauseCache=n}).apply(null,i))||(e.exports=n)}}]);