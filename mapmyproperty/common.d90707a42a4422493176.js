(function(){var e={"arcgis-js-api/views/2d/layers/features/processors/BaseProcessor":"68TM","arcgis-js-api/views/2d/layers/features/FeatureStore2D":"7+6c","arcgis-js-api/views/2d/layers/features/Store2D":"7/gB","arcgis-js-api/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":"7ahC","arcgis-js-api/views/3d/webgl-engine/lib/BufferVectorMath":"83/a","arcgis-js-api/layers/graphics/sources/geojson/geojson":"9K5t","esri/core/number":"AcGV","arcgis-js-api/core/number":"AcGV","arcgis-js-api/views/2d/arcade/callExpressionWithCursor":"Eujf","arcgis-js-api/renderers/support/pointCloud/StopInfo":"FPyo","esri/layers/support/lazyLayerLoader":"FayN","arcgis-js-api/renderers/support/pointCloud/ColorUniqueValueInfo":"Izrp","arcgis-js-api/views/3d/support/buffer/glUtil":"MzcX","arcgis-js-api/layers/support/kmlUtils":"N3Jt","esri/layers/support/kmlUtils":"N3Jt","esri/renderers/PointCloudClassBreaksRenderer":"O0KB","arcgis-js-api/renderers/PointCloudClassBreaksRenderer":"O0KB","arcgis-js-api/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":"R+Pf","arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer":"Rt18","esri/tasks/mixins/NAServiceDescription":"SA66","arcgis-js-api/views/draw/support/input/GraphicMoverEvents":"TD84","esri/tasks/support/NAMessage":"VIp5","esri/portal/support/portalItemUtils":"WYOF","arcgis-js-api/renderers/support/heatmapUtils":"Wf0m","arcgis-js-api/layers/support/rasterDatasets/RawBlockCache":"XOvD","esri/layers/support/rasterDatasets/RawBlockCache":"XOvD","esri/renderers/PointCloudRenderer":"YT9w","arcgis-js-api/renderers/PointCloudRenderer":"YT9w","esri/layers/WebTileLayer":"a2fw","esri/core/queryUtils":"a4MF","esri/layers/support/rasterDatasets/EphemeralBlockCache":"dhsc","arcgis-js-api/renderers/support/pointCloud/ColorModulation":"fsLf","arcgis-js-api/views/draw/support/GraphicMover":"i6zL","arcgis-js-api/layers/graphics/sources/support/sourceUtils":"jJpZ","arcgis-js-api/geometry/support/meshUtils/deduplicate":"jmRc","arcgis-js-api/renderers/support/pointCloud/PointSizeSplatAlgorithm":"lbhO","esri/tasks/support/DirectionsFeatureSet":"mEoI","esri/renderers/PointCloudUniqueValueRenderer":"mkxQ","arcgis-js-api/renderers/PointCloudUniqueValueRenderer":"mkxQ","esri/views/3d/support/projectionUtils":"mmEe","arcgis-js-api/views/3d/support/projectionUtils":"mmEe","arcgis-js-api/layers/support/rasterFunctions/rasterProjectionHelper":"mnow","esri/layers/support/rasterFunctions/rasterProjectionHelper":"mnow","arcgis-js-api/renderers/support/pointCloud/PointSizeAlgorithm":"mu/x","esri/renderers/PointCloudStretchRenderer":"qasq","arcgis-js-api/renderers/PointCloudStretchRenderer":"qasq","arcgis-js-api/renderers/support/pointCloud/ColorClassBreakInfo":"sYb8","arcgis-js-api/geometry/geometryEngineJSON":"tNTp","esri/portal/support/portalLayers":"uLAD","esri/tasks/GeometryService":"xuSL","esri/layers/support/FetchAssociatedFeatureLayer":"y5xs","esri/layers/support/WMTSLayerInfo":"zBTX"},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"68TM":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.initialize=function(){},t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"supportsTileUpdates",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spatialReference",{get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null},enumerable:!1,configurable:!0}),r.__decorate([i.property({readOnly:!0})],t.prototype,"supportsTileUpdates",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"remoteClient",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"service",void 0),r.__decorate([i.property({dependsOn:["tileStore.tileScheme.spatialReference"]})],t.prototype,"spatialReference",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileInfo",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileStore",void 0),r.__decorate([i.subclass("esri.views.2d.layers.features.processors.BaseProcessor")],t)}(n.HandleOwner);t.default=o}).apply(null,n))||(e.exports=i)},"7+6c":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("BcWh"),r("LxLY"),r("jEml"),r("WRgd"),r("7/gB")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";function l(e){return(4294901760&e)>>>16}function u(e){return 65535&e}Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureStore2D=t.featureAdapter=void 0,t.featureAdapter={getObjectId:function(e){return e.getObjectId()},getAttributes:function(e){return e.readAttributes()},getAttribute:function(e,t){return e.readAttribute(t)},cloneWithGeometry:function(e,t){return e},getGeometry:function(e){return e.readHydratedGeometry()},getCentroid:function(e,t){return e.readCentroid()}};var c=function(e){function s(r,i){var a=e.call(this,r,i)||this;return a.featureAdapter=t.featureAdapter,a.events=new n,a._featureSetsByInstance=new Map,a._objectIdToDisplayId=new Map,a._spatialIndexInvalid=!0,a._index=o(9,(function(e){return{minX:a._storage.getXMin(e),minY:a._storage.getYMin(e),maxX:a._storage.getXMax(e),maxY:a._storage.getYMax(e)}})),a}return r.__extends(s,e),Object.defineProperty(s.prototype,"storeStatistics",{get:function(){return{featureCount:0,vertexCount:0}},enumerable:!1,configurable:!0}),s.prototype.onTileData=function(e,t,r){if(i.isNone(t.addOrUpdate))return t;this._featureSetsByInstance.set(t.addOrUpdate.instance,t.addOrUpdate),this._storage=r,t.addOrUpdate._storage=r;for(var n=t.addOrUpdate.getCursor();n.next();){var o=n.getObjectId(),a=n.instance<<16|n.getIndex(),s=this._objectIdToDisplayId.get(o);s||(s=r.createDisplayId(),this._objectIdToDisplayId.set(o,s),this._spatialIndexInvalid=!0),n.setDisplayId(s),r.setInstanceId(s,a),this.setComputedAttributes(r,n,s,e.scale)}return"update"===t.type&&(this._spatialIndexInvalid=!0),this.events.emit("changed"),t},s.prototype.forEach=function(e){var t=this;this._objectIdToDisplayId.forEach((function(r){var n=t._storage.getInstanceId(r),i=t._lookupFeature(n);e(i)}))},s.prototype.forEachUnsafe=function(e){var t=this;this._objectIdToDisplayId.forEach((function(r){var n=t._storage.getInstanceId(r),i=l(n),o=u(n),a=t._getFeatureSet(i);a.setIndex(o),e(a)}))},s.prototype.forEachInBounds=function(e,t){for(var r=0,n=this._searchIndex(e);r<n.length;r++){var o=this.lookupFeatureByDisplayId(n[r],this._storage);t(i.unwrap(o))}},s.prototype.forEachBounds=function(e,t,r){this._rebuildIndex();for(var n=[0,0,0,0],i=0,o=e;i<o.length;i++){var s=o[i].getDisplayId();n[0]=this._storage.getXMin(s),n[1]=this._storage.getYMin(s),n[2]=this._storage.getXMax(s),n[3]=this._storage.getYMax(s),t(a.fromRect(r,n))}},s.prototype.sweepFeatures=function(e,t){var r=this;this._objectIdToDisplayId.forEach((function(n,i){e.has(n)||(t.releaseDisplayId(n),r._objectIdToDisplayId.delete(i))})),this.events.emit("changed")},s.prototype.sweepFeatureSets=function(e){var t=this;this._featureSetsByInstance.forEach((function(r,n){e.has(n)||t._featureSetsByInstance.delete(n)}))},s.prototype.lookupObjectId=function(e,t){var r=this.lookupFeatureByDisplayId(e,t);return i.isNone(r)?null:r.getObjectId()},s.prototype.lookupDisplayId=function(e){return this._objectIdToDisplayId.get(e)},s.prototype.lookupFeatureByDisplayId=function(e,t){var r=t.getInstanceId(e);return this._lookupFeature(r)},s.prototype.lookupByDisplayIdUnsafe=function(e){var t=this._storage.getInstanceId(e),r=l(t),n=u(t),i=this._getFeatureSet(r);return i?(i.setIndex(n),i):null},s.prototype.hasInstance=function(e){return this._featureSetsByInstance.has(e)},s.prototype._rebuildIndex=function(){var e=this;if(this._spatialIndexInvalid){this._index.clear();var t=[];this._objectIdToDisplayId.forEach((function(r){var n=e._storage.getInstanceId(r);e._storage.setBounds(r,e._lookupFeature(n))&&t.push(r)})),this._index.load(t),this._spatialIndexInvalid=!1}},s.prototype._lookupFeature=function(e){var t=l(e),r=u(e),n=this._getFeatureSet(t);if(!n)return null;var i=n.getCursor();return i.setIndex(r),i},s.prototype._getFeatureSet=function(e){return this._featureSetsByInstance.get(e)},s.prototype._searchIndex=function(e){return this._rebuildIndex(),this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})},s}(s.Store2D);t.FeatureStore2D=c}).apply(null,n))||(e.exports=i)},"7/gB":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("H1tY"),r("LxLY"),r("qMld"),r("CYRa"),r("sCbS"),r("Eujf"),r("2Kdy")],void 0===(i=(function(e,t,n,i,o,a,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store2D=void 0;var c=new Promise((function(e,t){r.e(112).then((function(){var t=[r("y/j/")];e.apply(null,t)}).bind(this)).catch(t.bind(this))})),p=function(){function e(e,t){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:t.getBitset(t.createBitset())}}return e.prototype.updateSchema=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r,l,u,c,p,d,f;return n.__generator(this,(function(n){switch(n.label){case 0:if(r=s.diff(this._schema,t),this._schema=t,!t||o.isNone(r)||!s.hasDiff(r,"attributes"))return[2];for(p in i("esri-2d-update-debug")&&console.debug("Applying Update - Store:",r),this._bitsets.computed.clear(),e.targets[t.name]=!0,u=[],c=[],l=t.attributes)switch((d=l[p]).type){case"field":break;case"expression":u.push(this._createArcadeComputedField(d));break;case"label-expression":u.push(this._createLabelArcadeComputedField(d));break;case"statistic":c.push(d)}return f=this,[4,a.all(u)];case 1:return f._computedFields=n.sent(),this._canCacheExpressionValue=!this._computedFields.some((function(e){return"expression"===e.type&&e.expression.referencesScale()})),this._statisticFields=c,[2]}}))}))},e.prototype.setComputedAttributes=function(e,t,r,n){var i=this._bitsets.computed;if(!this._canCacheExpressionValue||!i.has(r)){i.set(r);for(var o=0,a=this._computedFields;o<a.length;o++){var s=a[o],l=this._evaluateField(t,s,n);switch(s.resultType){case"numeric":e.setComputedNumericAtIndex(r,s.fieldIndex,l);break;case"string":e.setComputedStringAtIndex(r,s.fieldIndex,l)}}}},e.prototype._createArcadeComputedField=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i,o;return n.__generator(this,(function(a){switch(a.label){case 0:return t=this._sourceInfo.spatialReference,r=this._sourceInfo.fieldsIndex,i=[n.__assign({},e)],o={},[4,l.createRendererExpression(e.valueExpression,t,r)];case 1:return[2,n.__assign.apply(void 0,i.concat([(o.expression=a.sent(),o)]))]}}))}))},e.prototype._createLabelArcadeComputedField=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i;return n.__generator(this,(function(o){switch(o.label){case 0:return t=this._sourceInfo.spatialReference,r=this._sourceInfo.fields,[4,c];case 1:return[4,(0,o.sent().createLabelFunction)(e.label,r,t)];case 2:return i=o.sent(),[2,n.__assign(n.__assign({},e),{builder:i})]}}))}))},e.prototype._evaluateField=function(e,t,r){switch(t.type){case"label-expression":var n=e.readArcadeFeature();return t.builder.evaluate(n)||"";case"expression":return u.default(t.expression,e,{$view:{scale:r}})}},e}();t.Store2D=p}).apply(null,n))||(e.exports=i)},"7ahC":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("mu/x"),r("R+Pf"),r("lbhO")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointSizeAlgorithmTypes=void 0,t.pointSizeAlgorithmTypes={key:"type",base:r.default,typeMap:{"fixed-size":n.default,splat:i.default}}}).apply(null,n))||(e.exports=i)},"83/a":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3Compact=void 0,function(e){e.length=function(e,t){var r=e[t],n=e[t+1],i=e[t+2];return Math.sqrt(r*r+n*n+i*i)},e.normalize=function(e,t){var r=e[t],n=e[t+1],i=e[t+2],o=1/Math.sqrt(r*r+n*n+i*i);e[t]*=o,e[t+1]*=o,e[t+2]*=o},e.scale=function(e,t,r){e[t]*=r,e[t+1]*=r,e[t+2]*=r},e.add=function(e,t,r,n,i,o){void 0===o&&(o=t),(i=i||e)[o]=e[t]+r[n],i[o+1]=e[t+1]+r[n+1],i[o+2]=e[t+2]+r[n+2]},e.subtract=function(e,t,r,n,i,o){void 0===o&&(o=t),(i=i||e)[o]=e[t]-r[n],i[o+1]=e[t+1]-r[n+1],i[o+2]=e[t+2]-r[n+2]}}(t.Vec3Compact||(t.Vec3Compact={}))}).apply(null,n))||(e.exports=i)},"9K5t":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("/COu"),r("Jvs9")],void 0===(i=(function(e,t,r,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptimizedFeatures=t.inferLayerProperties=t.validateGeoJSON=void 0;var a={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function s(e){var t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:switch(e.type){case"Feature":return[3,1];case"FeatureCollection":return[3,3]}return[3,7];case 1:return[4,e];case 2:return r.sent(),[3,7];case 3:t=0,n=e.features,r.label=4;case 4:return t<n.length?(i=n[t])?[4,i]:[3,6]:[3,7];case 5:r.sent(),r.label=6;case 6:return t++,[3,4];case 7:return[2]}}))}function l(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function u(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function c(e,t,r){var n=u(t);l(n)?d(e,n,r):f(e,n,r)}function p(e,t,r){var n=u(t);l(n)?f(e,n,r):d(e,n,r)}function d(e,t,r){for(var n=0,i=t;n<i.length;n++)h(e,i[n],r);e.lengths.push(t.length)}function f(e,t,r){for(var n=t.length-1;n>=0;n--)h(e,t[n],r);e.lengths.push(t.length)}function h(e,t,r){var n=t[2];e.coords.push(t[0],t[1]),r.hasZ&&e.coords.push(n||0)}function y(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}t.validateGeoJSON=function(e){if(!e)throw new n("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new n("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!i.test(r))throw new n("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}},t.inferLayerProperties=function(e,t){void 0===t&&(t={});for(var n=s(e),i=[],o=new Set,l=new Set,u=!1,c=Number.NEGATIVE_INFINITY,p=null,d=!1,f=void 0,h=t.geometryType,v=void 0===h?null:h,g=!1,m=function(){var e,t,s=n.next(),h=s.value;if(s.done){var m=p&&1===p.length&&p[0]||null;if(m)for(var _=0,b=i;_<b.length;_++){var w=b[_];w.name===m&&(w.type="esriFieldTypeOID")}return{value:{fields:i,geometryType:v,hasZ:u,maxObjectId:Math.max(0,c),objectIdFieldName:m,objectIdFieldType:f,unknownFields:(e=l,t=[],e.forEach((function(e){return t.push(e)})),t)}}}var x=h.geometry,I=h.properties,S=h.id;if(x&&(v||(v=a[x.type]),a[x.type]!==v))return"continue";if(!u){var T=function(e){var t,n,i,o,a,s;return r.__generator(this,(function(l){switch(l.label){case 0:if(!e)return[2,null];switch(e.type){case"Point":return[3,1];case"LineString":case"MultiPoint":return[3,3];case"MultiLineString":case"Polygon":return[3,5];case"MultiPolygon":return[3,10]}return[3,17];case 1:return[4,e.coordinates];case 2:return l.sent(),[3,17];case 3:return[5,r.__values(e.coordinates)];case 4:return l.sent(),[3,17];case 5:t=0,n=e.coordinates,l.label=6;case 6:return t<n.length?[5,r.__values(n[t])]:[3,9];case 7:l.sent(),l.label=8;case 8:return t++,[3,6];case 9:return[3,17];case 10:i=0,o=e.coordinates,l.label=11;case 11:if(!(i<o.length))return[3,16];a=0,s=o[i],l.label=12;case 12:return a<s.length?[5,r.__values(s[a])]:[3,15];case 13:l.sent(),l.label=14;case 14:return a++,[3,12];case 15:return i++,[3,11];case 16:return[3,17];case 17:return[2]}}))}(x);u=function(e){for(;;){var t=e.next();if(t.done)return!1;if(t.value.length>2)return!0}}(T)}if(d||(d=null!=S)&&"number"==(f=typeof S)&&(p=Object.keys(I).filter((function(e){return I[e]===S}))),d&&"number"===f&&null!=S&&(c=Math.max(c,S),p.length>1?p=p.filter((function(e){return I[e]===S})):1===p.length&&(p=I[p[0]]===S?p:[])),!g&&I){var M=!0;for(var E in I)if(!o.has(E)){var j=I[E];if(null!=j){var O=y(j);"unknown"!==O?(l.delete(E),o.add(E),i.push({name:E,alias:E,type:O})):l.add(E)}else M=!1,l.add(E)}g=M}};;){var _=m();if("object"==typeof _)return _.value}},t.createOptimizedFeatures=function(e,t){return function(e){for(var t=[];;){var r=e.next();if(r.done)return t;t.push(r.value)}}(function(e,t){var n,s,l,u,f,y,v,g;return void 0===t&&(t={}),r.__generator(this,(function(r){switch(r.label){case 0:n=t.geometryType,s=t.objectIdFieldName,r.label=1;case 1:return l=e.next(),u=l.value,l.done?[2]:(y=u.properties,v=u.id,(f=u.geometry)&&a[f.type]!==n?[3,1]:(g=y||{},s&&null!=v&&!g[s]&&(g[s]=v),[4,new i.default(f?function(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return d(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++)d(e,i[n],r);return e}(e,t,r);case"MultiPoint":return function(e,t,r){return d(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++){var o=i[n];c(e,o[0],r);for(var a=1;a<o.length;a++)p(e,o[a],r)}return e}(e,t,r);case"Point":return function(e,t,r){return h(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;c(e,n[0],r);for(var i=1;i<n.length;i++)p(e,n[i],r);return e}(e,t,r)}}(new o.default,f,t):null,g)]));case 2:return r.sent(),[3,1];case 3:return[2]}}))}(s(e),t))}}).apply(null,n))||(e.exports=i)},AcGV:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nRUF"),r("+PwV")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t._parseInfo=t.regexp=t.format=t.getCustoms=void 0;var o={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function a(e){e||(e=i.getLocale());var t=e in o;if(!t){var r=e.split("-");r.length>1&&r[0]in o&&(e=r[0],t=!0),t||(e="en")}var n=o[e],a=n[2];return{decimal:n[0],group:n[1],pattern:void 0===a?"#,##0.###":a}}t.getCustoms=a,t.format=function(e,t){var i=a((t=r.__assign({},t)).locale);t.customs=i;var o=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var i=(r=r||{}).customs.group,o=r.customs.decimal,a=t.split(";"),l=a[0];if(-1!==(t=a[e<0?1:0]||"-"+l).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var u=s,c=l.match(u);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(u,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var i=t.split("."),o="string"==typeof r.places&&r.places.indexOf(","),a=r.places;o?a=r.places.substring(o+1):a>=0||(a=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(a))));var s=String(Math.abs(e)).split("."),l=s[1]||"";if(i[1]||r.places){o&&(r.places=r.places.substring(0,o));var u=void 0!==r.places?r.places:i[1]&&i[1].lastIndexOf("0")+1;u>l.length&&(s[1]=n.padEnd(l,Number(u),"0")),a<l.length&&(s[1]=l.substr(0,Number(a)))}else s[1]&&s.pop();var c=i[0].replace(",",""),p=c.indexOf("0");-1!==p&&((p=c.length-p)>s[0].length&&(s[0]=n.padStart(s[0],p,"0")),-1===c.indexOf("#")&&(s[0]=s[0].substr(s[0].length-p)));var d,f,h=i[0].lastIndexOf(",");if(-1!==h){d=i[0].length-h-1;var y=i[0].substr(0,h);-1!==(h=y.lastIndexOf(","))&&(f=y.length-h-1)}for(var v=[],g=s[0];g;){var m=g.length-d;v.push(m>0?g.substr(m):g),g=m>0?g.slice(0,m):"",f&&(d=f,f=void 0)}return s[0]=v.reverse().join(r.group||","),s.join(r.decimal||".")}(e,c[0],{decimal:o,group:i,places:r.places,round:r.round}))}(e,o,t)};var s=/[#0,]*[#0](?:\.0*#*)?/;function l(e){var t=a((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,o=t.decimal,l=1;if(-1!==r.indexOf("%"))l/=100;else if(-1!==r.indexOf("\u2030"))l/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");var p=r.split(";");return 1===p.length&&p.push("-"+p[0]),{regexp:c(p,(function(t){return(t="(?:"+n.escapeRegExpString(t,".")+")").replace(s,(function(t){var r={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:o,exponent:!1},n=t.split("."),a=e.places;1===n.length&&1!==l&&(n[1]="###"),1===n.length||0===a?r.fractional=!1:(void 0===a&&(a=e.pattern?n[1].lastIndexOf("0")+1:1/0),a&&null==e.fractional&&(r.fractional=!0),!e.places&&a<n[1].length&&(a+=","+n[1].length),r.places=a);var s=n[0].split(",");return s.length>1&&(r.groupSize=s.pop().length,s.length>1&&(r.groupSize2=s.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=u(e),r=c(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+c(e.exponent,(function(t){return t?"([eE]"+u({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:o,factor:l}}function u(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",c(e.signed,(function(e){return e?"[-+]":""}),!0)+c(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=n.escapeRegExpString(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var r=e.groupSize,i=e.groupSize2;if(i){var o="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+o+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":o}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}t.regexp=function(e){return l(e).regexp},t._parseInfo=l,t.parse=function(e,t){var r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor};var c=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return p(n.join("|"),r)},p=function(e,t){return"("+(t?"?:":"")+e+")"}}).apply(null,n))||(e.exports=i)},Eujf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("qsST")],void 0===(i=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){e.referencesGeometry();var o=t.readArcadeFeature();try{return e.evaluate(r.__assign(r.__assign({},i),{$feature:o}))}catch(e){return n.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",e),null}}}).apply(null,n))||(e.exports=i)},FPyo:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopInfo=void 0;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.value=0,t.color=null,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({label:this.label,value:this.value,color:o.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"value",void 0),r.__decorate([a.property({type:n,json:{type:[s.Integer],write:!0}})],t.prototype,"color",void 0),i=r.__decorate([a.subclass("esri.renderers.support.pointCloud.StopInfo")],t)}(i.JSONSupport);t.StopInfo=l,t.default=l}).apply(null,n))||(e.exports=i)},FayN:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("2Kdy")],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layerLookupMap=void 0,t.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,t){Promise.all([r.e(24),r.e(1),r.e(50)]).then((function(){var t=[r("gRqF")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},CSVLayer:function(){return new Promise((function(e,t){r.e(77).then((function(){var t=[r("zwOT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,t){r.e(32).then((function(){var t=[r("GAgw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("Zvuv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GroupLayer:function(){return new Promise((function(e,t){r.e(38).then((function(){var t=[r("lAGb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,t){r.e(98).then((function(){var t=[r("Hpgp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("G5N4")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(52)]).then((function(){var t=[r("EhmR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,t){Promise.all([r.e(24),r.e(1),r.e(62)]).then((function(){var t=[r("wehw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},KMLLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(82)]).then((function(){var t=[r("hPxN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,t){r.e(99).then((function(){var t=[r("2OQv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(100)]).then((function(){var t=[r("793k")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(51)]).then((function(){var t=[r("wvIq")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},RouteLayer:function(){return new Promise((function(e,t){r.e(101).then((function(){var t=[r("BdvN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},SceneLayer:function(){return new Promise((function(e,t){Promise.all([r.e(24),r.e(1),r.e(83)]).then((function(){var t=[r("yf9t")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},StreamLayer:function(){return new Promise((function(e,t){r.e(84).then((function(){var t=[r("QiYT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},TileLayer:function(){return new Promise((function(e,t){r.e(102).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,t){r.e(103).then((function(){var t=[r("N1SI")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,t){r.e(104).then((function(){var t=[r("9ZiH")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("UW67")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,t){r.e(1).then((function(){var t=[r("a2fw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMSLayer:function(){return new Promise((function(e,t){Promise.resolve().then((function(){var t=[r("dWJG")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(65)]).then((function(){var t=[r("AgRT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))}}}).apply(null,n))||(e.exports=i)},Izrp:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUniqueValueInfo=void 0;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.values=null,t.color=null,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({description:this.description,label:this.label,values:o.clone(this.values),color:o.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:[String],json:{write:!0}})],t.prototype,"values",void 0),r.__decorate([a.property({type:n,json:{type:[s.Integer],write:!0}})],t.prototype,"color",void 0),i=r.__decorate([a.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],t)}(i.JSONSupport);t.ColorUniqueValueInfo=l,t.default=l}).apply(null,n))||(e.exports=i)},MzcX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht")],void 0===(i=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glLayout=void 0;var n={divisor:0};t.glLayout=function(e,t){void 0===t&&(t={}),t=r.__assign(r.__assign({},n),t);var o=e.stride;return e.fieldNames.filter((function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)})).map((function(r){var n=e.fields.get(r),a=n.constructor.ElementCount,s=function(e){var t=i[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(n.constructor.ElementType);return{name:r,stride:o,count:a,type:s,offset:n.offset,normalized:!(!n.optional||!n.optional.glNormalized),divisor:t.divisor}}))};var i={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}).apply(null,n))||(e.exports=i)},N3Jt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("urqW"),r("ifLZ"),r("zp6E"),r("rg9i"),r("jfWY"),r("Z4y+"),r("WRgd"),r("hBh5"),r("hz/Y"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u,c,p,d,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeExtent=t.getGraphics=t.sublayersFromJSON=t.fetchService=t.parseKML=void 0;var h={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function y(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function v(e){for(var t=c.create(),r=c.create(c.NEGATIVE_INFINITY),n=0,i=e;n<i.length;n++){var o=i[n];if(o.polygons&&o.polygons.featureSet&&o.polygons.featureSet.features)for(var a=0,s=o.polygons.featureSet.features;a<s.length;a++){var l=s[a];p.getBoundsXYZ(t,l.geometry),c.expand(r,t,r)}if(o.polylines&&o.polylines.featureSet&&o.polylines.featureSet.features)for(var d=0,f=o.polylines.featureSet.features;d<f.length;d++)p.getBoundsXYZ(t,(l=f[d]).geometry),c.expand(r,t,r);if(o.points&&o.points.featureSet&&o.points.featureSet.features)for(var h=0,y=o.points.featureSet.features;h<y.length;h++)p.getBoundsXYZ(t,(l=y[h]).geometry),c.expand(r,t,r);if(o.mapImages)for(var v=0,g=o.mapImages;v<g.length;v++)p.getBoundsXYZ(t,(l=g[v]).extent),c.expand(r,t,r)}return c.equals(r,c.NEGATIVE_INFINITY)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:u.WGS84}}t.parseKML=function(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,o=new Map,a=new Map,l=new Map,u={esriGeometryPoint:i,esriGeometryPolyline:o,esriGeometryPolygon:a};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=s.clone(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var l=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?y(i,l,e.featureSet.features):"esriGeometryPolyline"===r?y(o,l,e.featureSet.features):"esriGeometryPolygon"===r&&y(a,l,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){l.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){e.featureInfos&&(e.points=s.clone(n.get("esriGeometryPoint")),e.polylines=s.clone(n.get("esriGeometryPolyline")),e.polygons=s.clone(n.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map((function(t){switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var r=u[t.type].get(t.id);r&&e[h[t.type]].featureSet.features.push(r);break;case"GroundOverlay":var n=l.get(t.id);n&&e.mapImages.push(n)}})),e.fullExtent=v([e]))}));var c=v(r);return{folders:t,sublayers:r,extent:c}},t.fetchService=function(e,t,r,o){var s=i.id&&i.id.findCredential(e);return e=l.addQueryParameters(e,{token:s&&s.token}),a(n.kmlServiceUrl,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:o})},t.sublayersFromJSON=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=[]);var i=[],o={},a=t.sublayers,s=t.folders.map((function(e){return e.id}));return a.forEach((function(t){var a=new e;if(r?a.read(t,r):a.read(t),n.length&&s.indexOf(a.id)>-1&&(a.visible=-1!==n.indexOf(a.id)),o[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){var l=o[t.parentFolderId];l.sublayers||(l.sublayers=[]),l.sublayers.unshift(a)}else i.unshift(a)})),i},t.getGraphics=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,a,s,l,u,c,p;return r.__generator(this,(function(r){switch(r.label){case 0:t=f.fromJSON(e.featureSet),n=t.features,i=d.fromJSON(e.layerDefinition.drawingInfo.renderer),a=o.fromJSON(e.popupInfo),s=[],l=0,u=n,r.label=1;case 1:return l<u.length?[4,i.getSymbolAsync(c=u[l])]:[3,4];case 2:p=r.sent(),c.symbol=p,c.popupTemplate=a,c.visible=!!c.attributes.visibility,s.push(c),r.label=3;case 3:return l++,[3,1];case 4:return[2,s]}}))}))},t.computeExtent=v}).apply(null,n))||(e.exports=i)},O0KB:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("sYb8")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-class-breaks",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.colorClassBreakInfos=null,r}var l;return r.__extends(t,e),l=t,t.prototype.clone=function(){return new l(r.__assign(r.__assign({},this.cloneProperties()),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:n.clone(this.colorClassBreakInfos),legendOptions:n.clone(this.legendOptions)}))},r.__decorate([i.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],t.prototype,"type",void 0),r.__decorate([i.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([i.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),r.__decorate([i.property({type:o.fieldTransformTypeKebabDict.apiValues,json:{type:o.fieldTransformTypeKebabDict.jsonValues,read:o.fieldTransformTypeKebabDict.read,write:o.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([i.property({type:[s.default],json:{write:!0}})],t.prototype,"colorClassBreakInfos",void 0),l=r.__decorate([i.subclass("esri.renderers.PointCloudClassBreaksRenderer")],t)}(o)}).apply(null,n))||(e.exports=i)},"R+Pf":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("mu/x")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointSizeFixedSizeAlgorithm=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="fixed-size",t.size=0,t.useRealWorldSymbolSizes=null,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})},r.__decorate([n.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],t.prototype,"type",void 0),r.__decorate([n.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"size",void 0),r.__decorate([n.property({type:Boolean,json:{write:!0}})],t.prototype,"useRealWorldSymbolSizes",void 0),i=r.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],t)}(i.default);t.PointSizeFixedSizeAlgorithm=o,t.default=o}).apply(null,n))||(e.exports=i)},Rt18:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r.__extends(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,"updating",{get:function(){return this.isUpdating()},enumerable:!1,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once("isReady",(function(){return t.notifyChange("updating")})),this.tiles.set(e.id,r),r},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach((function(t){e=e&&t.isReady})),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},r.__decorate([i.property()],t.prototype,"layer",void 0),r.__decorate([i.property()],t.prototype,"layerView",void 0),r.__decorate([i.property()],t.prototype,"tileInfoView",void 0),r.__decorate([i.property()],t.prototype,"updating",null),r.__decorate([i.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],t)}(n.HandleOwner);t.default=o}).apply(null,n))||(e.exports=i)},SA66:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("LxLY"),r("TTKK"),r("jfWY"),r("Vx27"),r("FPqO")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAServiceDescription=t.NAServiceDescriptionMixin=void 0,t.NAServiceDescriptionMixin=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),[2,this._serviceDescriptionPromise]}))}))},t.prototype._fetchServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,o,l,u;return r.__generator(this,(function(c){switch(c.label){case 0:if(!this.url||!this.parsedUrl)throw new i("network-service:missing-url","Url to Network service is missing");return[4,n(e=this.url,{query:{f:"json"}})];case 1:for((t=c.sent().data).supportedTravelModes||(t.supportedTravelModes=[]),o=0;o<t.supportedTravelModes.length;o++)t.supportedTravelModes[o].id||(t.supportedTravelModes[o].id=t.supportedTravelModes[o].itemId);return[4,t.currentVersion>=10.4?function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}})];case 1:return[2,{supportedTravelModes:(t=r.sent().data).supportedTravelModes,defaultTravelMode:t.defaultTravelMode}];case 2:throw o=r.sent(),new i("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:o});case 3:return[2]}}))}))}(e):function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,o,l,u,c,p,d,f,h,y,v,g,m,_;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,n(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}})];case 1:return(t=r.sent().data)&&t.owningSystemUrl?[4,n((e=t.owningSystemUrl)+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}})]:[2,{supportedTravelModes:[],defaultTravelMode:null}];case 2:return i=r.sent().data,(o=a.getDeepValue("helperServices.routingUtilities.url",i))?(l=s.urlToObject(e),u=/\/solveClosestFacility$/.test(l.path)?"Route":/\/solveClosestFacility$/.test(l.path)?"ClosestFacility":"ServiceAreas",[4,n(o+("/"===o[o.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:u}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 3:if(c=r.sent(),p=[],d=null,c&&c.data&&c.data.results&&c.data.results.length)for(f=0,h=c.data.results;f<h.length;f++)if("supportedTravelModes"===(y=h[f]).paramName){if(y.value&&y.value.features)for(v=0,g=y.value.features;v<g.length;v++)(m=g[v].attributes)&&(_=JSON.parse(m.TravelMode),p.push(_))}else"defaultTravelMode"===y.paramName&&(d=y.value);return[2,{supportedTravelModes:p,defaultTravelMode:d}]}}))}))}(e)];case 2:return l=c.sent(),u=l.supportedTravelModes,t.defaultTravelMode=l.defaultTravelMode,t.supportedTravelModes=u,[2,t]}}))}))},t.prototype._isInputGeometryZAware=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,a=n;i<a.length;i++){var s=a[i];if(o.isSome(s)&&s.hasZ)return!0}}return!1},t.prototype._dropZValuesOffInputGeometry=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,o=n;i<o.length;i++)o[i].z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")},r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(e)};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(t.NAServiceDescriptionMixin(u));t.NAServiceDescription=c}).apply(null,n))||(e.exports=i)},TD84:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicPointerUpEvent=t.GraphicPointerDownEvent=t.GraphicPointerOutEvent=t.GraphicPointerOverEvent=t.GraphicMoveStopEvent=t.GraphicMoveEvent=t.GraphicMoveStartEvent=t.GraphicDoubleClickEvent=t.GraphicClickEvent=void 0,t.GraphicClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-click"},t.GraphicDoubleClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-double-click"};var r=function(){function e(e,t,r,n,i,o,a,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=o,this.dy=a,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-start"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStartEvent=r;var n=function(){function e(e,t,r,n,i,o,a,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=o,this.dy=a,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveEvent=n;var i=function(){function e(e,t,r,n,i,o,a,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=o,this.dy=a,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-stop"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStopEvent=i,t.GraphicPointerOverEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-over"},t.GraphicPointerOutEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-out"},t.GraphicPointerDownEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-down"},t.GraphicPointerUpEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-up"}}).apply(null,n))||(e.exports=i)},VIp5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("Vx27"),r("EEGM")],void 0===(i=(function(e,t,r,n,i,o){"use strict";var a=new n.default({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});return function(e){function t(t){var r=e.call(this,t)||this;return r.type=null,r}return r.__extends(t,e),r.__decorate([i.property({type:String,json:{read:a.read,write:a.write}})],t.prototype,"type",void 0),r.__decorate([i.subclass("esri.tasks.support.NAMessage")],t)}(o)}).apply(null,n))||(e.exports=i)},WYOF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";function r(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.removeTypeKeyword=t.hasTypeKeyword=t.addTypeKeyword=void 0,t.addTypeKeyword=function(e,t){if(!r(e,t)){var n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}},t.hasTypeKeyword=r,t.removeTypeKeyword=function(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}}).apply(null,n))||(e.exports=i)},Wf0m:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("J3YA"),r("xoE+")],void 0===(i=(function(e,t,r,n){"use strict";function i(e,t,r,i,o){for(var a=new Uint32Array(e*e),s=("buffer"in t?t:new Float64Array(t)),l=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),u=l.length/(o-i),c=0;c<s.length;c++){var p=Math.floor((s[c]-i)*u);a[c]=l[n.clamp(p,0,l.length-1)]}return a.buffer}function o(e){for(var t=Math.round(3*e),r=2*e*e,n=new Float64Array(2*t+1),i=0;i<=n.length;i++)n[i]=Math.exp(-Math.pow(i-t,2)/r)/Math.sqrt(2*Math.PI)*(e/2);return n}function a(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}function s(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.createValueFunctionCursor=t.createValueFunction=t.createKernel=t.createHeatmapImageData=t.drawHeatmap=t.calculateHeatmapIntensityInfoReaders=t.calculateHeatmapIntensityInfo=t.generateGradient=void 0,t.generateGradient=function(){if(!("document"in r))return function(){return null};var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,function(r){t.clearRect(0,0,1,e.height);for(var n=t.createLinearGradient(0,0,0,e.height),i=0,o=r.colorStops;i<o.length;i++){var a=o[i],s=a.color;n.addColorStop(Math.max(a.ratio,.001),"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")")}return t.fillStyle=n,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}}(),t.calculateHeatmapIntensityInfo=function(e,t,r,n){for(var i,s=t.blurRadius,l=t.fieldOffset,u=t.field,c=new Float64Array(r*n),p=o(s),d=Math.round(3*s),f=Number.NEGATIVE_INFINITY,h=a(u,l),y=0,v=e;y<v.length;y++)for(var g=v[y],m=g.geometry,_=g.attributes,b=m.x-d,w=m.y-d,x=Math.max(0,b),I=Math.max(0,w),S=Math.min(n,m.y+d),T=Math.min(r,m.x+d),M=+h(_),E=I;E<S;E++)for(var j=p[E-w],O=x;O<T;O++)(i=c[E*r+O]+=j*p[O-b]*M)>f&&(f=i);return{matrix:c.buffer,max:f}},t.calculateHeatmapIntensityInfoReaders=function(e,t,r,n){for(var i,a=t.blurRadius,l=t.fieldOffset,u=t.field,c=new Float64Array(r*n),p=o(a),d=Math.round(3*a),f=Number.NEGATIVE_INFINITY,h=s(u,l),y=new Set,v=0,g=e;v<g.length;v++)for(var m=g[v].getCursor();m.next();){var _=m.getObjectId();if(!y.has(_)){y.add(_);for(var b=m.readLegacyPointGeometry(),w=+h(m),x=b.x-d,I=b.y-d,S=Math.max(0,x),T=Math.max(0,I),M=Math.min(n,b.y+d),E=Math.min(r,b.x+d),j=T;j<M;j++)for(var O=p[j-I],P=S;P<E;P++)(i=c[j*r+P]+=O*p[P-x]*w)>f&&(f=i)}}return{matrix:c.buffer,max:f}},t.drawHeatmap=function(e,t,r,n,o,a){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var s=e.getImageData(0,0,t,t);r&&n&&s.data.set(new Uint8ClampedArray(i(t,r,n,o,a))),e.putImageData(s,0,0)},t.createHeatmapImageData=i,t.createKernel=o,t.createValueFunction=a,t.createValueFunctionCursor=s}).apply(null,n))||(e.exports=i)},XOvD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("TMur"),r("dhsc"),r("mnow")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.deleteBlock=t.putBlock=t.getBlock=t.decreaseRefCount=t.deleteRaster=t.unregister=t.register=t.getRasterId=void 0;var o=new Map,a=new n;t.getRasterId=function(e,t){return null==t?e:e+"?sliceId="+t},t.register=function(e,t){var r={extent:null,rasterInfo:t,cache:new Map};if(o.has(e)){var n=o.get(e);return n.push(r),n.length-1}return o.set(e,[r]),0},t.unregister=function(e,t){o.has(e)&&(o.get(e)[t]=null)},t.deleteRaster=function(e){o.delete(e)},t.decreaseRefCount=function(e,t,r){if(!o.has(e))return null==t?a.decreaseRefCount(e,r):0;var n=o.get(e);if(null==n[t])return a.decreaseRefCount(e,r);var i=n[t].cache;if(i.has(r)){var s=i.get(r);if(s.refCount--,0===s.refCount){i.delete(r);for(var l=0;l<n.length;l++)n[l]&&n[l].cache.has(r)&&n[l].cache.delete(r);s.controller&&s.controller.abort()}return s.refCount}return 0},t.getBlock=function(e,t,r){if(!o.has(e))return null==t?a.getBlock(e,r):null;var n=o.get(e);if(null==n[t]){for(var i=0;i<n.length;i++)if(n[i]&&n[i].cache.has(r))return(s=n[i].cache.get(r)).refCount++,s.block;return a.getBlock(e,r)}var s,l=n[t].cache;if(l.has(r))return(s=l.get(r)).refCount++,s.block;for(i=0;i<n.length;i++)if(i!==t&&n[i]&&n[i]&&n[i].cache.has(r)){var u=n[i].cache.get(r);return u.refCount++,l.set(r,u),u.block}return null},t.putBlock=function(e,t,r,n,i){if(void 0===i&&(i=null),o.has(e)){var s=o.get(e);if(null!=s[t]){var l={refCount:1,block:n,isResolved:!1,isRejected:!1,controller:i};n.then((function(){return l.isResolved=!0})).catch((function(){return l.isRejected=!0})),s[t].cache.set(r,l)}else a.putBlock(e,r,n,i)}else null==t&&a.putBlock(e,r,n,i)},t.deleteBlock=function(e,t,r){if(o.has(e)){var n=o.get(e);null!=n[t]?n[t].cache.delete(r):a.deleteBlock(e,r)}else null==t&&a.deleteBlock(e,r)},t.update=function(e,t,n,a,s,l,u){void 0===u&&(u=null);var c=function(e,t){if(!o.has(e))return null;var r=o.get(e);return null==r[t]?null:r[t]}(e,t),p=c.extent,d=c.cache,f=c.rasterInfo;if(!p||p.xmin!==n.xmin||p.xmax!==n.xmax||p.ymin!==n.ymin||p.ymax!==n.ymax){for(var h=n.clone().normalize(),y=f.spatialReference,v=new Set,g=0;g<h.length;g++){var m=h[g];if(!(m.xmax-m.xmin<=a||m.ymax-m.ymin<=a)){var _=i.projectExtent(m,y,u),b=new r.Point({x:a,y:a,spatialReference:m.spatialReference});if(null===s&&!(s=i.projectResolution(b,y,m,u)))return;var w=i.snapPyramid(s,f,l||"closest"),x=w.pyramidLevel,I=w.pyramidResolution;if(w.excessiveReading)return;for(var S={x:Math.max(0,Math.floor((_.xmin-f.storageInfo.origin.x)/I.x)),y:Math.max(0,Math.floor((f.storageInfo.origin.y-_.ymax)/I.y))},T=Math.ceil((_.xmax-_.xmin)/I.x-.1),M=Math.ceil((_.ymax-_.ymin)/I.y-.1),E=x>0?f.storageInfo.pyramidBlockWidth:f.storageInfo.blockWidth,j=x>0?f.storageInfo.pyramidBlockHeight:f.storageInfo.blockHeight,O=Math.max(0,Math.floor(S.x/E)-1),P=Math.max(0,Math.floor(S.y/j)-1),N=Math.floor((S.x+T-1)/E)+1,R=Math.floor((S.y+M-1)/j)+1,A=P;A<=R;A++)for(var C=O;C<=N;C++)v.add(x+"/"+A+"/"+C)}}d.forEach((function(e,t){if(!v.has(t)){var r=d.get(t);(null==r||r.isResolved||r.isRejected)&&d.delete(t)}})),c.extent={xmin:n.xmin,ymin:n.ymin,xmax:n.xmax,ymax:n.ymax}}}}).apply(null,n))||(e.exports=i)},YT9w:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("rg9i"),r("Vx27"),r("fsLf"),r("7ahC")],void 0===(i=(function(e,t,r,n,i,o,a,s,l){"use strict";var u=n.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"}),c=function(e){function t(t){var r=e.call(this,t)||this;return r.type=void 0,r.pointSizeAlgorithm=null,r.colorModulation=null,r.pointsPerInch=10,r}return r.__extends(t,e),t.prototype.clone=function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null},t.prototype.cloneProperties=function(){return{pointSizeAlgorithm:o.clone(this.pointSizeAlgorithm),colorModulation:o.clone(this.colorModulation),pointsPerInch:o.clone(this.pointsPerInch)}},r.__decorate([a.property({type:u.apiValues,readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],t.prototype,"type",void 0),r.__decorate([a.property({types:l.pointSizeAlgorithmTypes,json:{write:!0}})],t.prototype,"pointSizeAlgorithm",void 0),r.__decorate([a.property({type:s.default,json:{write:!0}})],t.prototype,"colorModulation",void 0),r.__decorate([a.property({json:{write:!0},nonNullable:!0,type:Number})],t.prototype,"pointsPerInch",void 0),r.__decorate([a.subclass("esri.renderers.PointCloudRenderer")],t)}(i.JSONSupport);return function(e){e.fieldTransformTypeKebabDict=new n.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})}(c||(c={})),c}).apply(null,n))||(e.exports=i)},a2fw:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("zp6E"),r("ma1f"),r("rg9i"),r("EUqE"),r("qMld"),r("nRUF"),r("jfWY"),r("jfWY"),r("Vx27"),r("0RER"),r("Pnm5"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("r2fF"),r("pMLx"),r("zBTX")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u,c,p,d,f,h,y,v,g,m,_,b,w){"use strict";return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this;return i.copyright="",i.fullExtent=new n.Extent(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,n.SpatialReference.WebMercator),i.legendEnabled=!1,i.isReference=null,i.popupEnabled=!1,i.spatialReference=n.SpatialReference.WebMercator,i.subDomains=null,i.tileInfo=new b({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new n.Point({x:-20037508.342787,y:20037508.342787,spatialReference:n.SpatialReference.WebMercator}),spatialReference:n.SpatialReference.WebMercator,lods:[new _({level:0,scale:591657527.591555,resolution:156543.033928}),new _({level:1,scale:295828763.795777,resolution:78271.5169639999}),new _({level:2,scale:147914381.897889,resolution:39135.7584820001}),new _({level:3,scale:73957190.948944,resolution:19567.8792409999}),new _({level:4,scale:36978595.474472,resolution:9783.93962049996}),new _({level:5,scale:18489297.737236,resolution:4891.96981024998}),new _({level:6,scale:9244648.868618,resolution:2445.98490512499}),new _({level:7,scale:4622324.434309,resolution:1222.99245256249}),new _({level:8,scale:2311162.217155,resolution:611.49622628138}),new _({level:9,scale:1155581.108577,resolution:305.748113140558}),new _({level:10,scale:577790.554289,resolution:152.874056570411}),new _({level:11,scale:288895.277144,resolution:76.4370282850732}),new _({level:12,scale:144447.638572,resolution:38.2185141425366}),new _({level:13,scale:72223.819286,resolution:19.1092570712683}),new _({level:14,scale:36111.909643,resolution:9.55462853563415}),new _({level:15,scale:18055.954822,resolution:4.77731426794937}),new _({level:16,scale:9027.977411,resolution:2.38865713397468}),new _({level:17,scale:4513.988705,resolution:1.19432856685505}),new _({level:18,scale:2256.994353,resolution:.597164283559817}),new _({level:19,scale:1128.497176,resolution:.298582141647617})]}),i.type="web-tile",i.urlTemplate=null,i.wmtsInfo=null,i}return r.__extends(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?a.mixin({urlTemplate:e},t||{}):e},t.prototype.load=function(e){var t=this,r=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((function(){var e="";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r=new c.Url(t.urlTemplate);t.subDomains&&t.subDomains.length>0||-1===r.authority.indexOf("{subDomain}")||(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new o("web-tile-layer:load","WebTileLayer (title: '"+t.title+"', id: '"+t.id+"') "+e)}));return this.addResolvingPromise(r),l.resolve(this)},Object.defineProperty(t.prototype,"levelValues",{get:function(){var e=[];if(!this.tileInfo)return null;for(var t=0,r=this.tileInfo.lods;t<r.length;t++){var n=r[t];e[n.level]=n.levelValue||n.level}return e},enumerable:!1,configurable:!0}),t.prototype.readSpatialReference=function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&n.SpatialReference.fromJSON(t.fullExtent.spatialReference)},Object.defineProperty(t.prototype,"tileServers",{get:function(){if(!this.urlTemplate)return null;var e=[],t=this.subDomains,r=new c.Url(this.urlTemplate),n=r.scheme?r.scheme+"://":"//",i=n+r.authority+"/";if(-1===r.authority.indexOf("{subDomain}"))e.push(i);else if(t&&t.length>0&&r.authority.split(".").length>1)for(var o=0,a=t;o<a.length;o++)e.push(n+r.authority.replace(/\{subDomain\}/gi,a[o])+"/");return e.map((function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlPath",{get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new c.Url(e);return e.substring(((t.scheme?t.scheme+"://":"//")+t.authority+"/").length)},enumerable:!1,configurable:!0}),t.prototype.readUrlTemplate=function(e,t){return e||t.templateUrl},t.prototype.writeUrlTemplate=function(e,t){e&&p.isProtocolRelative(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=p.normalize(e)),t.templateUrl=e},t.prototype.fetchTile=function(e,t,r,n){void 0===n&&(n={});var o=n.signal,a=n.timestamp,s=this.getTileUrl(e,t,r),l={responseType:"image",signal:o};return null!=a&&(l.query={_ts:n.timestamp}),i(s,l).then((function(e){return e.data}))},t.prototype.getTileUrl=function(e,t,r){var n=this.levelValues[e];return this.tileServers[t%this.tileServers.length]+u.replace(this.urlPath,{level:n,z:n,col:r,x:r,row:t,y:t})},r.__decorate([d.property({type:String,value:"",json:{write:!0}})],t.prototype,"copyright",void 0),r.__decorate([d.property({type:n.Extent,json:{write:!0}})],t.prototype,"fullExtent",void 0),r.__decorate([d.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"legendEnabled",void 0),r.__decorate([d.property({type:["show","hide"]})],t.prototype,"listMode",void 0),r.__decorate([d.property({dependsOn:["tileInfo"]})],t.prototype,"levelValues",null),r.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],t.prototype,"isReference",void 0),r.__decorate([d.property({type:["WebTiledLayer"],value:"WebTiledLayer"})],t.prototype,"operationalLayerType",void 0),r.__decorate([d.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"popupEnabled",void 0),r.__decorate([d.property({type:n.SpatialReference})],t.prototype,"spatialReference",void 0),r.__decorate([d.reader("spatialReference",["spatialReference","fullExtent.spatialReference"])],t.prototype,"readSpatialReference",null),r.__decorate([d.property({type:[String],json:{write:!0}})],t.prototype,"subDomains",void 0),r.__decorate([d.property({type:b,json:{write:!0}})],t.prototype,"tileInfo",void 0),r.__decorate([d.property({readOnly:!0,dependsOn:["urlTemplate","subDomains"]})],t.prototype,"tileServers",null),r.__decorate([d.property({json:{read:!1}})],t.prototype,"type",void 0),r.__decorate([d.property({dependsOn:["urlTemplate"]})],t.prototype,"urlPath",null),r.__decorate([d.property({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],t.prototype,"urlTemplate",void 0),r.__decorate([d.reader("urlTemplate",["urlTemplate","templateUrl"])],t.prototype,"readUrlTemplate",null),r.__decorate([d.writer("urlTemplate",{templateUrl:{type:String}})],t.prototype,"writeUrlTemplate",null),r.__decorate([d.property({type:w.default,json:{write:!0}})],t.prototype,"wmtsInfo",void 0),r.__decorate([d.subclass("esri.layers.WebTileLayer")],t)}(h.BlendLayer(g.RefreshableLayer(m.ScaleRangeLayer(y.OperationalLayer(v.PortalLayer(s.MultiOriginJSONMixin(f)))))))}).apply(null,n))||(e.exports=i)},a4MF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createQueryParamsHelper=void 0;var r=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.toQueryParams=function(e){var t=this;if(!e)return null;var r=e.toJSON(),n={};return Object.keys(r).forEach((function(e){var i=t._options[e];if(i){var o="boolean"!=typeof i&&i.name?i.name:e,a="boolean"!=typeof i&&i.getter?i.getter(r):r[e];null!=a&&(n[o]=function(e){if(!Array.isArray(e))return!1;var t=e[0];return"number"==typeof t||"string"==typeof t}(a)?a.join(","):"object"==typeof a?JSON.stringify(a):a)}else n[e]=r[e]}),this),n},e}();t.createQueryParamsHelper=function(e){return new r(e)}}).apply(null,n))||(e.exports=i)},dhsc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("R2Zq")],void 0===(i=(function(e,t,r){"use strict";return function(){function e(e,t){void 0===e&&(e=15e3),void 0===t&&(t=5e3),this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=e,this._interval=Math.min(e,t)}return e.prototype.decreaseRefCount=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.refCount--,i.refCount<=0&&(n.delete(r),i.controller&&i.controller.abort()),i.refCount}return 0},e.prototype.getBlock=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.ts=Date.now(),i.refCount++,n.delete(r),n.set(r,i),i.block}return null},e.prototype.putBlock=function(e,t,r,n){void 0===n&&(n=null);var i=this._cachedBlocks,o=e+"/"+t;if(i.has(o)){var a=i.get(o);a.ts=Date.now(),a.refCount++}else i.set(o,{block:r,ts:Date.now(),refCount:1,controller:n});this.trim(),this.updateTimer()},e.prototype.deleteBlock=function(e,t){var r=this._cachedBlocks,n=e+"/"+t;r.has(n)&&r.delete(n)},e.prototype.updateMaxSize=function(e){this._size=e,this.trim()},e.prototype.empty=function(){this._cachedBlocks.clear(),this.clearTimer()},e.prototype.getCurrentSize=function(){return this._cachedBlocks.size},e.prototype.updateTimer=function(){var e=this;if(null==this._timer){var t=this._cachedBlocks;this._timer=setInterval((function(){for(var n=r.pairsOfMap(t),i=Date.now(),o=0;o<n.length&&n[o][1].ts<=i-e._duration;o++)t.delete(n[o][0]);0===t.size&&e.clearTimer()}),this._interval)}},e.prototype.trim=function(){var e=this._cachedBlocks;if(!(-1===this._size||this._size>=e.size))for(var t=r.pairsOfMap(e),n=0;n<t.length-this._size;n++)e.delete(t[n][0])},e.prototype.clearTimer=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},e}()}).apply(null,n))||(e.exports=i)},fsLf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorModulation=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.field=null,t.minValue=0,t.maxValue=255,t}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({field:this.field,minValue:this.minValue,maxValue:this.maxValue})},r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"field",void 0),r.__decorate([i.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minValue",void 0),r.__decorate([i.property({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxValue",void 0),n=r.__decorate([i.subclass("esri.renderers.support.pointCloud.ColorModulation")],t)}(n.JSONSupport);t.ColorModulation=o,t.default=o}).apply(null,n))||(e.exports=i)},i6zL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("KY0m"),r("BcWh"),r("eIBl"),r("rg9i"),r("jBNx"),r("8MXS"),r("Vx27"),r("tJCi"),r("TD84"),r("txZC")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u,c,p,d){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r._activeGraphic=null,r._dragEvent=null,r._handles=new o,r._hoverGraphic=null,r._initialDragGeometry=null,r._viewHandles=new o,r.type="graphic-mover",r.callbacks={onGraphicClick:function(){},onGraphicDoubleClick:function(){},onGraphicMoveStart:function(){},onGraphicMove:function(){},onGraphicMoveStop:function(){},onGraphicPointerOver:function(){},onGraphicPointerOut:function(){},onGraphicPointerDown:function(){},onGraphicPointerUp:function(){}},r.enableMoveAllGraphics=!1,r.graphics=[],r.view=null,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this._handles.add([l.whenOnce(this,"view.ready",(function(){e._viewHandles.add([e.view.on("immediate-click",(function(t){return e._clickHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("double-click",(function(t){return e._doubleClickHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-down",(function(t){return e._pointerDownHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-move",(function(t){return e._pointerMoveHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-up",(function(t){return e._pointerUpHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("drag",(function(t){return e._dragHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("key-down",(function(t){return e._keyDownHandler(t)}),d.ViewEventPriorities.TOOL)])}))])},t.prototype.destroy=function(){this.reset(),this._viewHandles.removeAll(),this._handles.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=!!this.get("view.ready"),t=!!this.get("graphics.length");return e&&t?this._activeGraphic?"moving":"active":e?"ready":"disabled"},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null},t.prototype.updateGeometry=function(e,t){var r=this.graphics[e];r&&r.set("geometry",t)},t.prototype._clickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var o=new p.GraphicClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-click",o),t.callbacks.onGraphicClick&&t.callbacks.onGraphicClick(o)}}}))},t.prototype._doubleClickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var o=new p.GraphicDoubleClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-double-click",o),t.callbacks.onGraphicDoubleClick&&t.callbacks.onGraphicDoubleClick(o)}}}))},t.prototype._pointerDownHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=n.find(r.results,(function(e){return-1!==t.graphics.indexOf(e.graphic)}));if(i){var o=i.graphic;if(t.graphics.indexOf(o)>-1){t._activeGraphic=o;var a=e.x,s=e.y,l=new p.GraphicPointerDownEvent(o,t.graphics.indexOf(o),a,s,e);t.emit("graphic-pointer-down",l),t.callbacks.onGraphicPointerDown&&t.callbacks.onGraphicPointerDown(l)}else o!==t._activeGraphic&&(t._activeGraphic=null)}else t._activeGraphic=null}))},t.prototype._pointerUpHandler=function(e){if(this._activeGraphic){var t=e.x,r=e.y,n=this.graphics.indexOf(this._activeGraphic),i=new p.GraphicPointerUpEvent(this._activeGraphic,n,t,r,e);this.emit("graphic-pointer-up",i),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(i)}},t.prototype._pointerMoveHandler=function(e){var t=this;this._dragEvent||this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(i===t._hoverGraphic)return;if(t.graphics.indexOf(i)>-1){var o=e.x,a=e.y;if(t._hoverGraphic){var s=t.graphics.indexOf(t._hoverGraphic),l=new p.GraphicPointerOutEvent(t.graphics[s],s,o,a,e);t._hoverGraphic=null,t.emit("graphic-pointer-out",l),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(l)}var u=t.graphics.indexOf(i),c=new p.GraphicPointerOverEvent(i,u,o,a,e);return t._hoverGraphic=i,t.emit("graphic-pointer-over",c),void(t.callbacks.onGraphicPointerOver&&t.callbacks.onGraphicPointerOver(c))}}t._hoverGraphic&&(o=e.x,a=e.y,s=t.graphics.indexOf(t._hoverGraphic),c=new p.GraphicPointerOutEvent(t.graphics[s],s,o,a,e),t._hoverGraphic=null,t.emit("graphic-pointer-out",c),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(c))}))},t.prototype._dragHandler=function(e){var t=this;if(("start"===e.action||this._dragEvent)&&this._activeGraphic&&this._activeGraphic.geometry){e.stopPropagation();var r=e.action,n=e.x,i=e.y,o=this.graphics.indexOf(this._activeGraphic),s=this._activeGraphic.geometry,l=this._dragEvent?n-this._dragEvent.x:0,u=this._dragEvent?i-this._dragEvent.y:0,d=n-e.origin.x,f=i-e.origin.y;if(this._activeGraphic.geometry=c.cloneMove(s,l,u,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((function(e){e!==t._activeGraphic&&(e.geometry=c.cloneMove(e.geometry,l,u,t.view))})),this._dragEvent=e,"start"===r){this._initialDragGeometry=a.clone(s);var h=new p.GraphicMoveStartEvent(this._activeGraphic,this.graphics,o,n,i,l,u,d,f,e);this.emit("graphic-move-start",h),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(h),h.defaultPrevented&&this._activeGraphic.set("geometry",s)}else"update"===r?(h=new p.GraphicMoveEvent(this._activeGraphic,this.graphics,o,n,i,l,u,d,f,e),this.emit("graphic-move",h),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(h),h.defaultPrevented&&this._activeGraphic.set("geometry",s)):(h=new p.GraphicMoveStopEvent(this._activeGraphic,this.graphics,o,n,i,l,u,d,f,e),this._dragEvent=null,this._activeGraphic=null,this.emit("graphic-move-stop",h),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(h),h.defaultPrevented&&this.graphics[o].set("geometry",this._initialDragGeometry),this._initialDragGeometry=null)}},t.prototype._keyDownHandler=function(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()},r.__decorate([u.property()],t.prototype,"_activeGraphic",void 0),r.__decorate([u.property({readOnly:!0})],t.prototype,"type",void 0),r.__decorate([u.property()],t.prototype,"callbacks",void 0),r.__decorate([u.property()],t.prototype,"enableMoveAllGraphics",void 0),r.__decorate([u.property()],t.prototype,"graphics",void 0),r.__decorate([u.property({dependsOn:["view.ready","graphics.length","_activeGraphic"],readOnly:!0})],t.prototype,"state",null),r.__decorate([u.property()],t.prototype,"view",void 0),r.__decorate([u.subclass("esri.views.draw.support.GraphicMover")],t)}(i.EventedAccessor)}).apply(null,n))||(e.exports=i)},jJpZ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nrlZ"),r("k7g7"),r("2Kdy")],void 0===(i=(function(e,t,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadGeometryEngineForSimplify=t.loadGeometryEngine=t.simplify=t.mixAttributes=t.createFeatureEditSuccessResult=t.createFeatureEditErrorResult=void 0;var a=function(){this.code=null,this.description=null},s=function(e){this.error=new a,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e};function l(e){return new s(e)}t.createFeatureEditErrorResult=l;var u=function(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e};t.createFeatureEditSuccessResult=function(e){return new u(e)};var c,p=new Set;function d(e,t){var r=t;return"string"==typeof t&&o.isNumericField(e)?r=parseFloat(t):null!=t&&o.isStringField(e)&&"string"!=typeof t&&(r=String(t)),o.sanitizeNullFieldValue(r)}function f(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return c?[2,c]:[4,new Promise((function(e,t){r.e(1).then((function(){var t=[r("tNTp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))];case 1:return[2,c=e.sent()]}}))}))}t.mixAttributes=function(e,t,r,n,i,a){for(var s in void 0===i&&(i=!1),p.clear(),n){var u=e.get(s);if(u){var c=n[s],f=d(u,c);if(f!==c&&a&&a.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:u,originalValue:c,sanitizedValue:f}}),p.add(u.name),u&&(i||u.editable)){var h=o.validateFieldValue(u,f);if(h)return l(o.validationErrorToString(h,u,f));r[u.name]=f}}}for(var y=0,v=t;y<v.length;y++){var g=v[y];if(!p.has(g.name))return l('missing required field "'+g.name+'"')}return null},t.simplify=function(e,t){if(!e||!i.isValid(t))return e;if("rings"in e||"paths"in e){if(!c)throw new TypeError("geometry engine not loaded");return c.simplify(t,e)}return e},t.loadGeometryEngine=f,t.loadGeometryEngineForSimplify=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(r){switch(r.label){case 0:return!i.isValid(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t?[3,2]:[4,f()];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}}).apply(null,n))||(e.exports=i)},jmRc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+")],void 0===(i=(function(e,t,r){"use strict";function n(e,t,n){var l=e.byteLength/(4*t),u=new Uint32Array(e,0,l*t),c=new Uint32Array(l),p=n&&n.minReduction||0,d=n&&n.originalIndices||null,f=n&&n.componentOffsets||null,h=0;if(f)for(var y=0;y<f.length-1;y++){var v=f[y+1]-f[y];v>h&&(h=v)}else h=l;var g=Math.floor(1.1*h)+1;for((null==s||s.length<2*g)&&(s=new Uint32Array(r.nextHighestPowerOfTwo(2*g))),y=0;y<2*g;y++)s[y]=0;var m=0,_=!!f&&!!d,b=_?d.length:l,w=_?new Uint32Array(d.length):null,x=1.96,I=0!==p?Math.ceil(4*x*x/(p*p)*p*(1-p)):b,S=1,T=f?f[1]:b;for(y=0;y<b;y++){if(y===I){var M=1-m/y;if(M+x*Math.sqrt(M*(1-M)/y)<p)return null;I*=2}if(y===T){for(var E=0;E<2*g;E++)s[E]=0;if(d)for(var j=f[S-1];j<f[S];j++)w[j]=c[d[j]];T=f[++S]}for(var O=_?d[y]:y,P=a(u,L=O*t,t),N=P%g,R=m;0!==s[2*N+1];){if(s[2*N]===P){var A=s[2*N+1]-1;if(i(u,L,A*t,t)){R=c[A];break}}++N>=g&&(N-=g)}R===m&&(s[2*N]=P,s[2*N+1]=O+1,m++),c[O]=R}if(0!==p&&1-m/l<p)return null;if(_){for(y=f[S-1];y<w.length;y++)w[y]=c[d[y]];c=w}var C=new Uint32Array(t*m);for(m=0,y=0;y<b;y++){var L;c[y]===m&&(o(u,L=(_?d[y]:y)*t,C,m*t,t),m++)}if(d&&!_){var G=new Uint32Array(d.length);for(y=0;y<G.length;y++)G[y]=c[d[y]];c=G}return{buffer:C.buffer,indices:c,uniqueCount:m}}function i(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function o(e,t,r,n,i){for(var o=0;o<i;o++)r[n+o]=e[t+o]}function a(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=void 0,t.deduplicate=n;var s=null;t.default=n}).apply(null,n))||(e.exports=i)},lbhO:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("mu/x")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointSizeSplatAlgorithm=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="splat",t.scaleFactor=1,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({scaleFactor:this.scaleFactor})},r.__decorate([n.enumeration({pointCloudSplatAlgorithm:"splat"})],t.prototype,"type",void 0),r.__decorate([n.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],t.prototype,"scaleFactor",void 0),i=r.__decorate([n.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],t)}(i.default);t.PointSizeSplatAlgorithm=o,t.default=o}).apply(null,n))||(e.exports=i)},mEoI:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("jZlN"),r("LxLY"),r("Vx27"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.extent=null,r.features=null,r.geometryType="polyline",r.routeId=null,r.routeName=null,r.totalDriveTime=null,r.totalLength=null,r.totalTime=null,r}return r.__extends(t,e),t.prototype.readFeatures=function(e,t){var r=this;(e||[]).forEach((function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)}));var a=n.SpatialReference.fromJSON(t.spatialReference);return e.map((function(e){var t=i.fromJSON(e);return t.geometry&&!(e.geometry&&e.geometry.spatialReference)&&(o.unwrap(t.geometry).spatialReference=a),t.strings=e.strings,t.events=(e.events||[]).map((function(t){var r=new i({geometry:new n.Point({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),t}))},Object.defineProperty(t.prototype,"mergedGeometry",{get:function(){if(!this.features)return null;var e=this.features.map((function(e){return o.unwrap(e.geometry)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strings",{get:function(){return this.features.map((function(e){return e.strings}))},enumerable:!1,configurable:!0}),t.prototype._decompressFeatureGeometry=function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)},t.prototype._decompressGeometry=function(e,t){var r,n,i,o,a,s,l,u,c=0,p=0,d=0,f=0,h=[],y=0,v=0,g=0;if((a=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(a=[]),0===parseInt(a[y],32)){y=2;var m=parseInt(a[y],32);y++,s=parseInt(a[y],32),y++,1&m&&(v=a.indexOf("|")+1,l=parseInt(a[v],32),v++),2&m&&(g=a.indexOf("|",v)+1,u=parseInt(a[g],32),g++)}else s=parseInt(a[y],32),y++;for(;y<a.length&&"|"!==a[y];){r=parseInt(a[y],32)+c,y++,c=r,n=parseInt(a[y],32)+p,y++,p=n;var _=[r/s,n/s];v&&(o=parseInt(a[v],32)+d,v++,d=o,_.push(o/l)),g&&(i=parseInt(a[g],32)+f,g++,f=i,_.push(i/u)),h.push(_)}return{paths:[h],hasZ:v>0,hasM:g>0,spatialReference:t}},t.prototype._mergePolylinesToSinglePath=function(e,t){var r=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){r=r.concat(e)}))}));var i=[],o=[0,0];return r.forEach((function(e){e[0]===o[0]&&e[1]===o[1]||(i.push(e),o=e)})),new n.Polyline({paths:[i]},t)},r.__decorate([a.property({type:n.Extent,json:{read:{source:"summary.envelope"}}})],t.prototype,"extent",void 0),r.__decorate([a.property()],t.prototype,"features",void 0),r.__decorate([a.reader("features")],t.prototype,"readFeatures",null),r.__decorate([a.property()],t.prototype,"geometryType",void 0),r.__decorate([a.property({readOnly:!0,dependsOn:["features","extent.spatialReference"]})],t.prototype,"mergedGeometry",null),r.__decorate([a.property()],t.prototype,"routeId",void 0),r.__decorate([a.property()],t.prototype,"routeName",void 0),r.__decorate([a.property({value:null,readOnly:!0,dependsOn:["features"]})],t.prototype,"strings",null),r.__decorate([a.property({json:{read:{source:"summary.totalDriveTime"}}})],t.prototype,"totalDriveTime",void 0),r.__decorate([a.property({json:{read:{source:"summary.totalLength"}}})],t.prototype,"totalLength",void 0),r.__decorate([a.property({json:{read:{source:"summary.totalTime"}}})],t.prototype,"totalTime",void 0),r.__decorate([a.subclass("esri.tasks.support.DirectionsFeatureSet")],t)}(s)}).apply(null,n))||(e.exports=i)},mkxQ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("Izrp")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-unique-value",r.field=null,r.fieldTransformType=null,r.colorUniqueValueInfos=null,r.legendOptions=null,r}var l;return r.__extends(t,e),l=t,t.prototype.clone=function(){return new l(r.__assign(r.__assign({},this.cloneProperties()),{field:n.clone(this.field),fieldTransformType:n.clone(this.fieldTransformType),colorUniqueValueInfos:n.clone(this.colorUniqueValueInfos),legendOptions:n.clone(this.legendOptions)}))},r.__decorate([i.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],t.prototype,"type",void 0),r.__decorate([i.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([i.property({type:o.fieldTransformTypeKebabDict.apiValues,json:{type:o.fieldTransformTypeKebabDict.jsonValues,read:o.fieldTransformTypeKebabDict.read,write:o.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([i.property({type:[s.default],json:{write:!0}})],t.prototype,"colorUniqueValueInfos",void 0),r.__decorate([i.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),l=r.__decorate([i.subclass("esri.renderers.PointCloudUniqueValueRenderer")],t)}(o)}).apply(null,n))||(e.exports=i)},mmEe:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("LxLY"),r("8uEs"),r("FXVB"),r("0LE5"),r("Rdxj"),r("Z4y+"),r("lRq4"),r("KDna"),r("83/a")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u,c,p){"use strict";var d,f,h,y,v,g,m,_;function b(e,t,r,n){return!(e.length<2)&&(2===e.length&&(H[0]=e[0],H[1]=e[1],H[2]=0,e=H),w(e,t,0,r,n,0,1))}function w(e,t,r,i,o,a,s){void 0===s&&(s=1);var l=U(t,o,V);if(n.isNone(l))return!1;if(l===I){if(e===i&&r===a)return!0;for(var u=r+3*s,c=r,p=a;c<u;c++,p++)i[p]=e[c];return!0}var d=r+3*s;for(c=r,p=a;c<d;c+=3,p+=3)l(e,c,i,p);return!0}function x(e,r){return r.spatialReference===e?r.spatialReferenceId:(r.spatialReference=e,"metersPerUnit"in r&&(r.metersPerUnit=i.getMetersPerUnitForSR(e,1)),r.spatialReferenceId=e.wkt===t.SphericalECEFSpatialReference.wkt?1:e.isWGS84?2:e.isWebMercator?3:e.wkt===t.WGS84ECEFSpatialReference.wkt?4:4490===e.wkid?5:0)}function I(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function S(e,t,r,n){r[n++]=W*(e[t++]/c.earthRadius),r[n++]=W*(Math.PI/2-2*Math.atan(Math.exp(-1*e[t++]/c.earthRadius))),r[n]=e[t]}function T(e,t,r,n){S(e,t,r,n),j(r,n,r,n)}function M(e,t,r,n){S(e,t,r,n),R(r,n,r,n)}function E(e,t,n,i){var o=.4999999*Math.PI,a=r.clamp(q*e[t+1],-o,o),s=Math.sin(a);n[i++]=q*e[t]*c.earthRadius,n[i++]=c.halfEarthRadius*Math.log((1+s)/(1-s)),n[i]=e[t+2]}function j(e,t,r,n){var i=c.earthRadius+e[t+2],o=q*e[t+1],a=q*e[t],s=Math.cos(o);r[n++]=Math.cos(a)*s*i,r[n++]=Math.sin(a)*s*i,r[n]=Math.sin(o)*i}function O(e,t,n,i){var o=p.Vec3Compact.length(e,t),a=r.asinClamped(e[t+2]/(0===o?1:o)),s=Math.atan2(e[t+1],e[t]);n[i++]=W*s,n[i++]=W*a,n[i]=o-c.earthRadius}function P(e,t,r,n){O(e,t,r,n),E(r,n,r,n)}function N(e,t,r,n){O(e,t,r,n),R(r,n,r,n)}function R(e,t,r,n){var i=c.earthEllipsoidConstants,o=q*e[t],a=q*e[t+1],s=e[t+2],l=Math.sin(a),u=Math.cos(a),p=i.a/Math.sqrt(1-i.e2*l*l);r[n++]=(p+s)*u*Math.cos(o),r[n++]=(p+s)*u*Math.sin(o),r[n++]=(p*(1-i.e2)+s)*l}function A(e,t,r,n){var i,o,a,s,l,u,p,d,f,h,y,v,g,m,_,b,w,x,I,S,T,M=c.earthEllipsoidConstants,E=e[t],j=e[t+1],O=e[t+2];i=Math.abs(O),o=E*E+j*j,a=Math.sqrt(o),s=o+O*O,l=Math.sqrt(s),S=Math.atan2(j,E),u=O*O/s,m=M.a2/l,_=M.a3-M.a4/l,(p=o/s)>.3?(d=i/l*(1+p*(M.a1+m+u*_)/l),I=Math.asin(d),h=d*d,f=Math.sqrt(1-h)):(f=a/l*(1-u*(M.a5-m-p*_)/l),I=Math.acos(f),h=1-f*f,d=Math.sqrt(h)),y=1-M.e2*h,v=M.a/Math.sqrt(y),I+=x=(b=f*(_=i-(g=M.a6*v)*d)-d*(m=a-v*f))/(g/y+(w=f*m+d*_)),T=w+b*x/2,O<0&&(I=-I),r[n++]=W*S,r[n++]=W*I,r[n]=T}function C(e,t,r,n){A(e,t,r,n),j(r,n,r,n)}function L(e,t,r,n){A(e,t,r,n),E(r,n,r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjector=t.wgs84ComparableLonLatToECEF=t.vectorToWGS84ComparableLonLat=t.canProjectToWGS84ComparableLonLat=t.webMercator=t.boundingRectToBoundingRect=t.mbsToMbs=t.transformDirection=t.computeLinearTransformation=t.localLinearScaleFactors=t.bufferToBuffer=t.xyzToVector=t.pathsToPaths=t.vectorToVector=t.getProjectorName=t.canProject=t.WGS84ECEFSpatialReference=t.SphericalECEFSpatialReference=void 0,t.SphericalECEFSpatialReference=new l({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",'+c.earthRadius+',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'}),t.WGS84ECEFSpatialReference=new l({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'}),t.canProject=function(e,t){return!!U(e,t,V)},t.getProjectorName=function(e,t){var r=U(e,t,V);return r===I?"copy3":r===j?"wgs84ToSphericalECEF":r===E?"wgs84ToWebMercator":r===R?"wgs84ToWGS84ECEF":r===S?"webMercatorToWGS84":r===T?"webMercatorToSphericalECEF":r===M?"webMercatorToWGS84ECEF":r===A?"wgs84ECEFToWGS84":r===C?"wgs84ECEFToSphericalECEF":r===L?"wgs84ECEFToWebMercator":r===O?"sphericalECEFToWGS84":r===P?"sphericalECEFToWebMercator":r===N?"sphericalECEFToWGS84ECEF":null},t.vectorToVector=b,t.pathsToPaths=function(e,t,r,n,i,o,a){void 0===a&&(a=0);for(var s=new Array,l=0,u=e;l<u.length;l++)for(var c=0,p=v=u[l];c<p.length;c++){var d=p[c];s.push(d[0],d[1],t?d[2]:a)}if(!w(s,n,0,s,o,0,s.length/3))return!1;var f=0;i.length=0;for(var h=0,y=e;h<y.length;h++){for(var v=y[h],g=new Array,m=0,_=v;m<_.length;m++)d=_[m],t&&r?g.push([s[f++],s[f++],s[f++],d[3]]):t?g.push([s[f++],s[f++],s[f++]]):r?(g.push([s[f++],s[f++],d[2]]),f++):(g.push([s[f++],s[f++]]),f++);i.push(g)}return!0},t.xyzToVector=function(e,t,r,n,i,o){return H[0]=e,H[1]=t,H[2]=r,w(H,n,0,i,o,0,1)},t.bufferToBuffer=w,t.localLinearScaleFactors=function(e,t,r,n){var i=x(t,k),o=x(n,z);if(i===o&&0!==i||t.equals(n))return r[0]=1,r[1]=1,r[2]=1,!0;if(1===i){var s=a.vec3.length(e),l=s/Math.sqrt(e[0]*e[0]+e[1]*e[1]),u=s/c.earthRadius;if(3===o)return r[0]=l*u,r[1]=l*u,r[2]=1,!0;if(2===o||5===o){var p=180/(c.earthRadius*Math.PI);return r[0]=p*l*u,r[1]=p*u,r[2]=1,!0}}return!1},t.computeLinearTransformation=function(e,t,r,i){var a=x(e,k),s=x(i,z);if(a===s&&1!==s&&(0!==a||e.equals(i)))return o.mat4.identity(r),o.mat4.translate(r,r,t),!0;if(1===s){var l=G[a][6],u=G[6][s];if(n.isNone(l)||n.isNone(u))return!1;l(t,0,Y,0),u(Y,0,K,0);var c=q*Y[0],p=q*Y[1],d=Math.sin(c),f=Math.cos(c),h=Math.sin(p),y=Math.cos(p),v=r;return v[0]=-d,v[4]=-h*f,v[8]=y*f,v[12]=K[0],v[1]=f,v[5]=-h*d,v[9]=y*d,v[13]=K[1],v[2]=0,v[6]=y,v[10]=h,v[14]=K[2],v[3]=0,v[7]=0,v[11]=0,v[15]=1,!0}if(3===s&&(2===a||1===a)){if(n.isNone(l=G[a][6]))return!1;l(t,0,Y,0);var g=q*Y[1];E(Y,0,K,0),o.mat4.identity(r),o.mat4.translate(r,r,K);var m=1/Math.cos(g);return o.mat4.scale(r,r,[m,m,1]),!0}return!1},t.transformDirection=function(e,t,r,n,i){a.vec3.copy(J,e),a.vec3.add(X,e,t),b(J,r,J,i),b(X,r,X,i),a.vec3.subtract(n,X,J),a.vec3.normalize(n,n)},t.mbsToMbs=function(e,t,r,i){var o=D(t,i,B);if(o.projector===I)return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],!0;if(n.isNone(o.projector))return!1;var a=o.source,s=o.dest;if(3===s.spatialReferenceId){var l=G[a.spatialReferenceId][2];if(n.isNone(l))return!1;l(e,0,Y,0);var u=Math.abs(q*Y[1])+Math.asin(e[3]/(c.earthRadius+e[2]));if(E(Y,0,r,0),u>.9999*Math.PI)r[3]=Number.MAX_VALUE;else{var p=1/Math.cos(u);r[3]=p*e[3]}return!0}return o.projector(e,0,r,0),r[3]=e[3]*a.metersPerUnit/s.metersPerUnit,!0},t.boundingRectToBoundingRect=function(e,t,r,n){return!(null==e||(t.equals(n)?(u.set(r,e),0):(H[0]=e[0],H[1]=e[1],H[2]=0,!w(H,t,0,H,n,0,1)||(r[0]=H[0],r[1]=H[1],H[0]=e[2],H[1]=e[3],H[2]=0,!w(H,t,0,H,n,0,1)||(r[2]=H[0],r[3]=H[1],0)))))},function(e){e.x2lon=function(e){return e/c.earthRadius},e.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-1*e/c.earthRadius))},e.lon2x=function(e){return e*c.earthRadius},e.lat2y=function(e){var t=Math.sin(e);return c.earthRadius/2*Math.log((1+t)/(1-t))}}(t.webMercator||(t.webMercator={})),t.canProjectToWGS84ComparableLonLat=function(e){var t=x(e,k);return!!G[t][6]},t.vectorToWGS84ComparableLonLat=function(e,t,r){var i=x(t,k),o=G[i][6];return!n.isNone(o)&&(o(e,0,H,0),r!==H&&(r[0]=H[0],r[1]=H[1],r.length>2&&(r[2]=H[2])),!0)},t.wgs84ComparableLonLatToECEF=function(e,t,r,n){void 0===n&&(n=0);var i=c.earthRadius+n,o=Math.cos(r);e[0]=Math.cos(t)*o*i,e[1]=Math.sin(t)*o*i,e[2]=Math.sin(r)*i};var G=((d={})[2]=((f={})[5]=null,f[6]=I,f[1]=j,f[0]=null,f[3]=E,f[2]=I,f[4]=R,f),d[5]=((h={})[5]=I,h[6]=I,h[1]=j,h[0]=null,h[3]=null,h[2]=null,h[4]=R,h),d[3]=((y={})[5]=null,y[6]=S,y[1]=T,y[0]=null,y[3]=I,y[2]=S,y[4]=M,y),d[4]=((v={})[5]=A,v[6]=A,v[1]=C,v[0]=null,v[3]=L,v[2]=A,v[4]=I,v),d[1]=((g={})[5]=O,g[6]=O,g[1]=I,g[0]=null,g[3]=P,g[2]=O,g[4]=N,g),d[0]=((m={})[5]=null,m[6]=null,m[1]=null,m[0]=I,m[3]=null,m[2]=null,m[4]=null,m),d[6]=((_={})[5]=null,_[6]=I,_[1]=j,_[0]=null,_[3]=null,_[2]=I,_[4]=R,_),d);function U(e,t,r){return void 0===r&&(r=F()),D(e,t,r).projector}function D(e,t,r){if(r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=x(e,r.source),i=x(t,r.dest);return r.projector=0===n&&0===i?e.equals(t)?I:null:G[n][i],r}function F(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:I}}t.getProjector=U;var k={spatialReference:null,spatialReferenceId:0},z={spatialReference:null,spatialReferenceId:0},V=F(),B=F(),q=r.deg2rad(1),W=r.rad2deg(1),H=s.vec3f64.create(),Y=s.vec3f64.create(),K=s.vec3f64.create(),J=s.vec3f64.create(),X=s.vec3f64.create()}).apply(null,n))||(e.exports=i)},mnow:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("ma1f"),r("8uEs"),r("wIC5"),r("nrlZ"),r("vtMp")],void 0===(i=(function(e,t,r,n,i,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeProjectedScales=t.snapPyramid=t.getProjectionOffsetGrid=t.projectExtent=t.projectPoint=t.projectResolution=t.load=t.defaultGridSpacing=void 0;var u=function(e,t){var r=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||r)};function c(e,t,r,o){if(void 0===o&&(o=null),e.spatialReference.equals(t))return e;var s=u(e.spatialReference,t);if(s&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");var c=r.center,p=new n.Extent({xmin:c.x-e.x/2,xmax:c.x+e.x/2,ymin:c.y-e.y/2,ymax:c.y+e.y/2,spatialReference:e.spatialReference}),d=s?a.project(p,t,o):l.project(p,t);return null==d?null:{x:d.xmax-d.xmin,y:d.ymax-d.ymin}}function p(e,t){return void 0===t&&(t=.01),o.getMetersPerUnitForSR(e)?t/o.getMetersPerUnitForSR(e):0}function d(e,t,r,n){var o,c;void 0===r&&(r=null),void 0===n&&(n=!0);var d=e.spatialReference;if(d.equals(t))return e;var f=u(d,t);if(f&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");var h=f?a.project(e,t,r):l.project(e,t);if(h&&n&&t.isGeographic){var y=d.isWebMercator?s.getInfo(d).origin:null!==(c=null===(o=s.getInfo(d))||void 0===o?void 0:o.valid)&&void 0!==c?c:[],v=y[0],g=y[1],m=p(d);m&&null!=v&&null!=g&&(Math.abs(e.x-v)<m&&Math.abs(180-h.x)<5e-4?h.x-=360:Math.abs(e.x-g)<m&&Math.abs(180+h.x)<5e-4&&(h.x+=360))}return h}function f(e,t,r,o){var c,f,h,y,v;void 0===r&&(r=null),void 0===o&&(o=!0);var g=e.spatialReference;if(g.equals(t))return e;var m=u(g,t);if(m&&!a.isLoaded())throw new i("rasterprojectionhelper-projectExtent","projection engine is not loaded");var _=m?a.project(e,t,r):l.project(e,t),b=null!==(h=null===(f=s.getInfo(g))||void 0===f?void 0:f.origin)&&void 0!==h?h:[],w=b[0],x=b[1];if(_&&o&&g.isWebMercator&&t.isGeographic&&null!=w&&null!=x){if(Math.abs(e.xmin-w)<.001&&Math.abs(x-e.xmax)>1e3&&Math.abs(180-_.xmax)<5e-4){_.xmin=-180,(S=[]).push(new n.Point(e.xmax,e.ymin,g)),S.push(new n.Point(e.xmax,(e.ymin+e.ymax)/2,g)),S.push(new n.Point(e.xmax,e.ymax,g));var I=S.map((function(e){return d(e,t,r)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x}));_.xmax=Math.max.apply(null,I)}var S;Math.abs(e.xmax-x)<.001&&Math.abs(w-e.xmin)>1e3&&Math.abs(180+_.xmin)<5e-4&&(_.xmax=180,(S=[]).push(new n.Point(e.xmin,e.ymin,g)),S.push(new n.Point(e.xmin,(e.ymin+e.ymax)/2,g)),S.push(new n.Point(e.xmin,e.ymax,g)),I=S.map((function(e){return d(e,t,r)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x})),_.xmin=Math.min.apply(null,I))}w=(c=t.isWebMercator?s.getInfo(t).origin:null!==(v=null===(y=s.getInfo(t))||void 0===y?void 0:y.valid)&&void 0!==v?v:[])[0],x=c[1];var T=p(t);return T&&null!=w&&null!=x&&(Math.abs(_.xmin-w)<T&&(_.xmin=w),Math.abs(_.xmax-x)<T&&(_.xmax=x)),_}t.defaultGridSpacing=32,t.load=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return a.isLoaded()||!a.isSupported()?[2,null]:[4,a.load()];case 1:return e.sent(),[2]}}))}))},t.projectResolution=c,t.projectPoint=d,t.projectExtent=f,t.getProjectionOffsetGrid=function(e,r,o,l,c,p){var f,h;if(void 0===l&&(l=null),void 0===c&&(c=!1),void 0===p&&(p=[t.defaultGridSpacing,t.defaultGridSpacing]),u(e.spatialReference,r.spatialReference)&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(e&&r&&o))return null;for(var y,v,g=e.xmin,m=e.ymin,_=e.xmax,b=e.ymax,w=e.spatialReference,x=r.spatialReference,I=null!==(h=null===(f=s.getInfo(w))||void 0===f?void 0:f.valid)&&void 0!==h?h:[],S=I[0],T=I[1],M={x:p[0]*o.x,y:p[1]*o.y},E={cols:Math.ceil((_-g)/M.x-.1)+1,rows:Math.ceil((b-m)/M.y-.1)+1},j=M.x,O=M.y,P=[],N=!1,R=0;R<E.cols;R++){for(var A=[],C=0;C<E.rows;C++)y=d(new n.Point({x:g+j*R,y:b-O*C,spatialReference:w}),x,l),A.push(y),R>0&&c&&y&&v[C]&&null!=S&&y.x<v[C].x&&(y.x+=T-S),y?(P.push((y.x-r.xmin)/(r.xmax-r.xmin)),P.push((r.ymax-y.y)/(r.ymax-r.ymin))):(P.push(NaN),P.push(NaN),N=!0);v=A}var L=function(e,t){var r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs((e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4-e[2*t.rows+2]),Math.abs(r-e[2*t.rows+3])]}(P,E),G=new Float32Array((E.cols-1)*(E.rows-1)*2*6),U=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),D=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(R=0;R<E.cols-1;R++){for(C=0;C<E.rows-1;C++){for(var F=R*E.rows*2+2*C,k=P[F],z=P[F+1],V=P[F+2],B=P[F+3],q=P[F+=2*E.rows],W=P[F+1],H=P[F+2],Y=P[F+3],K=0,J=12*(C*(E.cols-1)+R),X=0;X<3;X++)G[J++]=U[K++]*k+U[K++]*V+U[K++]*H;for(K=0,X=0;X<3;X++)G[J++]=U[K++]*z+U[K++]*B+U[K++]*Y;for(K=0,X=0;X<3;X++)G[J++]=D[K++]*k+D[K++]*q+D[K++]*H;for(K=0,X=0;X<3;X++)G[J++]=D[K++]*z+D[K++]*W+D[K++]*Y}if(N)for(var Z=0;Z<G.length;Z++)isNaN(G[Z])&&(G[Z]=-1)}return{offsets:P,error:L,coefficients:G,spacing:p,size:[E.cols-1,E.rows-1]}},t.snapPyramid=function(e,t,r){var i=Math.log(e.x/t.pixelSize.x)/Math.LN2,o=Math.log(e.y/t.pixelSize.y)/Math.LN2,a=t.storageInfo.maximumPyramidLevel||0,s="down"===r?Math.floor(Math.min(i,o)):"up"===r?Math.ceil(Math.max(i,o)):Math.round((i+o)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);var u=Math.pow(2,s);return{pyramidLevel:s,pyramidResolution:new n.Point({x:u*t.pixelSize.x,y:u*t.pixelSize.y,spatialReference:t.spatialReference}),excessiveReading:l}},t.computeProjectedScales=function(e,t,r,i){void 0===r&&(r=512),void 0===i&&(i=!0);var a=e.extent,s=e.spatialReference,l=e.pixelSize,u=c(new n.Point({x:l.x,y:l.y,spatialReference:s}),t,a);if(null==u)return{projectedPixelSize:null,scales:null,srcResolutions:null};var p=(u.x+u.y)/2,d=o.getMetersPerUnitForSR(t),h=p*d*96*39.37,y=t.isGeographic?512/r*295828763.7958547:512/r*591657527.591555,v=!1;if(i&&(t.isGeographic||t.isWebMercator)){var g=f(a,t);v=g.xmin*g.xmax<0}var m,_=h;if(v){var b=(_=y)/(96*d*39.37);m=c(new n.Point({x:b,y:b,spatialReference:t}),s,a)}else{m={x:l.x,y:l.y};for(var w=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),x=0;_<.5005*y&&x<w;)x++,_*=2,m.x*=2,m.y*=2;Math.max(_,y)/Math.min(_,y)<=1.001&&(_=y)}for(var I=[],S=[],T=Math.min(70.5310735,h)/1.001;_>=T;)I.push(_),S.push({x:m.x,y:m.y}),_/=2,m.x/=2,m.y/=2;return{projectedPixelSize:u,scales:I,srcResolutions:S}}}).apply(null,n))||(e.exports=i)},"mu/x":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointSizeAlgorithm=t.typeKebabDictionary=void 0,t.typeKebabDictionary=new n.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});var a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),r.__decorate([o.property({type:t.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:t.typeKebabDictionary.jsonValues,read:!1,write:t.typeKebabDictionary.write}})],n.prototype,"type",void 0),r.__decorate([o.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],n)}(i.JSONSupport);t.PointSizeAlgorithm=a,t.default=a}).apply(null,n))||(e.exports=i)},qasq:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("rg9i"),r("Vx27"),r("YT9w"),r("sHoj"),r("FPyo")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.type="point-cloud-stretch",r.field=null,r.legendOptions=null,r.fieldTransformType=null,r.stops=null,r}var l;return r.__extends(t,e),l=t,t.prototype.clone=function(){return new l(r.__assign(r.__assign({},this.cloneProperties()),{field:n.clone(this.field),fieldTransformType:n.clone(this.fieldTransformType),stops:n.clone(this.stops),legendOptions:n.clone(this.legendOptions)}))},r.__decorate([i.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],t.prototype,"type",void 0),r.__decorate([i.property({json:{write:!0},type:String})],t.prototype,"field",void 0),r.__decorate([i.property({type:a.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),r.__decorate([i.property({type:o.fieldTransformTypeKebabDict.apiValues,json:{type:o.fieldTransformTypeKebabDict.jsonValues,read:o.fieldTransformTypeKebabDict.read,write:o.fieldTransformTypeKebabDict.write}})],t.prototype,"fieldTransformType",void 0),r.__decorate([i.property({type:[s.default],json:{write:!0}})],t.prototype,"stops",void 0),l=r.__decorate([i.subclass("esri.renderers.PointCloudStretchRenderer")],t)}(o)}).apply(null,n))||(e.exports=i)},sYb8:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("QDcU"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(i=(function(e,t,r,n,i,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorClassBreakInfo=void 0;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.minValue=0,t.maxValue=0,t.color=null,t}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:o.clone(this.color)})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),r.__decorate([a.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],t.prototype,"minValue",void 0),r.__decorate([a.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],t.prototype,"maxValue",void 0),r.__decorate([a.property({type:n,json:{type:[s.Integer],write:!0}})],t.prototype,"color",void 0),i=r.__decorate([a.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],t)}(i.JSONSupport);t.ColorClassBreakInfo=l,t.default=l}).apply(null,n))||(e.exports=i)},tNTp:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("vFDJ"),r("H9Hv")],void 0===(i=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geodesicLength=t.geodesicArea=t.planarLength=t.planarArea=t.geodesicDensify=t.densify=t.generalize=t.flipVertical=t.flipHorizontal=t.rotate=t.nearestVertices=t.nearestVertex=t.nearestCoordinate=t.geodesicBuffer=t.buffer=t.offset=t.union=t.intersect=t.symmetricDifference=t.difference=t.convexHull=t.simplify=t.isSimple=t.relate=t.overlaps=t.disjoint=t.within=t.touches=t.intersects=t.equals=t.distance=t.crosses=t.contains=t.cut=t.clip=t.extendedSpatialReferenceInfo=void 0,t.extendedSpatialReferenceInfo=function(e){return r.extendedSpatialReferenceInfo(e)},t.clip=function(e,t,i){return r.clip(n.jsonAdapter,e,t,i)},t.cut=function(e,t,i){return r.cut(n.jsonAdapter,e,t,i)},t.contains=function(e,t,i){return r.contains(n.jsonAdapter,e,t,i)},t.crosses=function(e,t,i){return r.crosses(n.jsonAdapter,e,t,i)},t.distance=function(e,t,i,o){return r.distance(n.jsonAdapter,e,t,i,o)},t.equals=function(e,t,i){return r.equals(n.jsonAdapter,e,t,i)},t.intersects=function(e,t,i){return r.intersects(n.jsonAdapter,e,t,i)},t.touches=function(e,t,i){return r.touches(n.jsonAdapter,e,t,i)},t.within=function(e,t,i){return r.within(n.jsonAdapter,e,t,i)},t.disjoint=function(e,t,i){return r.disjoint(n.jsonAdapter,e,t,i)},t.overlaps=function(e,t,i){return r.overlaps(n.jsonAdapter,e,t,i)},t.relate=function(e,t,i,o){return r.relate(n.jsonAdapter,e,t,i,o)},t.isSimple=function(e,t){return r.isSimple(n.jsonAdapter,e,t)},t.simplify=function(e,t){return r.simplify(n.jsonAdapter,e,t)},t.convexHull=function(e,t,i){return void 0===i&&(i=!1),r.convexHull(n.jsonAdapter,e,t,i)},t.difference=function(e,t,i){return r.difference(n.jsonAdapter,e,t,i)},t.symmetricDifference=function(e,t,i){return r.symmetricDifference(n.jsonAdapter,e,t,i)},t.intersect=function(e,t,i){return r.intersect(n.jsonAdapter,e,t,i)},t.union=function(e,t,i){return void 0===i&&(i=null),r.union(n.jsonAdapter,e,t,i)},t.offset=function(e,t,i,o,a,s,l){return r.offset(n.jsonAdapter,e,t,i,o,a,s,l)},t.buffer=function(e,t,i,o,a){return void 0===a&&(a=!1),r.buffer(n.jsonAdapter,e,t,i,o,a)},t.geodesicBuffer=function(e,t,i,o,a,s,l){return r.geodesicBuffer(n.jsonAdapter,e,t,i,o,a,s,l)},t.nearestCoordinate=function(e,t,i,o){return void 0===o&&(o=!0),r.nearestCoordinate(n.jsonAdapter,e,t,i,o)},t.nearestVertex=function(e,t,i){return r.nearestVertex(n.jsonAdapter,e,t,i)},t.nearestVertices=function(e,t,i,o,a){return r.nearestVertices(n.jsonAdapter,e,t,i,o,a)},t.rotate=function(e,t,n,i){if(null==t||null==i)throw new Error("Illegal Argument Exception");var o=r.rotate(t,n,i);return o.spatialReference=e,o},t.flipHorizontal=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipHorizontal(t,n);return i.spatialReference=e,i},t.flipVertical=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipVertical(t,n);return i.spatialReference=e,i},t.generalize=function(e,t,i,o,a){return r.generalize(n.jsonAdapter,e,t,i,o,a)},t.densify=function(e,t,i,o){return r.densify(n.jsonAdapter,e,t,i,o)},t.geodesicDensify=function(e,t,i,o,a){return void 0===a&&(a=0),r.geodesicDensify(n.jsonAdapter,e,t,i,o,a)},t.planarArea=function(e,t,i){return r.planarArea(n.jsonAdapter,e,t,i)},t.planarLength=function(e,t,i){return r.planarLength(n.jsonAdapter,e,t,i)},t.geodesicArea=function(e,t,i,o){return r.geodesicArea(n.jsonAdapter,e,t,i,o)},t.geodesicLength=function(e,t,i,o){return r.geodesicLength(n.jsonAdapter,e,t,i,o)}}).apply(null,n))||(e.exports=i)},uLAD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("LxLY"),r("qMld"),r("FayN"),r("QmTF"),r("WYOF")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u){"use strict";function c(e){switch(e.type){case"Map Service":return function(e){return function(e){return v(e.url).then((function(e){return e.tileInfo}))}(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return d(e).then((function(e){if("object"==typeof e){var t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,e.load()];case 1:return t.sent(),u.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:u.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return 1===y(t.sent())?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return d(e).then((function(t){if("object"==typeof t){var r={},n=void 0;if(null!=t.id?(r.layerId=t.id,n=e.url+"/layers/"+t.id):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var i={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];if(-1!==e.typeKeywords.indexOf(s))return{className:i[s]}}return v(n).then((function(e){var t="SceneLayer",n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(t=n[e.layerType]),{className:t,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){var t,n,i;return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),(o=null!==(n=null===(t=e.typeKeywords)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})))&&void 0!==n?n:[]).indexOf("elevation 3d layer")>-1?[2,{className:"ElevationLayer"}]:o.indexOf("tiled imagery")>-1?[2,{className:"ImageryTileLayer"}]:[4,e.fetchData()];case 2:return a=r.sent(),"ArcGISTiledImageServiceLayer"===(s=null==a?void 0:a.layerType)?[2,{className:"ImageryTileLayer"}]:"ArcGISImageServiceLayer"===s?[2,{className:"ImageryLayer"}]:[4,v(e.url)];case 3:return l=r.sent(),"map"===(null===(i=l.cacheType)||void 0===i?void 0:i.toLowerCase())?[2,{className:"ImageryTileLayer"}]:[2,{className:"ImageryLayer"}]}}))}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return a.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function p(e){return(0,s.layerLookupMap[e.className])().then((function(t){return{constructor:t,properties:e.properties}}))}function d(e){return!e.url||e.url.match(/\/\d+$/)?a.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(t){return y(t)>0?f(t):v(e.url).then(f)}))}function f(e){return 1===y(e)&&{id:o.unwrap(h(e))}}function h(e){var t=e.layers;if(t&&t.length)return t[0].id;var r=e.tables;return r&&r.length?r[0].id:null}function y(e){var t,r,n,i;return(null!==(r=null===(t=null==e?void 0:e.layers)||void 0===t?void 0:t.length)&&void 0!==r?r:0)+(null!==(i=null===(n=null==e?void 0:e.tables)||void 0===n?void 0:n.length)&&void 0!==i?i:0)}function v(e){return n(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(t,"__esModule",{value:!0}),t.selectLayerClassPath=t.fromItem=void 0,t.fromItem=function(e){return!e.portalItem||e.portalItem instanceof l||(e=r.__assign(r.__assign({},e),{portalItem:new l(e.portalItem)})),(t=e.portalItem,t.load().then(c).then(p)).then((function(t){var n=r.__assign({portalItem:e.portalItem},t.properties);return a.resolve(new(0,t.constructor)(n))}));var t},t.selectLayerClassPath=c}).apply(null,n))||(e.exports=i)},xuSL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("vIqy"),r("FPqO")],void 0===(i=(function(e,t,r,n,i,o){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.url=null,r}return r.__extends(t,e),t.prototype.areasAndLengths=function(e,t){return i.areasAndLengths(this.url,e,t)},t.prototype.autoComplete=function(e,t,r){return i.autoComplete(this.url,e,t,r)},t.prototype.buffer=function(e,t){return i.buffer(this.url,e,t)},t.prototype.convexHull=function(e,t){return i.convexHull(this.url,e,t)},t.prototype.cut=function(e,t,r){return i.cut(this.url,e,t,r)},t.prototype.densify=function(e,t){return i.densify(this.url,e,t)},t.prototype.difference=function(e,t,r){return i.difference(this.url,e,t,r)},t.prototype.distance=function(e,t){return i.distance(this.url,e,t)},t.prototype.fromGeoCoordinateString=function(e,t){return i.fromGeoCoordinateString(this.url,e,t)},t.prototype.generalize=function(e,t){return i.generalize(this.url,e,t)},t.prototype.intersect=function(e,t,r){return i.intersect(this.url,e,t,r)},t.prototype.labelPoints=function(e,t){return i.labelPoints(this.url,e,t)},t.prototype.lengths=function(e,t){return i.lengths(this.url,e,t)},t.prototype.offset=function(e,t){return i.offset(this.url,e,t)},t.prototype.project=function(e,t){return i.project(this.url,e,t)},t.prototype.relation=function(e,t){return i.relation(this.url,e,t)},t.prototype.reshape=function(e,t,r){return i.reshape(this.url,e,t,r)},t.prototype.simplify=function(e,t){return i.simplify(this.url,e,t)},t.prototype.toGeoCoordinateString=function(e,t){return i.toGeoCoordinateString(this.url,e,t)},t.prototype.trimExtend=function(e,t){return i.trimExtend(this.url,e,t)},t.prototype.union=function(e,t){return i.union(this.url,e,t)},t.UNIT_METER=9001,t.UNIT_GERMAN_METER=9031,t.UNIT_FOOT=9002,t.UNIT_SURVEY_FOOT=9003,t.UNIT_CLARKE_FOOT=9005,t.UNIT_FATHOM=9014,t.UNIT_NAUTICAL_MILE=9030,t.UNIT_SURVEY_CHAIN=9033,t.UNIT_SURVEY_LINK=9034,t.UNIT_SURVEY_MILE=9035,t.UNIT_KILOMETER=9036,t.UNIT_CLARKE_YARD=9037,t.UNIT_CLARKE_CHAIN=9038,t.UNIT_CLARKE_LINK=9039,t.UNIT_SEARS_YARD=9040,t.UNIT_SEARS_FOOT=9041,t.UNIT_SEARS_CHAIN=9042,t.UNIT_SEARS_LINK=9043,t.UNIT_BENOIT_1895A_YARD=9050,t.UNIT_BENOIT_1895A_FOOT=9051,t.UNIT_BENOIT_1895A_CHAIN=9052,t.UNIT_BENOIT_1895A_LINK=9053,t.UNIT_BENOIT_1895B_YARD=9060,t.UNIT_BENOIT_1895B_FOOT=9061,t.UNIT_BENOIT_1895B_CHAIN=9062,t.UNIT_BENOIT_1895B_LINK=9063,t.UNIT_INDIAN_FOOT=9080,t.UNIT_INDIAN_1937_FOOT=9081,t.UNIT_INDIAN_1962_FOOT=9082,t.UNIT_INDIAN_1975_FOOT=9083,t.UNIT_INDIAN_YARD=9084,t.UNIT_INDIAN_1937_YARD=9085,t.UNIT_INDIAN_1962_YARD=9086,t.UNIT_INDIAN_1975_YARD=9087,t.UNIT_FOOT_1865=9070,t.UNIT_RADIAN=9101,t.UNIT_DEGREE=9102,t.UNIT_ARCMINUTE=9103,t.UNIT_ARCSECOND=9104,t.UNIT_GRAD=9105,t.UNIT_GON=9106,t.UNIT_MICRORADIAN=9109,t.UNIT_ARCMINUTE_CENTESIMAL=9112,t.UNIT_ARCSECOND_CENTESIMAL=9113,t.UNIT_MIL6400=9114,t.UNIT_BRITISH_1936_FOOT=9095,t.UNIT_GOLDCOAST_FOOT=9094,t.UNIT_INTERNATIONAL_CHAIN=109003,t.UNIT_INTERNATIONAL_LINK=109004,t.UNIT_INTERNATIONAL_YARD=109001,t.UNIT_STATUTE_MILE=9093,t.UNIT_SURVEY_YARD=109002,t.UNIT_50KILOMETER_LENGTH=109030,t.UNIT_150KILOMETER_LENGTH=109031,t.UNIT_DECIMETER=109005,t.UNIT_CENTIMETER=109006,t.UNIT_MILLIMETER=109007,t.UNIT_INTERNATIONAL_INCH=109008,t.UNIT_US_SURVEY_INCH=109009,t.UNIT_INTERNATIONAL_ROD=109010,t.UNIT_US_SURVEY_ROD=109011,t.UNIT_US_NAUTICAL_MILE=109012,t.UNIT_UK_NAUTICAL_MILE=109013,t.UNIT_SQUARE_INCHES="esriSquareInches",t.UNIT_SQUARE_FEET="esriSquareFeet",t.UNIT_SQUARE_YARDS="esriSquareYards",t.UNIT_ACRES="esriAcres",t.UNIT_SQUARE_MILES="esriSquareMiles",t.UNIT_SQUARE_MILLIMETERS="esriSquareMillimeters",t.UNIT_SQUARE_CENTIMETERS="esriSquareCentimeters",t.UNIT_SQUARE_DECIMETERS="esriSquareDecimeters",t.UNIT_SQUARE_METERS="esriSquareMeters",t.UNIT_ARES="esriAres",t.UNIT_HECTARES="esriHectares",t.UNIT_SQUARE_KILOMETERS="esriSquareKilometers",r.__decorate([n.property()],t.prototype,"url",void 0),r.__decorate([n.subclass("esri.tasks.GeometryService")],t)}(o)}).apply(null,n))||(e.exports=i)},y5xs:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("urqW"),r("zp6E"),r("KY0m"),r("LxLY"),r("qMld"),r("Zvuv"),r("Qwus"),r("QmTF")],void 0===(i=(function(e,t,r,n,i,o,a,s,l,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchAssociatedFeatureLayer=void 0;var p=function(){function e(e,t,r){this.parsedUrl=e,this.portalItem=t,this.signal=r,this.rootDocument=null;var n=this.parsedUrl.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);n&&(this.urlParts={root:n[1],layerId:parseInt(n[2],10)})}return e.prototype.fetch=function(){var e;return r.__awaiter(this,void 0,void 0,(function(){var t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.urlParts?null===(e=this.portalItem)||void 0===e?[3,1]:(n=e,[3,3]):[2,null];case 1:return[4,this.portalItemFromServiceItemId()];case 2:n=r.sent(),r.label=3;case 3:return a.isNone(t=n)?[2,this.loadFromUrl()]:[4,this.findAndLoadRelatedPortalItem(t)];case 4:return i=r.sent(),a.isNone(i)?[2,null]:[2,this.loadFeatureLayerFromPortalItem(i)]}}))}))},e.prototype.fetchPortalItem=function(){var e;return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return this.urlParts?null===(e=this.portalItem)||void 0===e?[3,1]:(n=e,[3,3]):[2,null];case 1:return[4,this.portalItemFromServiceItemId()];case 2:n=r.sent(),r.label=3;case 3:return a.isNone(t=n)?[2,null]:[2,this.findAndLoadRelatedPortalItem(t)]}}))}))},e.prototype.fetchRootDocument=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(a.isSome(this.rootDocument))return[2,this.rootDocument];if(a.isNone(this.urlParts))return this.rootDocument={},[2,{}];e={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:this.signal},t=this.urlParts.root+"/SceneServer",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i(t,e)];case 2:return n=r.sent(),this.rootDocument=n.data,[3,4];case 3:return r.sent(),this.rootDocument={},[3,4];case 4:return[2,this.rootDocument]}}))}))},e.prototype.fetchServiceOwningPortalUrl=function(){var e;return r.__awaiter(this,void 0,void 0,(function(){var t,o,a,l,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(null==(t=null===(e=n.id)||void 0===e?void 0:e.findServerInfo(this.parsedUrl.path))?void 0:t.owningSystemUrl)return[2,t.owningSystemUrl];o=this.parsedUrl.path.replace(/(.*\/rest)\/.*/i,"$1")+"/info",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i(o,{query:{f:"json"},responseType:"json",signal:this.signal})];case 2:return a=r.sent(),(l=a.data.owningSystemUrl)?[2,l]:[3,4];case 3:return u=r.sent(),s.throwIfAbortError(u),[3,4];case 4:return[2,null]}}))}))},e.prototype.findAndLoadRelatedPortalItem=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:this.signal})];case 1:return t=r.sent(),[2,o.find(t,(function(e){return"Feature Service"===e.type}))||null];case 2:return n=r.sent(),s.throwIfAbortError(n),[2,null];case 3:return[2]}}))}))},e.prototype.loadFeatureLayerFromPortalItem=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load({signal:this.signal})];case 1:return r.sent(),[4,this.findMatchingAssociatedSublayerUrl(e.url)];case 2:return t=r.sent(),[2,new l({url:t,portalItem:e}).load({signal:this.signal})]}}))}))},e.prototype.loadFromUrl=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.findMatchingAssociatedSublayerUrl(this.urlParts.root+"/FeatureServer")];case 1:return e=t.sent(),[2,new l({url:e}).load({signal:this.signal})]}}))}))},e.prototype.findMatchingAssociatedSublayerUrl=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,a,l,u,c,p,d,f,h;return r.__generator(this,(function(r){switch(r.label){case 0:return t=e.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),n={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:this.signal},o=this.urlParts.layerId,a=this.fetchRootDocument(),l=i(t,n),[4,s.all([l,a])];case 1:if(u=r.sent(),d=(p=u[1])&&p.layers,f=(c=u[0]).data&&c.data.layers,!Array.isArray(f))throw new Error("expected layers array");if(Array.isArray(d)){for(h=0;h<Math.min(d.length,f.length);h++)if(d[h].id===o)return[2,t+"/"+f[h].id]}else if(o<f.length)return[2,t+"/"+f[o].id];throw new Error("could not find matching associated sublayer")}}))}))},e.prototype.portalItemFromServiceItemId=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fetchRootDocument()];case 1:return e=r.sent(),(t=e.serviceItemId)?(n=new c({id:t}),[4,this.fetchServiceOwningPortalUrl()]):[2,null];case 2:i=r.sent(),a.isSome(i)&&(n.portal=new u({url:i}));try{return[2,n.load({signal:this.signal})]}catch(e){return s.throwIfAbortError(e),[2,null]}return[2]}}))}))},e}();t.FetchAssociatedFeatureLayer=p}).apply(null,n))||(e.exports=i)},zBTX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("rg9i"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WMTSLayerInfo=void 0;var a=function(e){function t(t){return e.call(this,t)||this}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({customLayerParameters:i.clone(this.customLayerParameters),customParameters:i.clone(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})},r.__decorate([o.property({json:{type:Object,write:!0}})],t.prototype,"customLayerParameters",void 0),r.__decorate([o.property({json:{type:Object,write:!0}})],t.prototype,"customParameters",void 0),r.__decorate([o.property({type:String,json:{write:!0}})],t.prototype,"layerIdentifier",void 0),r.__decorate([o.property({type:String,json:{write:!0}})],t.prototype,"tileMatrixSet",void 0),r.__decorate([o.property({type:String,json:{write:!0}})],t.prototype,"url",void 0),n=r.__decorate([o.subclass("esri.layer.support.WMTSLayerInfo")],t)}(n.JSONSupport);t.WMTSLayerInfo=a,t.default=a}).apply(null,n))||(e.exports=i)}}]);