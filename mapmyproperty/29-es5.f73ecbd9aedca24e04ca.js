!function(){function e(e,a){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,a){if(!e)return;if("string"==typeof e)return r(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,a)}(e))||a&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){o=!0,u=e},f:function(){try{c||null==t.return||t.return()}finally{if(o)throw u}}}}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}function a(e,r,a,t,n,i,u){try{var c=e[i](u),o=c.value}catch(y){return void a(y)}c.done?r(o):Promise.resolve(o).then(t,n)}function t(e){return function(){var r=this,t=arguments;return new Promise(function(n,i){var u=e.apply(r,t);function c(e){a(u,n,i,c,o,"next",e)}function o(e){a(u,n,i,c,o,"throw",e)}c(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"5Q/x":function(r,a,n){"use strict";n.r(a),n.d(a,"populateOperationalLayers",function(){return f}),n("wSAH");var i=n("9MzC"),u=n("LE9a"),c=n("p+Gi"),o=n("YOx9"),y=n("oLSx"),l=n("Dfpg");function s(e,r,a,t){return p.apply(this,arguments)}function p(){return(p=t(regeneratorRuntime.mark(function e(r,a,t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.layerType&&"ArcGISFeatureLayer"===r.layerType){e.next=2;break}return e.abrupt("return",!1);case 2:if(!r.url){e.next=4;break}return e.abrupt("return",!1);case 4:if(!r.featureCollectionType||r.featureCollectionType!==t){e.next=6;break}return e.abrupt("return",!0);case 6:if(!r.itemId){e.next=11;break}return i=new c.default({id:r.itemId,portal:a}),e.next=10,i.load();case 10:return e.abrupt("return","Feature Collection"===i.type&&Object(l.a)(i,n));case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var L=n("XJLX");function f(e,r,a){return S.apply(this,arguments)}function S(){return(S=t(regeneratorRuntime.mark(function r(a,t,n){var u,c,o,y,l,s,p,L,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:u=[],c=e(t);try{for(c.s();!(o=c.n()).done;)y=o.value,l=T(y,n),u.push("GroupLayer"===y.layerType?x(l,y,n):l)}catch(S){c.e(S)}finally{c.f()}return r.next=7,Object(i.j)(u);case 7:s=r.sent,p=e(s);try{for(p.s();!(L=p.n()).done;)!(f=L.value).value||n.filter&&!n.filter(f.value)||a.add(f.value)}catch(S){p.e(S)}finally{p.f()}case 10:case"end":return r.stop()}},r)}))).apply(this,arguments)}var d={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},v={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},m={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},g={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},I={ArcGISFeatureLayer:"FeatureLayer"},b={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function T(e,r){return M.apply(this,arguments)}function M(){return(M=t(regeneratorRuntime.mark(function e(r,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){var e=t(regeneratorRuntime.mark(function e(r,a,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new r).read(a,n.context),e.t0="group"===i.type&&h(a),!e.t0){e.next=6;break}return e.next=6,function(){var e=t(regeneratorRuntime.mark(function e(r,a,t){var n,i,u,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.a.FeatureLayer,e.next=3,n();case 3:i=e.sent,u=a.featureCollection,c=u.showLegend,o=u.layers.map(function(e){var r=new i;return r.read(e,t),null!=c&&r.read({showLegend:c},t),r}),r.layers.addMany(o);case 8:case"end":return e.stop()}},e)}));return function(r,a,t){return e.apply(this,arguments)}}()(i,a,n.context);case 6:return e.next=8,Object(o.a)(i,n.context);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}));return function(r,a,t){return e.apply(this,arguments)}}(),e.next=3,function(){var e=t(regeneratorRuntime.mark(function e(r,a){var t,n,i,u,o,l,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.context,n=function(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=m;break;case"ground":r=v;break;default:r=d}break;default:switch(e.layerContainerType){case"basemap":r=b;break;case"tables":r=I;break;default:r=g}}return r}(t),!(i=r.layerType||r.type)&&a&&a.defaultLayerType&&(i=a.defaultLayerType),u=n[i],o=u?y.a[u]:y.a.UnknownLayer,l=t&&t.portal,!w(r)){e.next=20;break}if(!r.itemId){e.next=18;break}return p=new c.default({id:r.itemId,portal:l}),e.next=11,p.load();case 11:return e.next=13,Object(L.selectLayerClassPath)(p);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:f=e.t0,o=y.a[f];case 18:e.next=35;break;case 20:if(e.t1="ArcGISFeatureLayer"===i,!e.t1){e.next=35;break}return e.next=24,function(e,r){return s(e,r,"notes","Map Notes")}(r,l);case 24:if(!e.sent){e.next=28;break}o=y.a.MapNotesLayer,e.next=35;break;case 28:return e.next=30,function(e,r){return s(e,r,"route","Route Layer")}(r,l);case 30:if(!e.sent){e.next=34;break}o=y.a.RouteLayer,e.next=35;break;case 34:h(r)&&(o=y.a.GroupLayer);case 35:return e.abrupt("return",(r.wmtsInfo&&r.wmtsInfo.url&&r.wmtsInfo.layerIdentifier&&(o=y.a.WMTSLayer),o()));case 36:case"end":return e.stop()}},e)}));return function(r,a){return e.apply(this,arguments)}}()(r,a);case 3:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){if("ArcGISFeatureLayer"!==e.layerType||w(e))return!1;var r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function w(e){return"Feature Collection"===e.type}function x(e,r,a){return A.apply(this,arguments)}function A(){return(A=t(regeneratorRuntime.mark(function e(r,a,t){var n,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.a,i=f(n,Array.isArray(a.layers)?a.layers:[],t),e.next=4,r;case 4:return c=e.sent,e.next=7,i;case 7:if("group"!==c.type){e.next=9;break}return e.abrupt("return",(c.layers.addMany(n),c));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}}}])}();