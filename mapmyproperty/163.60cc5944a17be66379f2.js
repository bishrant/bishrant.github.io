(function(){var e={"arcgis-js-api/views/2d/engine/webgl/effects/post-processing/Colorize":"Z6mQ"},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{Z6mQ:function(e,t,i){var s,r;s=[i.dj.c(e.i),t,i("DJpR"),i("Nwkb")],void 0===(r=(function(e,t,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colorize=void 0;var r=function(){function e(){this._size=[0,0],this._programDesc={vsPath:"post-processing/pp",fsPath:"post-processing/filterEffect",attributes:{a_position:0}}}return e.prototype.dispose=function(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)},e.prototype.draw=function(e,t,i){this._createOrResizeResources(e);var s=e.context,r=e.pixelRatio,a=e.state.size,n=e.painter.materialManager,o=this._programDesc,p=this._quad,u=[Math.round(r*a[0]),Math.round(r*a[1])],d=i.colorMatrix;p.bind();var l=this._layerFBOTexture;s.bindFramebuffer(t),t.copyToTexture(0,0,u[0],u[1],0,0,l),s.setBlendingEnabled(!1),s.setStencilTestEnabled(!1);var c=n.getProgram(e,o);s.bindProgram(c),s.bindTexture(l,2),c.setUniformMatrix4fv("u_coefficients",d),c.setUniform1i("u_colorTexture",2),p.draw(),s.setBlendingEnabled(!0),s.setBlendFunction(1,771),s.setStencilTestEnabled(!0),p.unbind()},e.prototype._createOrResizeResources=function(e){var t=e.context,r=e.pixelRatio,a=e.state.size,n=Math.round(r*a[0]),o=Math.round(r*a[1]);this._layerFBOTexture&&this._size[0]===n&&this._size[1]===o||(this._size[0]=n,this._size[1]=o,this._layerFBOTexture?this._layerFBOTexture.resize(n,o):this._layerFBOTexture=new i.Texture(t,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!1,width:n,height:o}),this._quad||(this._quad=new s(t,[-1,-1,1,-1,-1,1,1,1])))},e}();t.Colorize=r}).apply(null,s))||(e.exports=r)}}]);