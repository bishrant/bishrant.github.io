(function(){var e={"esri/views/2d/layers/features/processors/BaseProcessor":"68TM","esri/views/2d/layers/features/FeatureStore2D":"7+6c","arcgis-js-api/views/2d/layers/features/FeatureStore2D":"7+6c","esri/views/2d/layers/features/Store2D":"7/gB","arcgis-js-api/views/2d/layers/features/Store2D":"7/gB","arcgis-js-api/layers/support/DimensionalDefinition":"7Rj3","arcgis-js-api/views/3d/webgl-engine/lib/BufferVectorMath":"83/a","esri/views/3d/webgl-engine/lib/BufferVectorMath":"83/a","esri/layers/graphics/sources/geojson/geojson":"9K5t","esri/core/number":"AcGV","arcgis-js-api/layers/support/TilemapCache":"Cobz","arcgis-js-api/views/2d/arcade/callExpressionWithCursor":"Eujf","arcgis-js-api/layers/support/lazyLayerLoader":"FayN","esri/layers/support/lazyLayerLoader":"FayN","arcgis-js-api/views/3d/support/buffer/glUtil":"MzcX","esri/views/3d/support/buffer/glUtil":"MzcX","arcgis-js-api/layers/support/kmlUtils":"N3Jt","arcgis-js-api/portal/support/jsonContext":"OECU","esri/portal/support/jsonContext":"OECU","arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer":"Rt18","arcgis-js-api/tasks/mixins/NAServiceDescription":"SA66","esri/tasks/mixins/NAServiceDescription":"SA66","arcgis-js-api/layers/support/RasterJobHandler":"T/jF","arcgis-js-api/views/draw/support/input/GraphicMoverEvents":"TD84","arcgis-js-api/tasks/support/NAMessage":"VIp5","esri/tasks/support/NAMessage":"VIp5","arcgis-js-api/layers/support/ExportImageParameters":"VTDq","esri/layers/support/ExportImageParameters":"VTDq","arcgis-js-api/portal/support/portalItemUtils":"WYOF","arcgis-js-api/renderers/support/heatmapUtils":"Wf0m","esri/renderers/support/heatmapUtils":"Wf0m","arcgis-js-api/layers/mixins/ArcGISCachedService":"WhPF","arcgis-js-api/layers/support/rasterDatasets/RawBlockCache":"XOvD","arcgis-js-api/layers/WebTileLayer":"a2fw","arcgis-js-api/core/queryUtils":"a4MF","esri/core/queryUtils":"a4MF","arcgis-js-api/layers/support/serviceTileInfoProperty":"ddAr","arcgis-js-api/layers/support/rasterDatasets/EphemeralBlockCache":"dhsc","arcgis-js-api/views/draw/support/GraphicMover":"i6zL","esri/layers/graphics/sources/support/sourceUtils":"jJpZ","arcgis-js-api/tasks/support/DirectionsFeatureSet":"mEoI","arcgis-js-api/views/3d/support/projectionUtils":"mmEe","esri/views/3d/support/projectionUtils":"mmEe","arcgis-js-api/layers/support/rasterFunctions/rasterProjectionHelper":"mnow","arcgis-js-api/views/2d/engine/vectorTiles/TileIndex":"soIt","esri/geometry/geometryEngineJSON":"tNTp","arcgis-js-api/geometry/geometryEngineJSON":"tNTp","arcgis-js-api/portal/support/portalLayers":"uLAD","arcgis-js-api/layers/support/Tilemap":"xojL","esri/tasks/GeometryService":"xuSL","arcgis-js-api/layers/support/WMTSLayerInfo":"zBTX"},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"68TM":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.initialize=function(){},t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"supportsTileUpdates",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spatialReference",{get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null},enumerable:!1,configurable:!0}),r.__decorate([i.property({readOnly:!0})],t.prototype,"supportsTileUpdates",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"remoteClient",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"service",void 0),r.__decorate([i.property({dependsOn:["tileStore.tileScheme.spatialReference"]})],t.prototype,"spatialReference",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileInfo",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileStore",void 0),r.__decorate([i.subclass("esri.views.2d.layers.features.processors.BaseProcessor")],t)}(n.HandleOwner);t.default=a}).apply(null,n))||(e.exports=i)},"7+6c":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("BcWh"),r("LxLY"),r("jEml"),r("WRgd"),r("7/gB")],void 0===(i=(function(e,t,r,n,i,a,o,s){"use strict";function l(e){return(4294901760&e)>>>16}function c(e){return 65535&e}Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureStore2D=t.featureAdapter=void 0,t.featureAdapter={getObjectId:function(e){return e.getObjectId()},getAttributes:function(e){return e.readAttributes()},getAttribute:function(e,t){return e.readAttribute(t)},cloneWithGeometry:function(e,t){return e},getGeometry:function(e){return e.readHydratedGeometry()},getCentroid:function(e,t){return e.readCentroid()}};var u=function(e){function s(r,i){var o=e.call(this,r,i)||this;return o.featureAdapter=t.featureAdapter,o.events=new n,o._featureSetsByInstance=new Map,o._objectIdToDisplayId=new Map,o._spatialIndexInvalid=!0,o._index=a(9,(function(e){return{minX:o._storage.getXMin(e),minY:o._storage.getYMin(e),maxX:o._storage.getXMax(e),maxY:o._storage.getYMax(e)}})),o}return r.__extends(s,e),Object.defineProperty(s.prototype,"storeStatistics",{get:function(){return{featureCount:0,vertexCount:0}},enumerable:!1,configurable:!0}),s.prototype.onTileData=function(e,t,r){if(i.isNone(t.addOrUpdate))return t;this._featureSetsByInstance.set(t.addOrUpdate.instance,t.addOrUpdate),this._storage=r,t.addOrUpdate._storage=r;for(var n=t.addOrUpdate.getCursor();n.next();){var a=n.getObjectId(),o=n.instance<<16|n.getIndex(),s=this._objectIdToDisplayId.get(a);s||(s=r.createDisplayId(),this._objectIdToDisplayId.set(a,s),this._spatialIndexInvalid=!0),n.setDisplayId(s),r.setInstanceId(s,o),this.setComputedAttributes(r,n,s,e.scale)}return"update"===t.type&&(this._spatialIndexInvalid=!0),this.events.emit("changed"),t},s.prototype.forEach=function(e){var t=this;this._objectIdToDisplayId.forEach((function(r){var n=t._storage.getInstanceId(r),i=t._lookupFeature(n);e(i)}))},s.prototype.forEachUnsafe=function(e){var t=this;this._objectIdToDisplayId.forEach((function(r){var n=t._storage.getInstanceId(r),i=l(n),a=c(n),o=t._getFeatureSet(i);o.setIndex(a),e(o)}))},s.prototype.forEachInBounds=function(e,t){for(var r=0,n=this._searchIndex(e);r<n.length;r++){var a=this.lookupFeatureByDisplayId(n[r],this._storage);t(i.unwrap(a))}},s.prototype.forEachBounds=function(e,t,r){this._rebuildIndex();for(var n=[0,0,0,0],i=0,a=e;i<a.length;i++){var s=a[i].getDisplayId();n[0]=this._storage.getXMin(s),n[1]=this._storage.getYMin(s),n[2]=this._storage.getXMax(s),n[3]=this._storage.getYMax(s),t(o.fromRect(r,n))}},s.prototype.sweepFeatures=function(e,t){var r=this;this._objectIdToDisplayId.forEach((function(n,i){e.has(n)||(t.releaseDisplayId(n),r._objectIdToDisplayId.delete(i))})),this.events.emit("changed")},s.prototype.sweepFeatureSets=function(e){var t=this;this._featureSetsByInstance.forEach((function(r,n){e.has(n)||t._featureSetsByInstance.delete(n)}))},s.prototype.lookupObjectId=function(e,t){var r=this.lookupFeatureByDisplayId(e,t);return i.isNone(r)?null:r.getObjectId()},s.prototype.lookupDisplayId=function(e){return this._objectIdToDisplayId.get(e)},s.prototype.lookupFeatureByDisplayId=function(e,t){var r=t.getInstanceId(e);return this._lookupFeature(r)},s.prototype.lookupByDisplayIdUnsafe=function(e){var t=this._storage.getInstanceId(e),r=l(t),n=c(t),i=this._getFeatureSet(r);return i?(i.setIndex(n),i):null},s.prototype.hasInstance=function(e){return this._featureSetsByInstance.has(e)},s.prototype._rebuildIndex=function(){var e=this;if(this._spatialIndexInvalid){this._index.clear();var t=[];this._objectIdToDisplayId.forEach((function(r){var n=e._storage.getInstanceId(r);e._storage.setBounds(r,e._lookupFeature(n))&&t.push(r)})),this._index.load(t),this._spatialIndexInvalid=!1}},s.prototype._lookupFeature=function(e){var t=l(e),r=c(e),n=this._getFeatureSet(t);if(!n)return null;var i=n.getCursor();return i.setIndex(r),i},s.prototype._getFeatureSet=function(e){return this._featureSetsByInstance.get(e)},s.prototype._searchIndex=function(e){return this._rebuildIndex(),this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})},s}(s.Store2D);t.FeatureStore2D=u}).apply(null,n))||(e.exports=i)},"7/gB":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("H1tY"),r("LxLY"),r("qMld"),r("CYRa"),r("sCbS"),r("Eujf"),r("2Kdy")],void 0===(i=(function(e,t,n,i,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store2D=void 0;var u=new Promise((function(e,t){r.e(97).then((function(){var t=[r("y/j/")];e.apply(null,t)}).bind(this)).catch(t.bind(this))})),p=function(){function e(e,t){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:t.getBitset(t.createBitset())}}return e.prototype.updateSchema=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){var r,l,c,u,p,f,d;return n.__generator(this,(function(n){switch(n.label){case 0:if(r=s.diff(this._schema,t),this._schema=t,!t||a.isNone(r)||!s.hasDiff(r,"attributes"))return[2];for(p in i("esri-2d-update-debug")&&console.debug("Applying Update - Store:",r),this._bitsets.computed.clear(),e.targets[t.name]=!0,c=[],u=[],l=t.attributes)switch((f=l[p]).type){case"field":break;case"expression":c.push(this._createArcadeComputedField(f));break;case"label-expression":c.push(this._createLabelArcadeComputedField(f));break;case"statistic":u.push(f)}return d=this,[4,o.all(c)];case 1:return d._computedFields=n.sent(),this._canCacheExpressionValue=!this._computedFields.some((function(e){return"expression"===e.type&&e.expression.referencesScale()})),this._statisticFields=u,[2]}}))}))},e.prototype.setComputedAttributes=function(e,t,r,n){var i=this._bitsets.computed;if(!this._canCacheExpressionValue||!i.has(r)){i.set(r);for(var a=0,o=this._computedFields;a<o.length;a++){var s=o[a],l=this._evaluateField(t,s,n);switch(s.resultType){case"numeric":e.setComputedNumericAtIndex(r,s.fieldIndex,l);break;case"string":e.setComputedStringAtIndex(r,s.fieldIndex,l)}}}},e.prototype._createArcadeComputedField=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i,a;return n.__generator(this,(function(o){switch(o.label){case 0:return t=this._sourceInfo.spatialReference,r=this._sourceInfo.fieldsIndex,i=[n.__assign({},e)],a={},[4,l.createRendererExpression(e.valueExpression,t,r)];case 1:return[2,n.__assign.apply(void 0,i.concat([(a.expression=o.sent(),a)]))]}}))}))},e.prototype._createLabelArcadeComputedField=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,r,i;return n.__generator(this,(function(a){switch(a.label){case 0:return t=this._sourceInfo.spatialReference,r=this._sourceInfo.fields,[4,u];case 1:return[4,(0,a.sent().createLabelFunction)(e.label,r,t)];case 2:return i=a.sent(),[2,n.__assign(n.__assign({},e),{builder:i})]}}))}))},e.prototype._evaluateField=function(e,t,r){switch(t.type){case"label-expression":var n=e.readArcadeFeature();return t.builder.evaluate(n)||"";case"expression":return c.default(t.expression,e,{$view:{scale:r}})}},e}();t.Store2D=p}).apply(null,n))||(e.exports=i)},"7Rj3":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(i=(function(e,t,r,n,i,a,o){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.variableName=null,r.dimensionName=null,r.values=[],r.isSlice=!1,r}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({variableName:this.variableName,dimensionName:this.dimensionName,values:i.clone(this.values),isSlice:this.isSlice})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"variableName",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"dimensionName",void 0),r.__decorate([a.property({type:o.types.array(o.types.oneOf([o.types.native(Number),o.types.array(o.types.native(Number))])),json:{write:!0}})],t.prototype,"values",void 0),r.__decorate([a.property({type:Boolean,json:{write:!0}})],t.prototype,"isSlice",void 0),n=r.__decorate([a.subclass("esri.layers.support.DimensionalDefinition")],t)}(n.JSONSupport)}).apply(null,n))||(e.exports=i)},"83/a":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3Compact=void 0,function(e){e.length=function(e,t){var r=e[t],n=e[t+1],i=e[t+2];return Math.sqrt(r*r+n*n+i*i)},e.normalize=function(e,t){var r=e[t],n=e[t+1],i=e[t+2],a=1/Math.sqrt(r*r+n*n+i*i);e[t]*=a,e[t+1]*=a,e[t+2]*=a},e.scale=function(e,t,r){e[t]*=r,e[t+1]*=r,e[t+2]*=r},e.add=function(e,t,r,n,i,a){void 0===a&&(a=t),(i=i||e)[a]=e[t]+r[n],i[a+1]=e[t+1]+r[n+1],i[a+2]=e[t+2]+r[n+2]},e.subtract=function(e,t,r,n,i,a){void 0===a&&(a=t),(i=i||e)[a]=e[t]-r[n],i[a+1]=e[t+1]-r[n+1],i[a+2]=e[t+2]-r[n+2]}}(t.Vec3Compact||(t.Vec3Compact={}))}).apply(null,n))||(e.exports=i)},"9K5t":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("/COu"),r("Jvs9")],void 0===(i=(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptimizedFeatures=t.inferLayerProperties=t.validateGeoJSON=void 0;var o={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function s(e){var t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:switch(e.type){case"Feature":return[3,1];case"FeatureCollection":return[3,3]}return[3,7];case 1:return[4,e];case 2:return r.sent(),[3,7];case 3:t=0,n=e.features,r.label=4;case 4:return t<n.length?(i=n[t])?[4,i]:[3,6]:[3,7];case 5:r.sent(),r.label=6;case 6:return t++,[3,4];case 7:return[2]}}))}function l(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function c(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function u(e,t,r){var n=c(t);l(n)?f(e,n,r):d(e,n,r)}function p(e,t,r){var n=c(t);l(n)?d(e,n,r):f(e,n,r)}function f(e,t,r){for(var n=0,i=t;n<i.length;n++)h(e,i[n],r);e.lengths.push(t.length)}function d(e,t,r){for(var n=t.length-1;n>=0;n--)h(e,t[n],r);e.lengths.push(t.length)}function h(e,t,r){var n=t[2];e.coords.push(t[0],t[1]),r.hasZ&&e.coords.push(n||0)}function v(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}t.validateGeoJSON=function(e){if(!e)throw new n("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new n("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!i.test(r))throw new n("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}},t.inferLayerProperties=function(e,t){void 0===t&&(t={});for(var n=s(e),i=[],a=new Set,l=new Set,c=!1,u=Number.NEGATIVE_INFINITY,p=null,f=!1,d=void 0,h=t.geometryType,y=void 0===h?null:h,m=!1,g=function(){var e,t,s=n.next(),h=s.value;if(s.done){var g=p&&1===p.length&&p[0]||null;if(g)for(var _=0,b=i;_<b.length;_++){var w=b[_];w.name===g&&(w.type="esriFieldTypeOID")}return{value:{fields:i,geometryType:y,hasZ:c,maxObjectId:Math.max(0,u),objectIdFieldName:g,objectIdFieldType:d,unknownFields:(e=l,t=[],e.forEach((function(e){return t.push(e)})),t)}}}var x=h.geometry,I=h.properties,T=h.id;if(x&&(y||(y=o[x.type]),o[x.type]!==y))return"continue";if(!c){var S=function(e){var t,n,i,a,o,s;return r.__generator(this,(function(l){switch(l.label){case 0:if(!e)return[2,null];switch(e.type){case"Point":return[3,1];case"LineString":case"MultiPoint":return[3,3];case"MultiLineString":case"Polygon":return[3,5];case"MultiPolygon":return[3,10]}return[3,17];case 1:return[4,e.coordinates];case 2:return l.sent(),[3,17];case 3:return[5,r.__values(e.coordinates)];case 4:return l.sent(),[3,17];case 5:t=0,n=e.coordinates,l.label=6;case 6:return t<n.length?[5,r.__values(n[t])]:[3,9];case 7:l.sent(),l.label=8;case 8:return t++,[3,6];case 9:return[3,17];case 10:i=0,a=e.coordinates,l.label=11;case 11:if(!(i<a.length))return[3,16];o=0,s=a[i],l.label=12;case 12:return o<s.length?[5,r.__values(s[o])]:[3,15];case 13:l.sent(),l.label=14;case 14:return o++,[3,12];case 15:return i++,[3,11];case 16:return[3,17];case 17:return[2]}}))}(x);c=function(e){for(;;){var t=e.next();if(t.done)return!1;if(t.value.length>2)return!0}}(S)}if(f||(f=null!=T)&&"number"==(d=typeof T)&&(p=Object.keys(I).filter((function(e){return I[e]===T}))),f&&"number"===d&&null!=T&&(u=Math.max(u,T),p.length>1?p=p.filter((function(e){return I[e]===T})):1===p.length&&(p=I[p[0]]===T?p:[])),!m&&I){var E=!0;for(var M in I)if(!a.has(M)){var O=I[M];if(null!=O){var j=v(O);"unknown"!==j?(l.delete(M),a.add(M),i.push({name:M,alias:M,type:j})):l.add(M)}else E=!1,l.add(M)}m=E}};;){var _=g();if("object"==typeof _)return _.value}},t.createOptimizedFeatures=function(e,t){return function(e){for(var t=[];;){var r=e.next();if(r.done)return t;t.push(r.value)}}(function(e,t){var n,s,l,c,d,v,y,m;return void 0===t&&(t={}),r.__generator(this,(function(r){switch(r.label){case 0:n=t.geometryType,s=t.objectIdFieldName,r.label=1;case 1:return l=e.next(),c=l.value,l.done?[2]:(v=c.properties,y=c.id,(d=c.geometry)&&o[d.type]!==n?[3,1]:(m=v||{},s&&null!=y&&!m[s]&&(m[s]=y),[4,new i.default(d?function(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return f(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++)f(e,i[n],r);return e}(e,t,r);case"MultiPoint":return function(e,t,r){return f(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++){var a=i[n];u(e,a[0],r);for(var o=1;o<a.length;o++)p(e,a[o],r)}return e}(e,t,r);case"Point":return function(e,t,r){return h(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;u(e,n[0],r);for(var i=1;i<n.length;i++)p(e,n[i],r);return e}(e,t,r)}}(new a.default,d,t):null,m)]));case 2:return r.sent(),[3,1];case 3:return[2]}}))}(s(e),t))}}).apply(null,n))||(e.exports=i)},AcGV:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nRUF"),r("+PwV")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t._parseInfo=t.regexp=t.format=t.getCustoms=void 0;var a={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function o(e){e||(e=i.getLocale());var t=e in a;if(!t){var r=e.split("-");r.length>1&&r[0]in a&&(e=r[0],t=!0),t||(e="en")}var n=a[e],o=n[2];return{decimal:n[0],group:n[1],pattern:void 0===o?"#,##0.###":o}}t.getCustoms=o,t.format=function(e,t){var i=o((t=r.__assign({},t)).locale);t.customs=i;var a=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var i=(r=r||{}).customs.group,a=r.customs.decimal,o=t.split(";"),l=o[0];if(-1!==(t=o[e<0?1:0]||"-"+l).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var c=s,u=l.match(c);if(!u)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(c,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var i=t.split("."),a="string"==typeof r.places&&r.places.indexOf(","),o=r.places;a?o=r.places.substring(a+1):o>=0||(o=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(o))));var s=String(Math.abs(e)).split("."),l=s[1]||"";if(i[1]||r.places){a&&(r.places=r.places.substring(0,a));var c=void 0!==r.places?r.places:i[1]&&i[1].lastIndexOf("0")+1;c>l.length&&(s[1]=n.padEnd(l,Number(c),"0")),o<l.length&&(s[1]=l.substr(0,Number(o)))}else s[1]&&s.pop();var u=i[0].replace(",",""),p=u.indexOf("0");-1!==p&&((p=u.length-p)>s[0].length&&(s[0]=n.padStart(s[0],p,"0")),-1===u.indexOf("#")&&(s[0]=s[0].substr(s[0].length-p)));var f,d,h=i[0].lastIndexOf(",");if(-1!==h){f=i[0].length-h-1;var v=i[0].substr(0,h);-1!==(h=v.lastIndexOf(","))&&(d=v.length-h-1)}for(var y=[],m=s[0];m;){var g=m.length-f;y.push(g>0?m.substr(g):m),m=g>0?m.slice(0,g):"",d&&(f=d,d=void 0)}return s[0]=y.reverse().join(r.group||","),s.join(r.decimal||".")}(e,u[0],{decimal:a,group:i,places:r.places,round:r.round}))}(e,a,t)};var s=/[#0,]*[#0](?:\.0*#*)?/;function l(e){var t=o((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,a=t.decimal,l=1;if(-1!==r.indexOf("%"))l/=100;else if(-1!==r.indexOf("\u2030"))l/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");var p=r.split(";");return 1===p.length&&p.push("-"+p[0]),{regexp:u(p,(function(t){return(t="(?:"+n.escapeRegExpString(t,".")+")").replace(s,(function(t){var r={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:a,exponent:!1},n=t.split("."),o=e.places;1===n.length&&1!==l&&(n[1]="###"),1===n.length||0===o?r.fractional=!1:(void 0===o&&(o=e.pattern?n[1].lastIndexOf("0")+1:1/0),o&&null==e.fractional&&(r.fractional=!0),!e.places&&o<n[1].length&&(o+=","+n[1].length),r.places=o);var s=n[0].split(",");return s.length>1&&(r.groupSize=s.pop().length,s.length>1&&(r.groupSize2=s.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=c(e),r=u(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+u(e.exponent,(function(t){return t?"([eE]"+c({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:a,factor:l}}function c(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",u(e.signed,(function(e){return e?"[-+]":""}),!0)+u(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=n.escapeRegExpString(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var r=e.groupSize,i=e.groupSize2;if(i){var a="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}t.regexp=function(e){return l(e).regexp},t._parseInfo=l,t.parse=function(e,t){var r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor};var u=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return p(n.join("|"),r)},p=function(e,t){return"("+(t?"?:":"")+e+")"}}).apply(null,n))||(e.exports=i)},Cobz:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("Gtr7"),r("ma1f"),r("eIBl"),r("qsST"),r("W6K4"),r("KBgh"),r("qMld"),r("afW+"),r("jfWY"),r("8MXS"),r("Vx27"),r("xojL")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c,u,p,f,d,h,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilemapCache=void 0;var y=s.getLogger("esri.layers.support.TilemapCache"),m=function(e){function t(t){var r=e.call(this,t)||this;return r._handles=new o,r._pendingTilemapRequests={},r._availableLevels={},r.levels=5,r.cacheByteSize=2097152,r.request=n,r._prefetchingEnabled=!0,r}var i;return r.__extends(t,e),i=t,t.prototype.initialize=function(){var e=this;this._tilemapCache=new l(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(function(){return e._initializeTilemapDefinition()})),d.init(this,"layer.tileInfo.lods",(function(t){return e._initializeAvailableLevels(t)}),!0)]),this._initializeTilemapDefinition()},t.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)},t.prototype.castLevels=function(e){return e<=2?(y.error("Minimum levels for Tilemap is 3, but got ",e),3):e},Object.defineProperty(t.prototype,"size",{get:function(){return 1<<this.levels},enumerable:!1,configurable:!0}),t.prototype.fetchTilemap=function(e,t,n,i){var o=this;if(!this._availableLevels[e])return u.reject(new a("tilemap-cache:level-unavailable","Level "+e+" is unavailable in the service"));var s=this._tmpTilemapDefinition,l=this._tilemapFromCache(e,t,n,s);if(l)return u.resolve(l);var c=i&&i.signal;return i=r.__assign(r.__assign({},i),{signal:null}),u.create((function(e,t){u.onAbort(c,(function(){return t(u.createAbortError())}));var r=v.tilemapDefinitionId(s),n=o._pendingTilemapRequests[r];if(!n){n=v.Tilemap.fromDefinition(s,i).then((function(e){return o._tilemapCache.put(r,e,e.byteSize),e}));var a=function(){return delete o._pendingTilemapRequests[r]};o._pendingTilemapRequests[r]=n,n.then(a,a)}n.then(e,t)}))},t.prototype.getAvailability=function(e,t,r){if(!this._availableLevels[e])return"unavailable";var n=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return n?n.getAvailability(t,r):"unknown"},t.prototype.getAvailabilityUpsample=function(e,t,r,n){n.level=e,n.row=t,n.col=r;var i=this.layer.tileInfo;for(i.updateTileInfo(n);;){var a=this.getAvailability(n.level,n.row,n.col);if("unavailable"!==a)return a;if(!i.upsampleTile(n))return"unavailable"}},t.prototype.fetchAvailability=function(e,t,r,n){return this._availableLevels[e]?this.fetchTilemap(e,t,r,n).catch((function(e){return e})).then((function(n){if(n instanceof v.Tilemap){var i=n.getAvailability(t,r);return"unavailable"===i?u.reject(new a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})):i}if(u.isAbortError(n))throw n;return"unknown"})):u.reject(new a("tilemap-cache:level-unavailable","Level "+e+" is unavailable in the service"))},t.prototype.fetchAvailabilityUpsample=function(e,t,r,n,i){var a=this;n.level=e,n.row=t,n.col=r;var o=this.layer.tileInfo;o.updateTileInfo(n);var s=this.fetchAvailability(e,t,r,i).catch((function(e){if(u.isAbortError(e))throw e;if(o.upsampleTile(n))return a.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e}));return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,r,i,s),s},t.prototype._fetchAvailabilityUpsamplePrefetch=function(e,t,n,a,o,s){return r.__awaiter(this,void 0,void 0,(function(){var l,c,f,d,h,v,y,m,g;return r.__generator(this,(function(_){switch(_.label){case 0:if(!this._prefetchingEnabled)return[2];if(this._handles.has(l="prefetch-"+e))return[2];c=u.createAbortController(),s.then((function(){return c.abort()}),(function(){return c.abort()})),f=!1,this._handles.add({remove:function(){f||(f=!0,c.abort())}},l),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,p.waitTicks(10,c.signal)];case 2:case 3:return _.sent(),[3,4];case 4:if(f||(f=!0,this._handles.remove(l)),u.isAborted(c))return[2];for(d={id:e,level:t,row:n,col:a},h=r.__assign(r.__assign({},o),{signal:c.signal}),v=this.layer.tileInfo,y=function(e){var t=m.fetchAvailability(d.level,d.row,d.col,h);i._prefetches.push(t);var r=function(){i._prefetches.removeUnordered(t)};t.then(r,r)},m=this,g=0;i._prefetches.length<i._maxPrefetch&&v.upsampleTile(d);++g)y();return[2]}}))}))},t.prototype._initializeTilemapDefinition=function(){if(this.layer.parsedUrl){var e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?f.objectToQuery(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}},t.prototype._tilemapFromCache=function(e,t,r,n){n.level=e,n.row=t-t%this.size,n.col=r-r%this.size;var i=v.tilemapDefinitionId(n);return this._tilemapCache.get(i)},t.prototype._initializeAvailableLevels=function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))},Object.defineProperty(t.prototype,"test",{get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,r,n){return!!e._tilemapFromCache(t,r,n,e._tmpTilemapDefinition)}}},enumerable:!1,configurable:!0}),t._maxPrefetch=4,t._prefetches=new c({initialSize:i._maxPrefetch}),r.__decorate([h.property({constructOnly:!0,type:Number})],t.prototype,"levels",void 0),r.__decorate([h.cast("levels")],t.prototype,"castLevels",null),r.__decorate([h.property({readOnly:!0,dependsOn:["levels"],type:Number})],t.prototype,"size",null),r.__decorate([h.property({constructOnly:!0,type:Number})],t.prototype,"cacheByteSize",void 0),r.__decorate([h.property({constructOnly:!0})],t.prototype,"layer",void 0),r.__decorate([h.property({constructOnly:!0})],t.prototype,"request",void 0),i=r.__decorate([h.subclass("esri.layers.support.TilemapCache")],t)}(i);t.TilemapCache=m}).apply(null,n))||(e.exports=i)},Eujf:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("qsST")],void 0===(i=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){e.referencesGeometry();var a=t.readArcadeFeature();try{return e.evaluate(r.__assign(r.__assign({},i),{$feature:a}))}catch(e){return n.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",e),null}}}).apply(null,n))||(e.exports=i)},FayN:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("2Kdy")],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layerLookupMap=void 0,t.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,t){r.e(231).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(20),r.e(63)]).then((function(){var t=[r("gRqF")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},CSVLayer:function(){return new Promise((function(e,t){r.e(232).then((function(){var t=[r("zwOT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(41)]).then((function(){var t=[r("GAgw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(20)]).then((function(){var t=[r("Zvuv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GroupLayer:function(){return new Promise((function(e,t){r.e(44).then((function(){var t=[r("lAGb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,t){r.e(233).then((function(){var t=[r("Hpgp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(23),r.e(29),r.e(1),r.e(65)]).then((function(){var t=[r("G5N4")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(23),r.e(29),r.e(1),r.e(66)]).then((function(){var t=[r("EhmR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,t){r.e(234).then((function(){var t=[r("wehw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},KMLLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(1),r.e(94)]).then((function(){var t=[r("hPxN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(33),r.e(1),r.e(45)]).then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(20),r.e(109)]).then((function(){var t=[r("2OQv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,t){r.e(235).then((function(){var t=[r("793k")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,t){r.e(236).then((function(){var t=[r("wvIq")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},RouteLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(20),r.e(110)]).then((function(){var t=[r("BdvN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},SceneLayer:function(){return new Promise((function(e,t){r.e(237).then((function(){var t=[r("yf9t")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},StreamLayer:function(){return new Promise((function(e,t){r.e(238).then((function(){var t=[r("QiYT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},TileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(4),r.e(7),r.e(8),r.e(9),r.e(10),r.e(14),r.e(33),r.e(1),r.e(111)]).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,t){r.e(82).then((function(){var t=[r("N1SI")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,t){r.e(83).then((function(){var t=[r("9ZiH")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(39),r.e(1),r.e(64)]).then((function(){var t=[r("UW67")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(8),r.e(1)]).then((function(){var t=[r("a2fw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMSLayer:function(){return new Promise((function(e,t){Promise.all([r.e(8),r.e(43)]).then((function(){var t=[r("dWJG")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,t){Promise.all([r.e(8),r.e(1),r.e(84)]).then((function(){var t=[r("AgRT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))}}}).apply(null,n))||(e.exports=i)},MzcX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht")],void 0===(i=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glLayout=void 0;var n={divisor:0};t.glLayout=function(e,t){void 0===t&&(t={}),t=r.__assign(r.__assign({},n),t);var a=e.stride;return e.fieldNames.filter((function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)})).map((function(r){var n=e.fields.get(r),o=n.constructor.ElementCount,s=function(e){var t=i[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}(n.constructor.ElementType);return{name:r,stride:a,count:o,type:s,offset:n.offset,normalized:!(!n.optional||!n.optional.glNormalized),divisor:t.divisor}}))};var i={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}).apply(null,n))||(e.exports=i)},N3Jt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("urqW"),r("ifLZ"),r("zp6E"),r("rg9i"),r("jfWY"),r("Z4y+"),r("WRgd"),r("hBh5"),r("hz/Y"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c,u,p,f,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeExtent=t.getGraphics=t.sublayersFromJSON=t.fetchService=t.parseKML=void 0;var h={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function v(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function y(e){for(var t=u.create(),r=u.create(u.NEGATIVE_INFINITY),n=0,i=e;n<i.length;n++){var a=i[n];if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features)for(var o=0,s=a.polygons.featureSet.features;o<s.length;o++){var l=s[o];p.getBoundsXYZ(t,l.geometry),u.expand(r,t,r)}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features)for(var f=0,d=a.polylines.featureSet.features;f<d.length;f++)p.getBoundsXYZ(t,(l=d[f]).geometry),u.expand(r,t,r);if(a.points&&a.points.featureSet&&a.points.featureSet.features)for(var h=0,v=a.points.featureSet.features;h<v.length;h++)p.getBoundsXYZ(t,(l=v[h]).geometry),u.expand(r,t,r);if(a.mapImages)for(var y=0,m=a.mapImages;y<m.length;y++)p.getBoundsXYZ(t,(l=m[y]).extent),u.expand(r,t,r)}return u.equals(r,u.NEGATIVE_INFINITY)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:c.WGS84}}t.parseKML=function(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,a=new Map,o=new Map,l=new Map,c={esriGeometryPoint:i,esriGeometryPolyline:a,esriGeometryPolygon:o};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=s.clone(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var l=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?v(i,l,e.featureSet.features):"esriGeometryPolyline"===r?v(a,l,e.featureSet.features):"esriGeometryPolygon"===r&&v(o,l,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){l.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){e.featureInfos&&(e.points=s.clone(n.get("esriGeometryPoint")),e.polylines=s.clone(n.get("esriGeometryPolyline")),e.polygons=s.clone(n.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map((function(t){switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var r=c[t.type].get(t.id);r&&e[h[t.type]].featureSet.features.push(r);break;case"GroundOverlay":var n=l.get(t.id);n&&e.mapImages.push(n)}})),e.fullExtent=y([e]))}));var u=y(r);return{folders:t,sublayers:r,extent:u}},t.fetchService=function(e,t,r,a){var s=i.id&&i.id.findCredential(e);return e=l.addQueryParameters(e,{token:s&&s.token}),o(n.kmlServiceUrl,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:a})},t.sublayersFromJSON=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=[]);var i=[],a={},o=t.sublayers,s=t.folders.map((function(e){return e.id}));return o.forEach((function(t){var o=new e;if(r?o.read(t,r):o.read(t),n.length&&s.indexOf(o.id)>-1&&(o.visible=-1!==n.indexOf(o.id)),a[t.id]=o,null!=t.parentFolderId&&-1!==t.parentFolderId){var l=a[t.parentFolderId];l.sublayers||(l.sublayers=[]),l.sublayers.unshift(o)}else i.unshift(o)})),i},t.getGraphics=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,s,l,c,u,p;return r.__generator(this,(function(r){switch(r.label){case 0:t=d.fromJSON(e.featureSet),n=t.features,i=f.fromJSON(e.layerDefinition.drawingInfo.renderer),o=a.fromJSON(e.popupInfo),s=[],l=0,c=n,r.label=1;case 1:return l<c.length?[4,i.getSymbolAsync(u=c[l])]:[3,4];case 2:p=r.sent(),u.symbol=p,u.popupTemplate=o,u.visible=!!u.attributes.visibility,s.push(u),r.label=3;case 3:return l++,[3,1];case 4:return[2,s]}}))}))},t.computeExtent=y}).apply(null,n))||(e.exports=i)},OECU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("jfWY"),r("Qwus")],void 0===(i=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForItem=void 0,t.createForItem=function(e){return{origin:"portal-item",url:r.urlToObject(e.itemUrl),portal:e.portal||n.getDefault(),portalItem:e,readResourcePaths:[]}}}).apply(null,n))||(e.exports=i)},Rt18:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r.__extends(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,"updating",{get:function(){return this.isUpdating()},enumerable:!1,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once("isReady",(function(){return t.notifyChange("updating")})),this.tiles.set(e.id,r),r},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach((function(t){e=e&&t.isReady})),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},r.__decorate([i.property()],t.prototype,"layer",void 0),r.__decorate([i.property()],t.prototype,"layerView",void 0),r.__decorate([i.property()],t.prototype,"tileInfoView",void 0),r.__decorate([i.property()],t.prototype,"updating",null),r.__decorate([i.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],t)}(n.HandleOwner);t.default=a}).apply(null,n))||(e.exports=i)},SA66:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("LxLY"),r("TTKK"),r("jfWY"),r("Vx27"),r("FPqO")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAServiceDescription=t.NAServiceDescriptionMixin=void 0,t.NAServiceDescriptionMixin=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),[2,this._serviceDescriptionPromise]}))}))},t.prototype._fetchServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,a,l,c;return r.__generator(this,(function(u){switch(u.label){case 0:if(!this.url||!this.parsedUrl)throw new i("network-service:missing-url","Url to Network service is missing");return[4,n(e=this.url,{query:{f:"json"}})];case 1:for((t=u.sent().data).supportedTravelModes||(t.supportedTravelModes=[]),a=0;a<t.supportedTravelModes.length;a++)t.supportedTravelModes[a].id||(t.supportedTravelModes[a].id=t.supportedTravelModes[a].itemId);return[4,t.currentVersion>=10.4?function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}})];case 1:return[2,{supportedTravelModes:(t=r.sent().data).supportedTravelModes,defaultTravelMode:t.defaultTravelMode}];case 2:throw a=r.sent(),new i("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:a});case 3:return[2]}}))}))}(e):function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,a,l,c,u,p,f,d,h,v,y,m,g,_;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,n(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}})];case 1:return(t=r.sent().data)&&t.owningSystemUrl?[4,n((e=t.owningSystemUrl)+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}})]:[2,{supportedTravelModes:[],defaultTravelMode:null}];case 2:return i=r.sent().data,(a=o.getDeepValue("helperServices.routingUtilities.url",i))?(l=s.urlToObject(e),c=/\/solveClosestFacility$/.test(l.path)?"Route":/\/solveClosestFacility$/.test(l.path)?"ClosestFacility":"ServiceAreas",[4,n(a+("/"===a[a.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:c}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 3:if(u=r.sent(),p=[],f=null,u&&u.data&&u.data.results&&u.data.results.length)for(d=0,h=u.data.results;d<h.length;d++)if("supportedTravelModes"===(v=h[d]).paramName){if(v.value&&v.value.features)for(y=0,m=v.value.features;y<m.length;y++)(g=m[y].attributes)&&(_=JSON.parse(g.TravelMode),p.push(_))}else"defaultTravelMode"===v.paramName&&(f=v.value);return[2,{supportedTravelModes:p,defaultTravelMode:f}]}}))}))}(e)];case 2:return l=u.sent(),c=l.supportedTravelModes,t.defaultTravelMode=l.defaultTravelMode,t.supportedTravelModes=c,[2,t]}}))}))},t.prototype._isInputGeometryZAware=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,o=n;i<o.length;i++){var s=o[i];if(a.isSome(s)&&s.hasZ)return!0}}return!1},t.prototype._dropZValuesOffInputGeometry=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,a=n;i<a.length;i++)a[i].z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")},r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(e)};var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(t.NAServiceDescriptionMixin(c));t.NAServiceDescription=u}).apply(null,n))||(e.exports=i)},"T/jF":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("qMld"),r("8V7H"),r("dXLH")],void 0===(i=(function(e,t,r,n,i,a,o){"use strict";return function(){function e(){this._workerThread=null,this._destroyed=!1}return e.prototype.initialize=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,a.open("RasterWorker")];case 1:return e=t.sent(),this._destroyed?e.close():this._workerThread=e,[2]}}))}))},e.prototype.destroy=function(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)},e.prototype.decode=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return[4,this._workerThread.invoke("decode",e,t)];case 1:return[2,(i=r.sent())?new o(i):null]}}))}))},e.prototype.symbolize=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return i={extent:e.extent&&e.extent.toJSON(),pixelBlock:e.pixelBlock.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},[4,this._workerThread.invoke("symbolize",i,t)];case 1:return[2,(a=r.sent())?new o(a):null]}}))}))},e.prototype.updateSymbolizer=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return a=e&&e.renderer&&"raster-stretch"===e.renderer.type&&e.renderer.histograms,[4,i.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:a},t))];case 1:return r.sent(),[2]}}))}))},e.prototype.stretch=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return e&&e.pixelBlock?(i={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},[4,this._workerThread.invoke("stretch",i,t)]):[2,null];case 1:return[2,(a=r.sent())?new o(a):null]}}))}))},e.prototype.mosaicAndTransform=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return e&&e.srcPixelBlocks&&e.srcPixelBlocks.length>0?(i=r.__assign(r.__assign({},e),{srcPixelBlocks:e.srcPixelBlocks.map((function(e){return e?e.toJSON():null}))}),[4,this._workerThread.invoke("mosaicAndTransform",i,t)]):[2,null];case 1:return[2,(a=s.sent())?new o(a):null]}}))}))},e}()}).apply(null,n))||(e.exports=i)},TD84:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicPointerUpEvent=t.GraphicPointerDownEvent=t.GraphicPointerOutEvent=t.GraphicPointerOverEvent=t.GraphicMoveStopEvent=t.GraphicMoveEvent=t.GraphicMoveStartEvent=t.GraphicDoubleClickEvent=t.GraphicClickEvent=void 0,t.GraphicClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-click"},t.GraphicDoubleClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-double-click"};var r=function(){function e(e,t,r,n,i,a,o,s,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-start"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStartEvent=r;var n=function(){function e(e,t,r,n,i,a,o,s,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveEvent=n;var i=function(){function e(e,t,r,n,i,a,o,s,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-stop"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStopEvent=i,t.GraphicPointerOverEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-over"},t.GraphicPointerOutEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-out"},t.GraphicPointerDownEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-down"},t.GraphicPointerUpEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-up"}}).apply(null,n))||(e.exports=i)},VIp5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("Vx27"),r("EEGM")],void 0===(i=(function(e,t,r,n,i,a){"use strict";var o=new n.default({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});return function(e){function t(t){var r=e.call(this,t)||this;return r.type=null,r}return r.__extends(t,e),r.__decorate([i.property({type:String,json:{read:o.read,write:o.write}})],t.prototype,"type",void 0),r.__decorate([i.subclass("esri.tasks.support.NAMessage")],t)}(a)}).apply(null,n))||(e.exports=i)},VTDq:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("7MDj"),r("Vx27"),r("EtsK"),r("IlDW"),r("b8d8")],void 0===(i=(function(e,t,r,n,i,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportImageParameters=void 0;var c={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scale=null,t.view=null,t}return r.__extends(t,e),t.prototype.destroy=function(){this.layer=this.view=null},Object.defineProperty(t.prototype,"dynamicLayers",{get:function(){if(!this.hasDynamicLayers)return null;var e=this.visibleSublayers.map((function(e){return e.toExportImageJSON()}));return e.length?JSON.stringify(e):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDynamicLayers",{get:function(){return this.layer&&s.isExportDynamic(this.visibleSublayers,this.layer.serviceSublayers,this.layer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layer",{set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this.handles.remove("layer"),e&&this.handles.add([e.allSublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return t.notifyChange(c[e.propertyName])}))],"layer"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layers",{get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerDefs",{get:function(){var e=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression}));return e.length?JSON.stringify(e.reduce((function(e,t){return e[t.id]=t.definitionExpression,e}),{})):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange("scale"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},set:function(e){this._set("version",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleSublayers",{get:function(){var e=this,t=[];if(!this.layer)return t;var r=this.layer.sublayers;r&&r.forEach((function r(n){var i=e.scale;n.visible&&(0===i||(0===n.minScale||i<=n.minScale)&&(0===n.maxScale||i>=n.maxScale))&&(n.sublayers?n.sublayers.forEach(r):t.unshift(n))}));var n=this._get("visibleSublayers");return!n||n.length!==t.length||n.some((function(e,r){return t[r]!==e}))?t:n},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=this.layer,t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t=r.__assign(r.__assign({},t),{layers:this.layers,layerDefs:this.layerDefs}),t},r.__decorate([a.property({readOnly:!0,dependsOn:["hasDynamicLayers","visibleSublayers"]})],t.prototype,"dynamicLayers",null),r.__decorate([a.property({readOnly:!0,dependsOn:["visibleSublayers","layer.serviceSublayers","layer.capabilities"]})],t.prototype,"hasDynamicLayers",null),r.__decorate([a.property()],t.prototype,"layer",null),r.__decorate([a.property({readOnly:!0,dependsOn:["visibleSublayers"]})],t.prototype,"layers",null),r.__decorate([a.property({readOnly:!0,dependsOn:["visibleSublayers"]})],t.prototype,"layerDefs",null),r.__decorate([a.property({type:Number,dependsOn:["view.scale"]})],t.prototype,"scale",null),r.__decorate([a.property(o.combinedViewLayerTimeExtentProperty)],t.prototype,"timeExtent",void 0),r.__decorate([a.property({dependsOn:["layers","layerDefs","dynamicLayers","layer.dpi","layer.imageFormat","layer.imageTransparency","layer.gdbVersion","timeExtent"]})],t.prototype,"version",null),r.__decorate([a.property({type:l})],t.prototype,"view",void 0),r.__decorate([a.property({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],t.prototype,"visibleSublayers",null),r.__decorate([a.subclass("esri.layers.mixins.ExportImageParameters")],t)}(i.HandleOwnerMixin(n));t.ExportImageParameters=u}).apply(null,n))||(e.exports=i)},WYOF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";function r(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.removeTypeKeyword=t.hasTypeKeyword=t.addTypeKeyword=void 0,t.addTypeKeyword=function(e,t){if(!r(e,t)){var n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}},t.hasTypeKeyword=r,t.removeTypeKeyword=function(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}}).apply(null,n))||(e.exports=i)},Wf0m:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("J3YA"),r("xoE+")],void 0===(i=(function(e,t,r,n){"use strict";function i(e,t,r,i,a){for(var o=new Uint32Array(e*e),s=("buffer"in t?t:new Float64Array(t)),l=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),c=l.length/(a-i),u=0;u<s.length;u++){var p=Math.floor((s[u]-i)*c);o[u]=l[n.clamp(p,0,l.length-1)]}return o.buffer}function a(e){for(var t=Math.round(3*e),r=2*e*e,n=new Float64Array(2*t+1),i=0;i<=n.length;i++)n[i]=Math.exp(-Math.pow(i-t,2)/r)/Math.sqrt(2*Math.PI)*(e/2);return n}function o(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}function s(e,t){return null!=e?"string"==typeof t?function(t){return-1*+t.readAttribute(e)}:function(r){return+r.readAttribute(e)+t}:function(e){return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.createValueFunctionCursor=t.createValueFunction=t.createKernel=t.createHeatmapImageData=t.drawHeatmap=t.calculateHeatmapIntensityInfoReaders=t.calculateHeatmapIntensityInfo=t.generateGradient=void 0,t.generateGradient=function(){if(!("document"in r))return function(){return null};var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,function(r){t.clearRect(0,0,1,e.height);for(var n=t.createLinearGradient(0,0,0,e.height),i=0,a=r.colorStops;i<a.length;i++){var o=a[i],s=o.color;n.addColorStop(Math.max(o.ratio,.001),"rgba("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+")")}return t.fillStyle=n,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}}(),t.calculateHeatmapIntensityInfo=function(e,t,r,n){for(var i,s=t.blurRadius,l=t.fieldOffset,c=t.field,u=new Float64Array(r*n),p=a(s),f=Math.round(3*s),d=Number.NEGATIVE_INFINITY,h=o(c,l),v=0,y=e;v<y.length;v++)for(var m=y[v],g=m.geometry,_=m.attributes,b=g.x-f,w=g.y-f,x=Math.max(0,b),I=Math.max(0,w),T=Math.min(n,g.y+f),S=Math.min(r,g.x+f),E=+h(_),M=I;M<T;M++)for(var O=p[M-w],j=x;j<S;j++)(i=u[M*r+j]+=O*p[j-b]*E)>d&&(d=i);return{matrix:u.buffer,max:d}},t.calculateHeatmapIntensityInfoReaders=function(e,t,r,n){for(var i,o=t.blurRadius,l=t.fieldOffset,c=t.field,u=new Float64Array(r*n),p=a(o),f=Math.round(3*o),d=Number.NEGATIVE_INFINITY,h=s(c,l),v=new Set,y=0,m=e;y<m.length;y++)for(var g=m[y].getCursor();g.next();){var _=g.getObjectId();if(!v.has(_)){v.add(_);for(var b=g.readLegacyPointGeometry(),w=+h(g),x=b.x-f,I=b.y-f,T=Math.max(0,x),S=Math.max(0,I),E=Math.min(n,b.y+f),M=Math.min(r,b.x+f),O=S;O<E;O++)for(var j=p[O-I],N=T;N<M;N++)(i=u[O*r+N]+=j*p[N-x]*w)>d&&(d=i)}}return{matrix:u.buffer,max:d}},t.drawHeatmap=function(e,t,r,n,a,o){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var s=e.getImageData(0,0,t,t);r&&n&&s.data.set(new Uint8ClampedArray(i(t,r,n,a,o))),e.putImageData(s,0,0)},t.createHeatmapImageData=i,t.createKernel=a,t.createValueFunction=o,t.createValueFunctionCursor=s}).apply(null,n))||(e.exports=i)},WhPF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("Vx27"),r("ddAr"),r("Cobz")],void 0===(i=(function(e,t,r,n,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArcGISCachedService=void 0,t.ArcGISCachedService=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.copyright=null,t.minScale=0,t.maxScale=0,t.spatialReference=null,t.tileInfo=null,t.tilemapCache=null,t}return r.__extends(t,e),t.prototype.readMinScale=function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0},t.prototype.readMaxScale=function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0},Object.defineProperty(t.prototype,"supportsBlankTile",{get:function(){return this.version>=10.2},enumerable:!1,configurable:!0}),t.prototype.readTilemapCache=function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new o.TilemapCache({layer:this}):null},r.__decorate([i.property({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),r.__decorate([i.property()],t.prototype,"minScale",void 0),r.__decorate([i.reader("service","minScale")],t.prototype,"readMinScale",null),r.__decorate([i.property()],t.prototype,"maxScale",void 0),r.__decorate([i.reader("service","maxScale")],t.prototype,"readMaxScale",null),r.__decorate([i.property({type:n.SpatialReference})],t.prototype,"spatialReference",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["version"]})],t.prototype,"supportsBlankTile",null),r.__decorate([i.property(a.serviceTileInfoProperty)],t.prototype,"tileInfo",void 0),r.__decorate([i.property()],t.prototype,"tilemapCache",void 0),r.__decorate([i.reader("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),r.__decorate([i.property()],t.prototype,"version",void 0),r.__decorate([i.subclass("esri.layers.mixins.ArcGISCachedService")],t)}(e)}}).apply(null,n))||(e.exports=i)},XOvD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("TMur"),r("dhsc"),r("mnow")],void 0===(i=(function(e,t,r,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.deleteBlock=t.putBlock=t.getBlock=t.decreaseRefCount=t.deleteRaster=t.unregister=t.register=t.getRasterId=void 0;var a=new Map,o=new n;t.getRasterId=function(e,t){return null==t?e:e+"?sliceId="+t},t.register=function(e,t){var r={extent:null,rasterInfo:t,cache:new Map};if(a.has(e)){var n=a.get(e);return n.push(r),n.length-1}return a.set(e,[r]),0},t.unregister=function(e,t){a.has(e)&&(a.get(e)[t]=null)},t.deleteRaster=function(e){a.delete(e)},t.decreaseRefCount=function(e,t,r){if(!a.has(e))return null==t?o.decreaseRefCount(e,r):0;var n=a.get(e);if(null==n[t])return o.decreaseRefCount(e,r);var i=n[t].cache;if(i.has(r)){var s=i.get(r);if(s.refCount--,0===s.refCount){i.delete(r);for(var l=0;l<n.length;l++)n[l]&&n[l].cache.has(r)&&n[l].cache.delete(r);s.controller&&s.controller.abort()}return s.refCount}return 0},t.getBlock=function(e,t,r){if(!a.has(e))return null==t?o.getBlock(e,r):null;var n=a.get(e);if(null==n[t]){for(var i=0;i<n.length;i++)if(n[i]&&n[i].cache.has(r))return(s=n[i].cache.get(r)).refCount++,s.block;return o.getBlock(e,r)}var s,l=n[t].cache;if(l.has(r))return(s=l.get(r)).refCount++,s.block;for(i=0;i<n.length;i++)if(i!==t&&n[i]&&n[i]&&n[i].cache.has(r)){var c=n[i].cache.get(r);return c.refCount++,l.set(r,c),c.block}return null},t.putBlock=function(e,t,r,n,i){if(void 0===i&&(i=null),a.has(e)){var s=a.get(e);if(null!=s[t]){var l={refCount:1,block:n,isResolved:!1,isRejected:!1,controller:i};n.then((function(){return l.isResolved=!0})).catch((function(){return l.isRejected=!0})),s[t].cache.set(r,l)}else o.putBlock(e,r,n,i)}else null==t&&o.putBlock(e,r,n,i)},t.deleteBlock=function(e,t,r){if(a.has(e)){var n=a.get(e);null!=n[t]?n[t].cache.delete(r):o.deleteBlock(e,r)}else null==t&&o.deleteBlock(e,r)},t.update=function(e,t,n,o,s,l,c){void 0===c&&(c=null);var u=function(e,t){if(!a.has(e))return null;var r=a.get(e);return null==r[t]?null:r[t]}(e,t),p=u.extent,f=u.cache,d=u.rasterInfo;if(!p||p.xmin!==n.xmin||p.xmax!==n.xmax||p.ymin!==n.ymin||p.ymax!==n.ymax){for(var h=n.clone().normalize(),v=d.spatialReference,y=new Set,m=0;m<h.length;m++){var g=h[m];if(!(g.xmax-g.xmin<=o||g.ymax-g.ymin<=o)){var _=i.projectExtent(g,v,c),b=new r.Point({x:o,y:o,spatialReference:g.spatialReference});if(null===s&&!(s=i.projectResolution(b,v,g,c)))return;var w=i.snapPyramid(s,d,l||"closest"),x=w.pyramidLevel,I=w.pyramidResolution;if(w.excessiveReading)return;for(var T={x:Math.max(0,Math.floor((_.xmin-d.storageInfo.origin.x)/I.x)),y:Math.max(0,Math.floor((d.storageInfo.origin.y-_.ymax)/I.y))},S=Math.ceil((_.xmax-_.xmin)/I.x-.1),E=Math.ceil((_.ymax-_.ymin)/I.y-.1),M=x>0?d.storageInfo.pyramidBlockWidth:d.storageInfo.blockWidth,O=x>0?d.storageInfo.pyramidBlockHeight:d.storageInfo.blockHeight,j=Math.max(0,Math.floor(T.x/M)-1),N=Math.max(0,Math.floor(T.y/O)-1),P=Math.floor((T.x+S-1)/M)+1,R=Math.floor((T.y+E-1)/O)+1,A=N;A<=R;A++)for(var L=j;L<=P;L++)y.add(x+"/"+A+"/"+L)}}f.forEach((function(e,t){if(!y.has(t)){var r=f.get(t);(null==r||r.isResolved||r.isRejected)&&f.delete(t)}})),u.extent={xmin:n.xmin,ymin:n.ymin,xmax:n.xmax,ymax:n.ymax}}}}).apply(null,n))||(e.exports=i)},a2fw:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("zp6E"),r("ma1f"),r("rg9i"),r("EUqE"),r("qMld"),r("nRUF"),r("jfWY"),r("jfWY"),r("Vx27"),r("0RER"),r("Pnm5"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("r2fF"),r("pMLx"),r("zBTX")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c,u,p,f,d,h,v,y,m,g,_,b,w){"use strict";return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this;return i.copyright="",i.fullExtent=new n.Extent(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,n.SpatialReference.WebMercator),i.legendEnabled=!1,i.isReference=null,i.popupEnabled=!1,i.spatialReference=n.SpatialReference.WebMercator,i.subDomains=null,i.tileInfo=new b({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new n.Point({x:-20037508.342787,y:20037508.342787,spatialReference:n.SpatialReference.WebMercator}),spatialReference:n.SpatialReference.WebMercator,lods:[new _({level:0,scale:591657527.591555,resolution:156543.033928}),new _({level:1,scale:295828763.795777,resolution:78271.5169639999}),new _({level:2,scale:147914381.897889,resolution:39135.7584820001}),new _({level:3,scale:73957190.948944,resolution:19567.8792409999}),new _({level:4,scale:36978595.474472,resolution:9783.93962049996}),new _({level:5,scale:18489297.737236,resolution:4891.96981024998}),new _({level:6,scale:9244648.868618,resolution:2445.98490512499}),new _({level:7,scale:4622324.434309,resolution:1222.99245256249}),new _({level:8,scale:2311162.217155,resolution:611.49622628138}),new _({level:9,scale:1155581.108577,resolution:305.748113140558}),new _({level:10,scale:577790.554289,resolution:152.874056570411}),new _({level:11,scale:288895.277144,resolution:76.4370282850732}),new _({level:12,scale:144447.638572,resolution:38.2185141425366}),new _({level:13,scale:72223.819286,resolution:19.1092570712683}),new _({level:14,scale:36111.909643,resolution:9.55462853563415}),new _({level:15,scale:18055.954822,resolution:4.77731426794937}),new _({level:16,scale:9027.977411,resolution:2.38865713397468}),new _({level:17,scale:4513.988705,resolution:1.19432856685505}),new _({level:18,scale:2256.994353,resolution:.597164283559817}),new _({level:19,scale:1128.497176,resolution:.298582141647617})]}),i.type="web-tile",i.urlTemplate=null,i.wmtsInfo=null,i}return r.__extends(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?o.mixin({urlTemplate:e},t||{}):e},t.prototype.load=function(e){var t=this,r=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((function(){var e="";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r=new u.Url(t.urlTemplate);t.subDomains&&t.subDomains.length>0||-1===r.authority.indexOf("{subDomain}")||(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new a("web-tile-layer:load","WebTileLayer (title: '"+t.title+"', id: '"+t.id+"') "+e)}));return this.addResolvingPromise(r),l.resolve(this)},Object.defineProperty(t.prototype,"levelValues",{get:function(){var e=[];if(!this.tileInfo)return null;for(var t=0,r=this.tileInfo.lods;t<r.length;t++){var n=r[t];e[n.level]=n.levelValue||n.level}return e},enumerable:!1,configurable:!0}),t.prototype.readSpatialReference=function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&n.SpatialReference.fromJSON(t.fullExtent.spatialReference)},Object.defineProperty(t.prototype,"tileServers",{get:function(){if(!this.urlTemplate)return null;var e=[],t=this.subDomains,r=new u.Url(this.urlTemplate),n=r.scheme?r.scheme+"://":"//",i=n+r.authority+"/";if(-1===r.authority.indexOf("{subDomain}"))e.push(i);else if(t&&t.length>0&&r.authority.split(".").length>1)for(var a=0,o=t;a<o.length;a++)e.push(n+r.authority.replace(/\{subDomain\}/gi,o[a])+"/");return e.map((function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"urlPath",{get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new u.Url(e);return e.substring(((t.scheme?t.scheme+"://":"//")+t.authority+"/").length)},enumerable:!1,configurable:!0}),t.prototype.readUrlTemplate=function(e,t){return e||t.templateUrl},t.prototype.writeUrlTemplate=function(e,t){e&&p.isProtocolRelative(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=p.normalize(e)),t.templateUrl=e},t.prototype.fetchTile=function(e,t,r,n){void 0===n&&(n={});var a=n.signal,o=n.timestamp,s=this.getTileUrl(e,t,r),l={responseType:"image",signal:a};return null!=o&&(l.query={_ts:n.timestamp}),i(s,l).then((function(e){return e.data}))},t.prototype.getTileUrl=function(e,t,r){var n=this.levelValues[e];return this.tileServers[t%this.tileServers.length]+c.replace(this.urlPath,{level:n,z:n,col:r,x:r,row:t,y:t})},r.__decorate([f.property({type:String,value:"",json:{write:!0}})],t.prototype,"copyright",void 0),r.__decorate([f.property({type:n.Extent,json:{write:!0}})],t.prototype,"fullExtent",void 0),r.__decorate([f.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"legendEnabled",void 0),r.__decorate([f.property({type:["show","hide"]})],t.prototype,"listMode",void 0),r.__decorate([f.property({dependsOn:["tileInfo"]})],t.prototype,"levelValues",null),r.__decorate([f.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],t.prototype,"isReference",void 0),r.__decorate([f.property({type:["WebTiledLayer"],value:"WebTiledLayer"})],t.prototype,"operationalLayerType",void 0),r.__decorate([f.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"popupEnabled",void 0),r.__decorate([f.property({type:n.SpatialReference})],t.prototype,"spatialReference",void 0),r.__decorate([f.reader("spatialReference",["spatialReference","fullExtent.spatialReference"])],t.prototype,"readSpatialReference",null),r.__decorate([f.property({type:[String],json:{write:!0}})],t.prototype,"subDomains",void 0),r.__decorate([f.property({type:b,json:{write:!0}})],t.prototype,"tileInfo",void 0),r.__decorate([f.property({readOnly:!0,dependsOn:["urlTemplate","subDomains"]})],t.prototype,"tileServers",null),r.__decorate([f.property({json:{read:!1}})],t.prototype,"type",void 0),r.__decorate([f.property({dependsOn:["urlTemplate"]})],t.prototype,"urlPath",null),r.__decorate([f.property({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],t.prototype,"urlTemplate",void 0),r.__decorate([f.reader("urlTemplate",["urlTemplate","templateUrl"])],t.prototype,"readUrlTemplate",null),r.__decorate([f.writer("urlTemplate",{templateUrl:{type:String}})],t.prototype,"writeUrlTemplate",null),r.__decorate([f.property({type:w.default,json:{write:!0}})],t.prototype,"wmtsInfo",void 0),r.__decorate([f.subclass("esri.layers.WebTileLayer")],t)}(h.BlendLayer(m.RefreshableLayer(g.ScaleRangeLayer(v.OperationalLayer(y.PortalLayer(s.MultiOriginJSONMixin(d)))))))}).apply(null,n))||(e.exports=i)},a4MF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createQueryParamsHelper=void 0;var r=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.toQueryParams=function(e){var t=this;if(!e)return null;var r=e.toJSON(),n={};return Object.keys(r).forEach((function(e){var i=t._options[e];if(i){var a="boolean"!=typeof i&&i.name?i.name:e,o="boolean"!=typeof i&&i.getter?i.getter(r):r[e];null!=o&&(n[a]=function(e){if(!Array.isArray(e))return!1;var t=e[0];return"number"==typeof t||"string"==typeof t}(o)?o.join(","):"object"==typeof o?JSON.stringify(o):o)}else n[e]=r[e]}),this),n},e}();t.createQueryParamsHelper=function(e){return new r(e)}}).apply(null,n))||(e.exports=i)},ddAr:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("pMLx")],void 0===(i=(function(e,t,r,n){"use strict";function i(e,t,i,a){if(!e)return null;var o=t.minScale,s=t.maxScale,l=t.minLOD,c=t.maxLOD;if(null!=l&&null!=c)return n.fromJSON(a&&a.ignoreMinMaxLOD?e:r.__assign(r.__assign({},e),{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=l&&t<=c}))}));if(0!==o&&0!==s){var u=function(e){return Math.round(1e4*e)/1e4},p=o?u(o):1/0,f=s?u(s):-1/0;return n.fromJSON(r.__assign(r.__assign({},e),{lods:e.lods.filter((function(e){var t=u(e.scale);return t<=p&&t>=f}))}))}return n.fromJSON(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.readServiceTileInfo=t.serviceTileInfoProperty=void 0,t.serviceTileInfoProperty={type:n,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:i}}}}},t.readServiceTileInfo=i}).apply(null,n))||(e.exports=i)},dhsc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("R2Zq")],void 0===(i=(function(e,t,r){"use strict";return function(){function e(e,t){void 0===e&&(e=15e3),void 0===t&&(t=5e3),this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=e,this._interval=Math.min(e,t)}return e.prototype.decreaseRefCount=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.refCount--,i.refCount<=0&&(n.delete(r),i.controller&&i.controller.abort()),i.refCount}return 0},e.prototype.getBlock=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.ts=Date.now(),i.refCount++,n.delete(r),n.set(r,i),i.block}return null},e.prototype.putBlock=function(e,t,r,n){void 0===n&&(n=null);var i=this._cachedBlocks,a=e+"/"+t;if(i.has(a)){var o=i.get(a);o.ts=Date.now(),o.refCount++}else i.set(a,{block:r,ts:Date.now(),refCount:1,controller:n});this.trim(),this.updateTimer()},e.prototype.deleteBlock=function(e,t){var r=this._cachedBlocks,n=e+"/"+t;r.has(n)&&r.delete(n)},e.prototype.updateMaxSize=function(e){this._size=e,this.trim()},e.prototype.empty=function(){this._cachedBlocks.clear(),this.clearTimer()},e.prototype.getCurrentSize=function(){return this._cachedBlocks.size},e.prototype.updateTimer=function(){var e=this;if(null==this._timer){var t=this._cachedBlocks;this._timer=setInterval((function(){for(var n=r.pairsOfMap(t),i=Date.now(),a=0;a<n.length&&n[a][1].ts<=i-e._duration;a++)t.delete(n[a][0]);0===t.size&&e.clearTimer()}),this._interval)}},e.prototype.trim=function(){var e=this._cachedBlocks;if(!(-1===this._size||this._size>=e.size))for(var t=r.pairsOfMap(e),n=0;n<t.length-this._size;n++)e.delete(t[n][0])},e.prototype.clearTimer=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},e}()}).apply(null,n))||(e.exports=i)},i6zL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("KY0m"),r("BcWh"),r("eIBl"),r("rg9i"),r("jBNx"),r("8MXS"),r("Vx27"),r("tJCi"),r("TD84"),r("txZC")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c,u,p,f){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r._activeGraphic=null,r._dragEvent=null,r._handles=new a,r._hoverGraphic=null,r._initialDragGeometry=null,r._viewHandles=new a,r.type="graphic-mover",r.callbacks={onGraphicClick:function(){},onGraphicDoubleClick:function(){},onGraphicMoveStart:function(){},onGraphicMove:function(){},onGraphicMoveStop:function(){},onGraphicPointerOver:function(){},onGraphicPointerOut:function(){},onGraphicPointerDown:function(){},onGraphicPointerUp:function(){}},r.enableMoveAllGraphics=!1,r.graphics=[],r.view=null,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this._handles.add([l.whenOnce(this,"view.ready",(function(){e._viewHandles.add([e.view.on("immediate-click",(function(t){return e._clickHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("double-click",(function(t){return e._doubleClickHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("pointer-down",(function(t){return e._pointerDownHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("pointer-move",(function(t){return e._pointerMoveHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("pointer-up",(function(t){return e._pointerUpHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("drag",(function(t){return e._dragHandler(t)}),f.ViewEventPriorities.TOOL),e.view.on("key-down",(function(t){return e._keyDownHandler(t)}),f.ViewEventPriorities.TOOL)])}))])},t.prototype.destroy=function(){this.reset(),this._viewHandles.removeAll(),this._handles.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=!!this.get("view.ready"),t=!!this.get("graphics.length");return e&&t?this._activeGraphic?"moving":"active":e?"ready":"disabled"},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null},t.prototype.updateGeometry=function(e,t){var r=this.graphics[e];r&&r.set("geometry",t)},t.prototype._clickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var a=new p.GraphicClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-click",a),t.callbacks.onGraphicClick&&t.callbacks.onGraphicClick(a)}}}))},t.prototype._doubleClickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var a=new p.GraphicDoubleClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-double-click",a),t.callbacks.onGraphicDoubleClick&&t.callbacks.onGraphicDoubleClick(a)}}}))},t.prototype._pointerDownHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=n.find(r.results,(function(e){return-1!==t.graphics.indexOf(e.graphic)}));if(i){var a=i.graphic;if(t.graphics.indexOf(a)>-1){t._activeGraphic=a;var o=e.x,s=e.y,l=new p.GraphicPointerDownEvent(a,t.graphics.indexOf(a),o,s,e);t.emit("graphic-pointer-down",l),t.callbacks.onGraphicPointerDown&&t.callbacks.onGraphicPointerDown(l)}else a!==t._activeGraphic&&(t._activeGraphic=null)}else t._activeGraphic=null}))},t.prototype._pointerUpHandler=function(e){if(this._activeGraphic){var t=e.x,r=e.y,n=this.graphics.indexOf(this._activeGraphic),i=new p.GraphicPointerUpEvent(this._activeGraphic,n,t,r,e);this.emit("graphic-pointer-up",i),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(i)}},t.prototype._pointerMoveHandler=function(e){var t=this;this._dragEvent||this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(i===t._hoverGraphic)return;if(t.graphics.indexOf(i)>-1){var a=e.x,o=e.y;if(t._hoverGraphic){var s=t.graphics.indexOf(t._hoverGraphic),l=new p.GraphicPointerOutEvent(t.graphics[s],s,a,o,e);t._hoverGraphic=null,t.emit("graphic-pointer-out",l),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(l)}var c=t.graphics.indexOf(i),u=new p.GraphicPointerOverEvent(i,c,a,o,e);return t._hoverGraphic=i,t.emit("graphic-pointer-over",u),void(t.callbacks.onGraphicPointerOver&&t.callbacks.onGraphicPointerOver(u))}}t._hoverGraphic&&(a=e.x,o=e.y,s=t.graphics.indexOf(t._hoverGraphic),u=new p.GraphicPointerOutEvent(t.graphics[s],s,a,o,e),t._hoverGraphic=null,t.emit("graphic-pointer-out",u),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(u))}))},t.prototype._dragHandler=function(e){var t=this;if(("start"===e.action||this._dragEvent)&&this._activeGraphic&&this._activeGraphic.geometry){e.stopPropagation();var r=e.action,n=e.x,i=e.y,a=this.graphics.indexOf(this._activeGraphic),s=this._activeGraphic.geometry,l=this._dragEvent?n-this._dragEvent.x:0,c=this._dragEvent?i-this._dragEvent.y:0,f=n-e.origin.x,d=i-e.origin.y;if(this._activeGraphic.geometry=u.cloneMove(s,l,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((function(e){e!==t._activeGraphic&&(e.geometry=u.cloneMove(e.geometry,l,c,t.view))})),this._dragEvent=e,"start"===r){this._initialDragGeometry=o.clone(s);var h=new p.GraphicMoveStartEvent(this._activeGraphic,this.graphics,a,n,i,l,c,f,d,e);this.emit("graphic-move-start",h),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(h),h.defaultPrevented&&this._activeGraphic.set("geometry",s)}else"update"===r?(h=new p.GraphicMoveEvent(this._activeGraphic,this.graphics,a,n,i,l,c,f,d,e),this.emit("graphic-move",h),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(h),h.defaultPrevented&&this._activeGraphic.set("geometry",s)):(h=new p.GraphicMoveStopEvent(this._activeGraphic,this.graphics,a,n,i,l,c,f,d,e),this._dragEvent=null,this._activeGraphic=null,this.emit("graphic-move-stop",h),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(h),h.defaultPrevented&&this.graphics[a].set("geometry",this._initialDragGeometry),this._initialDragGeometry=null)}},t.prototype._keyDownHandler=function(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()},r.__decorate([c.property()],t.prototype,"_activeGraphic",void 0),r.__decorate([c.property({readOnly:!0})],t.prototype,"type",void 0),r.__decorate([c.property()],t.prototype,"callbacks",void 0),r.__decorate([c.property()],t.prototype,"enableMoveAllGraphics",void 0),r.__decorate([c.property()],t.prototype,"graphics",void 0),r.__decorate([c.property({dependsOn:["view.ready","graphics.length","_activeGraphic"],readOnly:!0})],t.prototype,"state",null),r.__decorate([c.property()],t.prototype,"view",void 0),r.__decorate([c.subclass("esri.views.draw.support.GraphicMover")],t)}(i.EventedAccessor)}).apply(null,n))||(e.exports=i)},jJpZ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nrlZ"),r("k7g7"),r("2Kdy")],void 0===(i=(function(e,t,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadGeometryEngineForSimplify=t.loadGeometryEngine=t.simplify=t.mixAttributes=t.createFeatureEditSuccessResult=t.createFeatureEditErrorResult=void 0;var o=function(){this.code=null,this.description=null},s=function(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e};function l(e){return new s(e)}t.createFeatureEditErrorResult=l;var c=function(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e};t.createFeatureEditSuccessResult=function(e){return new c(e)};var u,p=new Set;function f(e,t){var r=t;return"string"==typeof t&&a.isNumericField(e)?r=parseFloat(t):null!=t&&a.isStringField(e)&&"string"!=typeof t&&(r=String(t)),a.sanitizeNullFieldValue(r)}function d(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return u?[2,u]:[4,new Promise((function(e,t){r.e(1).then((function(){var t=[r("tNTp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))];case 1:return[2,u=e.sent()]}}))}))}t.mixAttributes=function(e,t,r,n,i,o){for(var s in void 0===i&&(i=!1),p.clear(),n){var c=e.get(s);if(c){var u=n[s],d=f(c,u);if(d!==u&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:c,originalValue:u,sanitizedValue:d}}),p.add(c.name),c&&(i||c.editable)){var h=a.validateFieldValue(c,d);if(h)return l(a.validationErrorToString(h,c,d));r[c.name]=d}}}for(var v=0,y=t;v<y.length;v++){var m=y[v];if(!p.has(m.name))return l('missing required field "'+m.name+'"')}return null},t.simplify=function(e,t){if(!e||!i.isValid(t))return e;if("rings"in e||"paths"in e){if(!u)throw new TypeError("geometry engine not loaded");return u.simplify(t,e)}return e},t.loadGeometryEngine=d,t.loadGeometryEngineForSimplify=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(r){switch(r.label){case 0:return!i.isValid(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t?[3,2]:[4,d()];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}}).apply(null,n))||(e.exports=i)},jmRc:function(e,t){},mEoI:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("jZlN"),r("LxLY"),r("Vx27"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,a,o,s){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.extent=null,r.features=null,r.geometryType="polyline",r.routeId=null,r.routeName=null,r.totalDriveTime=null,r.totalLength=null,r.totalTime=null,r}return r.__extends(t,e),t.prototype.readFeatures=function(e,t){var r=this;(e||[]).forEach((function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)}));var o=n.SpatialReference.fromJSON(t.spatialReference);return e.map((function(e){var t=i.fromJSON(e);return t.geometry&&!(e.geometry&&e.geometry.spatialReference)&&(a.unwrap(t.geometry).spatialReference=o),t.strings=e.strings,t.events=(e.events||[]).map((function(t){var r=new i({geometry:new n.Point({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),t}))},Object.defineProperty(t.prototype,"mergedGeometry",{get:function(){if(!this.features)return null;var e=this.features.map((function(e){return a.unwrap(e.geometry)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strings",{get:function(){return this.features.map((function(e){return e.strings}))},enumerable:!1,configurable:!0}),t.prototype._decompressFeatureGeometry=function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)},t.prototype._decompressGeometry=function(e,t){var r,n,i,a,o,s,l,c,u=0,p=0,f=0,d=0,h=[],v=0,y=0,m=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[v],32)){v=2;var g=parseInt(o[v],32);v++,s=parseInt(o[v],32),v++,1&g&&(y=o.indexOf("|")+1,l=parseInt(o[y],32),y++),2&g&&(m=o.indexOf("|",y)+1,c=parseInt(o[m],32),m++)}else s=parseInt(o[v],32),v++;for(;v<o.length&&"|"!==o[v];){r=parseInt(o[v],32)+u,v++,u=r,n=parseInt(o[v],32)+p,v++,p=n;var _=[r/s,n/s];y&&(a=parseInt(o[y],32)+f,y++,f=a,_.push(a/l)),m&&(i=parseInt(o[m],32)+d,m++,d=i,_.push(i/c)),h.push(_)}return{paths:[h],hasZ:y>0,hasM:m>0,spatialReference:t}},t.prototype._mergePolylinesToSinglePath=function(e,t){var r=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){r=r.concat(e)}))}));var i=[],a=[0,0];return r.forEach((function(e){e[0]===a[0]&&e[1]===a[1]||(i.push(e),a=e)})),new n.Polyline({paths:[i]},t)},r.__decorate([o.property({type:n.Extent,json:{read:{source:"summary.envelope"}}})],t.prototype,"extent",void 0),r.__decorate([o.property()],t.prototype,"features",void 0),r.__decorate([o.reader("features")],t.prototype,"readFeatures",null),r.__decorate([o.property()],t.prototype,"geometryType",void 0),r.__decorate([o.property({readOnly:!0,dependsOn:["features","extent.spatialReference"]})],t.prototype,"mergedGeometry",null),r.__decorate([o.property()],t.prototype,"routeId",void 0),r.__decorate([o.property()],t.prototype,"routeName",void 0),r.__decorate([o.property({value:null,readOnly:!0,dependsOn:["features"]})],t.prototype,"strings",null),r.__decorate([o.property({json:{read:{source:"summary.totalDriveTime"}}})],t.prototype,"totalDriveTime",void 0),r.__decorate([o.property({json:{read:{source:"summary.totalLength"}}})],t.prototype,"totalLength",void 0),r.__decorate([o.property({json:{read:{source:"summary.totalTime"}}})],t.prototype,"totalTime",void 0),r.__decorate([o.subclass("esri.tasks.support.DirectionsFeatureSet")],t)}(s)}).apply(null,n))||(e.exports=i)},mmEe:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("LxLY"),r("8uEs"),r("FXVB"),r("0LE5"),r("Rdxj"),r("Z4y+"),r("lRq4"),r("KDna"),r("83/a")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c,u,p){"use strict";var f,d,h,v,y,m,g,_;function b(e,t,r,n){return!(e.length<2)&&(2===e.length&&(H[0]=e[0],H[1]=e[1],H[2]=0,e=H),w(e,t,0,r,n,0,1))}function w(e,t,r,i,a,o,s){void 0===s&&(s=1);var l=C(t,a,B);if(n.isNone(l))return!1;if(l===I){if(e===i&&r===o)return!0;for(var c=r+3*s,u=r,p=o;u<c;u++,p++)i[p]=e[u];return!0}var f=r+3*s;for(u=r,p=o;u<f;u+=3,p+=3)l(e,u,i,p);return!0}function x(e,r){return r.spatialReference===e?r.spatialReferenceId:(r.spatialReference=e,"metersPerUnit"in r&&(r.metersPerUnit=i.getMetersPerUnitForSR(e,1)),r.spatialReferenceId=e.wkt===t.SphericalECEFSpatialReference.wkt?1:e.isWGS84?2:e.isWebMercator?3:e.wkt===t.WGS84ECEFSpatialReference.wkt?4:4490===e.wkid?5:0)}function I(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function T(e,t,r,n){r[n++]=q*(e[t++]/u.earthRadius),r[n++]=q*(Math.PI/2-2*Math.atan(Math.exp(-1*e[t++]/u.earthRadius))),r[n]=e[t]}function S(e,t,r,n){T(e,t,r,n),O(r,n,r,n)}function E(e,t,r,n){T(e,t,r,n),R(r,n,r,n)}function M(e,t,n,i){var a=.4999999*Math.PI,o=r.clamp(W*e[t+1],-a,a),s=Math.sin(o);n[i++]=W*e[t]*u.earthRadius,n[i++]=u.halfEarthRadius*Math.log((1+s)/(1-s)),n[i]=e[t+2]}function O(e,t,r,n){var i=u.earthRadius+e[t+2],a=W*e[t+1],o=W*e[t],s=Math.cos(a);r[n++]=Math.cos(o)*s*i,r[n++]=Math.sin(o)*s*i,r[n]=Math.sin(a)*i}function j(e,t,n,i){var a=p.Vec3Compact.length(e,t),o=r.asinClamped(e[t+2]/(0===a?1:a)),s=Math.atan2(e[t+1],e[t]);n[i++]=q*s,n[i++]=q*o,n[i]=a-u.earthRadius}function N(e,t,r,n){j(e,t,r,n),M(r,n,r,n)}function P(e,t,r,n){j(e,t,r,n),R(r,n,r,n)}function R(e,t,r,n){var i=u.earthEllipsoidConstants,a=W*e[t],o=W*e[t+1],s=e[t+2],l=Math.sin(o),c=Math.cos(o),p=i.a/Math.sqrt(1-i.e2*l*l);r[n++]=(p+s)*c*Math.cos(a),r[n++]=(p+s)*c*Math.sin(a),r[n++]=(p*(1-i.e2)+s)*l}function A(e,t,r,n){var i,a,o,s,l,c,p,f,d,h,v,y,m,g,_,b,w,x,I,T,S,E=u.earthEllipsoidConstants,M=e[t],O=e[t+1],j=e[t+2];i=Math.abs(j),a=M*M+O*O,o=Math.sqrt(a),s=a+j*j,l=Math.sqrt(s),T=Math.atan2(O,M),c=j*j/s,g=E.a2/l,_=E.a3-E.a4/l,(p=a/s)>.3?(f=i/l*(1+p*(E.a1+g+c*_)/l),I=Math.asin(f),h=f*f,d=Math.sqrt(1-h)):(d=o/l*(1-c*(E.a5-g-p*_)/l),I=Math.acos(d),h=1-d*d,f=Math.sqrt(h)),v=1-E.e2*h,y=E.a/Math.sqrt(v),I+=x=(b=d*(_=i-(m=E.a6*y)*f)-f*(g=o-y*d))/(m/v+(w=d*g+f*_)),S=w+b*x/2,j<0&&(I=-I),r[n++]=q*T,r[n++]=q*I,r[n]=S}function L(e,t,r,n){A(e,t,r,n),O(r,n,r,n)}function G(e,t,r,n){A(e,t,r,n),M(r,n,r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjector=t.wgs84ComparableLonLatToECEF=t.vectorToWGS84ComparableLonLat=t.canProjectToWGS84ComparableLonLat=t.webMercator=t.boundingRectToBoundingRect=t.mbsToMbs=t.transformDirection=t.computeLinearTransformation=t.localLinearScaleFactors=t.bufferToBuffer=t.xyzToVector=t.pathsToPaths=t.vectorToVector=t.getProjectorName=t.canProject=t.WGS84ECEFSpatialReference=t.SphericalECEFSpatialReference=void 0,t.SphericalECEFSpatialReference=new l({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",'+u.earthRadius+',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'}),t.WGS84ECEFSpatialReference=new l({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'}),t.canProject=function(e,t){return!!C(e,t,B)},t.getProjectorName=function(e,t){var r=C(e,t,B);return r===I?"copy3":r===O?"wgs84ToSphericalECEF":r===M?"wgs84ToWebMercator":r===R?"wgs84ToWGS84ECEF":r===T?"webMercatorToWGS84":r===S?"webMercatorToSphericalECEF":r===E?"webMercatorToWGS84ECEF":r===A?"wgs84ECEFToWGS84":r===L?"wgs84ECEFToSphericalECEF":r===G?"wgs84ECEFToWebMercator":r===j?"sphericalECEFToWGS84":r===N?"sphericalECEFToWebMercator":r===P?"sphericalECEFToWGS84ECEF":null},t.vectorToVector=b,t.pathsToPaths=function(e,t,r,n,i,a,o){void 0===o&&(o=0);for(var s=new Array,l=0,c=e;l<c.length;l++)for(var u=0,p=y=c[l];u<p.length;u++){var f=p[u];s.push(f[0],f[1],t?f[2]:o)}if(!w(s,n,0,s,a,0,s.length/3))return!1;var d=0;i.length=0;for(var h=0,v=e;h<v.length;h++){for(var y=v[h],m=new Array,g=0,_=y;g<_.length;g++)f=_[g],t&&r?m.push([s[d++],s[d++],s[d++],f[3]]):t?m.push([s[d++],s[d++],s[d++]]):r?(m.push([s[d++],s[d++],f[2]]),d++):(m.push([s[d++],s[d++]]),d++);i.push(m)}return!0},t.xyzToVector=function(e,t,r,n,i,a){return H[0]=e,H[1]=t,H[2]=r,w(H,n,0,i,a,0,1)},t.bufferToBuffer=w,t.localLinearScaleFactors=function(e,t,r,n){var i=x(t,F),a=x(n,z);if(i===a&&0!==i||t.equals(n))return r[0]=1,r[1]=1,r[2]=1,!0;if(1===i){var s=o.vec3.length(e),l=s/Math.sqrt(e[0]*e[0]+e[1]*e[1]),c=s/u.earthRadius;if(3===a)return r[0]=l*c,r[1]=l*c,r[2]=1,!0;if(2===a||5===a){var p=180/(u.earthRadius*Math.PI);return r[0]=p*l*c,r[1]=p*c,r[2]=1,!0}}return!1},t.computeLinearTransformation=function(e,t,r,i){var o=x(e,F),s=x(i,z);if(o===s&&1!==s&&(0!==o||e.equals(i)))return a.mat4.identity(r),a.mat4.translate(r,r,t),!0;if(1===s){var l=D[o][6],c=D[6][s];if(n.isNone(l)||n.isNone(c))return!1;l(t,0,Y,0),c(Y,0,J,0);var u=W*Y[0],p=W*Y[1],f=Math.sin(u),d=Math.cos(u),h=Math.sin(p),v=Math.cos(p),y=r;return y[0]=-f,y[4]=-h*d,y[8]=v*d,y[12]=J[0],y[1]=d,y[5]=-h*f,y[9]=v*f,y[13]=J[1],y[2]=0,y[6]=v,y[10]=h,y[14]=J[2],y[3]=0,y[7]=0,y[11]=0,y[15]=1,!0}if(3===s&&(2===o||1===o)){if(n.isNone(l=D[o][6]))return!1;l(t,0,Y,0);var m=W*Y[1];M(Y,0,J,0),a.mat4.identity(r),a.mat4.translate(r,r,J);var g=1/Math.cos(m);return a.mat4.scale(r,r,[g,g,1]),!0}return!1},t.transformDirection=function(e,t,r,n,i){o.vec3.copy(K,e),o.vec3.add(X,e,t),b(K,r,K,i),b(X,r,X,i),o.vec3.subtract(n,X,K),o.vec3.normalize(n,n)},t.mbsToMbs=function(e,t,r,i){var a=U(t,i,V);if(a.projector===I)return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],!0;if(n.isNone(a.projector))return!1;var o=a.source,s=a.dest;if(3===s.spatialReferenceId){var l=D[o.spatialReferenceId][2];if(n.isNone(l))return!1;l(e,0,Y,0);var c=Math.abs(W*Y[1])+Math.asin(e[3]/(u.earthRadius+e[2]));if(M(Y,0,r,0),c>.9999*Math.PI)r[3]=Number.MAX_VALUE;else{var p=1/Math.cos(c);r[3]=p*e[3]}return!0}return a.projector(e,0,r,0),r[3]=e[3]*o.metersPerUnit/s.metersPerUnit,!0},t.boundingRectToBoundingRect=function(e,t,r,n){return!(null==e||(t.equals(n)?(c.set(r,e),0):(H[0]=e[0],H[1]=e[1],H[2]=0,!w(H,t,0,H,n,0,1)||(r[0]=H[0],r[1]=H[1],H[0]=e[2],H[1]=e[3],H[2]=0,!w(H,t,0,H,n,0,1)||(r[2]=H[0],r[3]=H[1],0)))))},function(e){e.x2lon=function(e){return e/u.earthRadius},e.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-1*e/u.earthRadius))},e.lon2x=function(e){return e*u.earthRadius},e.lat2y=function(e){var t=Math.sin(e);return u.earthRadius/2*Math.log((1+t)/(1-t))}}(t.webMercator||(t.webMercator={})),t.canProjectToWGS84ComparableLonLat=function(e){var t=x(e,F);return!!D[t][6]},t.vectorToWGS84ComparableLonLat=function(e,t,r){var i=x(t,F),a=D[i][6];return!n.isNone(a)&&(a(e,0,H,0),r!==H&&(r[0]=H[0],r[1]=H[1],r.length>2&&(r[2]=H[2])),!0)},t.wgs84ComparableLonLatToECEF=function(e,t,r,n){void 0===n&&(n=0);var i=u.earthRadius+n,a=Math.cos(r);e[0]=Math.cos(t)*a*i,e[1]=Math.sin(t)*a*i,e[2]=Math.sin(r)*i};var D=((f={})[2]=((d={})[5]=null,d[6]=I,d[1]=O,d[0]=null,d[3]=M,d[2]=I,d[4]=R,d),f[5]=((h={})[5]=I,h[6]=I,h[1]=O,h[0]=null,h[3]=null,h[2]=null,h[4]=R,h),f[3]=((v={})[5]=null,v[6]=T,v[1]=S,v[0]=null,v[3]=I,v[2]=T,v[4]=E,v),f[4]=((y={})[5]=A,y[6]=A,y[1]=L,y[0]=null,y[3]=G,y[2]=A,y[4]=I,y),f[1]=((m={})[5]=j,m[6]=j,m[1]=I,m[0]=null,m[3]=N,m[2]=j,m[4]=P,m),f[0]=((g={})[5]=null,g[6]=null,g[1]=null,g[0]=I,g[3]=null,g[2]=null,g[4]=null,g),f[6]=((_={})[5]=null,_[6]=I,_[1]=O,_[0]=null,_[3]=null,_[2]=I,_[4]=R,_),f);function C(e,t,r){return void 0===r&&(r=k()),U(e,t,r).projector}function U(e,t,r){if(r.source.spatialReference===e&&r.dest.spatialReference===t)return r;var n=x(e,r.source),i=x(t,r.dest);return r.projector=0===n&&0===i?e.equals(t)?I:null:D[n][i],r}function k(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:I}}t.getProjector=C;var F={spatialReference:null,spatialReferenceId:0},z={spatialReference:null,spatialReferenceId:0},B=k(),V=k(),W=r.deg2rad(1),q=r.rad2deg(1),H=s.vec3f64.create(),Y=s.vec3f64.create(),J=s.vec3f64.create(),K=s.vec3f64.create(),X=s.vec3f64.create()}).apply(null,n))||(e.exports=i)},mnow:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("ma1f"),r("8uEs"),r("wIC5"),r("nrlZ"),r("vtMp")],void 0===(i=(function(e,t,r,n,i,a,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeProjectedScales=t.snapPyramid=t.getProjectionOffsetGrid=t.projectExtent=t.projectPoint=t.projectResolution=t.load=t.defaultGridSpacing=void 0;var c=function(e,t){var r=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||r)};function u(e,t,r,a){if(void 0===a&&(a=null),e.spatialReference.equals(t))return e;var s=c(e.spatialReference,t);if(s&&!o.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");var u=r.center,p=new n.Extent({xmin:u.x-e.x/2,xmax:u.x+e.x/2,ymin:u.y-e.y/2,ymax:u.y+e.y/2,spatialReference:e.spatialReference}),f=s?o.project(p,t,a):l.project(p,t);return null==f?null:{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function p(e,t){return void 0===t&&(t=.01),a.getMetersPerUnitForSR(e)?t/a.getMetersPerUnitForSR(e):0}function f(e,t,r,n){var a,u;void 0===r&&(r=null),void 0===n&&(n=!0);var f=e.spatialReference;if(f.equals(t))return e;var d=c(f,t);if(d&&!o.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");var h=d?o.project(e,t,r):l.project(e,t);if(h&&n&&t.isGeographic){var v=f.isWebMercator?s.getInfo(f).origin:null!==(u=null===(a=s.getInfo(f))||void 0===a?void 0:a.valid)&&void 0!==u?u:[],y=v[0],m=v[1],g=p(f);g&&null!=y&&null!=m&&(Math.abs(e.x-y)<g&&Math.abs(180-h.x)<5e-4?h.x-=360:Math.abs(e.x-m)<g&&Math.abs(180+h.x)<5e-4&&(h.x+=360))}return h}function d(e,t,r,a){var u,d,h,v,y;void 0===r&&(r=null),void 0===a&&(a=!0);var m=e.spatialReference;if(m.equals(t))return e;var g=c(m,t);if(g&&!o.isLoaded())throw new i("rasterprojectionhelper-projectExtent","projection engine is not loaded");var _=g?o.project(e,t,r):l.project(e,t),b=null!==(h=null===(d=s.getInfo(m))||void 0===d?void 0:d.origin)&&void 0!==h?h:[],w=b[0],x=b[1];if(_&&a&&m.isWebMercator&&t.isGeographic&&null!=w&&null!=x){if(Math.abs(e.xmin-w)<.001&&Math.abs(x-e.xmax)>1e3&&Math.abs(180-_.xmax)<5e-4){_.xmin=-180,(T=[]).push(new n.Point(e.xmax,e.ymin,m)),T.push(new n.Point(e.xmax,(e.ymin+e.ymax)/2,m)),T.push(new n.Point(e.xmax,e.ymax,m));var I=T.map((function(e){return f(e,t,r)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x}));_.xmax=Math.max.apply(null,I)}var T;Math.abs(e.xmax-x)<.001&&Math.abs(w-e.xmin)>1e3&&Math.abs(180+_.xmin)<5e-4&&(_.xmax=180,(T=[]).push(new n.Point(e.xmin,e.ymin,m)),T.push(new n.Point(e.xmin,(e.ymin+e.ymax)/2,m)),T.push(new n.Point(e.xmin,e.ymax,m)),I=T.map((function(e){return f(e,t,r)})).filter((function(e){return!isNaN(null==e?void 0:e.x)})).map((function(e){return e.x})),_.xmin=Math.min.apply(null,I))}w=(u=t.isWebMercator?s.getInfo(t).origin:null!==(y=null===(v=s.getInfo(t))||void 0===v?void 0:v.valid)&&void 0!==y?y:[])[0],x=u[1];var S=p(t);return S&&null!=w&&null!=x&&(Math.abs(_.xmin-w)<S&&(_.xmin=w),Math.abs(_.xmax-x)<S&&(_.xmax=x)),_}t.defaultGridSpacing=32,t.load=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return o.isLoaded()||!o.isSupported()?[2,null]:[4,o.load()];case 1:return e.sent(),[2]}}))}))},t.projectResolution=u,t.projectPoint=f,t.projectExtent=d,t.getProjectionOffsetGrid=function(e,r,a,l,u,p){var d,h;if(void 0===l&&(l=null),void 0===u&&(u=!1),void 0===p&&(p=[t.defaultGridSpacing,t.defaultGridSpacing]),c(e.spatialReference,r.spatialReference)&&!o.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(e&&r&&a))return null;for(var v,y,m=e.xmin,g=e.ymin,_=e.xmax,b=e.ymax,w=e.spatialReference,x=r.spatialReference,I=null!==(h=null===(d=s.getInfo(w))||void 0===d?void 0:d.valid)&&void 0!==h?h:[],T=I[0],S=I[1],E={x:p[0]*a.x,y:p[1]*a.y},M={cols:Math.ceil((_-m)/E.x-.1)+1,rows:Math.ceil((b-g)/E.y-.1)+1},O=E.x,j=E.y,N=[],P=!1,R=0;R<M.cols;R++){for(var A=[],L=0;L<M.rows;L++)v=f(new n.Point({x:m+O*R,y:b-j*L,spatialReference:w}),x,l),A.push(v),R>0&&u&&v&&y[L]&&null!=T&&v.x<y[L].x&&(v.x+=S-T),v?(N.push((v.x-r.xmin)/(r.xmax-r.xmin)),N.push((r.ymax-v.y)/(r.ymax-r.ymin))):(N.push(NaN),N.push(NaN),P=!0);y=A}var G=function(e,t){var r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs((e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4-e[2*t.rows+2]),Math.abs(r-e[2*t.rows+3])]}(N,M),D=new Float32Array((M.cols-1)*(M.rows-1)*2*6),C=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),U=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(R=0;R<M.cols-1;R++){for(L=0;L<M.rows-1;L++){for(var k=R*M.rows*2+2*L,F=N[k],z=N[k+1],B=N[k+2],V=N[k+3],W=N[k+=2*M.rows],q=N[k+1],H=N[k+2],Y=N[k+3],J=0,K=12*(L*(M.cols-1)+R),X=0;X<3;X++)D[K++]=C[J++]*F+C[J++]*B+C[J++]*H;for(J=0,X=0;X<3;X++)D[K++]=C[J++]*z+C[J++]*V+C[J++]*Y;for(J=0,X=0;X<3;X++)D[K++]=U[J++]*F+U[J++]*W+U[J++]*H;for(J=0,X=0;X<3;X++)D[K++]=U[J++]*z+U[J++]*q+U[J++]*Y}if(P)for(var Z=0;Z<D.length;Z++)isNaN(D[Z])&&(D[Z]=-1)}return{offsets:N,error:G,coefficients:D,spacing:p,size:[M.cols-1,M.rows-1]}},t.snapPyramid=function(e,t,r){var i=Math.log(e.x/t.pixelSize.x)/Math.LN2,a=Math.log(e.y/t.pixelSize.y)/Math.LN2,o=t.storageInfo.maximumPyramidLevel||0,s="down"===r?Math.floor(Math.min(i,a)):"up"===r?Math.ceil(Math.max(i,a)):Math.round((i+a)/2),l=!1;s<0?s=0:s>o&&(l=s>o+3,s=o);var c=Math.pow(2,s);return{pyramidLevel:s,pyramidResolution:new n.Point({x:c*t.pixelSize.x,y:c*t.pixelSize.y,spatialReference:t.spatialReference}),excessiveReading:l}},t.computeProjectedScales=function(e,t,r,i){void 0===r&&(r=512),void 0===i&&(i=!0);var o=e.extent,s=e.spatialReference,l=e.pixelSize,c=u(new n.Point({x:l.x,y:l.y,spatialReference:s}),t,o);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null};var p=(c.x+c.y)/2,f=a.getMetersPerUnitForSR(t),h=p*f*96*39.37,v=t.isGeographic?512/r*295828763.7958547:512/r*591657527.591555,y=!1;if(i&&(t.isGeographic||t.isWebMercator)){var m=d(o,t);y=m.xmin*m.xmax<0}var g,_=h;if(y){var b=(_=v)/(96*f*39.37);g=u(new n.Point({x:b,y:b,spatialReference:t}),s,o)}else{g={x:l.x,y:l.y};for(var w=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),x=0;_<.5005*v&&x<w;)x++,_*=2,g.x*=2,g.y*=2;Math.max(_,v)/Math.min(_,v)<=1.001&&(_=v)}for(var I=[],T=[],S=Math.min(70.5310735,h)/1.001;_>=S;)I.push(_),T.push({x:g.x,y:g.y}),_/=2,g.x/=2,g.y/=2;return{projectedPixelSize:c,scales:I,srcResolutions:T}}}).apply(null,n))||(e.exports=i)},soIt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qMld"),r("Cobz"),r("f3JK")],void 0===(i=(function(e,t,r,n,i){"use strict";return function(){function e(e){if(e instanceof n.TilemapCache)this._tilemapCache=e;else{if(!e||!("index"in e))throw new Error("Invalid tilemap!");this._tilemap=e.index}}return e.prototype.dataKey=function(e,t){if(this._tilemapCache){var n=e.level,a=e.row,o=e.col,s=new i(e);return this._tilemapCache.fetchAvailabilityUpsample(n,a,o,s,t).then((function(){return s})).catch((function(e){if(r.isAbortError(e))throw e;return null}))}return this._getIndexedDataKey(e)},e.prototype.forEach=function(e,t,r,n,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,r,n)},e.prototype._forEach=function(e,t,r,n){0!==e&&(this._callback(t,r,n),t!==this._maxLevel&&"object"==typeof e&&(this._forEach(e[0],t+1,2*r,2*n),this._forEach(e[1],t+1,2*r,2*n+1),this._forEach(e[2],t+1,2*r+1,2*n),this._forEach(e[3],t+1,2*r+1,2*n+1)))},e.prototype._getIndexedDataKey=function(e){var t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return r.resolve(null);for(var n=e;0!==n.level;)n=new i(n.level-1,n.row>>1,n.col>>1,n.world),t.push(n);var a,o,s=this._tilemap,l=t.pop();if(1===s)return r.resolve(l);for(;t.length;)if(o=(1&(a=t.pop()).col)+((1&a.row)<<1),s){if(0===s[o]){l=null;break}if(1===s[o]){l=a;break}l=a,s=s[o]}return r.resolve(l)},e}()}).apply(null,n))||(e.exports=i)},tNTp:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("vFDJ"),r("H9Hv")],void 0===(i=(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geodesicLength=t.geodesicArea=t.planarLength=t.planarArea=t.geodesicDensify=t.densify=t.generalize=t.flipVertical=t.flipHorizontal=t.rotate=t.nearestVertices=t.nearestVertex=t.nearestCoordinate=t.geodesicBuffer=t.buffer=t.offset=t.union=t.intersect=t.symmetricDifference=t.difference=t.convexHull=t.simplify=t.isSimple=t.relate=t.overlaps=t.disjoint=t.within=t.touches=t.intersects=t.equals=t.distance=t.crosses=t.contains=t.cut=t.clip=t.extendedSpatialReferenceInfo=void 0,t.extendedSpatialReferenceInfo=function(e){return r.extendedSpatialReferenceInfo(e)},t.clip=function(e,t,i){return r.clip(n.jsonAdapter,e,t,i)},t.cut=function(e,t,i){return r.cut(n.jsonAdapter,e,t,i)},t.contains=function(e,t,i){return r.contains(n.jsonAdapter,e,t,i)},t.crosses=function(e,t,i){return r.crosses(n.jsonAdapter,e,t,i)},t.distance=function(e,t,i,a){return r.distance(n.jsonAdapter,e,t,i,a)},t.equals=function(e,t,i){return r.equals(n.jsonAdapter,e,t,i)},t.intersects=function(e,t,i){return r.intersects(n.jsonAdapter,e,t,i)},t.touches=function(e,t,i){return r.touches(n.jsonAdapter,e,t,i)},t.within=function(e,t,i){return r.within(n.jsonAdapter,e,t,i)},t.disjoint=function(e,t,i){return r.disjoint(n.jsonAdapter,e,t,i)},t.overlaps=function(e,t,i){return r.overlaps(n.jsonAdapter,e,t,i)},t.relate=function(e,t,i,a){return r.relate(n.jsonAdapter,e,t,i,a)},t.isSimple=function(e,t){return r.isSimple(n.jsonAdapter,e,t)},t.simplify=function(e,t){return r.simplify(n.jsonAdapter,e,t)},t.convexHull=function(e,t,i){return void 0===i&&(i=!1),r.convexHull(n.jsonAdapter,e,t,i)},t.difference=function(e,t,i){return r.difference(n.jsonAdapter,e,t,i)},t.symmetricDifference=function(e,t,i){return r.symmetricDifference(n.jsonAdapter,e,t,i)},t.intersect=function(e,t,i){return r.intersect(n.jsonAdapter,e,t,i)},t.union=function(e,t,i){return void 0===i&&(i=null),r.union(n.jsonAdapter,e,t,i)},t.offset=function(e,t,i,a,o,s,l){return r.offset(n.jsonAdapter,e,t,i,a,o,s,l)},t.buffer=function(e,t,i,a,o){return void 0===o&&(o=!1),r.buffer(n.jsonAdapter,e,t,i,a,o)},t.geodesicBuffer=function(e,t,i,a,o,s,l){return r.geodesicBuffer(n.jsonAdapter,e,t,i,a,o,s,l)},t.nearestCoordinate=function(e,t,i,a){return void 0===a&&(a=!0),r.nearestCoordinate(n.jsonAdapter,e,t,i,a)},t.nearestVertex=function(e,t,i){return r.nearestVertex(n.jsonAdapter,e,t,i)},t.nearestVertices=function(e,t,i,a,o){return r.nearestVertices(n.jsonAdapter,e,t,i,a,o)},t.rotate=function(e,t,n,i){if(null==t||null==i)throw new Error("Illegal Argument Exception");var a=r.rotate(t,n,i);return a.spatialReference=e,a},t.flipHorizontal=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipHorizontal(t,n);return i.spatialReference=e,i},t.flipVertical=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipVertical(t,n);return i.spatialReference=e,i},t.generalize=function(e,t,i,a,o){return r.generalize(n.jsonAdapter,e,t,i,a,o)},t.densify=function(e,t,i,a){return r.densify(n.jsonAdapter,e,t,i,a)},t.geodesicDensify=function(e,t,i,a,o){return void 0===o&&(o=0),r.geodesicDensify(n.jsonAdapter,e,t,i,a,o)},t.planarArea=function(e,t,i){return r.planarArea(n.jsonAdapter,e,t,i)},t.planarLength=function(e,t,i){return r.planarLength(n.jsonAdapter,e,t,i)},t.geodesicArea=function(e,t,i,a){return r.geodesicArea(n.jsonAdapter,e,t,i,a)},t.geodesicLength=function(e,t,i,a){return r.geodesicLength(n.jsonAdapter,e,t,i,a)}}).apply(null,n))||(e.exports=i)},uLAD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("LxLY"),r("qMld"),r("FayN"),r("QmTF"),r("WYOF")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,c){"use strict";function u(e){switch(e.type){case"Map Service":return function(e){return function(e){return y(e.url).then((function(e){return e.tileInfo}))}(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return f(e).then((function(e){if("object"==typeof e){var t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,e.load()];case 1:return t.sent(),c.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:c.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return 1===v(t.sent())?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return f(e).then((function(t){if("object"==typeof t){var r={},n=void 0;if(null!=t.id?(r.layerId=t.id,n=e.url+"/layers/"+t.id):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var i={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];if(-1!==e.typeKeywords.indexOf(s))return{className:i[s]}}return y(n).then((function(e){var t="SceneLayer",n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(t=n[e.layerType]),{className:t,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){var t,n,i;return r.__awaiter(this,void 0,void 0,(function(){var a,o,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),(a=null!==(n=null===(t=e.typeKeywords)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})))&&void 0!==n?n:[]).indexOf("elevation 3d layer")>-1?[2,{className:"ElevationLayer"}]:a.indexOf("tiled imagery")>-1?[2,{className:"ImageryTileLayer"}]:[4,e.fetchData()];case 2:return o=r.sent(),"ArcGISTiledImageServiceLayer"===(s=null==o?void 0:o.layerType)?[2,{className:"ImageryTileLayer"}]:"ArcGISImageServiceLayer"===s?[2,{className:"ImageryLayer"}]:[4,y(e.url)];case 3:return l=r.sent(),"map"===(null===(i=l.cacheType)||void 0===i?void 0:i.toLowerCase())?[2,{className:"ImageryTileLayer"}]:[2,{className:"ImageryLayer"}]}}))}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return o.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function p(e){return(0,s.layerLookupMap[e.className])().then((function(t){return{constructor:t,properties:e.properties}}))}function f(e){return!e.url||e.url.match(/\/\d+$/)?o.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(t){return v(t)>0?d(t):y(e.url).then(d)}))}function d(e){return 1===v(e)&&{id:a.unwrap(h(e))}}function h(e){var t=e.layers;if(t&&t.length)return t[0].id;var r=e.tables;return r&&r.length?r[0].id:null}function v(e){var t,r,n,i;return(null!==(r=null===(t=null==e?void 0:e.layers)||void 0===t?void 0:t.length)&&void 0!==r?r:0)+(null!==(i=null===(n=null==e?void 0:e.tables)||void 0===n?void 0:n.length)&&void 0!==i?i:0)}function y(e){return n(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(t,"__esModule",{value:!0}),t.selectLayerClassPath=t.fromItem=void 0,t.fromItem=function(e){return!e.portalItem||e.portalItem instanceof l||(e=r.__assign(r.__assign({},e),{portalItem:new l(e.portalItem)})),(t=e.portalItem,t.load().then(u).then(p)).then((function(t){var n=r.__assign({portalItem:e.portalItem},t.properties);return o.resolve(new(0,t.constructor)(n))}));var t},t.selectLayerClassPath=u}).apply(null,n))||(e.exports=i)},xojL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("KY0m"),r("ma1f"),r("rg9i")],void 0===(i=(function(e,t,r,n,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tilemapDefinitionUrl=t.tilemapDefinitionId=t.Tilemap=void 0;var s=function(){function e(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return e.prototype.getAvailability=function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var r=(e-this.location.top)*this.location.width+(t-this.location.left),n=r>>3,i=this._tileAvailabilityBitSet;return n<0||n>i.length?"unknown":i[n]&1<<r%8?"available":"unavailable"},e.prototype._updateFromData=function(e){for(var t=!0,r=!0,n=Math.ceil(this.location.width*this.location.height/8),i=new Uint8Array(n),a=0,o=0;o<e.length;o++){var s=o%8;e[o]?(r=!1,i[a]|=1<<s):t=!1,7===s&&++a}r?this._allAvailability="unavailable":t?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=i,this.byteSize+=i.length)},e.fromDefinition=function(t,o){var s=t.service.request||n,c=t.row,u=t.col,p=t.width,f=t.height,d={query:{f:"json"}};return o=o?r.__assign(r.__assign({},d),o):d,s(l(t),o).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:c,left:u,width:p,height:f},valid:!0,data:i.constant(p*f,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==c||t.location.left!==u||t.location.width!==p||t.location.height!==f))throw new a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:c,left:u,width:p,height:f}});return e.fromJSON(t)}))},e.fromJSON=function(t){e.validateJSON(t);var r=new e;return r.location=Object.freeze(o.clone(t.location)),r._updateFromData(t.data),Object.freeze(r)},e.validateJSON=function(e){if(!e||!e.location)throw new a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")},e}();function l(e){var t;if("vector-tile"===e.service.type)t=e.service.url+"/tilemap/"+e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height;else{var r=e.service.tileServers;t=(r&&r.length?r[e.row%r.length]:e.service.url)+"/tilemap/"+e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height}var n=e.service.query;return n&&(t=t+"?"+n),t}t.Tilemap=s,t.tilemapDefinitionId=function(e){return e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height},t.tilemapDefinitionUrl=l,t.default=s}).apply(null,n))||(e.exports=i)},xuSL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("vIqy"),r("FPqO")],void 0===(i=(function(e,t,r,n,i,a){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.url=null,r}return r.__extends(t,e),t.prototype.areasAndLengths=function(e,t){return i.areasAndLengths(this.url,e,t)},t.prototype.autoComplete=function(e,t,r){return i.autoComplete(this.url,e,t,r)},t.prototype.buffer=function(e,t){return i.buffer(this.url,e,t)},t.prototype.convexHull=function(e,t){return i.convexHull(this.url,e,t)},t.prototype.cut=function(e,t,r){return i.cut(this.url,e,t,r)},t.prototype.densify=function(e,t){return i.densify(this.url,e,t)},t.prototype.difference=function(e,t,r){return i.difference(this.url,e,t,r)},t.prototype.distance=function(e,t){return i.distance(this.url,e,t)},t.prototype.fromGeoCoordinateString=function(e,t){return i.fromGeoCoordinateString(this.url,e,t)},t.prototype.generalize=function(e,t){return i.generalize(this.url,e,t)},t.prototype.intersect=function(e,t,r){return i.intersect(this.url,e,t,r)},t.prototype.labelPoints=function(e,t){return i.labelPoints(this.url,e,t)},t.prototype.lengths=function(e,t){return i.lengths(this.url,e,t)},t.prototype.offset=function(e,t){return i.offset(this.url,e,t)},t.prototype.project=function(e,t){return i.project(this.url,e,t)},t.prototype.relation=function(e,t){return i.relation(this.url,e,t)},t.prototype.reshape=function(e,t,r){return i.reshape(this.url,e,t,r)},t.prototype.simplify=function(e,t){return i.simplify(this.url,e,t)},t.prototype.toGeoCoordinateString=function(e,t){return i.toGeoCoordinateString(this.url,e,t)},t.prototype.trimExtend=function(e,t){return i.trimExtend(this.url,e,t)},t.prototype.union=function(e,t){return i.union(this.url,e,t)},t.UNIT_METER=9001,t.UNIT_GERMAN_METER=9031,t.UNIT_FOOT=9002,t.UNIT_SURVEY_FOOT=9003,t.UNIT_CLARKE_FOOT=9005,t.UNIT_FATHOM=9014,t.UNIT_NAUTICAL_MILE=9030,t.UNIT_SURVEY_CHAIN=9033,t.UNIT_SURVEY_LINK=9034,t.UNIT_SURVEY_MILE=9035,t.UNIT_KILOMETER=9036,t.UNIT_CLARKE_YARD=9037,t.UNIT_CLARKE_CHAIN=9038,t.UNIT_CLARKE_LINK=9039,t.UNIT_SEARS_YARD=9040,t.UNIT_SEARS_FOOT=9041,t.UNIT_SEARS_CHAIN=9042,t.UNIT_SEARS_LINK=9043,t.UNIT_BENOIT_1895A_YARD=9050,t.UNIT_BENOIT_1895A_FOOT=9051,t.UNIT_BENOIT_1895A_CHAIN=9052,t.UNIT_BENOIT_1895A_LINK=9053,t.UNIT_BENOIT_1895B_YARD=9060,t.UNIT_BENOIT_1895B_FOOT=9061,t.UNIT_BENOIT_1895B_CHAIN=9062,t.UNIT_BENOIT_1895B_LINK=9063,t.UNIT_INDIAN_FOOT=9080,t.UNIT_INDIAN_1937_FOOT=9081,t.UNIT_INDIAN_1962_FOOT=9082,t.UNIT_INDIAN_1975_FOOT=9083,t.UNIT_INDIAN_YARD=9084,t.UNIT_INDIAN_1937_YARD=9085,t.UNIT_INDIAN_1962_YARD=9086,t.UNIT_INDIAN_1975_YARD=9087,t.UNIT_FOOT_1865=9070,t.UNIT_RADIAN=9101,t.UNIT_DEGREE=9102,t.UNIT_ARCMINUTE=9103,t.UNIT_ARCSECOND=9104,t.UNIT_GRAD=9105,t.UNIT_GON=9106,t.UNIT_MICRORADIAN=9109,t.UNIT_ARCMINUTE_CENTESIMAL=9112,t.UNIT_ARCSECOND_CENTESIMAL=9113,t.UNIT_MIL6400=9114,t.UNIT_BRITISH_1936_FOOT=9095,t.UNIT_GOLDCOAST_FOOT=9094,t.UNIT_INTERNATIONAL_CHAIN=109003,t.UNIT_INTERNATIONAL_LINK=109004,t.UNIT_INTERNATIONAL_YARD=109001,t.UNIT_STATUTE_MILE=9093,t.UNIT_SURVEY_YARD=109002,t.UNIT_50KILOMETER_LENGTH=109030,t.UNIT_150KILOMETER_LENGTH=109031,t.UNIT_DECIMETER=109005,t.UNIT_CENTIMETER=109006,t.UNIT_MILLIMETER=109007,t.UNIT_INTERNATIONAL_INCH=109008,t.UNIT_US_SURVEY_INCH=109009,t.UNIT_INTERNATIONAL_ROD=109010,t.UNIT_US_SURVEY_ROD=109011,t.UNIT_US_NAUTICAL_MILE=109012,t.UNIT_UK_NAUTICAL_MILE=109013,t.UNIT_SQUARE_INCHES="esriSquareInches",t.UNIT_SQUARE_FEET="esriSquareFeet",t.UNIT_SQUARE_YARDS="esriSquareYards",t.UNIT_ACRES="esriAcres",t.UNIT_SQUARE_MILES="esriSquareMiles",t.UNIT_SQUARE_MILLIMETERS="esriSquareMillimeters",t.UNIT_SQUARE_CENTIMETERS="esriSquareCentimeters",t.UNIT_SQUARE_DECIMETERS="esriSquareDecimeters",t.UNIT_SQUARE_METERS="esriSquareMeters",t.UNIT_ARES="esriAres",t.UNIT_HECTARES="esriHectares",t.UNIT_SQUARE_KILOMETERS="esriSquareKilometers",r.__decorate([n.property()],t.prototype,"url",void 0),r.__decorate([n.subclass("esri.tasks.GeometryService")],t)}(a)}).apply(null,n))||(e.exports=i)},zBTX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("rg9i"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WMTSLayerInfo=void 0;var o=function(e){function t(t){return e.call(this,t)||this}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({customLayerParameters:i.clone(this.customLayerParameters),customParameters:i.clone(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})},r.__decorate([a.property({json:{type:Object,write:!0}})],t.prototype,"customLayerParameters",void 0),r.__decorate([a.property({json:{type:Object,write:!0}})],t.prototype,"customParameters",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"layerIdentifier",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"tileMatrixSet",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"url",void 0),n=r.__decorate([a.subclass("esri.layer.support.WMTSLayerInfo")],t)}(n.JSONSupport);t.WMTSLayerInfo=o,t.default=o}).apply(null,n))||(e.exports=i)}}]);