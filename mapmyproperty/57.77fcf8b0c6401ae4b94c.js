(function(){var e={"esri/layers/support/AggregateField":"6huW","esri/layers/support/OutStatistic":"DS8v","esri/layers/support/FeatureReductionCluster":"Nskv","esri/renderers/support/styleUtils":"PhdM","esri/layers/StreamLayer":"QiYT","esri/layers/support/labelingInfo":"UN5d","esri/layers/support/PurgeOptions":"X9V+","esri/layers/support/featureReductionUtils":"Zb3b","esri/layers/support/FeatureReduction":"aWt5","esri/layers/support/FeatureReductionSelection":"fQaS"},t=this||window,r=t.webpackJsonp=t.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(e):(r.absMidsWaiting=r.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"6huW":function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27"),r("DS8v")],void 0===(i=(function(e,t,r,o,i,n){"use strict";return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name=null,t}var o;return r.__extends(t,e),o=t,t.prototype.clone=function(){return new o({name:this.name,outStatistic:this.outStatistic.clone()})},r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"name",void 0),r.__decorate([i.property({type:n,json:{write:!0}})],t.prototype,"outStatistic",void 0),o=r.__decorate([i.subclass("esri.layers.support.AggregateField")],t)}(o.JSONSupport)}).apply(null,o))||(e.exports=i)},DS8v:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,o,i){"use strict";return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.statisticType=null,t.onStatisticField=null,t.onStatisticValueExpression=null,t}var o;return r.__extends(t,e),o=t,t.prototype.clone=function(){return new o({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})},r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"statisticType",void 0),r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"onStatisticField",void 0),r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"onStatisticValueExpression",void 0),o=r.__decorate([i.subclass("esri.layers.support.OutStatistic")],t)}(o.JSONSupport)}).apply(null,o))||(e.exports=i)},Nskv:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("ifLZ"),r("ycL1"),r("rg9i"),r("jBNx"),r("Vx27"),r("6huW"),r("EtsK"),r("5WBt")],void 0===(i=(function(e,t,r,o,i,n,p,a,s,l,u){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.type="cluster",r.clusterRadius=p.toPt("80px"),r.clusterMinSize=p.toPt("12px"),r.clusterMaxSize=p.toPt("50px"),r.popupEnabled=!0,r.popupTemplate=null,r.labelingInfo=null,r.labelsVisible=!0,r.fields=null,r}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:n.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:n.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:n.clone(this.popupTemplate)})},r.__decorate([a.property({type:["cluster"],readOnly:!0,json:{write:!0}})],t.prototype,"type",void 0),r.__decorate([a.property({type:Number,cast:function(e){return"auto"===e?e:p.toPt(e)},json:{write:!0}})],t.prototype,"clusterRadius",void 0),r.__decorate([a.property({type:Number,cast:p.toPt,json:{write:!0}})],t.prototype,"clusterMinSize",void 0),r.__decorate([a.property({type:Number,cast:p.toPt,json:{write:!0}})],t.prototype,"clusterMaxSize",void 0),r.__decorate([a.property(l.popupEnabled)],t.prototype,"popupEnabled",void 0),r.__decorate([a.property({type:o,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],t.prototype,"popupTemplate",void 0),r.__decorate([a.property({type:[u],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],t.prototype,"labelingInfo",void 0),r.__decorate([a.property(l.labelsVisible)],t.prototype,"labelsVisible",void 0),r.__decorate([a.property({type:[s],json:{write:!0}})],t.prototype,"fields",void 0),i=r.__decorate([a.subclass("esri.layers.support.FeatureReductionCluster")],t)}(i.JSONSupport)}).apply(null,o))||(e.exports=i)},PhdM:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("WYKK"),r("qMld"),r("V2ZO")],void 0===(i=(function(e,t,r,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadStyleRenderer=void 0,t.loadStyleRenderer=function(e,t,p){return r.__awaiter(this,void 0,void 0,(function(){var a,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return(a=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin))&&"unique-value"===a.type&&a.styleOrigin?[4,o.result(a.populateFromStyle())]:[3,2];case 1:s=r.sent(),i.throwIfAborted(p),!1===s.ok&&(l=s.error,t&&t.messages&&t.messages.push(new n("renderer:style-reference","Failed to create unique value renderer from style reference: "+l.message,{error:l,context:t})),e.clear("renderer",t.origin)),r.label=2;case 2:return[2]}}))}))}}).apply(null,o))||(e.exports=i)},QiYT:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("ifLZ"),r("OXG3"),r("zp6E"),r("+AWJ"),r("ma1f"),r("J3YA"),r("ImIS"),r("qsST"),r("LxLY"),r("EUqE"),r("qMld"),r("Vx27"),r("1dvD"),r("dHMY"),r("0RER"),r("2fnV"),r("Pnm5"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("c/mu"),r("EtsK"),r("Zb3b"),r("KQcO"),r("I90O"),r("k7g7"),r("k7g7"),r("5WBt"),r("UN5d"),r("X9V+"),r("hz/Y"),r("PhdM"),r("begh"),r("5ldw"),r("IpeC")],void 0===(i=(function(e,t,r,o,i,n,p,a,s,l,u,d,c,y,f,_,v,b,g,h,m,w,S,R,x,I,O,j,T,F,P,E,M,N,L,V,D,z,J,W){"use strict";var k=d.getLogger("esri.layers.StreamLayer"),A=new u.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),U=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this;return i.copyright=null,i.definitionExpression=null,i.displayField=null,i.elevationInfo=null,i.featureReduction=null,i.fields=null,i.geometryDefinition=null,i.geometryType=null,i.labelsVisible=!0,i.labelingInfo=null,i.legendEnabled=!0,i.maxReconnectionAttempts=0,i.maxReconnectionInterval=20,i.objectIdField=null,i.operationalLayerType="ArcGISStreamLayer",i.popupEnabled=!0,i.popupTemplate=null,i.purgeOptions=new L,i.screenSizePerspectiveEnabled=!0,i.sourceJSON=null,i.spatialReference=o.SpatialReference.WGS84,i.type="stream",i.url=null,i.webSocketUrl=null,i}return r.__extends(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?r.__assign({url:e},t):e},t.prototype.load=function(e){var t=this;"WebSocket"in l||f.reject(new s("stream-layer:websocket-unsupported","WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service."));var r=c.isSome(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Stream Service"]},e).catch((function(e){return e})).then((function(){return t._fetchService(r)}))),f.resolve(this)},Object.defineProperty(t.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!1,configurable:!0}),t.prototype.readFeatureReduction=function(e,t){return j.read(e,t)},t.prototype.writeWebSceneFeatureReduction=function(e,t,r,o){j.writeTarget(e,t,"layerDefinition.featureReduction",o)},Object.defineProperty(t.prototype,"fieldsIndex",{get:function(){return new F(this.fields)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{set:function(e){P.fixRendererFields(e,this.fields),this._set("renderer",e)},enumerable:!1,configurable:!0}),t.prototype.readRenderer=function(e,t,r){var o=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(o){var i=V.read(o,t,r)||void 0;return i||k.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new n.UniqueValueRenderer({defaultSymbol:C(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:C(e.symbol,e,r)}}))}):new n.SimpleRenderer({symbol:C(t.defaultSymbol,t,r)})},t.prototype.writeRenderer=function(e,t,r,o){V.write(e,t,r,o)},t.prototype.writeWebSceneRenderer=function(e,t,r,o){V.write(e,t,"layerDefinition.drawingInfo.renderer",o)},t.prototype.createPopupTemplate=function(e){return z.createPopupTemplate(this,e)},t.prototype.createQuery=function(){var e=new W;return e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1",e},t.prototype.getFieldDomain=function(e,t){if(!this.fields)return null;var r=null;return this.fields.some((function(t){return t.name===e&&(r=t.domain),!!r})),r},t.prototype.getField=function(e){return this.fieldsIndex.get(e)},t.prototype._fetchService=function(e){var t,o;return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(n){switch(n.label){case 0:return this.webSocketUrl?[3,3]:this.sourceJSON?[3,2]:[4,p(this.parsedUrl.path,{query:r.__assign({f:"json"},this.parsedUrl.query),responseType:"json",signal:e})];case 1:i=n.sent().data,this.sourceJSON=i,n.label=2;case 2:return[3,4];case 3:if(!(null===(t=this.timeInfo)||void 0===t?void 0:t.trackIdField))throw new s("stream-layer:missing-metadata","The stream layer trackIdField must be specified.");if(!this.objectIdField)throw new s("stream-layer:missing-metadata","The stream layer objectIdField must be specified.");if(!this.fields)throw new s("stream-layer:missing-metadata","The stream layer fields must be specified.");if(!this.geometryType)throw new s("stream-layer:missing-metadata","The stream layer geometryType must be specified.");this.url=this.webSocketUrl,n.label=4;case 4:return this.sourceJSON=r.__assign(r.__assign({},null!==(o=this.sourceJSON)&&void 0!==o?o:{}),{objectIdField:"__esri_stream_id__"}),this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}),E.fixRendererFields(this.renderer,this.fields),E.fixTimeInfoFields(this.timeInfo,this.fields),[2,D.loadStyleRenderer(this,{origin:"service"})]}}))}))},r.__decorate([_.property({type:String})],t.prototype,"copyright",void 0),r.__decorate([_.property({readOnly:!0,dependsOn:["fields","title"]})],t.prototype,"defaultPopupTemplate",null),r.__decorate([_.property({type:String})],t.prototype,"definitionExpression",void 0),r.__decorate([_.property({type:String})],t.prototype,"displayField",void 0),r.__decorate([_.property({type:J})],t.prototype,"elevationInfo",void 0),r.__decorate([_.reader("featureReduction",["layerDefinition.featureReduction"])],t.prototype,"readFeatureReduction",null),r.__decorate([_.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:j.webSceneFeatureReductionTypes}})],t.prototype,"writeWebSceneFeatureReduction",null),r.__decorate([_.property({type:[T]})],t.prototype,"fields",void 0),r.__decorate([_.property({readOnly:!0,dependsOn:["fields"]})],t.prototype,"fieldsIndex",null),r.__decorate([_.property({type:o.Extent})],t.prototype,"geometryDefinition",void 0),r.__decorate([_.property({type:["point","polygon","polyline","multipoint"],json:{read:{reader:A.read}}})],t.prototype,"geometryType",void 0),r.__decorate([_.property(O.labelsVisible)],t.prototype,"labelsVisible",void 0),r.__decorate([_.property({type:[M],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:N.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],t.prototype,"labelingInfo",void 0),r.__decorate([_.property(O.legendEnabled)],t.prototype,"legendEnabled",void 0),r.__decorate([_.property({type:["show","hide"]})],t.prototype,"listMode",void 0),r.__decorate([_.property({type:v.Integer})],t.prototype,"maxReconnectionAttempts",void 0),r.__decorate([_.property({type:v.Integer})],t.prototype,"maxReconnectionInterval",void 0),r.__decorate([_.property({type:String})],t.prototype,"objectIdField",void 0),r.__decorate([_.property({value:"ArcGISStreamLayer",type:["ArcGISStreamLayer"]})],t.prototype,"operationalLayerType",void 0),r.__decorate([_.property(O.popupEnabled)],t.prototype,"popupEnabled",void 0),r.__decorate([_.property({type:i,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],t.prototype,"popupTemplate",void 0),r.__decorate([_.property({type:L})],t.prototype,"purgeOptions",void 0),r.__decorate([_.property({types:n.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],t.prototype,"renderer",null),r.__decorate([_.reader("service","renderer",["drawingInfo.renderer","defaultSymbol","type"]),_.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol","layerDefinition.type"])],t.prototype,"readRenderer",null),r.__decorate([_.writer("renderer")],t.prototype,"writeRenderer",null),r.__decorate([_.writer("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:n.webSceneRendererTypes}})],t.prototype,"writeWebSceneRenderer",null),r.__decorate([_.property(O.screenSizePerspectiveEnabled)],t.prototype,"screenSizePerspectiveEnabled",void 0),r.__decorate([_.property({type:o.SpatialReference,json:{origins:{service:{read:{source:"spatialReference"}}}}})],t.prototype,"spatialReference",void 0),r.__decorate([_.property({json:{read:!1}})],t.prototype,"type",void 0),r.__decorate([_.property(O.url)],t.prototype,"url",void 0),r.__decorate([_.property({type:String})],t.prototype,"webSocketUrl",void 0),r.__decorate([_.subclass("esri.layers.StreamLayer")],t)}(m.BlendLayer(I.TemporalLayer(x.ScaleRangeLayer(R.RefreshableLayer(h.ArcGISService(w.OperationalLayer(S.PortalLayer(y.MultiOriginJSONMixin(g))))))))),C=b.createTypeReader({types:a.symbolTypesRenderer});return U}).apply(null,o))||(e.exports=i)},UN5d:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("5WBt")],void 0===(i=(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reader=void 0;var o=/\[([^\[\]]+)\]/gi;t.reader=function(e,t,i){var n=this;return e?e.map((function(e){var p=new r;if(p.read(e,i),p.labelExpression){var a=t.fields||t.layerDefinition&&t.layerDefinition.fields||n.fields;p.labelExpression=p.labelExpression.replace(o,(function(e,t){return"["+function(e,t){if(!t)return e;for(var r=e.toLowerCase(),o=0;o<t.length;o++){var i=t[o].name;if(i.toLowerCase()===r)return i}return e}(t,a)+"]"}))}return p})):null}}).apply(null,o))||(e.exports=i)},"X9V+":function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,o,i){"use strict";return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.age=null,t.ageReceived=null,t.displayCount=null,t.maxObservations=1,t}var o;return r.__extends(t,e),o=t,t.prototype.clone=function(){return new o({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})},r.__decorate([i.property({type:Number,json:{write:!0}})],t.prototype,"age",void 0),r.__decorate([i.property({type:Number,json:{write:!0}})],t.prototype,"ageReceived",void 0),r.__decorate([i.property({type:Number,json:{write:!0}})],t.prototype,"displayCount",void 0),r.__decorate([i.property({type:Number,json:{write:!0}})],t.prototype,"maxObservations",void 0),o=r.__decorate([i.subclass("esri.layers.support.PurgeOptions")],t)}(o.JSONSupport)}).apply(null,o))||(e.exports=i)},Zb3b:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("ma1f"),r("TTKK"),r("aWt5"),r("Nskv"),r("fQaS")],void 0===(i=(function(e,t,r,o,i,n,p){"use strict";function a(e,t,o){return e?"selection"!==e.type?(o.messages&&o.messages.push(new r("featureReduction:unsupported","FeatureReduction of type '"+e.declaredClass+"' are not supported in scenes.",{featureReduction:e,context:o})),null):e.write(t,o):null}Object.defineProperty(t,"__esModule",{value:!0}),t.write=t.writeTarget=t.read=t.webSceneFeatureReductionTypes=void 0,t.webSceneFeatureReductionTypes={key:"type",base:i.default,typeMap:{selection:p}},t.read=function(e,t){var r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return p.fromJSON(r);case"cluster":return n.fromJSON(r)}return null},t.writeTarget=function(e,t,r,i){var n=a(e,{},i);n&&o.setDeepValue(r,n,t)},t.write=a}).apply(null,o))||(e.exports=i)},aWt5:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureReduction=void 0;var n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=null,t}return r.__extends(t,e),r.__decorate([i.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],t.prototype,"type",void 0),r.__decorate([i.subclass("esri.layers.support.FeatureReduction")],t)}(o.JSONSupport);t.FeatureReduction=n,t.default=n}).apply(null,o))||(e.exports=i)},fQaS:function(e,t,r){var o,i;o=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("aWt5")],void 0===(i=(function(e,t,r,o,i){"use strict";return function(e){function t(t){var r=e.call(this,t)||this;return r.type="selection",r}var i;return r.__extends(t,e),i=t,t.prototype.clone=function(){return new i},r.__decorate([o.property({type:["selection"]})],t.prototype,"type",void 0),i=r.__decorate([o.subclass("esri.layers.support.FeatureReductionSelection")],t)}(i.default)}).apply(null,o))||(e.exports=i)}}]);