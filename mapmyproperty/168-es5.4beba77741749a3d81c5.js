!function(){function e(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value}catch(f){return void n(f)}a.done?t(s):Promise.resolve(s).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var u=t.apply(n,r);function a(t){e(u,o,i,a,s,"next",t)}function s(t){e(u,o,i,a,s,"throw",t)}a(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{KgD9:function(e,n,r){"use strict";r.r(n),r.d(n,"destroyContext",function(){return v}),r.d(n,"dracoDecompressPointCloudData",function(){return b}),r.d(n,"filterObbsForModifications",function(){return m}),r.d(n,"filterObbsForModificationsSync",function(){return _}),r.d(n,"initialize",function(){return P}),r.d(n,"interpretObbModificationResults",function(){return L}),r.d(n,"process",function(){return l}),r.d(n,"setLegacySchema",function(){return w}),r.d(n,"setModifications",function(){return h}),r.d(n,"setModificationsSync",function(){return O}),r.d(n,"test",function(){return T});var o,i,u,a=r("ohva"),s=r("srIe"),f=r("ss0y");function c(e){return Object(f.a)("esri/libs/i3s/".concat(e))}function l(e){return d.apply(this,arguments)}function d(){return(d=t(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return n=[t.geometryBuffer],e.abrupt("return",{result:A(t,n),transferList:n});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return p.apply(this,arguments)}function p(){return(p=t(regeneratorRuntime.mark(function e(t){var n,r,o,i,s,f,c,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(r=[t.geometryBuffer],o=t.geometryBuffer,i=o.byteLength,s=u._malloc(i),(f=new Uint8Array(u.HEAPU8.buffer,s,i)).set(new Uint8Array(o)),c=u.dracoDecompressPointCloudData(s,f.byteLength),u._free(s),!(c.error.length>0)){e.next=7;break}throw"i3s.wasm: ".concat(c.error);case 7:return l=(null==(n=c.featureIds)?void 0:n.length)>0?Object(a.m)(c.featureIds):null,d=Object(a.m)(c.positions),e.abrupt("return",(l&&r.push(l.buffer),r.push(d.buffer),{result:{positions:d,featureIds:l},transferList:r}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=t(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return _(t),n={buffer:t.buffer},e.abrupt("return",{result:n,transferList:[n.buffer]});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=t(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:O(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=t(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:u.setLegacySchema(t.context,t.jsonSchema);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){x(e)}function O(e){for(var t=e.modifications,n=u._malloc(8*t.length),r=new Float64Array(u.HEAPU8.buffer,n,t.length),o=0;o<t.length;++o)r[o]=t[o];u.setModifications(e.context,n,t.length,e.isGeodetic),u._free(n)}function A(e,t){if(!u)return null;var n=e.context,r=e.localOrigin,o=e.globalTrafo,i=e.mbs,f=e.obb,c=e.elevationOffset,l=e.geometryBuffer,d=e.geometryDescriptor,b=e.indexToVertexProjector,p=e.vertexToRenderProjector,m=u._malloc(l.byteLength),y=u._malloc(33*Float64Array.BYTES_PER_ELEMENT),h=new Uint8Array(u.HEAPU8.buffer,m,l.byteLength);h.set(new Uint8Array(l));var g=new Float64Array(u.HEAPU8.buffer,y,33);R(g,r);var w=g.byteOffset+3*g.BYTES_PER_ELEMENT,E=new Float64Array(g.buffer,w);R(E,o),w+=16*g.BYTES_PER_ELEMENT,R(E=new Float64Array(g.buffer,w),i),w+=4*g.BYTES_PER_ELEMENT,Object(s.k)(f)&&(R(E=new Float64Array(g.buffer,w),f.center),w+=3*g.BYTES_PER_ELEMENT,R(E=new Float64Array(g.buffer,w),f.halfSize),w+=3*g.BYTES_PER_ELEMENT,R(E=new Float64Array(g.buffer,w),f.quaternion));var v=d,O={isDraco:!1,isLegacy:!1,color:e.layouts.some(function(e){return e.some(function(e){return"color"===e.name})}),normal:e.needNormals&&e.layouts.some(function(e){return e.some(function(e){return"normalCompressed"===e.name})}),uv0:e.layouts.some(function(e){return e.some(function(e){return"uv0"===e.name})}),uvRegion:e.layouts.some(function(e){return e.some(function(e){return"uvRegion"===e.name})}),featureIndex:v.featureIndex},A=u.process(n,!!e.obb,m,h.byteLength,v,O,y,c,b,p,e.normalReferenceFrame);if(u._free(y),u._free(m),A.error.length>0)throw"i3s.wasm: ".concat(A.error);if(A.discarded)return null;var L=A.componentOffsets.length>0?Object(a.m)(A.componentOffsets):null,_=A.featureIds.length>0?Object(a.m)(A.featureIds):null,x=Object(a.m)(A.interleavedVertedData).buffer,P=1===A.indicesType?Object(a.m)(new Uint16Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/2)):Object(a.m)(new Uint32Array(A.indices.buffer,A.indices.byteOffset,A.indices.byteLength/4)),T=Object(a.m)(A.positions),I=1===A.positionIndicesType?Object(a.m)(new Uint16Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/2)):Object(a.m)(new Uint32Array(A.positionIndices.buffer,A.positionIndices.byteOffset,A.positionIndices.byteLength/4)),j={layout:e.layouts[0],interleavedVertexData:x,indices:P,hasColors:A.hasColors,hasModifications:A.hasModifications,positionData:{data:T,indices:I}};return _&&t.push(_.buffer),L&&t.push(L.buffer),t.push(x),t.push(P.buffer),t.push(T.buffer),t.push(I.buffer),{componentOffsets:L,featureIds:_,transformedGeometry:j,obb:A.obb}}function L(e){return 0===e?0:1===e?1:2===e?2:3}function _(e){var t=e.context,n=e.buffer,r=u._malloc(n.byteLength),o=n.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(u.HEAPU8.buffer,r,o),a=new Float64Array(n);i.set(a),u.filterOBBs(t,r,o),a.set(i),u._free(r)}function x(e){u&&u.destroy(e)}function R(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function P(){return u?Promise.resolve():(i||(i=(o||(o=new Promise(function(e){return r.e(101).then(r.bind(null,"ilXH")).then(function(e){return e.i}).then(function(t){var n=(0,t.default)({locateFile:c,onRuntimeInitialized:function(){return e(n)}});delete n.then})}).catch(function(e){return Promise.reject(e)})),o).then(function(e){u=e,i=null})),i)}var T={transform:A,destroy:x}}}])}();