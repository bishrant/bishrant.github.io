(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/layers/i3s/LEPCC":"1RVI","esri/views/2d/layers/features/processors/BaseProcessor":"68TM","esri/layers/OpenStreetMapLayer":"793k","esri/layers/BaseTileLayer":"8rsy","arcgis-js-api/views/2d/layers/BitmapTileLayerView2D":"APHm","esri/core/MultiOriginJSONSupport":"EUqE","esri/layers/support/commonProperties":"EtsK","esri/layers/mixins/OperationalLayer":"FEX1","arcgis-js-api/layers/support/lazyLayerLoader":"FayN","esri/layers/support/lazyLayerLoader":"FayN","arcgis-js-api/views/2d/layers/BitmapLayerView2D":"H2Y5","esri/layers/GeoRSSLayer":"Hpgp","arcgis-js-api/views/2d/viewStateUtils":"OQ/g","esri/layers/graphics/sources/support/CSVSourceWorker":"P0Wv","arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer":"Rt18","arcgis-js-api/views/draw/support/input/GraphicMoverEvents":"TD84","esri/layers/BingMapsLayer":"V7mb","esri/views/3d/layers/i3s/I3SBinaryReader":"W2ph","arcgis-js-api/renderers/support/heatmapUtils":"Wf0m","esri/renderers/support/heatmapUtils":"Wf0m","esri/layers/WebTileLayer":"a2fw","esri/core/libs/gl-matrix-2/quatf32":"fdzS","esri/core/libs/gl-matrix-2/factories/quatf32":"gKSc","arcgis-js-api/views/draw/support/GraphicMover":"i6zL","esri/geometry/support/meshUtils/deduplicate":"jmRc","esri/layers/GroupLayer":"lAGb","arcgis-js-api/layers/GroupLayer":"lAGb","dstore/Csv":"oigr","arcgis-js-api/core/throttle":"rMND","esri/core/accessorSupport/MultiOriginStore":"rU+N","arcgis-js-api/views/draw/support/drawUtils":"tJCi","esri/portal/support/portalLayers":"uLAD","arcgis-js-api/portal/support/portalLayers":"uLAD","esri/portal/support/mapNotesUtils":"wGgo","arcgis-js-api/portal/support/mapNotesUtils":"wGgo","esri/layers/IntegratedMeshLayer":"wehw","arcgis-js-api/views/2d/layers/support/ExportStrategy":"wke2","esri/layers/support/WMTSLayerInfo":"zBTX"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1RVI":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("ma1f")],void 0===(n=(function(e,t,r){function i(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+p.identifierOffset,p.identifierLength)),version:t.getUint16(r+p.versionOffset,u),checksum:t.getUint32(r+p.checksumOffset,u)}}function n(e,t){return{sizeLo:e.getUint32(t+c.sizeLo,u),sizeHi:e.getUint32(t+c.sizeHi,u),minX:e.getFloat64(t+c.minX,u),minY:e.getFloat64(t+c.minY,u),minZ:e.getFloat64(t+c.minZ,u),maxX:e.getFloat64(t+c.maxX,u),maxY:e.getFloat64(t+c.maxY,u),maxZ:e.getFloat64(t+c.maxZ,u),errorX:e.getFloat64(t+c.errorX,u),errorY:e.getFloat64(t+c.errorY,u),errorZ:e.getFloat64(t+c.errorZ,u),count:e.getUint32(t+c.count,u),reserved:e.getUint32(t+c.reserved,u)}}function o(e,t,r){var i=[];t=a(e,t,i);for(var n=[],o=0;o<i.length;o++){n.length=0,t=a(e,t,n);for(var l=0;l<n.length;l++)r.push(n[l]+i[o])}return t}function a(e,t,i){var n=new DataView(e,t),o=n.getUint8(0),a=31&o,l=!!(32&o),s=(192&o)>>6,p=0;if(0===s)p=n.getUint32(1,u),t+=5;else if(1===s)p=n.getUint16(1,u),t+=3;else{if(2!==s)throw new r("lepcc-decode-error","Bad count type");p=n.getUint8(1),t+=2}if(l)throw new r("lepcc-decode-error","LUT not implemented");for(var c=Math.ceil(p*a/8),d=new Uint8Array(e,t,c),y=0,f=0,h=0,v=-1>>>32-a,g=0;g<p;g++){for(;f<a;)y|=d[h]<<f,f+=8,h+=1;i[g]=y&v,y>>>=a,(f-=a)+a>32&&(y|=d[h-1]>>8-f)}return t+h}function l(e,t){return{sizeLo:e.getUint32(t+d.sizeLo,u),sizeHi:e.getUint32(t+d.sizeHi,u),count:e.getUint32(t+d.count,u),colorMapCount:e.getUint16(t+d.colorMapCount,u),lookupMethod:e.getUint8(t+d.lookupMethod),compressionMethod:e.getUint8(t+d.compressionMethod)}}function s(e,t){return{sizeLo:e.getUint32(t+y.sizeLo,u),sizeHi:e.getUint32(t+y.sizeHi,u),count:e.getUint32(t+y.count,u),scaleFactor:e.getUint16(t+y.scaleFactor,u),bitsPerPoint:e.getUint8(t+y.bitsPerPoint),reserved:e.getUint8(t+y.reserved)}}Object.defineProperty(t,"__esModule",{value:!0});var u=!0,p={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16},c={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};t.decodeXYZ=function(e){var t=new DataView(e,0),a=0,l=i(e,t,a),s=l.version;if(a+=p.byteCount,"LEPCC     "!==l.identifier)throw new r("lepcc-decode-error","Bad identifier");if(s>1)throw new r("lepcc-decode-error","Unknown version");var u=n(t,a);if(a+=c.byteCount,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var d=new Float64Array(3*u.count),y=[],f=[],h=[],v=[];if(a=o(e,a,y),a=o(e,a,f),a=o(e,a,h),(a=o(e,a,v))!==e.byteLength)throw new r("lepcc-decode-error","Bad length");for(var g=0,m=0,w=0;w<y.length;w++){m+=y[w];for(var b=0,S=0;S<f[w];S++){var M=v[g];d[3*g]=Math.min(u.maxX,u.minX+2*u.errorX*(b+=h[g])),d[3*g+1]=Math.min(u.maxY,u.minY+2*u.errorY*m),d[3*g+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*M),g++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:d}};var d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};t.decodeRGB=function(e){var t=new DataView(e,0),n=0,o=i(e,t,n),a=o.version;if(n+=p.byteCount,"ClusterRGB"!==o.identifier)throw new r("lepcc-decode-error","Bad identifier");if(a>1)throw new r("lepcc-decode-error","Unknown version");var s=l(t,n);if(n+=d.byteCount,s.sizeHi*Math.pow(2,32)+s.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===s.lookupMethod||1===s.lookupMethod)&&0===s.compressionMethod){if(3*s.colorMapCount+s.count+n!==e.byteLength||s.colorMapCount>256)throw new r("lepcc-decode-error","Bad count");for(var u=new Uint8Array(e,n,3*s.colorMapCount),c=new Uint8Array(e,n+3*s.colorMapCount,s.count),y=new Uint8Array(3*s.count),f=0;f<s.count;f++){var h=c[f];y[3*f]=u[3*h],y[3*f+1]=u[3*h+1],y[3*f+2]=u[3*h+2]}return y}if(0===s.lookupMethod&&0===s.compressionMethod){if(3*s.count+n!==e.byteLength||0!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");return new Uint8Array(e,n).slice()}if(s.lookupMethod<=2&&1===s.compressionMethod){if(n+3!==e.byteLength||1!==s.colorMapCount)throw new r("lepcc-decode-error","Bad count");var v=t.getUint8(n),g=t.getUint8(n+1),m=t.getUint8(n+2);for(y=new Uint8Array(3*s.count),f=0;f<s.count;f++)y[3*f]=v,y[3*f+1]=g,y[3*f+2]=m;return y}throw new r("lepcc-decode-error","Bad method "+s.lookupMethod+","+s.compressionMethod)};var y={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};t.decodeIntensity=function(e){var t=new DataView(e,0),n=0,o=i(e,t,n),l=o.version;if(n+=p.byteCount,"Intensity "!==o.identifier)throw new r("lepcc-decode-error","Bad identifier");if(l>1)throw new r("lepcc-decode-error","Unknown version");var u=s(t,n);if(n+=y.byteCount,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new r("lepcc-decode-error","Bad size");var c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+n!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(var d=new Uint8Array(e,n,u.count),f=0;f<u.count;f++)c[f]=d[f]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+n!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(d=new Uint16Array(e,n,u.count),f=0;f<u.count;f++)c[f]=d[f]*u.scaleFactor}else{if(a(e,n,d=[])!==e.byteLength)throw new r("lepcc-decode-error","Bad size");for(f=0;f<u.count;f++)c[f]=d[f]*u.scaleFactor}return c}}).apply(null,i))||(e.exports=n)},"33yf":function(e,t){function r(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}t.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:process.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t="/"===o.charAt(0))}return(t?"/":"")+(e=r(i(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===n(e,-1);return(e=r(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=i(e.split("/")),o=i(r.split("/")),a=Math.min(n.length,o.length),l=a,s=0;s<a;s++)if(n[s]!==o[s]){l=s;break}var u=[];for(s=l;s<n.length;s++)u.push("..");return(u=u.concat(o.slice(l))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,n=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!n){i=o;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,i=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){r=t+1;break}}else-1===i&&(n=!1,i=t+1);return-1===i?"":e.slice(r,i)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,i=-1,n=!0,o=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===i&&(n=!1,i=a+1),46===l?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!n){r=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===r+1?"":e.slice(t,i)};var n="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}},"68TM":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("7MDj"),r("Vx27")],void 0===(n=(function(e,t,r,i,n,o,a,l){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(){},t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"supportsTileUpdates",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spatialReference",{get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null},enumerable:!0,configurable:!0}),i([l.property({readOnly:!0})],t.prototype,"supportsTileUpdates",null),i([l.property({constructOnly:!0})],t.prototype,"remoteClient",void 0),i([l.property({constructOnly:!0})],t.prototype,"service",void 0),i([l.property({dependsOn:["tileStore.tileScheme.spatialReference"]})],t.prototype,"spatialReference",null),i([l.property({constructOnly:!0})],t.prototype,"tileInfo",void 0),i([l.property({constructOnly:!0})],t.prototype,"tileStore",void 0),i([l.subclass("esri.views.2d.layers.features.processors.BaseProcessor")],t)}(l.declared(a.HandleOwner));t.default=s}).apply(null,i))||(e.exports=n)},"793k":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("TMur"),r("Vx27"),r("a2fw"),r("pMLx"),r("QmTF")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u){return function(e){function t(){var t=e.call(this)||this;return t.portalItem=null,t.isReference=null,t.subDomains=["a","b","c"],t.fullExtent=new o.Extent(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,o.SpatialReference.WebMercator),t.urlTemplate="https://{subDomain}.tile.openstreetmap.org/{level}/{col}/{row}.png",t.operationalLayerType="OpenStreetMap",t.type="open-street-map",t.copyright="Map data &copy; OpenStreetMap contributors, CC-BY-SA",t}return i(t,e),Object.defineProperty(t.prototype,"refreshInterval",{get:function(){return 0},enumerable:!0,configurable:!0}),n([a.property({type:u,json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"portalItem",void 0),n([a.property({type:Boolean,json:{read:!1,write:!1}})],t.prototype,"isReference",void 0),n([a.property({type:Number,readOnly:!0,json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"refreshInterval",null),n([a.property({type:s,json:{write:!1}})],t.prototype,"tileInfo",void 0),n([a.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([a.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"subDomains",void 0),n([a.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"fullExtent",void 0),n([a.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"urlTemplate",void 0),n([a.property({type:["OpenStreetMap"]})],t.prototype,"operationalLayerType",void 0),n([a.property({json:{read:!1}})],t.prototype,"type",void 0),n([a.property({json:{read:!1,write:!1}})],t.prototype,"copyright",void 0),n([a.property({json:{read:!1,write:!1}})],t.prototype,"wmtsInfo",void 0),n([a.subclass("esri.layers.OpenStreetMapLayer")],t)}(a.declared(l))}).apply(null,i))||(e.exports=n)},"8rsy":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("zp6E"),r("ma1f"),r("Vx27"),r("N7S/"),r("Z4y+"),r("lRq4"),r("0RER"),r("WaJo"),r("OXmT"),r("pMLx")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v){var g={id:"0/0/0",level:0,row:0,col:0,extent:null};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tileInfo=v.create({spatialReference:c.WebMercator,size:256}),t.type="base-tile",t.fullExtent=new p(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,c.WebMercator),t.spatialReference=c.WebMercator,t}return i(t,e),t.prototype.getTileBounds=function(e,t,r,i){var n=i||d.create();return g.level=e,g.row=t,g.col=r,g.extent=n,this.tileInfo.updateTileInfo(g),g.extent=null,n},t.prototype.fetchTile=function(e,t,r,i){void 0===i&&(i={});var n=i.signal,o=i.timestamp,a=this.getTileUrl(e,t,r),s={responseType:"image",signal:n};return null!=o&&(s.query={_ts:i.timestamp}),l(a,s).then((function(e){return e.data}))},t.prototype.getTileUrl=function(){throw new s("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented")},n([u.property({type:v})],t.prototype,"tileInfo",void 0),n([u.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([u.property({readOnly:!0,value:"base-tile"})],t.prototype,"type",void 0),n([u.property()],t.prototype,"fullExtent",void 0),n([u.property()],t.prototype,"spatialReference",void 0),n([u.subclass("esri.layers.BaseTileLayer")],t)}(u.declared(h.ScaleRangeLayer(f.RefreshableLayer(y))))}).apply(null,i))||(e.exports=n)},APHm:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qKT0"),r("9opi"),r("Vx27"),r("DvfX"),r("1Mg+")],void 0===(n=(function(e,t,r,i,n,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapTileLayerView2D=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=new a.Container,t}return i(t,e),t.prototype.attach=function(){var e=this;this.view.timeline.record(this.layer.title+" (BitmapTileLayer) Attach"),this._bitmapView=new o.BitmapTileContainer(this._tileInfoView,this.clips),this.handles.add(this.clips.on("change",(function(){return e._bitmapView.setClips(e.clips)}))),this.container.addChild(this._bitmapView)},t.prototype.detatch=function(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()},r([n.subclass("esri.views.2d.layers.BitmapTileLayerView2D")],t)}(n.declared(e))}}).apply(null,i))||(e.exports=n)},EUqE:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Gtr7"),r("Vx27"),r("rU+N"),r("ZEeX"),r("Ab+N"),r("o2T8"),r("Kg8D")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p){function c(e){return u.getProperties(e).store}Object.defineProperty(t,"__esModule",{value:!0}),t.MultiOriginJSONMixin=function(e){return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=e.apply(this,t)||this,n=u.getProperties(i),o=n.metadatas,l=n.store,s=new a.default;return n.store=s,l.keys().forEach((function(e){s.set(e,l.get(e),0)})),Object.keys(o).forEach((function(e){n.internalGet(e)&&s.set(e,n.internalGet(e),0)})),i}return r(t,e),t.prototype.clear=function(e,t){return void 0===t&&(t="user"),c(this).delete(e,l.nameToId(t))},t.prototype.read=function(e,t){s.default(this,e,t)},t.prototype.write=function(e,t){return p.default(this,e=e||{},t),e},t.prototype.getAtOrigin=function(e,t){var r=c(this),i=l.nameToId(t);if("string"==typeof e)return r.get(e,i);var n={};return e.forEach((function(e){n[e]=r.get(e,i)})),n},t.prototype.originOf=function(e){var t=c(this);if("string"==typeof e)return l.idToName(t.originOf(e));var r={};e.forEach((function(e){r[e]=l.idToName(t.originOf(e))}))},t.prototype.revert=function(e,t){var r=c(this),i=l.nameToId(t),n=u.getProperties(this);("string"==typeof e?"*"===e?r.keys(i):[e]:e).forEach((function(e){n.propertyInvalidated(e),r.revert(e,i),n.propertyCommitted(e)}))},t.prototype.removeOrigin=function(e){for(var t=c(this),r=l.nameToId(e),i=0,n=t.keys(r);i<n.length;i++){var o=n[i];t.originOf(o)===r&&t.set(o,t.get(o,r),6)}},t.prototype.updateOrigin=function(e,t){var r=c(this),i=l.nameToId(t),n=this.get(e);r.delete(e),r.set(e,n,i)},i([o.subclass("esri.core.MultiOriginJSONSupport")],t)}(o.declared(e))};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([o.subclass("esri.core.MultiOriginJSONSupport")],t)}(o.declared(t.MultiOriginJSONMixin(n)));t.MultiOriginJSONSupport=d,t.isMultiOriginJSONMixin=function(e){return e&&"getAtOrigin"in e&&"originOf"in e}}).apply(null,i))||(e.exports=n)},EtsK:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("jfWY"),r("o2T8"),r("Kg8D"),r("5ldw"),r("3fUp")],void 0===(n=(function(e,t,r,i,n,o,a,l){Object.defineProperty(t,"__esModule",{value:!0}),t.screenSizePerspectiveEnabled={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(e,t){return null==t.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled")?void n.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0):t.screenSizePerspective}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(e,t,r,i){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&e?t[r]=e:o.willPropertyWrite(this,"screenSizePerspectiveEnabled",{},i)&&(t[r]=e)}}}}}},t.popupEnabled={type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,t){return!t.disablePopup}},write:{target:"disablePopup",writer:function(e,t,r){t[r]=!e}}}},t.labelsVisible={type:Boolean,json:{read:{source:"showLabels"},write:{target:"showLabels"}}},t.url={type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writer:i.write}}},t.legendEnabled={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}},t.elevationInfo={value:null,type:a,json:{origins:{service:{read:{source:"elevationInfo"},write:{target:"elevationInfo",enabled:!1}}},read:{source:"layerDefinition.elevationInfo"},write:{target:"layerDefinition.elevationInfo"}}},t.readOnlyService=function(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}},t.opacity={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0}}}},t.opacityDrawingInfo=r({},t.opacity,{json:r({},t.opacity.json,{origins:{"web-document":r({},t.opacity.json.origins["web-document"],{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,r){return r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?l.transparencyToOpacity(t.layerDefinition.drawingInfo.transparency):void 0:l.transparencyToOpacity(t.drawingInfo.transparency)}}})})}).apply(null,i))||(e.exports=n)},FEX1:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ma1f"),r("qMld"),r("Vx27"),r("Ab+N"),r("Kg8D"),r("EtsK")],void 0===(n=(function(e,t,i,n,o,a,l,s,u,p){Object.defineProperty(t,"__esModule",{value:!0}),t.OperationalLayer=function(e){return function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Layer",t}return i(r,e),r.prototype.writeListMode=function(e,t,r,i){i&&"ground"===i.layerContainerType?t[r]=e:e&&u.willPropertyWrite(this,r,{},i)&&(t[r]=e)},r.prototype.writeTitle=function(e,t){t.title=e||"Layer"},r.prototype.writeOperationalLayerType=function(e,t){e&&(t.layerType=e)},r.prototype.read=function(e,t){var r=this,i=arguments;t&&(t.layer=this),s.readLoadable(this,e,(function(t){return r.inherited(i,[e,t])}),t)},r.prototype.write=function(e,r){if(r&&r.origin){var i=r.origin+"/"+(r.layerContainerType||"operational-layers"),n=t.supportedTypes[i],a=n&&n[this.operationalLayerType];if("write"!==a&&"readwrite"!==a)return r.messages&&r.messages.push(new o("layer:unsupported","Layers ("+this.title+", "+this.id+") of type '"+this.declaredClass+"' are not supported in the context of '"+i+"'",{layer:this})),null}var l=this.inherited(arguments,[e,r]),s=!!r&&!!r.messages&&!!r.messages.filter((function(e){return e instanceof o&&"web-document-write:property-required"===e.name})).length;return!this.url&&s?null:l},n([l.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],r.prototype,"id",void 0),n([l.property({json:{write:{ignoreOrigin:!0}}})],r.prototype,"listMode",void 0),n([l.writer("listMode")],r.prototype,"writeListMode",null),n([l.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}}}}})],r.prototype,"title",void 0),n([l.writer("title")],r.prototype,"writeTitle",null),n([l.property({type:String,readOnly:!0,json:{write:{target:"layerType",ignoreOrigin:!0}}})],r.prototype,"operationalLayerType",void 0),n([l.writer("operationalLayerType")],r.prototype,"writeOperationalLayerType",null),n([l.property(p.opacity)],r.prototype,"opacity",void 0),n([l.property({type:Boolean,json:{read:{source:"visibility"},write:{target:"visibility"},origins:{"web-document":{read:{source:"visibility"},write:{target:"visibility"},default:!0}}}})],r.prototype,"visible",void 0),n([l.subclass("esri.layers.mixins.OperationalLayer")],r)}(l.declared(e))},t.typeModuleMap={ArcGISFeatureLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(62)]).then((function(){var t=[r("Zvuv")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISImageServiceLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(7),r.e(10),r.e(24),r.e(26)]).then((function(){var t=[r("G5N4")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISImageServiceVectorLayer:function(){return a.resolve(null)},ArcGISMapServiceLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(11),r.e(23),r.e(93)]).then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISSceneServiceLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(32)]).then((function(){var t=[r("yf9t")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISStreamLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(34)]).then((function(){var t=[r("QiYT")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISTiledElevationServiceLayer:function(){return a.create((function(e){return r.e(21).then((function(){var t=[r("GAgw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISTiledImageServiceLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(11),r.e(22)]).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ArcGISTiledMapServiceLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(11),r.e(22)]).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BingMapsAerial:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(25)]).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BingMapsRoad:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(25)]).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BingMapsHybrid:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(25)]).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BuildingSceneLayer:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(30)]).then((function(){var t=[r("gRqF")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},CSV:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(33)]).then((function(){var t=[r("zwOT")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},GeoRSS:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(104)]).then((function(){var t=[r("Hpgp")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},GroupLayer:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(115)]).then((function(){var t=[r("lAGb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},IntegratedMeshLayer:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(91)]).then((function(){var t=[r("wehw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},KML:function(){return a.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(38)]).then((function(){var t=[r("hPxN")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},OpenStreetMap:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(105)]).then((function(){var t=[r("793k")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},PointCloudLayer:function(){return a.create((function(e){return r.e(28).then((function(){var t=[r("wvIq")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},VectorTileLayer:function(){return a.create((function(e){return r.e(31).then((function(){var t=[r("UW67")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},WebTiledLayer:function(){return a.create((function(e){return Promise.all([r.e(0),r.e(106)]).then((function(){var t=[r("a2fw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},WFS:function(){return a.resolve(null)},WMS:function(){return a.create((function(e){return r.e(39).then((function(){var t=[r("dWJG")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},RasterDataLayer:function(){return a.resolve(null)}},t.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISSceneServiceLayer:"readwrite",ArcGISTiledElevationServiceLayer:"read",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",BuildingSceneLayer:"readwrite",GroupLayer:"readwrite",IntegratedMeshLayer:"readwrite",PointCloudLayer:"readwrite",WebTiledLayer:"readwrite",CSV:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",KML:"readwrite",RasterDataLayer:"readwrite"},"web-scene/basemap":{ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",WebTiledLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",ArcGISImageServiceLayer:"readwrite",WMS:"readwrite",ArcGISMapServiceLayer:"readwrite"},"web-scene/ground":{ArcGISTiledElevationServiceLayer:"readwrite"},"web-map/operational-layers":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISStreamLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",ArcGISFeatureLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite",CSV:"readwrite",GeoRSS:"readwrite",KML:"readwrite",VectorTileLayer:"readwrite",WFS:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite"},"web-map/basemap":{ArcGISImageServiceLayer:"readwrite",ArcGISImageServiceVectorLayer:"readwrite",ArcGISMapServiceLayer:"readwrite",ArcGISTiledImageServiceLayer:"readwrite",ArcGISTiledMapServiceLayer:"readwrite",OpenStreetMap:"readwrite",VectorTileLayer:"readwrite",WMS:"readwrite",WebTiledLayer:"readwrite",BingMapsAerial:"readwrite",BingMapsRoad:"readwrite",BingMapsHybrid:"readwrite"}}}).apply(null,i))||(e.exports=n)},FayN:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qMld")],void 0===(n=(function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.layerLookupMap={CSVLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(33),r.e(0)]).then((function(){var t=[r("zwOT")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ElevationLayer:function(){return i.create((function(e){return Promise.all([r.e(21),r.e(0)]).then((function(){var t=[r("GAgw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},FeatureLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(0),r.e(63)]).then((function(){var t=[r("Zvuv")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},GroupLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(44)]).then((function(){var t=[r("lAGb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},GeoRSSLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(107)]).then((function(){var t=[r("Hpgp")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},ImageryLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(7),r.e(10),r.e(24),r.e(26),r.e(0)]).then((function(){var t=[r("G5N4")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},KMLLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(38),r.e(0)]).then((function(){var t=[r("hPxN")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},MapImageLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(11),r.e(23),r.e(0),r.e(94)]).then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},MapNotesLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(0),r.e(61)]).then((function(){var t=[r("2OQv")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},OpenStreetMapLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(108)]).then((function(){var t=[r("793k")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},PointCloudLayer:function(){return i.create((function(e){return Promise.all([r.e(28),r.e(0)]).then((function(){var t=[r("wvIq")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},SceneLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(32),r.e(0)]).then((function(){var t=[r("yf9t")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BuildingSceneLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(30),r.e(0)]).then((function(){var t=[r("gRqF")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},IntegratedMeshLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(92)]).then((function(){var t=[r("wehw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},StreamLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(6),r.e(34),r.e(0)]).then((function(){var t=[r("QiYT")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},TileLayer:function(){return i.create((function(e){return Promise.all([r.e(1),r.e(2),r.e(11),r.e(22),r.e(0)]).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},UnknownLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(102)]).then((function(){var t=[r("N1SI")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},UnsupportedLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(103)]).then((function(){var t=[r("9ZiH")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},VectorTileLayer:function(){return i.create((function(e){return Promise.all([r.e(31),r.e(0)]).then((function(){var t=[r("UW67")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},WebTileLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(109)]).then((function(){var t=[r("a2fw")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},WMSLayer:function(){return i.create((function(e){return Promise.all([r.e(39),r.e(0)]).then((function(){var t=[r("dWJG")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},WMTSLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(81)]).then((function(){var t=[r("AgRT")];e.apply(null,t)}).bind(this)).catch(r.oe)}))},BingMapsLayer:function(){return i.create((function(e){return Promise.all([r.e(0),r.e(116)]).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(r.oe)}))}}}).apply(null,i))||(e.exports=n)},H2Y5:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("qKT0"),r("9opi"),r("Vx27"),r("bOAX")],void 0===(n=(function(e,t,r,i,n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapLayerView2D=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.container=new o.BitmapContainer(t.clips),t}return i(t,e),t.prototype.initialize=function(){var e=this;this.handles.add(this.clips.on("change",(function(){return e.container.setClips(e.clips)})))},r([n.subclass("esri.views.2d.layers.BitmapLayerView2D")],t)}(n.declared(e))}}).apply(null,i))||(e.exports=n)},Hpgp:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("0J3i"),r("zp6E"),r("+AWJ"),r("LxLY"),r("EUqE"),r("Vx27"),r("0RER"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("EtsK"),r("x7Wq"),r("CF4u"),r("HqJa")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v,g,m,w,b,S){return function(e){function t(t,r){var i=e.call(this,t)||this;return i.description=null,i.title=null,i.lineSymbol=null,i.pointSymbol=null,i.polygonSymbol=null,i.outSpatialReference=null,i.url=null,i.type="geo-rss",i}return i(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?r({url:e},t):e},t.prototype.readFeatureCollections=function(e,t){return t.featureCollection.layers.forEach((function(e){var t=e.layerDefinition.drawingInfo.renderer.symbol;t&&"esriSFS"===t.type&&t.outline&&-1!==t.outline.style.indexOf("esriSFS")&&(t.outline.style="esriSLSSolid")})),t.featureCollection.layers},t.prototype.load=function(e){var t=this,r=p.isSome(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},e).then((function(){return t._fetchService(r)}),(function(){return t._fetchService(r)}))),this.when()},t.prototype._fetchService=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,s(l.geoRSSServiceUrl,{query:{url:this.url,refresh:!!this.loaded||void 0,outSR:this.outSpatialReference?JSON.stringify(this.outSpatialReference.toJSON()):void 0},signal:e})];case 1:return t=r.sent().data,this.read(t,{origin:"service"}),[2]}}))}))},n([d.property()],t.prototype,"description",void 0),n([d.property()],t.prototype,"title",void 0),n([d.property()],t.prototype,"featureCollections",void 0),n([d.reader("service","featureCollections",["featureCollection.layers"])],t.prototype,"readFeatureCollections",null),n([d.property({type:b})],t.prototype,"lineSymbol",void 0),n([d.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([d.property({types:u.symbolTypes,json:{read:S.read}})],t.prototype,"pointSymbol",void 0),n([d.property({type:w})],t.prototype,"polygonSymbol",void 0),n([d.property()],t.prototype,"outSpatialReference",void 0),n([d.property(m.url)],t.prototype,"url",void 0),n([d.property({readOnly:!0,json:{read:!1},value:"geo-rss"})],t.prototype,"type",void 0),n([d.subclass("esri.layers.GeoRSSLayer")],t)}(d.declared(v.RefreshableLayer(f.OperationalLayer(h.PortalLayer(g.ScaleRangeLayer(c.MultiOriginJSONMixin(y)))))))}).apply(null,i))||(e.exports=n)},"OQ/g":function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){function r(e){return e*i}Object.defineProperty(t,"__esModule",{value:!0});var i=Math.PI/180;t.snapToPixel=function(e,t,r){var i=r.resolution,n=r.size;return e[0]=i*(Math.round(t[0]/i)+n[0]%2*.5),e[1]=i*(Math.round(t[1]/i)+n[1]%2*.5),e},t.getOuterSize=function(e,t){var i=r(t.rotation),n=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),a=t.size,l=a[0],s=a[1];return e[0]=Math.round(s*o+l*n),e[1]=Math.round(s*n+l*o),e},t.getBBox=function(e,t,r,i){var n=t[0],o=t[1],a=i[0],l=i[1],s=.5*r;return e[0]=n-s*a,e[1]=o-s*l,e[2]=n+s*a,e[3]=o+s*l,e},t.bboxIntersects=function(e,t){return!(e[0]>t[2]||e[2]<t[0]||e[1]>t[3]||e[3]<t[1])}}).apply(null,i))||(e.exports=n)},P0Wv:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("Q2wQ"),r("HZ3d"),r("Xfn2"),r("oigr"),r("TMur"),r("zp6E"),r("ma1f"),r("H1tY"),r("rg9i"),r("qMld"),r("jfWY"),r("wIC5"),r("nrlZ"),r("vtMp"),r("/COu"),r("Jvs9"),r("rfv1"),r("Q2Em"),r("ZooB"),r("DaHD"),r("I90O")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v,g,m,w,b,S,M){Object.defineProperty(t,"__esModule",{value:!0});var x=S.createDrawingInfo("esriGeometryPoint"),T=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"];t.csvLatitudeFieldNames=["lat","latitude","y","ycenter","latitude83","latdecdeg","point-y"],t.csvLongitudeFieldNames=["lon","lng","long","longitude","x","xcenter","longitude83","longdecdeg","point-x"],t.csvDetectedDelimiters=[","," ",";","|","\t"];var L=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,O=[0,0],I=function(e,t){this.x=e,this.y=t},_=function(){var e=n._parseInfo(),t=new RegExp("^"+e.regexp+"$"),r=new RegExp("["+e.group+"\\s\\xa0]","g"),i=e.factor;return function(n){var o=t.exec(n);if(e.factor=i,!o)return NaN;var a=o[1];if(!o[1]){if(!o[2])return NaN;a=o[2],e.factor*=-1}return+(a=a.replace(r,"").replace(e.decimal,"."))*e.factor}}(),P="isInteger"in Number?Number.isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},E=function(){function e(){this._fieldsIndex=null,this._queryEngine=null}return e.prototype.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null},e.prototype.load=function(e,t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var i,n,o;return r(this,(function(r){switch(r.label){case 0:return[4,c.all([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)])];case 1:return i=r.sent()[0],n=this._parse(i,e.parsing),this._queryEngine=this._createQueryEngine(i,n),n.layerDefinition.extent=this._queryEngine.fullExtent,n.layerDefinition.timeInfo&&(n.layerDefinition.timeInfo.timeExtent=[(o=this._queryEngine.timeExtent).start,o.end]),[2,n]}}))}))},e.prototype.applyEdits=function(){return i(this,void 0,void 0,(function(){return r(this,(function(e){throw new s("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer")}))}))},e.prototype.queryFeatures=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),i(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQuery(e,t.signal)]}))}))},e.prototype.queryFeatureCount=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),i(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForCount(e,t.signal)]}))}))},e.prototype.queryObjectIds=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),i(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForIds(e,t.signal)]}))}))},e.prototype.queryExtent=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),i(this,void 0,void 0,(function(){return r(this,(function(r){return[2,this._queryEngine.executeQueryForExtent(e,t.signal)]}))}))},e.prototype._fetch=function(e,t){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:if(!e)throw new s("csv-source:invalid-source","url not defined");return i=d.urlToObject(e),[4,l(i.path,{query:i.query,responseType:"text",signal:t.signal})];case 1:return[2,r.sent().data]}}))}))},e.prototype._parse=function(e,t){void 0===t&&(t={});for(var r={columnDelimiter:t.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:t.latitudeField,longitudeFieldName:t.longitudeField}};e&&"\n"===e[0];)e=e.slice(1);"\n"!==e[e.length-1]&&(e+="\n");var i=this._readFirstLine(e);if(!i)throw new s("csv","CSV is empty",{csv:e});if(!t.columnDelimiter){var n=this._inferDelimiter(i);if(!n)throw new s("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");r.columnDelimiter=n}var o=i.split(r.columnDelimiter),a=r.layerDefinition={name:"csv",drawingInfo:x,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:t.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:t.spatialReference||{wkid:102100}}};if(!t.latitudeField||!t.longitudeField){var l=this._inferLocationInfo(o);if(!t.longitudeField&&!l.longitudeFieldName||!t.latitudeField&&!l.latitudeFieldName)throw new s("csv","Unable to identify latitudeField and/or longitudeField from CSV");r.locationInfo={longitudeFieldName:t.longitudeField||l.longitudeFieldName,latitudeFieldName:t.latitudeField||l.latitudeFieldName}}var u=this._inferFields(e,r.columnDelimiter,o,r.locationInfo);if(t.fields&&t.fields.length){for(var c=new Map,d=0,y=t.fields;d<y.length;d++)c.set((v=y[d]).name.toLowerCase(),v);for(var f=0,h=u;f<h.length;f++){var v,g=c.get((v=h[f]).name.toLowerCase());if(g){var m=v.name;p.mixin(v,g),v.name=m}}}if(a.fields=u,a.fields.some((function(e){return"esriFieldTypeOID"===e.type&&(a.objectIdField=e.name,!0)}))||(a.objectIdField=(v={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1}).name,a.fields.unshift(v)),this._fieldsIndex=new M(a.fields),a.timeInfo){var w=a.timeInfo;if(w.startTimeField){var b=this._fieldsIndex.get(w.startTimeField);b?(w.startTimeField=b.name,b.type="esriFieldTypeDate"):w.startTimeField=null}if(w.endTimeField){var S=this._fieldsIndex.get(w.endTimeField);S?(w.endTimeField=S.name,S.type="esriFieldTypeDate"):w.endTimeField=null}if(w.trackIdField){var T=this._fieldsIndex.get(w.trackIdField);w.trackIdField=T?T.name:null}w.startTimeField||w.endTimeField||(a.timeInfo=null)}return r},e.prototype._inferLocationInfo=function(e){var r=null,i=null;return e.forEach((function(e){var n=e.toLowerCase();-1===t.csvLatitudeFieldNames.indexOf(n)||i||(i=e),-1===t.csvLongitudeFieldNames.indexOf(n)||r||(r=e)})),{longitudeFieldName:r,latitudeFieldName:i}},e.prototype._inferFields=function(e,t,r,i){for(var n=[],o=this._sampleLines(e).map((function(e){return e.split(t).map((function(e){return e.trim()}))})),a=this,l=0;l<r.length;l++)!function(e){var t=r[e];if(t===i.longitudeFieldName||t===i.latitudeFieldName)n.push({name:t,type:"esriFieldTypeDouble",alias:t});else{var l=o.map((function(t){return t[e]})),s={name:t,type:null,alias:t};switch(a._inferFieldType(l)){case"integer":s.type="esriFieldTypeInteger";break;case"double":s.type="esriFieldTypeDouble";break;case"date":s.type="esriFieldTypeDate",s.length=36;break;default:s.type="esriFieldTypeString",s.length=255}n.push(s)}}(l);return n},e.prototype._inferFieldType=function(e){var t=this;if(!e.length)return"string";var r=/[^+-.,0-9]/;return e.map((function(e){var i=!1;if(""===e||r.test(e))i=!0;else{var n=_(e);if(!isNaN(n))return/[.,]/.test(e)?"double":!P(n)||n>214783647||n<-214783648?"double":"integer";if(-1===e.indexOf("E"))i=!0;else{if(n=Number(e),!isNaN(n))return"double";if(-1===e.indexOf(","))i=!0;else{if(e=e.replace(",","."),n=Number(e),!isNaN(n))return"double";i=!0}}}if(i){if(!/^[-]?\d*[.,]?\d*$/.test(e)){var o=new Date(e);return t._isValidDate(o,e)?"date":"string"}return"string"}return"string"})).reduce((function(e,t){return e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0}))},e.prototype._isValidDate=function(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;var r=!0;if(u("chrome")&&/\d+\W*$/.test(t)){var i=t.match(/[a-zA-Z]{2,}/);if(i){for(var n=!1,o=0;!n&&o<=i.length;)n=!L.test(i[o]),o++;r=!n}}return r},e.prototype._readFirstLine=function(e){return e.substring(0,e.indexOf("\n")).trim()},e.prototype._sampleLines=function(e,t){void 0===t&&(t=10);for(var r=!1,i=[],n=e.indexOf("\n")+1;!r&&i.length<t;){var o,a=e.indexOf("\n",n);-1!==a?((o=-1===a&&n<e.length-1?e.substring(n).trim():e.substring(n,a).trim())&&i.push(o),n=a+1):r=!0}return i},e.prototype._inferDelimiter=function(e){var r=0,i="";return t.csvDetectedDelimiters.forEach((function(t){var n=e.split(t).length;n>r&&(r=n,i=t)})),""===i?null:i},e.prototype._createQueryEngine=function(e,t){for(var r,i=t.locationInfo,n=i.latitudeFieldName,l=i.longitudeFieldName,s=t.layerDefinition,u=s.objectIdField,p=s.fields,c=s.extent,d=s.timeInfo,w=[],S=[],M=new Set,x=new Set,L=[],P=0,E=p;P<E.length;P++){var j=E[P],A=j.name,G=j.type;"esriFieldTypeDate"===G?M.add(A):T.indexOf(G)>-1&&x.add(A),A!==u&&L.push(A)}var C=new o;C.delimiter=t.columnDelimiter,C.fieldNames=L,C.newline="\n";var D=C.parse(e),F=0;D.shift();for(var R=0,N=D;R<N.length;R++){var U=N[R],k=this._parseCoordinateValue(U[n]),V=this._parseCoordinateValue(U[l]);if(null!=V&&null!=k&&!isNaN(k)&&!isNaN(V)){for(var B in U[n]=k,U[l]=V,U)if(B!==n&&B!==l)if(M.has(B)){var z=new Date(U[B]);U[B]=this._isValidDate(z,U[B])?z.getTime():null}else if(x.has(B)){var q=_(U[B]);U[B]=isNaN(q)?null:q}U[u]=F,F++,w.push(new I(V,k)),S.push(U)}}if(!f.equals({wkid:4326},c.spatialReference))if(f.isWebMercator(c.spatialReference))for(var W=0,H=w;W<H.length;W++){var K=H[W];r=h.lngLatToXY(K.x,K.y,O),K.x=r[0],K.y=r[1]}else w=y.projectMany(w,a.SpatialReference.WGS84,c.spatialReference,null,!0);for(var Y=new m.default({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),Q=new b.default({fields:t.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:d,objectIdField:u,spatialReference:c.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:Y}),J=[],Z=0;Z<w.length;Z++){var X=w[Z],$=X.x,ee=X.y,te=S[Z];te[u]=Z+1,J.push(new v.default(new g.default([],[$,ee]),te,null,te[u]))}return Y.addMany(J),Q},e.prototype._parseCoordinateValue=function(e){if(null==e||""===e)return null;var t=_(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t},e.prototype._checkProjection=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,w.checkProjectionSupport(f.WGS84,e)];case 1:return t.sent(),[3,3];case 2:throw t.sent(),new s("csv-layer","Projection not supported");case 3:return[2]}}))}))},e}();t.default=E}).apply(null,i))||(e.exports=n)},Po9p:function(e,t){},Rt18:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("7MDj"),r("Vx27")],void 0===(n=(function(e,t,r,i,n,o){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,"updating",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once("isReady",(function(){return t.notifyChange("updating")})),this.tiles.set(e.id,r),r},t.prototype.lockAttributeTextureUpload=function(){},t.prototype.unlockAttributeTextureUpload=function(){},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach((function(t){e=e&&t.isReady})),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},i([o.property()],t.prototype,"layer",void 0),i([o.property()],t.prototype,"layerView",void 0),i([o.property()],t.prototype,"tileInfoView",void 0),i([o.property()],t.prototype,"updating",null),i([o.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],t)}(o.declared(n.HandleOwner));t.default=a}).apply(null,i))||(e.exports=n)},TD84:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicClickEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-click"},t.GraphicDoubleClickEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-double-click"};var r=function(){function e(e,t,r,i,n,o,a,l,s,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=n,this.dx=o,this.dy=a,this.totalDx=l,this.totalDy=s,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-start"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStartEvent=r;var i=function(){function e(e,t,r,i,n,o,a,l,s,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=n,this.dx=o,this.dy=a,this.totalDx=l,this.totalDy=s,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveEvent=i;var n=function(){function e(e,t,r,i,n,o,a,l,s,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=n,this.dx=o,this.dy=a,this.totalDx=l,this.totalDy=s,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-stop"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStopEvent=n,t.GraphicPointerOverEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-pointer-over"},t.GraphicPointerOutEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-pointer-out"},t.GraphicPointerDownEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-pointer-down"},t.GraphicPointerUpEvent=function(e,t,r,i,n){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=n,this.type="graphic-pointer-up"}}).apply(null,i))||(e.exports=n)},V7mb:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("zp6E"),r("ma1f"),r("ImIS"),r("LxLY"),r("EUqE"),r("qMld"),r("Vx27"),r("Z4y+"),r("8rsy"),r("FEX1"),r("pMLx")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v){var g=new s.default({BingMapsAerial:"aerial",BingMapsRoad:"road",BingMapsHybrid:"hybrid"});return function(e){function t(t){var r=e.call(this,t)||this;return r.type="bing-maps",r.tileInfo=new v({size:[256,256],dpi:96,origin:{x:-20037508.342787,y:20037508.342787,spatialReference:y.WebMercator},spatialReference:y.WebMercator,lods:[{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.1492910708238085,scale:564.248588}]}),r.key=null,r.style="road",r.culture="en-US",r.region=null,r.portalUrl=null,r.hasAttributionData=!0,r}return r(t,e),Object.defineProperty(t.prototype,"bingMetadata",{get:function(){return this._get("bingMetadata")},set:function(e){this._set("bingMetadata",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyright",{get:function(){return u.isSome(this.bingMetadata)?this.bingMetadata.copyright:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bingLogo",{get:function(){return u.isSome(this.bingMetadata)?this.bingMetadata.brandLogoUri:null},enumerable:!0,configurable:!0}),t.prototype.load=function(e){var t=this;return this.addResolvingPromise(this.key?this._getMetadata():this.portalUrl?this._getPortalBingKey().then((function(){return t._getMetadata()})):c.reject(new l("bingmapslayer:load","Bing layer must have bing key."))),this.when()},t.prototype.getTileUrl=function(e,t,r){if(!this.loaded||u.isNone(this.bingMetadata))return null;var i=this.bingMetadata.resourceSets[0].resources[0],n=i.imageUrlSubdomains[t%i.imageUrlSubdomains.length],o=this._getQuadKey(e,t,r);return i.imageUrl.replace("{subdomain}",n).replace("{quadkey}",o)},t.prototype.fetchAttributionData=function(){return o(this,void 0,void 0,(function(){var e=this;return n(this,(function(t){return[2,this.load().then((function(){return u.isNone(e.bingMetadata)?null:{contributors:e.bingMetadata.resourceSets[0].resources[0].imageryProviders.map((function(e){return{attribution:e.attribution,coverageAreas:e.coverageAreas.map((function(e){return{zoomMin:e.zoomMin,zoomMax:e.zoomMax,score:1,bbox:[e.bbox[0],e.bbox[1],e.bbox[2],e.bbox[3]]}}))}}))}}))]}))}))},t.prototype._getMetadata=function(){var e=this;return a("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+{road:"roadOnDemand",aerial:"aerial",hybrid:"aerialWithLabelsOnDemand"}[this.style],{responseType:"json",query:{include:"ImageryProviders",uriScheme:"https",key:this.key,suppressStatus:!0,output:"json",culture:this.culture,userRegion:this.region}}).then((function(t){var r=t.data;if(200!==r.statusCode)throw new l("bingmapslayer:getmetadata",r.statusDescription);if(e.bingMetadata=r,0===e.bingMetadata.resourceSets.length)throw new l("bingmapslayer:getmetadata","no bing resourcesets");if(0===e.bingMetadata.resourceSets[0].resources.length)throw new l("bingmapslayer:getmetadata","no bing resources")})).catch((function(e){throw new l("bingmapslayer:getmetadata",e.message)}))},t.prototype._getPortalBingKey=function(){var e=this;return a(this.portalUrl,{responseType:"json",authMode:"no-prompt",query:{f:"json"}}).then((function(t){if(!t.data.bingKey)throw new l("bingmapslayer:getportalbingkey","The referenced Portal does not contain a valid bing key");e.key=t.data.bingKey})).catch((function(e){throw new l("bingmapslayer:getportalbingkey",e.message)}))},t.prototype._getQuadKey=function(e,t,r){for(var i="",n=e;n>0;n--){var o=0,a=1<<n-1;0!=(r&a)&&(o+=1),0!=(t&a)&&(o+=2),i+=o.toString()}return i},i([d.property({json:{read:!1,write:!1},value:null})],t.prototype,"bingMetadata",null),i([d.property({json:{read:!1,write:!1},value:"bing-maps",readOnly:!0})],t.prototype,"type",void 0),i([d.property({type:v})],t.prototype,"tileInfo",void 0),i([d.property({type:String,readOnly:!0,dependsOn:["bingMetadata"],json:{read:!1,write:!1}})],t.prototype,"copyright",null),i([d.property({type:String,json:{write:!1,read:!1}})],t.prototype,"key",void 0),i([d.property({type:String,json:{write:{target:"layerType",writer:g.write},read:{source:"layerType",reader:g.read}}})],t.prototype,"style",void 0),i([d.property({type:["BingMapsAerial","BingMapsHybrid","BingMapsRoad"],readOnly:!0,json:{read:{source:"layerType"}}})],t.prototype,"operationalLayerType",void 0),i([d.property({type:String,json:{write:!1,read:!1}})],t.prototype,"culture",void 0),i([d.property({type:String,json:{write:!1,read:!1}})],t.prototype,"region",void 0),i([d.property({type:String,json:{write:!0,read:!0}})],t.prototype,"portalUrl",void 0),i([d.property({type:Boolean,json:{write:!1,read:!1}})],t.prototype,"hasAttributionData",void 0),i([d.property({type:String,readOnly:!0,dependsOn:["bingMetadata"]})],t.prototype,"bingLogo",null),i([d.subclass("esri.layers.BingMapsLayer")],t)}(d.declared(h.OperationalLayer(p.MultiOriginJSONMixin(f))))}).apply(null,i))||(e.exports=n)},W2ph:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("ma1f"),r("rg9i"),r("qsST"),r("LxLY"),r("1RVI")],void 0===(n=(function(e,t,r,i,n,o,a,l){function s(e,t,r){for(var n="",o=0;o<r;){var a=e[t+o];if(a<128)n+=String.fromCharCode(a),o++;else if(a>=192&&a<224){if(o+1>=r)throw new i("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var l=(31&a)<<6|63&e[t+o+1];n+=String.fromCharCode(l),o+=2}else if(a>=224&&a<240){if(o+2>=r)throw new i("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");l=(15&a)<<12|(63&e[t+o+1])<<6|63&e[t+o+2],n+=String.fromCharCode(l),o+=3}else{if(!(a>=240&&a<248))throw new i("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(o+3>=r)throw new i("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");(l=(7&a)<<18|(63&e[t+o+1])<<12|(63&e[t+o+2])<<6|63&e[t+o+3])>=65536?n+=String.fromCharCode(55296+(l-65536>>10),56320+(1023&l)):n+=String.fromCharCode(l),o+=4}}return n}function u(e,r){for(var i={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,o=0;o<r.length;o++){var a=r[o],l=a.valueType||a.type;i.fields[a.property]=(0,t.valueType2ArrayBufferReader[l])(e,n),n+=t.valueType2TypedArrayClassMap[l].BYTES_PER_ELEMENT}return i.byteCount=n,i}function p(e,t,r){var n,o,a=[],l=0;for(o=0;o<e;o+=1){if((n=t[o])>0){if(a.push(s(r,l,n-1)),0!==r[l+n-1])throw new i("string-array-error","Invalid string array: missing null termination.")}else a.push(null);l+=n}return a}function c(e,r){return new(0,t.valueType2TypedArrayClassMap[r.valueType])(e,r.byteOffset,r.count*r.valuesPerElement)}function d(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function y(e,t,r){for(var o=null!=t.header?u(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},a={header:o,byteOffset:o.byteCount,byteCount:0,entries:Object.create(null)},l=o.byteCount,s=0;s<t.ordering.length;s++){var p=t.ordering[s],c=n.clone(t[p]);if(c.count=o.fields.count,"String"===c.valueType){if(c.byteOffset=l,c.byteCount=o.fields[p+"ByteCount"],"UTF-8"!==c.encoding)throw new i("unsupported-encoding","Unsupported String encoding.",{encoding:c.encoding})}else{if(!h(c.valueType))throw new i("unsupported-value-type","Unsupported binary valueType",{valueType:c.valueType});var d=v(c.valueType);c.byteOffset=l+=l%d!=0?d-l%d:0,c.byteCount=d*c.valuesPerElement*c.count}l+=c.byteCount,a.entries[p]=c}return a.byteCount=l-a.byteOffset,a}function f(e,t,r){if(t!==e&&g.error("Invalid "+r+" buffer size\n expected: "+e+", actual: "+t+")"),t<e)throw new i("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function h(e){return t.valueType2TypedArrayClassMap.hasOwnProperty(e)}function v(e){return h(e)?t.valueType2TypedArrayClassMap[e].BYTES_PER_ELEMENT:0}Object.defineProperty(t,"__esModule",{value:!0});var g=o.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");t.readHeader=u,t.readStringArray=p,t.createTypedView=c,t.createRawView=d,t.createAttributeDataIndex=y,t.createGeometryIndexFromDefinition=function(e,t,r){var i={header:{byteOffset:0,byteCount:e.offset,fields:{}},byteOffset:e.offset,byteCount:0,vertexAttributes:{},featureAttributes:{}},n=e.offset,o=function(e,t,r,i){var o="UInt64"===t.type?8:v(t.type),a={byteOffset:n,byteCount:o*t.component*r,count:r,valueType:t.type,valuesPerElement:t.component};n+=a.byteCount,i[e]=a};for(var l in m)e[l]&&o(m[l],e[l],t,i.vertexAttributes);if(a.isSome(r))for(var s in w)e[s]&&o(w[s],e[s],r,i.featureAttributes);return i};var m={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},w={featureId:"id",faceRange:"faceRange"};t.createGeometryIndexFromSchema=function(e,t){for(var i=u(e,t&&t.header),n=i.byteCount,o={header:i,byteOffset:i.byteCount,byteCount:0,vertexAttributes:{}},a=i.fields,l=null!=a.vertexCount?a.vertexCount:a.count,s=0,p=t.ordering;s<p.length;s++){var c=p[s];if(t.vertexAttributes[c]){var d=r({},t.vertexAttributes[c],{byteOffset:n,count:l});o.vertexAttributes[S[c]?S[c]:"_"+c]=d,n+=v(d.valueType)*d.valuesPerElement*l}}var y=a.faceCount;if(t.faces&&y){o.faces={};for(var h=0,g=t.ordering;h<g.length;h++){var m=g[h];t.faces[m]&&(d=r({},t.faces[m],{byteOffset:n,count:y}),o.faces[m]=d,n+=v(d.valueType)*d.valuesPerElement*y)}}var w=a.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&w){o.featureAttributes={};for(var b=0,M=t.featureAttributeOrder;b<M.length;b++){var x=M[b];t.featureAttributes[x]&&(d=r({},t.featureAttributes[x],{byteOffset:n,count:w}),o.featureAttributes[x]=d,n+=("UInt64"===d.valueType?8:v(d.valueType))*d.valuesPerElement*w)}}return f(n,e.byteLength,"geometry"),o.byteCount=n-o.byteOffset,o};var b={position:"position",normal:"normal",uv0:"uv0",color:"color","uv-region":"uvRegion"};t.createGeometryIndexFromAttributes=function(e){for(var t={},r=0,i=e;r<i.length;r++){var n=i[r];b[n]&&(t[b[n]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:t}};var S={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};t.readBinaryAttribute=function(e,t,r){if("lepcc-rgb"===e.encoding)return l.decodeRGB(t);if("lepcc-intensity"===e.encoding)return l.decodeIntensity(t);if(null!=e.encoding&&""!==e.encoding)throw new i("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(g.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(g.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=y(t,e,r);f(n.byteOffset+n.byteCount,t.byteLength,"attribute");var o=n.entries.attributeValues||n.entries.objectIds;if(o){if("String"===o.valueType){var a=n.entries.attributeByteCounts,s=c(t,a),u=d(t,o);return p(a.count,s,u)}return c(t,o)}throw new i("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},t.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},t.valueType2ArrayBufferReader={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}},t.isValueType=h,t.getBytesPerValue=v}).apply(null,i))||(e.exports=n)},Wf0m:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("J3YA"),r("xoE+")],void 0===(n=(function(e,t,r,i){function n(e,t,r,n,o){for(var a=new Uint32Array(e*e),l=("buffer"in t?t:new Float64Array(t)),s=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),u=s.length/(o-n),p=0;p<l.length;p++){var c=Math.floor((l[p]-n)*u);a[p]=s[i.clamp(c,0,s.length-1)]}return a.buffer}function o(e){for(var t=Math.round(3*e),r=2*e*e,i=new Float64Array(2*t+1),n=0;n<=i.length;n++)i[n]=Math.exp(-Math.pow(n-t,2)/r)/Math.sqrt(2*Math.PI)*(e/2);return i}function a(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(r){return+r[e]+t}:function(){return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.generateGradient=function(){if(!("document"in r))return function(){return null};var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,function(r){t.clearRect(0,0,1,e.height);for(var i=t.createLinearGradient(0,0,0,e.height),n=0,o=r.colorStops;n<o.length;n++){var a=o[n],l=a.color;i.addColorStop(Math.max(a.ratio,.001),"rgba("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+")")}return t.fillStyle=i,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}}(),t.calculateHeatmapIntensityInfo=function(e,t,r,i){for(var n,l=t.blurRadius,s=t.fieldOffset,u=t.field,p=new Float64Array(r*i),c=o(l),d=Math.round(3*l),y=Number.NEGATIVE_INFINITY,f=a(u,s),h=0,v=e;h<v.length;h++)for(var g=v[h],m=g.geometry,w=g.attributes,b=m.x-d,S=m.y-d,M=Math.max(0,b),x=Math.max(0,S),T=Math.min(i,m.y+d),L=Math.min(r,m.x+d),O=+f(w),I=x;I<T;I++)for(var _=c[I-S],P=M;P<L;P++)(n=p[I*r+P]+=_*c[P-b]*O)>y&&(y=n);return{matrix:p.buffer,max:y}},t.drawHeatmap=function(e,t,r,i,o,a){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);var l=e.getImageData(0,0,t,t);r&&i&&l.data.set(new Uint8ClampedArray(n(t,r,i,o,a))),e.putImageData(l,0,0)},t.createHeatmapImageData=n,t.createKernel=o,t.createValueFunction=a}).apply(null,i))||(e.exports=n)},a2fw:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("TMur"),r("zp6E"),r("ma1f"),r("rg9i"),r("EUqE"),r("nRUF"),r("jfWY"),r("jfWY"),r("Vx27"),r("0RER"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("r2fF"),r("pMLx"),r("zBTX")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v,g,m,w,b,S,M,x){return function(e){function t(t,r){var i=e.call(this,t)||this;return i.copyright="",i.fullExtent=new l.Extent(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,l.SpatialReference.WebMercator),i.legendEnabled=!1,i.isReference=null,i.popupEnabled=!1,i.spatialReference=l.SpatialReference.WebMercator,i.subDomains=null,i.tileInfo=new M({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new l.Point({x:-20037508.342787,y:20037508.342787,spatialReference:l.SpatialReference.WebMercator}),spatialReference:l.SpatialReference.WebMercator,lods:[new S({level:0,scale:591657527.591555,resolution:156543.033928}),new S({level:1,scale:295828763.795777,resolution:78271.5169639999}),new S({level:2,scale:147914381.897889,resolution:39135.7584820001}),new S({level:3,scale:73957190.948944,resolution:19567.8792409999}),new S({level:4,scale:36978595.474472,resolution:9783.93962049996}),new S({level:5,scale:18489297.737236,resolution:4891.96981024998}),new S({level:6,scale:9244648.868618,resolution:2445.98490512499}),new S({level:7,scale:4622324.434309,resolution:1222.99245256249}),new S({level:8,scale:2311162.217155,resolution:611.49622628138}),new S({level:9,scale:1155581.108577,resolution:305.748113140558}),new S({level:10,scale:577790.554289,resolution:152.874056570411}),new S({level:11,scale:288895.277144,resolution:76.4370282850732}),new S({level:12,scale:144447.638572,resolution:38.2185141425366}),new S({level:13,scale:72223.819286,resolution:19.1092570712683}),new S({level:14,scale:36111.909643,resolution:9.55462853563415}),new S({level:15,scale:18055.954822,resolution:4.77731426794937}),new S({level:16,scale:9027.977411,resolution:2.38865713397468}),new S({level:17,scale:4513.988705,resolution:1.19432856685505}),new S({level:18,scale:2256.994353,resolution:.597164283559817}),new S({level:19,scale:1128.497176,resolution:.298582141647617})]}),i.type="web-tile",i.urlTemplate=null,i.wmtsInfo=null,i}return i(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?p.mixin({urlTemplate:e},t||{}):e},t.prototype.load=function(e){var t=this,r=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((function(){var e="";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r=new y.Url(t.urlTemplate);t.subDomains&&t.subDomains.length>0||-1===r.authority.indexOf("{subDomain}")||(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new u("web-tile-layer:load","WebTileLayer (title: '"+t.title+"', id: '"+t.id+"') "+e)}));return this.addResolvingPromise(r),this.when()},Object.defineProperty(t.prototype,"levelValues",{get:function(){var e=[];if(!this.tileInfo)return null;for(var t=0,r=this.tileInfo.lods;t<r.length;t++){var i=r[t];e[i.level]=i.levelValue||i.level}return e},enumerable:!0,configurable:!0}),t.prototype.readSpatialReference=function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&l.SpatialReference.fromJSON(t.fullExtent.spatialReference)},Object.defineProperty(t.prototype,"tileServers",{get:function(){if(!this.urlTemplate)return null;var e=[],t=this.subDomains,r=new y.Url(this.urlTemplate),i=r.scheme?r.scheme+"://":"//",n=i+r.authority+"/";if(-1===r.authority.indexOf("{subDomain}"))e.push(n);else if(t&&t.length>0&&r.authority.split(".").length>1)for(var o=0,a=t;o<a.length;o++)e.push(i+r.authority.replace(/\{subDomain\}/gi,a[o])+"/");return e.map((function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlPath",{get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new y.Url(e);return e.substring(((t.scheme?t.scheme+"://":"//")+t.authority+"/").length)},enumerable:!0,configurable:!0}),t.prototype.readUrlTemplate=function(e,t){return e||t.templateUrl},t.prototype.writeUrlTemplate=function(e,t){e&&f.isProtocolRelative(e)&&(e="https:"+e),t.templateUrl=e?f.normalize(e):e},t.prototype.fetchTile=function(e,t,r,i){void 0===i&&(i={});var n=i.signal,o=i.timestamp,a=this.getTileUrl(e,t,r),l={responseType:"image",signal:n};return null!=o&&(l.query={_ts:i.timestamp}),s(a,l).then((function(e){return e.data}))},t.prototype.getTileUrl=function(e,t,r){var i=this.levelValues[e];return(this.tileServers[t%this.tileServers.length]+d.replace(this.urlPath,{level:i,col:r,row:t})).replace(/\{level\}/gi,""+i).replace(/\{row\}/gi,""+t).replace(/\{col\}/gi,""+r)},n([h.property({type:String,value:"",json:{write:!0}})],t.prototype,"copyright",void 0),n([h.property({type:l.Extent,json:{write:!0}})],t.prototype,"fullExtent",void 0),n([h.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"legendEnabled",void 0),n([h.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([h.property({dependsOn:["tileInfo"]})],t.prototype,"levelValues",null),n([h.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],t.prototype,"isReference",void 0),n([h.property({type:["WebTiledLayer"],value:"WebTiledLayer"})],t.prototype,"operationalLayerType",void 0),n([h.property({readOnly:!0,json:{read:!1,write:!1}})],t.prototype,"popupEnabled",void 0),n([h.property({type:l.SpatialReference})],t.prototype,"spatialReference",void 0),n([h.reader("spatialReference",["spatialReference","fullExtent.spatialReference"])],t.prototype,"readSpatialReference",null),n([h.property({type:[String],json:{write:!0}})],t.prototype,"subDomains",void 0),n([h.property({type:M,json:{write:!0}})],t.prototype,"tileInfo",void 0),n([h.property({readOnly:!0,dependsOn:["urlTemplate","subDomains"]})],t.prototype,"tileServers",null),n([h.property({json:{read:!1}})],t.prototype,"type",void 0),n([h.property({dependsOn:["urlTemplate"]})],t.prototype,"urlPath",null),n([h.property({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],t.prototype,"urlTemplate",void 0),n([h.reader("urlTemplate",["urlTemplate","templateUrl"])],t.prototype,"readUrlTemplate",null),n([h.writer("urlTemplate",{templateUrl:{type:String}})],t.prototype,"writeUrlTemplate",null),n([h.property({type:x.default,json:{write:!0}})],t.prototype,"wmtsInfo",void 0),n([h.subclass("esri.layers.WebTileLayer")],t)}(h.declared(w.RefreshableLayer(b.ScaleRangeLayer(g.OperationalLayer(m.PortalLayer(c.MultiOriginJSONMixin(v)))))))}).apply(null,i))||(e.exports=n)},fdzS:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("gKSc")],void 0===(n=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.quatf32=r}).apply(null,i))||(e.exports=n)},gKSc:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){var e=new Float32Array(4);return e[3]=1,e},t.clone=function(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},t.fromValues=function(e,t,r,i){var n=new Float32Array(4);return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n},t.createView=function(e,t){return new Float32Array(e,t,4)}}).apply(null,i))||(e.exports=n)},i6zL:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("KY0m"),r("BcWh"),r("eIBl"),r("rg9i"),r("jBNx"),r("8MXS"),r("Vx27"),r("tJCi"),r("TD84"),r("txZC")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y){return function(e){function t(t){var r=e.call(this,t)||this;return r._activeGraphic=null,r._dragEvent=null,r._handles=new a,r._hoverGraphic=null,r._initialDragGeometry=null,r._pointerDownEvent=null,r._viewHandles=new a,r.type="graphic-mover",r.callbacks={onGraphicClick:function(){},onGraphicDoubleClick:function(){},onGraphicMoveStart:function(){},onGraphicMove:function(){},onGraphicMoveStop:function(){},onGraphicPointerOver:function(){},onGraphicPointerOut:function(){},onGraphicPointerDown:function(){},onGraphicPointerUp:function(){}},r.enableMoveAllGraphics=!1,r.graphics=[],r.view=null,r}return r(t,e),t.prototype.initialize=function(){var e=this;this._handles.add([u.whenOnce(this,"view.ready",(function(){e._viewHandles.add([e.view.on("immediate-click",(function(t){return e._clickHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("double-click",(function(t){return e._doubleClickHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("pointer-down",(function(t){return e._pointerDownHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("pointer-move",(function(t){return e._pointerMoveHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("pointer-up",(function(t){return e._pointerUpHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("drag",(function(t){return e._dragHandler(t)}),y.ViewEventPriorities.TOOL),e.view.on("key-down",(function(t){return e._keyDownHandler(t)}),y.ViewEventPriorities.TOOL)])}))])},t.prototype.destroy=function(){this.reset(),this._viewHandles.removeAll(),this._handles.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=!!this.get("view.ready"),t=!!this.get("graphics.length");return e&&t?this._activeGraphic?"moving":"active":e?"ready":"disabled"},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null},t.prototype.updateGeometry=function(e,t){var r=this.graphics[e];r&&r.set("geometry",t)},t.prototype._clickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=r.results;if(i.length&&i[0].graphic){var n=i[0].graphic;if(t.graphics.indexOf(n)>-1){var o=new d.GraphicClickEvent(n,t.graphics.indexOf(n),e.x,e.y,e);t.emit("graphic-click",o),t.callbacks.onGraphicClick&&t.callbacks.onGraphicClick(o)}}}))},t.prototype._doubleClickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=r.results;if(i.length&&i[0].graphic){var n=i[0].graphic;if(t.graphics.indexOf(n)>-1){var o=new d.GraphicDoubleClickEvent(n,t.graphics.indexOf(n),e.x,e.y,e);t.emit("graphic-double-click",o),t.callbacks.onGraphicDoubleClick&&t.callbacks.onGraphicDoubleClick(o)}}}))},t.prototype._pointerDownHandler=function(e){var t=this;this._pointerDownEvent=e,this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=n.find(r.results,(function(e){return-1!==t.graphics.indexOf(e.graphic)}));if(i){var o=i.graphic;if(t.graphics.indexOf(o)>-1){t._activeGraphic=o;var a=e.x,l=e.y,s=new d.GraphicPointerDownEvent(o,t.graphics.indexOf(o),a,l,e);t.emit("graphic-pointer-down",s),t.callbacks.onGraphicPointerDown&&t.callbacks.onGraphicPointerDown(s)}else o!==t._activeGraphic&&(t._pointerDownEvent=null,t._activeGraphic=null)}else t._pointerDownEvent=null,t._activeGraphic=null}))},t.prototype._pointerUpHandler=function(e){if(this._pointerDownEvent=null,this._activeGraphic){var t=e.x,r=e.y,i=this.graphics.indexOf(this._activeGraphic),n=new d.GraphicPointerUpEvent(this._activeGraphic,i,t,r,e);this._activeGraphic=null,this.emit("graphic-pointer-up",n),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(n)}},t.prototype._pointerMoveHandler=function(e){var t=this;this._dragEvent||this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=r.results;if(i.length&&i[0].graphic){var n=i[0].graphic;if(n===t._hoverGraphic)return;if(t.graphics.indexOf(n)>-1){var o=e.x,a=e.y;if(t._hoverGraphic){var l=t.graphics.indexOf(t._hoverGraphic),s=new d.GraphicPointerOutEvent(t.graphics[l],l,o,a,e);t._hoverGraphic=null,t.emit("graphic-pointer-out",s),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(s)}var u=t.graphics.indexOf(n),p=new d.GraphicPointerOverEvent(n,u,o,a,e);return t._hoverGraphic=n,t.emit("graphic-pointer-over",p),void(t.callbacks.onGraphicPointerOver&&t.callbacks.onGraphicPointerOver(p))}}t._hoverGraphic&&(o=e.x,a=e.y,l=t.graphics.indexOf(t._hoverGraphic),p=new d.GraphicPointerOutEvent(t.graphics[l],l,o,a,e),t._hoverGraphic=null,t.emit("graphic-pointer-out",p),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(p))}))},t.prototype._dragHandler=function(e){var t=this;if(this._pointerDownEvent){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;e.stopPropagation();var r=e.x,i=e.y,n=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,a=this._dragEvent?r-this._dragEvent.x:0,s=this._dragEvent?i-this._dragEvent.y:0,u=r-e.origin.x,p=i-e.origin.y;if(this._activeGraphic.geometry=c.cloneMove(o,a,s,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((function(e){e!==t._activeGraphic&&(e.geometry=c.cloneMove(e.geometry,a,s,t.view))})),this._dragEvent=e,"start"===e.action){this._initialDragGeometry=l.clone(o);var y=new d.GraphicMoveStartEvent(this._activeGraphic,this.graphics,n,r,i,a,s,u,p,e);this.emit("graphic-move-start",y),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(y),y.defaultPrevented&&this._activeGraphic.set("geometry",o)}else"update"===e.action?(y=new d.GraphicMoveEvent(this._activeGraphic,this.graphics,n,r,i,a,s,u,p,e),this.emit("graphic-move",y),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(y),y.defaultPrevented&&this._activeGraphic.set("geometry",o)):(this._dragEvent=null,y=new d.GraphicMoveStopEvent(this._activeGraphic,this.graphics,n,r,i,a,s,u,p,e),this.emit("graphic-move-stop",y),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(y),y.defaultPrevented&&this.graphics[n].set("geometry",this._initialDragGeometry),this._initialDragGeometry=null)}},t.prototype._keyDownHandler=function(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()},i([p.property()],t.prototype,"_activeGraphic",void 0),i([p.property({readOnly:!0})],t.prototype,"type",void 0),i([p.property()],t.prototype,"callbacks",void 0),i([p.property()],t.prototype,"enableMoveAllGraphics",void 0),i([p.property()],t.prototype,"graphics",void 0),i([p.property({dependsOn:["view.ready","graphics.length","_activeGraphic"],readOnly:!0})],t.prototype,"state",null),i([p.property()],t.prototype,"view",void 0),i([p.subclass("esri.views.draw.support.GraphicMover")],t)}(p.declared(o.EventedAccessor))}).apply(null,i))||(e.exports=n)},jmRc:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("xoE+")],void 0===(n=(function(e,t,r){function i(e,t,i){var s=e.byteLength/(4*t),u=new Uint32Array(e,0,s*t),p=new Uint32Array(s),c=i&&i.minReduction||0,d=i&&i.originalIndices||null,y=i&&i.componentOffsets||null,f=0;if(y)for(var h=0;h<y.length-1;h++){var v=y[h+1]-y[h];v>f&&(f=v)}else f=s;var g=Math.floor(1.1*f)+1;for((null==l||l.length<2*g)&&(l=new Uint32Array(r.nextHighestPowerOfTwo(2*g))),h=0;h<2*g;h++)l[h]=0;var m=0,w=1.96,b=0!==c?Math.ceil(4*w*w/(c*c)*c*(1-c)):s,S=1,M=y?y[1]:s;for(h=0;h<s;h++){if(h===b){var x=1-m/h;if(x+w*Math.sqrt(x*(1-x)/h)<c)return null;b*=2}if(h===M){for(var T=0;T<2*g;T++)l[T]=0;M=y[++S]}for(var L=h*t,O=a(u,L,t),I=O%g,_=m;0!==l[2*I+1];){if(l[2*I]===O){var P=l[2*I+1]-1;if(n(u,L,P*t,t)){_=p[P];break}}++I>=g&&(I-=g)}_===m&&(l[2*I]=O,l[2*I+1]=h+1,m++),p[h]=_}if(0!==c&&1-m/s<c)return null;var E=new Uint32Array(t*m);for(m=0,h=0;h<s;h++)p[h]===m&&(o(u,h*t,E,m*t,t),m++);if(d){var j=new Uint32Array(d.length);for(h=0;h<j.length;h++)j[h]=p[d[h]];p=j}return{buffer:E.buffer,indices:p,uniqueCount:m}}function n(e,t,r,i){for(var n=0;n<i;n++)if(e[t+n]!==e[r+n])return!1;return!0}function o(e,t,r,i,n){for(var o=0;o<n;o++)r[i+o]=e[t+o]}function a(e,t,r){for(var i=0,n=0;n<r;n++)i=(i=e[t+n]+i|0)+(i<<11)+(i>>>2)|0;return i>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=i;var l=null;t.default=i}).apply(null,i))||(e.exports=n)},lAGb:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("sS22"),r("EUqE"),r("Vx27"),r("o2T8"),r("0RER"),r("FEX1"),r("QJ8R"),r("jr4D"),r("2Kdy")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y){return function(e){function t(t){var r=e.call(this,t)||this;return r._visibilityHandles={},r.fullExtent=void 0,r.operationalLayerType="GroupLayer",r.spatialReference=void 0,r.type="group",r._visibilityWatcher=r._visibilityWatcher.bind(r),r}return r(t,e),t.prototype.initialize=function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)},t.prototype._writeLayers=function(e,t,r,i){var n=[];if(!e)return n;e.forEach((function(e){if("write"in e&&e.write){var t=e.write(null,i);t&&t.layerType&&n.push(t)}})),t.layers=n},Object.defineProperty(t.prototype,"portalItem",{set:function(e){this._set("portalItem",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibilityMode",{set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)},enumerable:!0,configurable:!0}),t.prototype.load=function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),this.when()},t.prototype.loadAll=function(){var e=this;return a.loadAll(this,(function(t){t(e.layers)}))},t.prototype.layerAdded=function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)},t.prototype.layerRemoved=function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)},t.prototype._turnOffOtherLayers=function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))},t.prototype._enforceVisibility=function(e,t){if(u.getProperties(this).initialized){var r=this.layers,i=r.find((function(e){return e.visible}));switch(e){case"exclusive":r.length&&!i&&((i=r.getItemAt(0)).visible=!0),this._turnOffOtherLayers(i);break;case"inherited":r.forEach((function(e){e.visible=t}))}}},t.prototype._visibleWatcher=function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))},t.prototype._visibilityWatcher=function(e,t,r,i){var n=i;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(n):this._isAnyLayerVisible()||(n.visible=!0);break;case"inherited":n.visible=this.visible}},t.prototype._isAnyLayerVisible=function(){return this.layers.some((function(e){return e.visible}))},i([s.property()],t.prototype,"fullExtent",void 0),i([s.property({json:{read:!1,write:{ignoreOrigin:!0}}})],t.prototype,"layers",void 0),i([s.writer("layers")],t.prototype,"_writeLayers",null),i([s.property({type:["GroupLayer"]})],t.prototype,"operationalLayerType",void 0),i([s.property({json:{origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"portalItem",null),i([s.property()],t.prototype,"spatialReference",void 0),i([s.property({json:{read:!1},readOnly:!0,value:"group"})],t.prototype,"type",void 0),i([s.property({type:String,value:"independent",json:{write:!0}})],t.prototype,"visibilityMode",null),i([s.subclass("esri.layers.GroupLayer")],t)}(s.declared(c.OperationalLayer(d.PortalLayer(y.LayersMixin(l.MultiOriginJSONMixin(p))))))}).apply(null,i))||(e.exports=n)},oigr:function(e,t,r){var i,n;i=[r("G/ag"),r("ajsq")],void 0===(n=(function(e,t){var r=/^\s*"([\S\s]*)"\s*$/,i=/""/g,n=/"/g;function o(e,t){var r,i={},n=e.length;for(r=0;r<n;r++)i[e[r]]=t[r];return i}return t(null,{fieldNames:null,delimiter:",",newline:"\r\n",trim:!1,parse:function(t){var n,a,l,s,u,p,c,d,y=[],f=t.split(this.newline),h=this.fieldNames,v=0,g=[],m="",w="";e:for(p=0,l=f.length;p<l;p++)if(e.trim(f[p])){for(c=0,s=(n=f[p].split(this.delimiter)).length;c<s;c++){for(d=-1,m+=w+(a=n[c]),w="";(d=a.indexOf('"',d+1))>=0;)v++;if(v%2==0){if(v>0){if(!(u=r.exec(m))){console.warn("Csv: discarding row with invalid value: "+m),g=[],m="",v=0;continue e}g.push(u[1].replace(i,'"'))}else g.push(this.trim||!h?e.trim(m):m);m="",v=0}else w=this.delimiter}0===v?(h?y.push(o(h,g)):h=this.fieldNames=g,g=[]):w=this.newline}return y},toCsv:function(e){return this.stringify(this.data,e)},stringify:function(e,t){var r,i,o,a=(t=t||{}).alwaysQuote,l=this.fieldNames,s=this.delimiter,u=this.newline,p="";for(r=-1;r<e.length;r++)for(r>-1&&(p+=u),i=0;i<l.length;i++)null==(o=r<0?l[i]:e[r][l[i]])&&(o=""),"string"!=typeof o&&(o=o.toString()),p+=(i>0?s:"")+(a||o.indexOf('"')>=0||o.indexOf(s)>=0?'"'+o.replace(n,'""')+'"':o);return t.trailingNewline&&(p+=u),p}})}).apply(null,i))||(e.exports=n)},rMND:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){function r(e,t,r,i){var n=null,o=1e3;"number"==typeof t?(o=t,i=r):(n=t,o=r);var a,l=0,s=function(){l=0,e.apply(i,a)},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n&&n.apply(i,e),a=e,o?l||(l=setTimeout(s,o)):s()};return u.remove=function(){l&&(clearTimeout(l),l=0)},u.forceUpdate=function(){l&&(clearTimeout(l),s())},u.hasPendingUpdates=function(){return!!l},u}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=r,t.default=r}).apply(null,i))||(e.exports=n)},"rU+N":function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("KY0m")],void 0===(n=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._propertyOriginMap=new Map,this._originStores=new Array(7),this._values=new Map}return e.prototype.get=function(e,t){var r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0},e.prototype.keys=function(e){var t=null==e?this._values:this._originStores[e];return t?r.keysOfMap(t):[]},e.prototype.set=function(e,t,r){void 0===r&&(r=6);var i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){var n=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),n!==t}return!1},e.prototype.delete=function(e,t){void 0===t&&(t=6);var r=this._originStores[t];if(r){var i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var n=t-1;n>=0;n--){var o=this._originStores[n];if(o&&o.has(e)){this._values.set(e,o.get(e)),this._propertyOriginMap.set(e,n);break}}}return i}},e.prototype.has=function(e,t){var r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)},e.prototype.revert=function(e,t){for(;t>0&&!this.has(e,t);)--t;var r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i},e.prototype.originOf=function(e){return this._propertyOriginMap.get(e)||0},e.prototype.forEach=function(e){this._values.forEach(e)},e}();t.default=i}).apply(null,i))||(e.exports=n)},tJCi:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("lRq4"),r("hBh5"),r("ZPQp")],void 0===(n=(function(e,t,r,i,n){function o(e,t,r,i){if(null==i||e.hasZ||(i=void 0),"point"===e.type)return e.x+=t,e.y+=r,e.hasZ&&null!=i&&(e.z+=i),e;if("multipoint"===e.type){for(var o=e.points,l=0;l<o.length;l++)o[l]=a(o[l],t,r,i);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=r,e.ymax+=r,null!=i&&(e.zmin+=i,e.zmax+=i),e;for(var s=n.geometryToCoordinates(e),u="polyline"===e.type?e.paths:e.rings,p=0;p<s.length;p++){var c=s[p];for(l=0;l<c.length;l++)c[l]=a(c[l],t,r,i)}return"paths"in e?e.paths=u:e.rings=u,e}function a(e,t,r,i){return l(e,e[0]+t,e[1]+r,null!=e[2]&&null!=i?e[2]+i:void 0)}function l(e,t,r,i){var n=[t,r];return e.length>2&&n.push(null!=i?i:e[2]),e.length>3&&n.push(e[3]),n}Object.defineProperty(t,"__esModule",{value:!0}),t.move=o,t.cloneMove=function(e,t,r,i,a){var s=e.clone(),u=i.resolution;if("point"===s.type)return a?o(s,t*u,-r*u):(s.x=(d=i.state.inverseTransform)[0]*((T=(c=i.state.transform)[0]*s.x+c[2]*s.y+c[4])+t)+d[2]*((L=c[1]*s.x+c[3]*s.y+c[5])+r)+d[4],s.y=d[1]*(T+t)+d[3]*(L+r)+d[5]),s;if("multipoint"===s.type){if(a)o(s,t*u,-r*u);else for(var p=s.points,c=i.state.transform,d=i.state.inverseTransform,y=0;y<p.length;y++)p[y]=l(S=p[y],T=d[0]*((M=c[0]*S[0]+c[2]*S[1]+c[4])+t)+d[2]*((x=c[1]*S[0]+c[3]*S[1]+c[5])+r)+d[4],L=d[1]*(M+t)+d[3]*(x+r)+d[5],void 0);return s}if("extent"===s.type){if(a)o(s,t*u,-r*u);else{var f=(c=i.state.transform)[0]*s.xmin+c[2]*s.ymin+c[4],h=c[1]*s.xmin+c[3]*s.ymin+c[5],v=c[0]*s.xmax+c[2]*s.ymax+c[4],g=c[1]*s.xmax+c[3]*s.ymax+c[5];s.xmin=(d=i.state.inverseTransform)[0]*(f+t)+d[2]*(h+r)+d[4],s.ymin=d[1]*(f+t)+d[3]*(h+r)+d[5],s.xmax=d[0]*(v+t)+d[2]*(g+r)+d[4],s.ymax=d[1]*(v+t)+d[3]*(g+r)+d[5]}return s}if(a)o(s,t*u,-r*u);else{for(var m=n.geometryToCoordinates(s),w=(p="polyline"===s.type?s.paths:s.rings,c=i.state.transform,d=i.state.inverseTransform,0);w<m.length;w++){var b=m[w];for(y=0;y<b.length;y++){var S,M,x,T,L;b[y]=l(S=b[y],T=d[0]*((M=c[0]*S[0]+c[2]*S[1]+c[4])+t)+d[2]*((x=c[1]*S[0]+c[3]*S[1]+c[5])+r)+d[4],L=d[1]*(M+t)+d[3]*(x+r)+d[5],void 0)}}"paths"in s?s.paths=p:s.rings=p}return s},t.scale=function(e,t,o,a){if("point"===e.type){var s=e.x,u=e.y,p=a?a[0]:s,c=a?a[1]:u,d=e.clone(),y=(u-c)*o+c;return d.x=(s-p)*t+p,d.y=y,d}if("multipoint"===e.type){for(var f=n.geometryToCoordinates(e),h=r.create(),v=i.getRingsOrPathsBounds(h,[f]),g=a?a[0]:(v[0]+v[2])/2,m=a?a[1]:(v[3]+v[1])/2,w=e.clone(),b=w.points,S=0;S<b.length;S++)b[S]=l(k=b[S],((s=k[0])-g)*t+g,y=((u=k[1])-m)*o+m,void 0);return w}if("extent"===e.type){var M=e.xmin,x=e.xmax,T=e.ymin,L=e.ymax,O=a?a[0]:(M+x)/2,I=a?a[1]:(L+T)/2,_=e.clone();if(_.xmin=(M-O)*t+O,_.ymax=(L-I)*o+I,_.xmax=(x-O)*t+O,_.ymin=(T-I)*o+I,_.xmin>_.xmax){var P=_.xmin;_.xmin=_.xmax,_.xmax=P}if(_.ymin>_.ymax){var E=_.ymin;_.ymin=_.ymax,_.ymax=E}return _}for(var j=n.geometryToCoordinates(e),A=r.create(),G=i.getRingsOrPathsBounds(A,j),C=a?a[0]:(G[0]+G[2])/2,D=a?a[1]:(G[3]+G[1])/2,F=e.clone(),R="polyline"===F.type?F.paths:F.rings,N=0;N<j.length;N++){var U=j[N];for(S=0;S<U.length;S++){var k;R[N][S]=l(k=U[S],((s=k[0])-C)*t+C,y=((u=k[1])-D)*o+D,void 0)}}return"paths"in F?F.paths=R:F.rings=R,F},t.getScaleRatio=function(e,t,r,i,n,o){var a=Math.sqrt((r-e)*(r-e)+(i-t)*(i-t));return Math.sqrt((n-e)*(n-e)+(o-t)*(o-t))/a},t.getRotationAngle=function(e,t,r,i,n,o){var a=180*Math.atan2(t-i,e-r)/Math.PI;return 180*Math.atan2(t-o,e-n)/Math.PI-a}}).apply(null,i))||(e.exports=n)},uLAD:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("zp6E"),r("y4WC"),r("ma1f"),r("qMld"),r("FayN"),r("QmTF"),r("wGgo")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u){function p(e){switch(e.type){case"Map Service":return function(e){return d(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return y(e).then((function(e){if("object"==typeof e){var t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return e.load().then((function(){return e.fetchData()})).then((function(e){if(e&&Array.isArray(e.layers)){if(u.isMapNotesLayer(e))return{className:"MapNotesLayer"};if(1===e.layers.length)return{className:"FeatureLayer"}}return{className:"GroupLayer"}}))}(e);case"Scene Service":return function(e){return y(e).then((function(t){if("object"==typeof t){var r={},i=void 0;if(null!=t.id?(r.layerId=t.id,i=e.url+"/layers/"+t.id):i=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var n={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},o=0,a=Object.keys(n);o<a.length;o++){var l=a[o];if(-1!==e.typeKeywords.indexOf(l))return{className:n[l]}}return f(i).then((function(e){var t="SceneLayer",i={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&i[e.layerType]&&(t=i[e.layerType]),{className:t,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){return d(e).then((function(t){var r=new n(e.typeKeywords);return t?r.find((function(e){return"elevation 3d layer"===e.toLowerCase()}))?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return a.reject(new o("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function c(e){return(0,l.layerLookupMap[e.className])().then((function(t){return{constructor:t,properties:e.properties}}))}function d(e){return f(e.url).then((function(e){return e.tileInfo}))}function y(e){return!e.url||e.url.match(/\/\d+$/)?a.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(t){return t&&Array.isArray(t.layers)?1===t.layers.length&&{id:t.layers[0].id}:f(e.url).then((function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}}))}))}function f(e){return i(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fromItem=function(e){return!e.portalItem||e.portalItem instanceof s||e.portalItem.constructor&&e.portalItem.constructor._meta||(e=r({},e,{portalItem:new s(e.portalItem)})),function(e){return e.load().then(p).then(c)}(e.portalItem).then((function(t){var i=r({portalItem:e.portalItem},t.properties);return a.resolve(new(0,t.constructor)(i))}))},t.selectLayerClassPath=p}).apply(null,i))||(e.exports=n)},wGgo:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMapNotesLayer=function(e){var t=["TITLE","DESCRIPTION","IMAGE_URL","IMAGE_LINK_URL"],r=e.layers||e.featureCollection&&e.featureCollection.layers;if(r&&Array.isArray(r)){var i=r[0];return i.layerDefinition&&Array.isArray(i.layerDefinition.fields)&&i.layerDefinition.fields.forEach((function(e){var r=t.indexOf(e.name);r>-1&&t.splice(r,1)})),!t.length}}}).apply(null,i))||(e.exports=n)},wehw:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("ma1f"),r("LxLY"),r("EUqE"),r("Vx27"),r("0RER"),r("2fnV"),r("FEX1"),r("QJ8R"),r("OXmT"),r("JNpq"),r("EtsK"),r("OjNT")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v,g,m){return function(e){function t(t,r){var i=e.call(this,t)||this;return i.geometryType="mesh",i.operationalLayerType="IntegratedMeshLayer",i.type="integrated-mesh",i.nodePages=null,i.materialDefinitions=null,i.textureSetDefinitions=null,i.geometryDefinitions=null,i.serviceUpdateTimeStamp=null,i.profile="mesh-pyramids",i.elevationInfo=null,i.path=null,i}return i(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?r({url:e},t):e},t.prototype.load=function(e){var t=this,r=s.isSome(e)?e.signal:null,i=this.loadFromPortal({supportedTypes:["Scene Service"]},e).then((function(){return t._fetchService(r)}),(function(){return t._fetchService(r)})).then((function(){return t._verifyRootNodeAndUpdateExtent(t.nodePages,r)}));return this.addResolvingPromise(i),this.when()},t.prototype.validateLayer=function(e){if(e.layerType&&"IntegratedMesh"!==e.layerType)throw new l("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new l("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new l("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})},n([p.property({type:String,readOnly:!0})],t.prototype,"geometryType",void 0),n([p.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([p.property({type:["IntegratedMeshLayer"]})],t.prototype,"operationalLayerType",void 0),n([p.property({json:{read:!1},readOnly:!0})],t.prototype,"type",void 0),n([p.property({type:m.I3SNodePageDefinition,readOnly:!0})],t.prototype,"nodePages",void 0),n([p.property({type:[m.I3SMaterialDefinition],readOnly:!0})],t.prototype,"materialDefinitions",void 0),n([p.property({type:[m.I3STextureSetDefinition],readOnly:!0})],t.prototype,"textureSetDefinitions",void 0),n([p.property({type:[m.I3SGeometryDefinition],readOnly:!0})],t.prototype,"geometryDefinitions",void 0),n([p.property({readOnly:!0})],t.prototype,"serviceUpdateTimeStamp",void 0),n([p.property(g.elevationInfo)],t.prototype,"elevationInfo",void 0),n([p.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],t.prototype,"path",void 0),n([p.subclass("esri.layers.IntegratedMeshLayer")],t)}(p.declared(h.ScaleRangeLayer(v.SceneService(d.ArcGISService(y.OperationalLayer(f.PortalLayer(u.MultiOriginJSONMixin(c))))))))}).apply(null,i))||(e.exports=n)},wke2:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("2Atf"),r("Q2wQ"),r("HZ3d"),r("9opi"),r("qKT0"),r("Gtr7"),r("qMld"),r("Vx27"),r("N7S/"),r("lRq4"),r("nrlZ"),r("pMLx"),r("YaB4"),r("OQ/g"),r("M3W5"),r("f3JK")],void 0===(n=(function(e,t,r,i,n,o,a,l,s,u,p,c,d,y,f,h,v,g){var m=c.create(),w=[0,0],b=new g(0,0,0,0);return function(e){function t(t){var r=e.call(this,t)||this;return r._imagePromise=null,r.hidpi=!1,r.imageMaxWidth=2048,r.imageMaxHeight=2048,r.imageRotationSupported=!1,r.imageNormalizationSupported=!1,r.update=s.debounce((function(e,t){return n(r,void 0,void 0,(function(){var r,n,o,a,l,s,u,p,c=this;return i(this,(function(i){return n=d.getInfo((r=e.state).spatialReference),o=this.hidpi?e.pixelRatio:1,!e.stationary||this.destroyed?[2]:(this.imageRotationSupported?(w[0]=r.size[0],w[1]=r.size[1]):h.getOuterSize(w,r),a=Math.floor(w[0]*o)>this.imageMaxWidth||Math.floor(w[1]*o)>this.imageMaxHeight,l=n&&(r.extent.xmin<n.valid[0]||r.extent.xmax>n.valid[1]),s=!this.imageNormalizationSupported&&l,u=this.imageRotationSupported?r.rotation:0,a||s?(p=Math.min(this.imageMaxWidth,this.imageMaxHeight),s&&(p=Math.min(r.worldScreenWidth,p)),this._imagePromise=this._tiledExport(r,p,u,o,t)):this._imagePromise=this._singleExport(r,w,u,o,t),[2,this._imagePromise.then((function(e){c._imagePromise=null;var t=c.container.children.slice();c.container.removeAllChildren(),e.forEach(c.container.addChild,c.container),c.disposeSource&&t.forEach((function(e){c.disposeSource(e.source)}),c)})).catch((function(e){throw c._imagePromise=null,e}))])}))}))}),5e3),r}return o(t,e),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"updating",{get:function(){return null!==this._imagePromise},enumerable:!0,configurable:!0}),t.prototype.updateExports=function(e){for(var t=0,r=this.container.children;t<r.length;t++){var i=r[t];if(!i.visible||!i.attached)return;e(i)?console.error("ExportStrategy.updateExports doesn't support promise yet"):(i.invalidateTexture(),i.requestRender())}},t.prototype._export=function(e,t,r,i,n,o){var a=this;return s.resolve().then((function(){return a.fetchSource(e,Math.floor(t*n),Math.floor(r*n),{rotation:i,pixelRatio:n,signal:o})})).then((function(r){var o=new f.Bitmap(r);return o.x=e.xmin,o.y=e.ymax,o.resolution=e.width/t,o.rotation=i,o.pixelRatio=n,o}))},t.prototype._singleExport=function(e,t,r,i,n){h.getBBox(m,e.center,e.resolution,t);var o=new p(m[0],m[1],m[2],m[3],e.spatialReference);return this._export(o,t[0],t[1],r,i,n).then((function(e){return[e]}))},t.prototype._tiledExport=function(e,t,r,i,n){var o=this,a=y.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),l=new v(a),u=l.getTileCoverage(e);if(!u)return null;var c=[];return u.forEach((function(a,s,u,d){b.set(a,s,u,d),l.getTileBounds(m,b);var y=new p(m[0],m[1],m[2],m[3],e.spatialReference);c.push(o._export(y,t,t,r,i,n))})),s.all(c)},a([u.property()],t.prototype,"_imagePromise",void 0),a([u.property()],t.prototype,"container",void 0),a([u.property()],t.prototype,"disposeSource",void 0),a([u.property()],t.prototype,"fetchSource",void 0),a([u.property()],t.prototype,"hidpi",void 0),a([u.property()],t.prototype,"imageMaxWidth",void 0),a([u.property()],t.prototype,"imageMaxHeight",void 0),a([u.property()],t.prototype,"imageRotationSupported",void 0),a([u.property()],t.prototype,"imageNormalizationSupported",void 0),a([u.property()],t.prototype,"requestUpdate",void 0),a([u.property({dependsOn:["_imagePromise"]})],t.prototype,"updating",null),a([u.subclass("esri.views.2d.layers.support.ExportStrategy")],t)}(u.declared(l))}).apply(null,i))||(e.exports=n)},zBTX:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("rg9i"),r("Vx27")],void 0===(n=(function(e,t,r,i,n,o,a){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){return e.call(this,t)||this}var n;return r(t,e),n=t,t.prototype.clone=function(){return new n({customLayerParameters:o.clone(this.customLayerParameters),customParameters:o.clone(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})},i([a.property({json:{type:Object,write:!0}})],t.prototype,"customLayerParameters",void 0),i([a.property({json:{type:Object,write:!0}})],t.prototype,"customParameters",void 0),i([a.property({type:String,json:{write:!0}})],t.prototype,"layerIdentifier",void 0),i([a.property({type:String,json:{write:!0}})],t.prototype,"tileMatrixSet",void 0),i([a.property({type:String,json:{write:!0}})],t.prototype,"url",void 0),n=i([a.subclass("esri.layer.support.WMTSLayerInfo")],t)}(a.declared(n.JSONSupport));t.WMTSLayerInfo=l,t.default=l}).apply(null,i))||(e.exports=n)}}]);