!function(){function e(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,u=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw u}}}}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,a=[],u=!0,o=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(s){o=!0,i=s}finally{try{u||null==n.return||n.return()}finally{if(o)throw i}}return a}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(l){return void n(l)}o.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function o(e){i(u,r,a,o,s,"next",e)}function s(e){i(u,r,a,o,s,"throw",e)}o(void 0)})}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"136L":function(n,r,i){"use strict";var u=regeneratorRuntime.mark(M),l=regeneratorRuntime.mark(S);i.r(r),i.d(r,"csvLatitudeFieldNames",function(){return Y}),i.d(r,"csvLongitudeFieldNames",function(){return C});var c=i("wSAH"),f=i("zlDU"),d=i("4EHJ"),h=i("f4Nx"),m=i("WZb1"),v=i("l4ZG"),p=(i("4GrV"),i("Lqtk")),y=i("gYg2"),g=i("cBWO"),b=i("k5I3"),x=i("gVKr"),I=i("gLc9"),N=i("1kEK"),F=i("iNG6"),w=i("HsO1"),_=i("ZRfE"),T=i("ZBG3"),k=/^\s*"([\S\s]*)"\s*$/,E=/""/g,O=[","," ",";","|","\t"];function j(e,t){for(var n={},r=e.length,i=0;i<r;i++)n[e[i]]=t[i];return n}function M(e,t,n){var r,i,a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:r=0;case 1:if(!(r<=e.length)){u.next=10;break}if(i=e.indexOf(t,r),a=e.substring(r,i>-1?i:void 0),r+=a.length+1,u.t0=n&&!a.trim(),u.t0){u.next=8;break}return u.next=8,a;case 8:u.next=1;break;case 10:case"end":return u.stop()}},u)}function R(e){var t=e.includes("\r\n")?"\r\n":"\n";return M(e,t,!0)}function S(e,t,n){var r,i,a,u,o,s,c,f,d,h;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:r="",i="",a=0,u=[];case 1:if(o=e.next(),s=o.value,!o.done){l.next=4;break}return l.abrupt("return");case 4:c=M(s,n,!1);case 5:if(f=c.next(),d=f.value,!f.done){l.next=8;break}return l.abrupt("break",24);case 8:if(r+=i+d,i="",(a+=D(d))%2!=0){l.next=21;break}if(!(a>0)){l.next=17;break}if(h=k.exec(r)){l.next=14;break}return u=[],r="",a=0,l.abrupt("continue",31);case 14:u.push(h[1].replace(E,'"')),l.next=18;break;case 17:u.push(r);case 18:r="",a=0,l.next=22;break;case 21:i=n;case 22:l.next=5;break;case 24:if(0!==a){l.next=30;break}return l.next=27,j(t,u);case 27:u=[],l.next=31;break;case 30:i="\n";case 31:l.next=1;break;case 33:case"end":return l.stop()}},l)}function D(e){var t=0,n=0;for(n=e.indexOf('"',n);n>=0;)t++,n=e.indexOf('"',n+1);return t}var P,Z,V,q,A=Object(F.c)("esriGeometryPoint"),G=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],Y=["lat","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point-y"],C=["lon","lng","long","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point-x"],z=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,L=["csv"],Q=[0,0],J=function e(t,n){s(this,e),this.x=t,this.y=n},$=(P=Object(g.a)(),Z=new RegExp("^"+P.regexp+"$"),V=new RegExp("["+P.group+"\\s\\xa0]","g"),q=P.factor,function(e){var t=Z.exec(e);if(P.factor=q,!t)return NaN;var n=t[1];if(!t[1]){if(!t[2])return NaN;n=t[2],P.factor*=-1}return+(n=n.replace(V,"").replace(P.decimal,"."))*P.factor}),X="isInteger"in Number?Number.isInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};r.default=function(){function n(){s(this,n),this._fieldsIndex=null,this._queryEngine=null}var r,i,u,l;return o(n,[{key:"destroy",value:function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}},{key:"load",value:(l=a(regeneratorRuntime.mark(function e(n){var r,i,a,u,o,s,l,c,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:{},e.next=3,Promise.all([this._fetch(n.url,r),this._checkProjection(r&&n.parsing&&n.parsing.spatialReference)]);case 3:return i=e.sent,a=t(i,1),u=a[0],o=this._parse(u,n),this._queryEngine=this._createQueryEngine(u,o),o.layerDefinition.extent=this._queryEngine.fullExtent,o.layerDefinition.timeInfo&&(s=this._queryEngine.timeExtent,l=s.start,c=s.end,o.layerDefinition.timeInfo.timeExtent=[l,c]),e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"applyEdits",value:(u=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new f.a("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer");case 1:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)})},{key:"queryFeatures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQuery(e,t.signal)}},{key:"queryFeatureCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForCount(e,t.signal)}},{key:"queryObjectIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForIds(e,t.signal)}},{key:"queryExtent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForExtent(e,t.signal)}},{key:"querySnapping",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForSnapping(e,t.signal)}},{key:"_fetch",value:(i=a(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new f.a("csv-source:invalid-source","url not defined");case 2:return r=Object(d.J)(t),e.next=5,Object(p.default)(r.path,{query:r.query,responseType:"text",signal:n.signal});case 5:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"_parse",value:function(t,n){var r=n.parsing||{},i={columnDelimiter:r.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:r.latitudeField,longitudeFieldName:r.longitudeField}},a=R(t),u=a.next().value;if(!u)throw new f.a("csv","CSV is empty",{csv:t});if(u=u.trim(),!r.columnDelimiter){var o=function(t){var n,r=t.trim(),i=0,a="",u=e(O);try{for(u.s();!(n=u.n()).done;){var o=n.value,s=r.split(o).length;s>i&&(i=s,a=o)}}catch(l){u.e(l)}finally{u.f()}return""===a?null:a}(u);if(!o)throw new f.a("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");i.columnDelimiter=o}var s=u.split(i.columnDelimiter),l=i.layerDefinition={name:Object(d.k)(n.url,L)||"csv",drawingInfo:A,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:r.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:r.spatialReference||{wkid:102100}}};if(!r.latitudeField||!r.longitudeField){var c=this._inferLocationInfo(s);if(!r.longitudeField&&!c.longitudeFieldName||!r.latitudeField&&!c.latitudeFieldName)throw new f.a("csv","Unable to identify latitudeField and/or longitudeField from CSV");i.locationInfo={longitudeFieldName:r.longitudeField||c.longitudeFieldName,latitudeFieldName:r.latitudeField||c.latitudeFieldName}}var h=this._inferFields(a,i.columnDelimiter,s,i.locationInfo);if(r.fields&&r.fields.length){var m,v=new Map,p=e(r.fields);try{for(p.s();!(m=p.n()).done;){var y=m.value;v.set(y.name.toLowerCase(),y)}}catch(j){p.e(j)}finally{p.f()}var g,b=e(h);try{for(b.s();!(g=b.n()).done;){var x=g.value,N=v.get(x.name.toLowerCase());if(N){var F=x.name;Object.assign(x,N),x.name=F}}}catch(j){b.e(j)}finally{b.f()}}if(l.fields=h,!l.fields.some(function(e){return"esriFieldTypeOID"===e.type&&(l.objectIdField=e.name,!0)})){var w={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};l.objectIdField=w.name,l.fields.unshift(w)}if(this._fieldsIndex=new I.a(l.fields),l.timeInfo){var _=l.timeInfo;if(_.startTimeField){var T=this._fieldsIndex.get(_.startTimeField);T?(_.startTimeField=T.name,T.type="esriFieldTypeDate"):_.startTimeField=null}if(_.endTimeField){var k=this._fieldsIndex.get(_.endTimeField);k?(_.endTimeField=k.name,k.type="esriFieldTypeDate"):_.endTimeField=null}if(_.trackIdField){var E=this._fieldsIndex.get(_.trackIdField);_.trackIdField=E?E.name:null}_.startTimeField||_.endTimeField||(l.timeInfo=null)}return i}},{key:"_inferLocationInfo",value:function(e){var t=null,n=null,r=function(t){return e.find(function(e){return e.toLowerCase()===t})};return C.some(function(e){return!!(t=r(e))}),Y.some(function(e){return!!(n=r(e))}),{longitudeFieldName:t,latitudeFieldName:n}}},{key:"_inferFields",value:function(t,n,r,i){var a=this,u=[],o=S(t,r,n),s=[];e:for(;s.length<10;){var l=o.next(),c=l.value;if(l.done)break e;s.push(c)}var f,d=e(r);try{var h=function(){var e=f.value;if(e===i.longitudeFieldName||e===i.latitudeFieldName)u.push({name:e,type:"esriFieldTypeDouble",alias:e});else{var t=s.map(function(t){return t[e]}),n=a._inferFieldType(t),r={name:e,type:null,alias:e};switch(n){case"integer":r.type="esriFieldTypeInteger";break;case"double":r.type="esriFieldTypeDouble";break;case"date":r.type="esriFieldTypeDate",r.length=36;break;default:r.type="esriFieldTypeString",r.length=255}u.push(r)}};for(d.s();!(f=d.n()).done;)h()}catch(m){d.e(m)}finally{d.f()}return u}},{key:"_inferFieldType",value:function(e){var t=this;if(!e.length)return"string";var n=/[^+-.,0-9]/;return e.map(function(e){var r=!1;if(""!==e){if(n.test(e))r=!0;else{var i=$(e);if(!isNaN(i))return/[.,]/.test(e)||!X(i)||i>214783647||i<-214783648?"double":"integer";if(-1===e.indexOf("E"))r=!0;else{if(i=Number(e),!isNaN(i))return"double";if(-1===e.indexOf(","))r=!0;else{if(e=e.replace(",","."),i=Number(e),!isNaN(i))return"double";r=!0}}}if(r){if(!/^[-]?\d*[.,]?\d*$/.test(e)){var a=new Date(e);return t._isValidDate(a,e)?"date":"string"}return"string"}return"string"}}).reduce(function(e,t){return void 0===e||e===t?t:"string"===e||"string"===t?"string":"double"===e||"double"===t?"double":void 0})}},{key:"_isValidDate",value:function(e,t){if(!e||"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))return!1;var n=!0;if(Object(c.a)("chrome")&&/\d+\W*$/.test(t)){var r=t.match(/[a-zA-Z]{2,}/);if(r){for(var i=!1,a=0;!i&&a<=r.length;)i=!z.test(r[a]),a++;n=!i}}return n}},{key:"_createQueryEngine",value:function(n,r){var i,a=r.locationInfo,u=a.latitudeFieldName,o=a.longitudeFieldName,s=r.layerDefinition,l=s.objectIdField,c=s.fields,f=s.extent,d=s.timeInfo,p=[],g=[],I=new Set,F=new Set,w=[],k=e(c);try{for(k.s();!(i=k.n()).done;){var E=i.value,O=E.name,j=E.type;"esriFieldTypeDate"===j?I.add(O):G.indexOf(j)>-1&&F.add(O),O!==l&&w.push(O)}}catch(ae){k.e(ae)}finally{k.f()}var M=0,D=R(n);D.next();var P=S(D,w,r.columnDelimiter);e:for(;;){var Z=P.next(),V=Z.value;if(Z.done)break e;var q=this._parseCoordinateValue(V[u]),A=this._parseCoordinateValue(V[o]);if(null!=A&&null!=q&&!isNaN(q)&&!isNaN(A)){for(var Y in V[u]=q,V[o]=A,V)if(Y!==u&&Y!==o)if(I.has(Y)){var C=new Date(V[Y]);V[Y]=this._isValidDate(C,V[Y])?C.getTime():null}else if(F.has(Y)){var z=$(V[Y]);V[Y]=isNaN(z)?null:z}V[l]=M,M++,p.push(new J(A,q)),g.push(V)}}if(!Object(h.c)({wkid:4326},f.spatialReference))if(Object(h.m)(f.spatialReference)){var L,X=e(p);try{for(X.s();!(L=X.n()).done;){var B=L.value,H=t(Object(v.c)(B.x,B.y,Q),2);B.x=H[0],B.y=H[1]}}catch(ae){X.e(ae)}finally{X.f()}}else p=Object(y.m)(N.a,p,m.a.WGS84,f.spatialReference,null);for(var K=new _.a({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1}),U=new T.a({fields:r.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:d,objectIdField:l,spatialReference:f.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:K}),W=[],ee=0;ee<p.length;ee++){var te=p[ee],ne=te.x,re=te.y,ie=g[ee];ie[l]=ee+1,W.push(new b.a(new x.a([],[ne,re]),ie,null,ie[l]))}return K.addMany(W),U}},{key:"_parseCoordinateValue",value:function(e){if(null==e||""===e)return null;var t=$(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}},{key:"_checkProjection",value:(r=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(w.a)(h.a,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new f.a("csv-layer","Projection not supported");case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(e){return r.apply(this,arguments)})}]),n}()},"1kEK":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={convertToGEGeometry:function(e,t){return null==t?null:e.convertJSONToGeometry(t)},exportPoint:function(e,t,n){var r=new i(e.getPointX(t),e.getPointY(t),n),a=e.hasZ(t),u=e.hasM(t);return a&&(r.z=e.getPointZ(t)),u&&(r.m=e.getPointM(t)),r},exportPolygon:function(e,t,n){return new a(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportPolyline:function(e,t,n){return new u(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))},exportMultipoint:function(e,t,n){return new o(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))},exportExtent:function(e,t,n){var r=e.hasZ(t),i=e.hasM(t),a=new l(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(r){var u=e.getZExtent(t);a.zmin=u.vmin,a.zmax=u.vmax}if(i){var o=e.getMExtent(t);a.mmin=o.vmin,a.mmax=o.vmax}return a}},i=function e(t,n,r){s(this,e),this.x=t,this.y=n,this.spatialReference=r,this.z=void 0,this.m=void 0},a=function e(t,n,r,i){s(this,e),this.rings=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)},u=function e(t,n,r,i){s(this,e),this.paths=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)},o=function e(t,n,r,i){s(this,e),this.points=t,this.spatialReference=n,this.hasZ=void 0,this.hasM=void 0,r&&(this.hasZ=r),i&&(this.hasM=i)},l=function e(t,n,r,i,a){s(this,e),this.xmin=t,this.ymin=n,this.xmax=r,this.ymax=i,this.spatialReference=a,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}},"2X7Z":function(t,n,r){"use strict";function i(e,t){return e?t?4:3:t?3:2}function a(t,n,r,a,s){if(!n||!n.lengths.length)return null;var l="upperLeft"===(null==s?void 0:s.originPosition)?-1:1;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);var c,f=t.coords,d=[],h=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],m=n.lengths,v=n.coords,p=i(r,a),y=0,g=e(m);try{for(g.s();!(c=g.n()).done;){var b=c.value,x=u(h,v,y,b,r,a,l);x&&d.push(x),y+=b*p}}catch(F){g.e(F)}finally{g.f()}if(d.sort(function(e,t){var n=l*e[2]-l*t[2];return 0===n&&r&&(n=e[4]-t[4]),n}),d.length){var I=6*d[0][2];f[0]=d[0][0]/I,f[1]=d[0][1]/I,r&&(I=6*d[0][4],f[2]=0!==I?d[0][3]/I:0),(f[0]<h[0]||f[0]>h[1]||f[1]<h[2]||f[1]>h[3]||r&&(f[2]<h[4]||f[2]>h[5]))&&(f.length=0)}if(!f.length){var N=n.lengths[0]?o(v,0,m[0],r,a):null;if(!N)return null;f[0]=N[0],f[1]=N[1],r&&N.length>2&&(f[2]=N[2])}return t}function u(e,t,n,r,a,u){for(var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=i(a,u),l=n,c=n+s,f=0,d=0,h=0,m=0,v=0,p=0,y=r-1;p<y;p++,l+=s,c+=s){var g=t[l],b=t[l+1],x=t[l+2],I=t[c],N=t[c+1],F=t[c+2],w=g*N-I*b;m+=w,f+=(g+I)*w,d+=(b+N)*w,a&&(h+=(x+F)*(w=g*F-I*x),v+=w),g<e[0]&&(e[0]=g),g>e[1]&&(e[1]=g),b<e[2]&&(e[2]=b),b>e[3]&&(e[3]=b),a&&(x<e[4]&&(e[4]=x),x>e[5]&&(e[5]=x))}if(m*o>0&&(m*=-1),v*o>0&&(v*=-1),!m)return null;var _=[f,d,.5*m];return a&&(_[3]=h,_[4]=.5*v),_}function o(e,t,n,r,a){for(var u=i(r,a),o=t,d=t+u,h=0,m=0,v=0,p=0,y=0,g=n-1;y<g;y++,o+=u,d+=u){var b=e[o],x=e[o+1],I=e[o+2],N=e[d],F=e[d+1],w=e[d+2],_=r?l(b,x,I,N,F,w):s(b,x,N,F);if(_)if(h+=_,r){var T=f(b,x,I,N,F,w);m+=_*T[0],v+=_*T[1],p+=_*T[2]}else{var k=c(b,x,N,F);m+=_*k[0],v+=_*k[1]}}return h>0?r?[m/h,v/h,p/h]:[m/h,v/h]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function s(e,t,n,r){var i=n-e,a=r-t;return Math.sqrt(i*i+a*a)}function l(e,t,n,r,i,a){var u=r-e,o=i-t,s=a-n;return Math.sqrt(u*u+o*o+s*s)}function c(e,t,n,r){return[e+.5*(n-e),t+.5*(r-t)]}function f(e,t,n,r,i,a){return[e+.5*(r-e),t+.5*(i-t),n+.5*(a-n)]}r.d(n,"a",function(){return a})},HsO1:function(n,r,i){"use strict";i.d(r,"a",function(){return p}),i.d(r,"b",function(){return x}),i.d(r,"c",function(){return N});var u=i("f4Nx"),l=i("l4ZG"),c=i("gYg2"),f=i("1kEK"),d=[0,0];function h(e,n){if(!n)return null;if("x"in n){var r,i={x:0,y:0};return r=t(e(n.x,n.y,d),2),i.x=r[0],i.y=r[1],null!=n.z&&(i.z=n.z),null!=n.m&&(i.m=n.m),i}if("xmin"in n){var a,u,o={xmin:0,ymin:0,xmax:0,ymax:0};return a=t(e(n.xmin,n.ymin,d),2),o.xmin=a[0],o.ymin=a[1],u=t(e(n.xmax,n.ymax,d),2),o.xmax=u[0],o.ymax=u[1],n.hasZ&&(o.zmin=n.zmin,o.zmax=n.zmax,o.hasZ=!0),n.hasM&&(o.mmin=n.mmin,o.mmax=n.mmax,o.hasM=!0),o}return"rings"in n?{rings:m(n.rings,e),hasM:n.hasM,hasZ:n.hasZ}:"paths"in n?{paths:m(n.paths,e),hasM:n.hasM,hasZ:n.hasZ}:"points"in n?{points:v(n.points,e),hasM:n.hasM,hasZ:n.hasZ}:void 0}function m(t,n){var r,i=[],a=e(t);try{for(a.s();!(r=a.n()).done;){var u=r.value;i.push(v(u,n))}}catch(o){a.e(o)}finally{a.f()}return i}function v(t,n){var r,i=[],a=e(t);try{for(a.s();!(r=a.n()).done;){var u=r.value,o=n(u[0],u[1],[0,0]);i.push(o),u.length>2&&o.push(u[2]),u.length>3&&o.push(u[3])}}catch(s){a.e(s)}finally{a.f()}return i}function p(e,t){return y.apply(this,arguments)}function y(){return(y=a(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=Array.isArray(t)?t.map(function(e){var t;return null==(t=e.geometry)?void 0:t.spatialReference}):[t],e.next=5,Object(c.f)(r.map(function(e){return{source:e,dest:n}}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=h.bind(null,l.c),b=h.bind(null,l.f);function x(e,t,n){return e?(n||(n=t,t=e.spatialReference),Object(u.i)(t)&&Object(u.i)(n)&&!Object(u.c)(t,n)?Object(l.a)(t,n)?Object(u.m)(n)?g(e):b(e):Object(c.m)(f.a,[e],t,n,null)[0]:e):e}var I=new(function(){function e(){s(this,e),this._jobs=[],this._timer=null,this._process=this._process.bind(this)}var t;return o(e,[{key:"push",value:(t=a(regeneratorRuntime.mark(function e(t,n,r){var i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!t||!t.length||!n||!r||Object(u.c)(n,r),i={geometries:t,inSpatialReference:n,outSpatialReference:r,resolve:null},e.abrupt("return",(this._jobs.push(i),new Promise(function(e){i.resolve=e,null===a._timer&&(a._timer=setTimeout(a._process,10))})));case 3:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"_process",value:function(){this._timer=null;var e=this._jobs.shift();if(e){var t=e.geometries,n=e.inSpatialReference,r=e.outSpatialReference,i=e.resolve;Object(l.a)(n,r)?Object(u.m)(r)?i(t.map(g)):i(t.map(b)):i(Object(c.m)(f.a,t,n,r,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}}]),e}());function N(e,t,n){return F.apply(this,arguments)}function F(){return(F=a(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.push(t,n,r));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}},RjdO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("X2wA"),i=Object(r.b)(function(e){var t;void 0!==(t=function(){function e(n,r,i,a,u){for(;a>i;){if(a-i>600){var o=a-i+1,s=r-i+1,l=Math.log(o),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-s*c/o+f)),Math.min(a,Math.floor(r+(o-s)*c/o+f)),u)}var d=n[r],h=i,m=a;for(t(n,i,r),u(n[a],d)>0&&t(n,i,a);h<m;){for(t(n,h,m),h++,m--;u(n[h],d)<0;)h++;for(;u(n[m],d)>0;)m--}0===u(n[i],d)?t(n,i,m):t(n,++m,a),m<=r&&(i=m+1),r<=m&&(a=m-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,i,a,u){e(t,r,i||0,a||t.length-1,u||n)}}())&&(e.exports=t)})}}])}();