(function(){(this||window).webpackJsonp.registerAbsMids({"arcgis-js-api/tasks/support/ParameterValue":"2hSz","esri/views/2d/layers/features/processors/BaseProcessor":"68TM","esri/portal/support/layersLoader":"6hwa","arcgis-js-api/layers/support/DimensionalDefinition":"7Rj3","arcgis-js-api/layers/support/RasterFunction":"97bx","esri/layers/graphics/sources/geojson/geojson":"9K5t","arcgis-js-api/views/2d/layers/BitmapTileLayerView2D":"APHm","esri/core/number":"AcGV","arcgis-js-api/layers/support/TilemapCache":"Cobz","esri/layers/support/TilemapCache":"Cobz","esri/layers/graphics/sources/support/clientSideDefaults":"DaHD","arcgis-js-api/tasks/support/GPMessage":"EEGM","arcgis-js-api/layers/support/lazyLayerLoader":"FayN","esri/layers/support/lazyLayerLoader":"FayN","arcgis-js-api/layers/support/kmlUtils":"N3Jt","arcgis-js-api/portal/support/jsonContext":"OECU","esri/portal/support/jsonContext":"OECU","arcgis-js-api/views/2d/viewStateUtils":"OQ/g","arcgis-js-api/tasks/Geoprocessor":"PboI","esri/tasks/Geoprocessor":"PboI","arcgis-js-api/portal/support/layersCreator":"RDRC","arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer":"Rt18","esri/tasks/mixins/NAServiceDescription":"SA66","arcgis-js-api/tasks/mixins/NAServiceDescription":"SA66","arcgis-js-api/layers/support/RasterJobHandler":"T/jF","arcgis-js-api/views/draw/support/input/GraphicMoverEvents":"TD84","arcgis-js-api/tasks/support/DataFile":"UCD/","arcgis-js-api/layers/support/ExportWMSImageParameters":"UDyV","esri/tasks/support/NAMessage":"VIp5","arcgis-js-api/tasks/support/NAMessage":"VIp5","arcgis-js-api/layers/support/ExportImageParameters":"VTDq","arcgis-js-api/tasks/support/JobInfo":"WTfr","arcgis-js-api/portal/support/portalItemUtils":"WYOF","esri/portal/support/portalItemUtils":"WYOF","arcgis-js-api/layers/mixins/ArcGISCachedService":"WhPF","esri/layers/mixins/ArcGISCachedService":"WhPF","arcgis-js-api/layers/support/rasterDatasets/RawBlockCache":"XOvD","arcgis-js-api/layers/support/imageryRendererUtils":"YM6P","esri/core/queryUtils":"a4MF","arcgis-js-api/core/queryUtils":"a4MF","arcgis-js-api/layers/support/serviceTileInfoProperty":"ddAr","esri/layers/support/serviceTileInfoProperty":"ddAr","arcgis-js-api/layers/support/rasterDatasets/EphemeralBlockCache":"dhsc","arcgis-js-api/views/draw/support/GraphicMover":"i6zL","arcgis-js-api/core/libs/gl-matrix-2/factories/vec3f32":"iHt0","esri/layers/graphics/sources/support/sourceUtils":"jJpZ","arcgis-js-api/layers/support/MapImage":"kBlY","arcgis-js-api/tasks/support/LinearUnit":"lbAP","esri/tasks/support/DirectionsFeatureSet":"mEoI","arcgis-js-api/tasks/support/DirectionsFeatureSet":"mEoI","arcgis-js-api/layers/support/rasterFunctions/rasterProjectionHelper":"mnow","arcgis-js-api/portal/support/featureCollectionUtils":"pOAQ","arcgis-js-api/views/2d/engine/vectorTiles/TileIndex":"soIt","esri/geometry/geometryEngineJSON":"tNTp","arcgis-js-api/portal/support/portalLayers":"uLAD","esri/portal/support/portalLayers":"uLAD","esri/core/libs/gl-matrix-2/vec3f32":"vlC2","arcgis-js-api/core/libs/gl-matrix-2/vec3f32":"vlC2","arcgis-js-api/tasks/support/RasterData":"wQ6y","arcgis-js-api/views/2d/layers/support/ExportStrategy":"wke2","arcgis-js-api/layers/support/wmsUtils":"xii5","esri/layers/support/Tilemap":"xojL"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1xFi":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("ma1f"),r("Qwus"),r("xuSL"),r("3k9p"),r("2Kdy")],void 0===(i=(function(e,t,r,n,i,a,o,s){function l(e,t){return void 0===e&&(e=null),r.__awaiter(this,void 0,void 0,(function(){var s;return r.__generator(this,(function(r){switch(r.label){case 0:if(n.geometryServiceUrl)return[2,new o({url:n.geometryServiceUrl})];if(!e)throw new i("internal:geometry-service-url-not-configured");return[4,(s="portal"in e?e.portal||a.getDefault():e).load({signal:t})];case 1:if(r.sent(),s.helperServices&&s.helperServices.geometry&&s.helperServices.geometry.url)return[2,new o({url:s.helperServices.geometry.url})];throw new i("internal:geometry-service-url-not-configured")}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=l,t.projectGeometry=function(e,t,n,a){return void 0===n&&(n=null),r.__awaiter(this,void 0,void 0,(function(){var o,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,l(n,a)];case 1:return o=r.sent(),(u=new s).geometries=[e],u.outSpatialReference=t,[4,o.project(u,{signal:a})];case 2:if((c=r.sent())&&Array.isArray(c)&&1===c.length)return[2,c[0]];throw new i("internal:geometry-service-projection-failed")}}))}))}}).apply(null,n))||(e.exports=i)},"2hSz":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,a){var o=new n.default({GPBoolean:"boolean",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",GPField:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string","GPMultiValue:GPBoolean":"multi-value","GPMultiValue:GPDataFile":"multi-value","GPMultiValue:GPDate":"multi-value","GPMultiValue:GPDouble":"multi-value","GPMultiValue:GPFeatureRecordSetLayer":"multi-value","GPMultiValue:GPField":"multi-value","GPMultiValue:GPLinearUnit":"multi-value","GPMultiValue:GPLong":"multi-value","GPMultiValue:GPRasterData":"multi-value","GPMultiValue:GPRasterDataLayer":"multi-value","GPMultiValue:GPRecordSet":"multi-value","GPMultiValue:GPString":"multi-value"});return function(e){function t(t){var r=e.call(this,t)||this;return r.dataType=null,r.value=null,r}return r.__extends(t,e),r.__decorate([a.property({json:{read:o.read,write:o.write}})],t.prototype,"dataType",void 0),r.__decorate([a.property()],t.prototype,"value",void 0),r.__decorate([a.subclass("esri.tasks.support.ParameterValue")],t)}(i.JSONSupport)}).apply(null,n))||(e.exports=i)},"68TM":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.initialize=function(){},t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"supportsTileUpdates",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spatialReference",{get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null},enumerable:!0,configurable:!0}),r.__decorate([i.property({readOnly:!0})],t.prototype,"supportsTileUpdates",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"remoteClient",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"service",void 0),r.__decorate([i.property({dependsOn:["tileStore.tileScheme.spatialReference"]})],t.prototype,"spatialReference",null),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileInfo",void 0),r.__decorate([i.property({constructOnly:!0})],t.prototype,"tileStore",void 0),r.__decorate([i.subclass("esri.views.2d.layers.features.processors.BaseProcessor")],t)}(n.HandleOwner);t.default=a}).apply(null,n))||(e.exports=i)},"6hwa":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("qMld"),r("FayN"),r("Qwus"),r("OECU"),r("PhdM")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u){function c(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,a,o,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:return a=(i=(n=e.instance).portalItem).url,o=i.title,s=l.createForItem(i),"group"===n.type?(n.read({title:o},s),[2,p(n,e)]):(a&&n.read({url:a},s),[4,f(e,t)]);case 1:return(c=r.sent())&&n.read(c,s),n.resourceReferences={portalItem:i,paths:s.readResourcePaths},n.read({title:o},s),[2,u.loadStyleRenderer(n,s)]}}))}))}function p(e,t){var r,s,l=e.portalItem.type;switch(l){case"Feature Service":r=o.layerLookupMap.FeatureLayer;break;case"Stream Service":r=o.layerLookupMap.StreamLayer;break;case"Scene Service":r=o.layerLookupMap.SceneLayer;break;case"Feature Collection":r=o.layerLookupMap.FeatureLayer;break;default:throw new i("portal:unsupported-item-type-as-group","The item type '"+l+"' is not supported as a 'GroupLayer'")}return r().then((function(e){return s=e,f(t)})).then((function(t){return t&&Array.isArray(t.layers)?d(e,s,t):function(e,t){return e.portalItem.url?n(e.portalItem.url,{responseType:"json",query:{f:"json"}}).then((function(r){var n=r.data;if(n&&Array.isArray(n.layers)){var i=n.layers.map((function(e){return{id:e.id,name:e.name}}));return d(e,t,{layers:i})}})):a.resolve()}(e,s)}))}function d(e,t,r){var n=r.showLegend,i=r.layers.slice();i.reverse(),i.forEach((function(r){var i=new t({portalItem:e.portalItem,layerId:r.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){var a={origin:"portal-item",portal:e.portalItem.portal||s.getDefault()};i.read(r,a),null!=n&&i.read({showLegend:n},a)}e.add(i)}))}function f(e,t){if(!1===e.supportsData)return a.resolve();var r=e.instance;return r.portalItem.fetchData("json",t).catch((function(){return null})).then((function(e){var t,n=e;if(function(e){return"stream"!==e.type&&"layerId"in e}(r)){var i=!0;if(e&&Array.isArray(n.layers)){null==r.layerId&&(r.layerId=n.layers[0].id);for(var a=0;a<n.layers.length;a++)if(n.layers[a].id===r.layerId){t=n.layers[a];break}t&&(1===n.layers.length&&(i=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))}return i&&"service-name"!==r.sublayerTitleMode&&(r.sublayerTitleMode="item-title-and-service-name"),t}return e}))}Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=e.instance.portalItem)&&n.id?[4,n.load(t)]:[2,a.resolve()];case 1:return r.sent(),function(e){var t=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(t.type))throw new i("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:t.type,expectedType:e.supportedTypes.join(", ")})}(e),[2,c(e,t)]}}))}))}}).apply(null,n))||(e.exports=i)},"7Rj3":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("rg9i"),r("Vx27"),r("1dvD")],void 0===(i=(function(e,t,r,n,i,a,o){return function(e){function t(t){var r=e.call(this,t)||this;return r.variableName=null,r.dimensionName=null,r.values=[],r.isSlice=!1,r}var n;return r.__extends(t,e),n=t,t.prototype.clone=function(){return new n({variableName:this.variableName,dimensionName:this.dimensionName,values:i.clone(this.values),isSlice:this.isSlice})},r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"variableName",void 0),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"dimensionName",void 0),r.__decorate([a.property({type:o.types.array(o.types.oneOf([o.types.native(Number),o.types.array(o.types.native(Number))])),json:{write:!0}})],t.prototype,"values",void 0),r.__decorate([a.property({type:Boolean,json:{write:!0}})],t.prototype,"isSlice",void 0),n=r.__decorate([a.subclass("esri.layers.support.DimensionalDefinition")],t)}(n.JSONSupport)}).apply(null,n))||(e.exports=i)},"97bx":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("rg9i"),r("ULaq"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,a,o){var s,l=a.SetFromValues(["Raster","Raster2","DEM","FillRaster"]),u=a.SetFromValues(["Rasters"]),c=function(e){return e&&e.rasterFunction?d.fromJSON(e):e},p=function(e){return e&&e instanceof d?e.toJSON():e};!function(e){e[e.MOSAIC=0]="MOSAIC",e[e.GROUP=1]="GROUP",e[e.ITEM=2]="ITEM"}(s||(s={}));var d=function(e){function t(t){var r=e.call(this,t)||this;return r.functionArguments=null,r.functionName=null,r.outputPixelType="unknown",r.variableName=null,r.description=null,r.functionDefinition=null,r.thumbnail=null,r}var n;return r.__extends(t,e),n=t,t.prototype.readFunctionArguments=function(e,t){return function(e){if(null==e)return null;for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t[i]=l.has(i)?c(e[i]):u.has(i)&&Array.isArray(e[i])?e[i].map(c):e[i]}return t}(t.arguments||t.rasterFunctionArguments)},t.prototype.writeFunctionArguments=function(e,t,r){for(var n={},i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];n[o]=l.has(o)?p(e[o]):u.has(o)&&Array.isArray(e[o])?e[o].map(p):p(e[o])}this.functionDefinition?t.arguments=n:t[r]=n},t.prototype.readFunctionName=function(e,t){var r=t.rasterFunctionInfos;return t.name||(r&&r.length&&"None"!==r[0].name?r[0].name:t.rasterFunction)},t.prototype.writeFunctionName=function(e,t,r){this.functionDefinition?t.name=e:t[r]=e},t.prototype.readFunctionType=function(e){return s[e]},t.prototype.writeFunctionType=function(e,t,r){t[r]=s[e]},t.prototype.clone=function(){return new n({functionName:this.functionName,functionArguments:i.clone(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,name:this.functionName,description:this.description,functionType:this.functionType,functionDefinition:this.functionDefinition,thumbnail:this.thumbnail})},r.__decorate([o.property({json:{type:Object,write:{target:"rasterFunctionArguments"}}})],t.prototype,"functionArguments",void 0),r.__decorate([o.reader("functionArguments",["rasterFunctionArguments","arguments"])],t.prototype,"readFunctionArguments",null),r.__decorate([o.writer("functionArguments")],t.prototype,"writeFunctionArguments",null),r.__decorate([o.property({json:{type:String,write:{target:"rasterFunction"}}})],t.prototype,"functionName",void 0),r.__decorate([o.reader("functionName",["rasterFunction","rasterFunctionInfos","name"])],t.prototype,"readFunctionName",null),r.__decorate([o.writer("functionName")],t.prototype,"writeFunctionName",null),r.__decorate([o.enumeration({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),o.property({json:{default:"unknown"}})],t.prototype,"outputPixelType",void 0),r.__decorate([o.property({type:String,json:{read:!0,write:!0}})],t.prototype,"variableName",void 0),r.__decorate([o.property({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"description",void 0),r.__decorate([o.property({json:{origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"functionType",void 0),r.__decorate([o.reader("functionType")],t.prototype,"readFunctionType",null),r.__decorate([o.writer("functionType")],t.prototype,"writeFunctionType",null),r.__decorate([o.property({type:Object,json:{read:{source:"function"},write:{target:"function"},origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"functionDefinition",void 0),r.__decorate([o.property({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"thumbnail",void 0),n=r.__decorate([o.subclass("esri.layers.support.RasterFunction")],t)}(n.JSONSupport);return d}).apply(null,n))||(e.exports=i)},"9K5t":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("/COu"),r("Jvs9")],void 0===(i=(function(e,t,r,n,i,a){Object.defineProperty(t,"__esModule",{value:!0});var o={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function s(e){var t,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:switch(e.type){case"Feature":return[3,1];case"FeatureCollection":return[3,3]}return[3,7];case 1:return[4,e];case 2:return r.sent(),[3,7];case 3:t=0,n=e.features,r.label=4;case 4:return t<n.length?(i=n[t])?[4,i]:[3,6]:[3,7];case 5:r.sent(),r.label=6;case 6:return t++,[3,4];case 7:return[2]}}))}function l(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function u(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function c(e,t,r){var n=u(t);l(n)?d(e,n,r):f(e,n,r)}function p(e,t,r){var n=u(t);l(n)?f(e,n,r):d(e,n,r)}function d(e,t,r){for(var n=0,i=t;n<i.length;n++)y(e,i[n],r);e.lengths.push(t.length)}function f(e,t,r){for(var n=t.length-1;n>=0;n--)y(e,t[n],r);e.lengths.push(t.length)}function y(e,t,r){var n=t[2];e.coords.push(t[0],t[1]),r.hasZ&&e.coords.push(n||0)}function h(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}t.validateGeoJSON=function(e){if(!e)throw new n("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new n("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!i.test(r))throw new n("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}},t.inferLayerProperties=function(e,t){void 0===t&&(t={});for(var n=s(e),i=[],a=new Set,l=new Set,u=!1,c=Number.NEGATIVE_INFINITY,p=null,d=!1,f=void 0,y=t.geometryType,v=void 0===y?null:y,m=!1,g=function(){var e,t,s=n.next(),y=s.value;if(s.done){var g=p&&1===p.length&&p[0]||null;if(g)for(var _=0,b=i;_<b.length;_++){var w=b[_];w.name===g&&(w.type="esriFieldTypeOID")}return{value:{fields:i,geometryType:v,hasZ:u,maxObjectId:Math.max(0,c),objectIdFieldName:g,objectIdFieldType:f,unknownFields:(e=l,t=[],e.forEach((function(e){return t.push(e)})),t)}}}var x=y.geometry,S=y.properties,L=y.id;if(x&&(v||(v=o[x.type]),o[x.type]!==v))return"continue";if(!u){var M=function(e){var t,n,i,a,o,s;return r.__generator(this,(function(l){switch(l.label){case 0:if(!e)return[2,null];switch(e.type){case"Point":return[3,1];case"LineString":case"MultiPoint":return[3,3];case"MultiLineString":case"Polygon":return[3,5];case"MultiPolygon":return[3,10]}return[3,17];case 1:return[4,e.coordinates];case 2:return l.sent(),[3,17];case 3:return[5,r.__values(e.coordinates)];case 4:return l.sent(),[3,17];case 5:t=0,n=e.coordinates,l.label=6;case 6:return t<n.length?[5,r.__values(n[t])]:[3,9];case 7:l.sent(),l.label=8;case 8:return t++,[3,6];case 9:return[3,17];case 10:i=0,a=e.coordinates,l.label=11;case 11:if(!(i<a.length))return[3,16];o=0,s=a[i],l.label=12;case 12:return o<s.length?[5,r.__values(s[o])]:[3,15];case 13:l.sent(),l.label=14;case 14:return o++,[3,12];case 15:return i++,[3,11];case 16:return[3,17];case 17:return[2]}}))}(x);u=function(e){for(;;){var t=e.next();if(t.done)return!1;if(t.value.length>2)return!0}}(M)}if(d||(d=null!=L)&&"number"==(f=typeof L)&&(p=Object.keys(S).filter((function(e){return S[e]===L}))),d&&"number"===f&&null!=L&&(c=Math.max(c,L),p.length>1?p=p.filter((function(e){return S[e]===L})):1===p.length&&(p=S[p[0]]===L?p:[])),!m&&S){var O=!0;for(var P in S)if(!a.has(P)){var T=S[P];if(null!=T){var j=h(T);"unknown"!==j?(l.delete(P),a.add(P),i.push({name:P,alias:P,type:j})):l.add(P)}else O=!1,l.add(P)}m=O}};;){var _=g();if("object"==typeof _)return _.value}},t.createOptimizedFeatures=function(e,t){return function(e){for(var t=[];;){var r=e.next();if(r.done)return t;t.push(r.value)}}(function(e,t){var n,s,l,u,f,h,v,m;return void 0===t&&(t={}),r.__generator(this,(function(r){switch(r.label){case 0:n=t.geometryType,s=t.objectIdFieldName,r.label=1;case 1:return l=e.next(),u=l.value,l.done?[2]:(h=u.properties,v=u.id,(f=u.geometry)&&o[f.type]!==n?[3,1]:(m=h||{},s&&null!=v&&!m[s]&&(m[s]=v),[4,new i.default(f?function(e,t,r){switch(t.type){case"LineString":return function(e,t,r){return d(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++)d(e,i[n],r);return e}(e,t,r);case"MultiPoint":return function(e,t,r){return d(e,t.coordinates,r),e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(var n=0,i=t.coordinates;n<i.length;n++){var a=i[n];c(e,a[0],r);for(var o=1;o<a.length;o++)p(e,a[o],r)}return e}(e,t,r);case"Point":return function(e,t,r){return y(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;c(e,n[0],r);for(var i=1;i<n.length;i++)p(e,n[i],r);return e}(e,t,r)}}(new a.default,f,t):null,m)]));case 2:return r.sent(),[3,1];case 3:return[2]}}))}(s(e),t))}}).apply(null,n))||(e.exports=i)},APHm:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Vx27"),r("DvfX")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.BitmapTileLayerView2D=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.attach=function(){this.view.timeline.record(this.layer.title+" (BitmapTileLayer) Attach"),this._bitmapView=new i.BitmapTileContainer(this._tileInfoView),this.container.addChild(this._bitmapView)},t.prototype.detach=function(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()},r.__decorate([n.subclass("esri.views.2d.layers.BitmapTileLayerView2D")],t)}(e)}}).apply(null,n))||(e.exports=i)},AcGV:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nRUF"),r("+PwV")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var a={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function o(e){e||(e=i.getLocale());var t=e in a;if(!t){var r=e.split("-");r.length>1&&r[0]in a&&(e=r[0],t=!0),t||(e="en")}var n=a[e],o=n[2];return{decimal:n[0],group:n[1],pattern:void 0===o?"#,##0.###":o}}t.getCustoms=o,t.format=function(e,t){var i=o((t=r.__assign({},t)).locale);t.customs=i;var a=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,t,r){var i=(r=r||{}).customs.group,a=r.customs.decimal,o=t.split(";"),l=o[0];if(-1!==(t=o[e<0?1:0]||"-"+l).indexOf("%"))e*=100;else if(-1!==t.indexOf("\u2030"))e*=1e3;else{if(-1!==t.indexOf("\xa4"))throw new Error("currency notation not supported");if(-1!==t.indexOf("E"))throw new Error("exponential notation not supported")}var u=s,c=l.match(u);if(!c)throw new Error("unable to find a number expression in pattern: "+t);return!1===r.fractional&&(r.places=0),t.replace(u,function(e,t,r){!0===(r=r||{}).places&&(r.places=0),r.places===1/0&&(r.places=6);var i=t.split("."),a="string"==typeof r.places&&r.places.indexOf(","),o=r.places;a?o=r.places.substring(a+1):o>=0||(o=(i[1]||[]).length),r.round<0||(e=Number(e.toFixed(Number(o))));var s=String(Math.abs(e)).split("."),l=s[1]||"";if(i[1]||r.places){a&&(r.places=r.places.substring(0,a));var u=void 0!==r.places?r.places:i[1]&&i[1].lastIndexOf("0")+1;u>l.length&&(s[1]=n.padEnd(l,Number(u),"0")),o<l.length&&(s[1]=l.substr(0,Number(o)))}else s[1]&&s.pop();var c=i[0].replace(",",""),p=c.indexOf("0");-1!==p&&((p=c.length-p)>s[0].length&&(s[0]=n.padStart(s[0],p,"0")),-1===c.indexOf("#")&&(s[0]=s[0].substr(s[0].length-p)));var d,f,y=i[0].lastIndexOf(",");if(-1!==y){d=i[0].length-y-1;var h=i[0].substr(0,y);-1!==(y=h.lastIndexOf(","))&&(f=h.length-y-1)}for(var v=[],m=s[0];m;){var g=m.length-d;v.push(g>0?m.substr(g):m),m=g>0?m.slice(0,g):"",f&&(d=f,f=void 0)}return s[0]=v.reverse().join(r.group||","),s.join(r.decimal||".")}(e,c[0],{decimal:a,group:i,places:r.places,round:r.round}))}(e,a,t)};var s=/[#0,]*[#0](?:\.0*#*)?/;function l(e){var t=o((e=e||{}).locale),r=e.pattern||t.pattern,i=t.group,a=t.decimal,l=1;if(-1!==r.indexOf("%"))l/=100;else if(-1!==r.indexOf("\u2030"))l/=1e3;else if(-1!==r.indexOf("\xa4"))throw new Error("currency notation not supported");var p=r.split(";");return 1===p.length&&p.push("-"+p[0]),{regexp:c(p,(function(t){return(t="(?:"+n.escapeRegExpString(t,".")+")").replace(s,(function(t){var r={signed:!1,separator:e.strict?i:[i,""],fractional:e.fractional,decimal:a,exponent:!1},n=t.split("."),o=e.places;1===n.length&&1!==l&&(n[1]="###"),1===n.length||0===o?r.fractional=!1:(void 0===o&&(o=e.pattern?n[1].lastIndexOf("0")+1:1/0),o&&null==e.fractional&&(r.fractional=!0),!e.places&&o<n[1].length&&(o+=","+n[1].length),r.places=o);var s=n[0].split(",");return s.length>1&&(r.groupSize=s.pop().length,s.length>1&&(r.groupSize2=s.pop().length)),"("+function(e){"places"in(e=e||{})||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=u(e),r=c(e.fractional,(function(t){var r="";return t&&0!==e.places&&(r="\\"+e.decimal,e.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+e.places+"}"),r}),!0),n=t+r;return r&&(n="(?:(?:"+n+")|(?:"+r+"))"),n+c(e.exponent,(function(t){return t?"([eE]"+u({signed:e.eSigned})+")":""}))}(r)+")"}))}),!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:a,factor:l}}function u(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",c(e.signed,(function(e){return e?"[-+]":""}),!0)+c(e.separator,(function(t){if(!t)return"(?:\\d+)";" "===(t=n.escapeRegExpString(t))?t="\\s":"\xa0"===t&&(t="\\s\\xa0");var r=e.groupSize,i=e.groupSize2;if(i){var a="(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*["+t+"]\\d{"+r+"})";return r-i>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(r-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(r-1)+"}(?:["+t+"]\\d{"+r+"})*)"}),!0)}t.regexp=function(e){return l(e).regexp},t._parseInfo=l,t.parse=function(e,t){var r=l(t),n=new RegExp("^"+r.regexp+"$").exec(e);if(!n)return NaN;var i=n[1];if(!n[1]){if(!n[2])return NaN;i=n[2],r.factor*=-1}return i=i.replace(new RegExp("["+r.group+"\\s\\xa0]","g"),"").replace(r.decimal,"."),Number(i)*r.factor};var c=function(e,t,r){if(!(e instanceof Array))return t(e);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return p(n.join("|"),r)},p=function(e,t){return"("+(t?"?:":"")+e+")"}}).apply(null,n))||(e.exports=i)},Cobz:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("Gtr7"),r("ma1f"),r("eIBl"),r("qsST"),r("W6K4"),r("KBgh"),r("qMld"),r("afW+"),r("jfWY"),r("8MXS"),r("Vx27"),r("xojL")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u,c,p,d,f,y,h){Object.defineProperty(t,"__esModule",{value:!0});var v=s.getLogger("esri.layers.support.TilemapCache"),m=function(e){function t(t){var r=e.call(this,t)||this;return r._handles=new o,r._pendingTilemapRequests={},r._availableLevels={},r.levels=5,r.cacheByteSize=2097152,r.request=n,r._prefetchingEnabled=!0,r}var i;return r.__extends(t,e),i=t,t.prototype.initialize=function(){var e=this;this._tilemapCache=new l(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(function(){return e._initializeTilemapDefinition()})),f.init(this,"layer.tileInfo.lods",(function(t){return e._initializeAvailableLevels(t)}),!0)]),this._initializeTilemapDefinition()},t.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null)},t.prototype.castLevels=function(e){return e<=2?(v.error("Minimum levels for Tilemap is 3, but got ",e),3):e},Object.defineProperty(t.prototype,"size",{get:function(){return 1<<this.levels},enumerable:!0,configurable:!0}),t.prototype.fetchTilemap=function(e,t,n,i){var o=this;if(!this._availableLevels[e])return c.reject(new a("tilemap-cache:level-unavailable","Level "+e+" is unavailable in the service"));var s=this._tmpTilemapDefinition,l=this._tilemapFromCache(e,t,n,s);if(l)return c.resolve(l);var u=i&&i.signal;return i=r.__assign(r.__assign({},i),{signal:null}),c.create((function(e,t){c.onAbort(u,(function(){return t(c.createAbortError())}));var r=h.tilemapDefinitionId(s),n=o._pendingTilemapRequests[r];if(!n){n=h.Tilemap.fromDefinition(s,i).then((function(e){return o._tilemapCache.put(r,e,e.byteSize),e}));var a=function(){return delete o._pendingTilemapRequests[r]};o._pendingTilemapRequests[r]=n,n.then(a,a)}n.then(e,t)}))},t.prototype.getAvailability=function(e,t,r){if(!this._availableLevels[e])return"unavailable";var n=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return n?n.getAvailability(t,r):"unknown"},t.prototype.getAvailabilityUpsample=function(e,t,r,n){n.level=e,n.row=t,n.col=r;var i=this.layer.tileInfo;for(i.updateTileInfo(n);;){var a=this.getAvailability(n.level,n.row,n.col);if("unavailable"!==a)return a;if(!i.upsampleTile(n))return"unavailable"}},t.prototype.fetchAvailability=function(e,t,r,n){return this._availableLevels[e]?this.fetchTilemap(e,t,r,n).catch((function(e){return e})).then((function(n){if(n instanceof h.Tilemap){var i=n.getAvailability(t,r);return"unavailable"===i?c.reject(new a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})):i}if(c.isAbortError(n))throw n;return"unknown"})):c.reject(new a("tilemap-cache:level-unavailable","Level "+e+" is unavailable in the service"))},t.prototype.fetchAvailabilityUpsample=function(e,t,r,n,i){var a=this;n.level=e,n.row=t,n.col=r;var o=this.layer.tileInfo;o.updateTileInfo(n);var s=this.fetchAvailability(e,t,r,i).catch((function(e){if(c.isAbortError(e))throw e;if(o.upsampleTile(n))return a.fetchAvailabilityUpsample(n.level,n.row,n.col,n);throw e}));return this._fetchAvailabilityUpsamplePrefetch(n.id,e,t,r,i,s),s},t.prototype._fetchAvailabilityUpsamplePrefetch=function(e,t,n,a,o,s){return r.__awaiter(this,void 0,void 0,(function(){var l,u,d,f,y,h,v,m,g;return r.__generator(this,(function(_){switch(_.label){case 0:if(!this._prefetchingEnabled)return[2];if(this._handles.has(l="prefetch-"+e))return[2];u=c.createAbortController(),s.then((function(){return u.abort()}),(function(){return u.abort()})),d=!1,this._handles.add({remove:function(){d||(d=!0,u.abort())}},l),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,p.waitTicks(10,u.signal)];case 2:case 3:return _.sent(),[3,4];case 4:if(d||(d=!0,this._handles.remove(l)),c.isAborted(u))return[2];for(f={id:e,level:t,row:n,col:a},y=r.__assign(r.__assign({},o),{signal:u.signal}),h=this.layer.tileInfo,v=function(e){var t=m.fetchAvailability(f.level,f.row,f.col,y);i._prefetches.push(t);var r=function(){i._prefetches.removeUnordered(t)};t.then(r,r)},m=this,g=0;i._prefetches.length<i._maxPrefetch&&h.upsampleTile(f);++g)v();return[2]}}))}))},t.prototype._initializeTilemapDefinition=function(){if(this.layer.parsedUrl){var e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?d.objectToQuery(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}},t.prototype._tilemapFromCache=function(e,t,r,n){n.level=e,n.row=t-t%this.size,n.col=r-r%this.size;var i=h.tilemapDefinitionId(n);return this._tilemapCache.get(i)},t.prototype._initializeAvailableLevels=function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))},Object.defineProperty(t.prototype,"test",{get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,r,n){return!!e._tilemapFromCache(t,r,n,e._tmpTilemapDefinition)}}},enumerable:!0,configurable:!0}),t._maxPrefetch=4,t._prefetches=new u({initialSize:i._maxPrefetch}),r.__decorate([y.property({constructOnly:!0,type:Number})],t.prototype,"levels",void 0),r.__decorate([y.cast("levels")],t.prototype,"castLevels",null),r.__decorate([y.property({readOnly:!0,dependsOn:["levels"],type:Number})],t.prototype,"size",null),r.__decorate([y.property({constructOnly:!0,type:Number})],t.prototype,"cacheByteSize",void 0),r.__decorate([y.property({constructOnly:!0})],t.prototype,"layer",void 0),r.__decorate([y.property({constructOnly:!0})],t.prototype,"request",void 0),i=r.__decorate([y.subclass("esri.layers.support.TilemapCache")],t)}(i);t.TilemapCache=m}).apply(null,n))||(e.exports=i)},DaHD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("H1tY"),r("rg9i"),r("35hF")],void 0===(i=(function(e,t,r,n,i,a){Object.defineProperty(t,"__esModule",{value:!0}),t.createDrawingInfo=function(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?a.defaultPointSymbolJSON:"esriGeometryPolyline"===e?a.defaultPolylineSymbolJSON:a.defaultPolygonSymbolJSON}}},t.createDefaultAttributesFunction=function(e,t){if(n("csp-restrictions"))return function(){var n;return r.__assign(((n={})[t]=null,n),e)};try{var i="this."+t+" = null;";for(var a in e)i+="this."+a+" = "+JSON.stringify(e[a])+";";var o=new Function(i);return function(){return new o}}catch(n){return function(){var n;return r.__assign(((n={})[t]=null,n),e)}}},t.createDefaultTemplate=function(e){return void 0===e&&(e={}),[{name:"New Feature",description:"",prototype:{attributes:i.clone(e)}}]}}).apply(null,n))||(e.exports=i)},EEGM:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,a){var o=new n.default({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});return function(e){function t(t){var r=e.call(this,t)||this;return r.description=null,r.type=null,r}return r.__extends(t,e),r.__decorate([a.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),r.__decorate([a.property({type:String,json:{read:o.read,write:o.write}})],t.prototype,"type",void 0),r.__decorate([a.subclass("esri.tasks.support.GPMessage")],t)}(i.JSONSupport)}).apply(null,n))||(e.exports=i)},FayN:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("2Kdy")],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.layerLookupMap={BingMapsLayer:function(){return new Promise((function(e,t){r.e(67).then((function(){var t=[r("V7mb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},BuildingSceneLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(42)]).then((function(){var t=[r("gRqF")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},CSVLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(10),r.e(50)]).then((function(){var t=[r("zwOT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ElevationLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(23)]).then((function(){var t=[r("GAgw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},FeatureLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(10),r.e(56)]).then((function(){var t=[r("Zvuv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GroupLayer:function(){return new Promise((function(e,t){r.e(24).then((function(){var t=[r("lAGb")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},GeoRSSLayer:function(){return new Promise((function(e,t){r.e(68).then((function(){var t=[r("Hpgp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryLayer:function(){return new Promise((function(e,t){Promise.all([r.e(3),r.e(7),r.e(16),r.e(1),r.e(47)]).then((function(){var t=[r("G5N4")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},ImageryTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(3),r.e(7),r.e(16),r.e(1),r.e(46)]).then((function(){var t=[r("EhmR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},IntegratedMeshLayer:function(){return new Promise((function(e,t){r.e(214).then((function(){var t=[r("wehw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},KMLLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(61)]).then((function(){var t=[r("hPxN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapImageLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(17),r.e(1),r.e(27)]).then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},MapNotesLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(10),r.e(52)]).then((function(){var t=[r("2OQv")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},OpenStreetMapLayer:function(){return new Promise((function(e,t){Promise.all([r.e(19),r.e(102)]).then((function(){var t=[r("793k")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},PointCloudLayer:function(){return new Promise((function(e,t){r.e(215).then((function(){var t=[r("wvIq")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},RouteLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(10),r.e(53)]).then((function(){var t=[r("BdvN")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},SceneLayer:function(){return new Promise((function(e,t){r.e(216).then((function(){var t=[r("yf9t")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},StreamLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(41)]).then((function(){var t=[r("QiYT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},TileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(7),r.e(17),r.e(1),r.e(103)]).then((function(){var t=[r("WiXY")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnknownLayer:function(){return new Promise((function(e,t){r.e(87).then((function(){var t=[r("N1SI")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},UnsupportedLayer:function(){return new Promise((function(e,t){r.e(88).then((function(){var t=[r("9ZiH")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},VectorTileLayer:function(){return new Promise((function(e,t){Promise.all([r.e(26),r.e(1),r.e(48)]).then((function(){var t=[r("UW67")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WebTileLayer:function(){return new Promise((function(e,t){r.e(19).then((function(){var t=[r("a2fw")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMSLayer:function(){return new Promise((function(e,t){Promise.all([r.e(1),r.e(62)]).then((function(){var t=[r("dWJG")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))},WMTSLayer:function(){return new Promise((function(e,t){Promise.all([r.e(19),r.e(85)]).then((function(){var t=[r("AgRT")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))}}}).apply(null,n))||(e.exports=i)},N3Jt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("0J3i"),r("ifLZ"),r("zp6E"),r("rg9i"),r("Z4y+"),r("WRgd"),r("hBh5"),r("hz/Y"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u,c,p){Object.defineProperty(t,"__esModule",{value:!0});var d={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function f(e,t,r){r.forEach((function(r){e.set(r.attributes[t],r)}))}function y(e){for(var t=l.create(),r=l.create(l.NEGATIVE_INFINITY),n=0,i=e;n<i.length;n++){var a=i[n];if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features)for(var o=0,c=a.polygons.featureSet.features;o<c.length;o++){var p=c[o];u.getBoundsXYZ(t,p.geometry),l.expand(r,t,r)}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features)for(var d=0,f=a.polylines.featureSet.features;d<f.length;d++)u.getBoundsXYZ(t,(p=f[d]).geometry),l.expand(r,t,r);if(a.points&&a.points.featureSet&&a.points.featureSet.features)for(var y=0,h=a.points.featureSet.features;y<h.length;y++)u.getBoundsXYZ(t,(p=h[y]).geometry),l.expand(r,t,r);if(a.mapImages)for(var v=0,m=a.mapImages;v<m.length;v++)u.getBoundsXYZ(t,(p=m[v]).extent),l.expand(r,t,r)}return l.equals(r,l.NEGATIVE_INFINITY)?null:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:s.WGS84}}t.parseKML=function(e){var t=e.folders||[],r=t.slice(),n=new Map,i=new Map,a=new Map,s=new Map,l=new Map,u={esriGeometryPoint:i,esriGeometryPolyline:a,esriGeometryPolygon:s};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=o.clone(e);t.featureSet.features=[];var r=e.featureSet.geometryType;n.set(r,t);var l=e.layerDefinition.objectIdField;"esriGeometryPoint"===r?f(i,l,e.featureSet.features):"esriGeometryPolyline"===r?f(a,l,e.featureSet.features):"esriGeometryPolygon"===r&&f(s,l,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){l.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(n){var i=function(e,t,r){var n=function(e,t){var r;return t.some((function(t){return t.id===e&&(r=t,!0)})),r}(e,r);return n&&(n.parentFolderId=t,n.networkLink=n),n}(n,t.id,e.networkLinks);i&&r.push(i)}))})),r.forEach((function(e){e.featureInfos&&(e.points=o.clone(n.get("esriGeometryPoint")),e.polylines=o.clone(n.get("esriGeometryPolyline")),e.polygons=o.clone(n.get("esriGeometryPolygon")),e.mapImages=[],e.featureInfos.map((function(t){switch(t.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var r=u[t.type].get(t.id);r&&e[d[t.type]].featureSet.features.push(r);break;case"GroundOverlay":var n=l.get(t.id);n&&e.mapImages.push(n)}})),e.fullExtent=y([e]))}));var c=y(r);return{folders:t,sublayers:r,extent:c}},t.fetchService=function(e,t,r,i){return a(n.kmlServiceUrl,{query:{url:e,model:"simple",folders:"",refresh:0!==r||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:i})},t.sublayersFromJSON=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=[]);var i=[],a={},o=t.sublayers,s=t.folders.map((function(e){return e.id}));return o.forEach((function(t){var o=new e;if(r?o.read(t,r):o.read(t),n.length&&s.indexOf(o.id)>-1&&(o.visible=-1!==n.indexOf(o.id)),a[t.id]=o,null!=t.parentFolderId&&-1!==t.parentFolderId){var l=a[t.parentFolderId];l.sublayers||(l.sublayers=[]),l.sublayers.unshift(o)}else i.unshift(o)})),i},t.getGraphics=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,a,o,s,l,u,d,f;return r.__generator(this,(function(r){switch(r.label){case 0:t=p.fromJSON(e.featureSet),n=t.features,a=c.fromJSON(e.layerDefinition.drawingInfo.renderer),o=i.fromJSON(e.popupInfo),s=[],l=0,u=n,r.label=1;case 1:return l<u.length?[4,a.getSymbolAsync(d=u[l])]:[3,4];case 2:f=r.sent(),d.symbol=f,d.popupTemplate=o,d.visible=!!d.attributes.visibility,s.push(d),r.label=3;case 3:return l++,[3,1];case 4:return[2,s]}}))}))},t.computeExtent=y}).apply(null,n))||(e.exports=i)},OECU:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("jfWY"),r("Qwus")],void 0===(i=(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createForItem=function(e){return{origin:"portal-item",url:r.urlToObject(e.itemUrl),portal:e.portal||n.getDefault(),portalItem:e,readResourcePaths:[]}}}).apply(null,n))||(e.exports=i)},"OQ/g":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Math.PI/180;t.snapToPixel=function(e,t,r){var n=r.resolution,i=r.size;return e[0]=n*(Math.round(t[0]/n)+i[0]%2*.5),e[1]=n*(Math.round(t[1]/n)+i[1]%2*.5),e},t.getOuterSize=function(e,t){var n=t.rotation*r,i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=t.size,s=o[0],l=o[1];return e[0]=Math.round(l*a+s*i),e[1]=Math.round(l*i+s*a),e},t.getBBox=function(e,t,r,n){var i=t[0],a=t[1],o=n[0],s=n[1],l=.5*r;return e[0]=i-l*o,e[1]=a-l*s,e[2]=i+l*o,e[3]=a+l*s,e},t.bboxIntersects=function(e,t){return!(e[0]>t[2]||e[2]<t[0]||e[1]>t[3]||e[3]<t[1])}}).apply(null,n))||(e.exports=i)},PboI:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("pcDC"),r("qMld"),r("Vx27"),r("N7S/"),r("Z4y+"),r("fw2w"),r("KQcO"),r("kBlY"),r("FPqO"),r("UCD/"),r("w1v0"),r("EEGM"),r("WTfr"),r("lbAP"),r("2hSz"),r("wQ6y"),r("2Kdy")],void 0===(i=(function(e,t,n,i,a,o,s,l,u,c,p,d,f,y,h,v,m,g,_,b){return function(e){function t(t){var r=e.call(this,t)||this;return r._timers=new Map,r.outSpatialReference=null,r.processExtent=null,r.processSpatialReference=null,r.returnFeatureCollection=!1,r.returnM=!1,r.returnZ=!1,r}return n.__extends(t,e),t.prototype.destroy=function(){this._timers.forEach((function(e){clearInterval(e)}))},t.prototype.cancelJob=function(e,t){var r=this.parsedUrl.path,a=n.__assign(n.__assign(n.__assign({},this.requestOptions),t),{query:{f:"json"}});return this._clearTimer(e),i(r+"/jobs/"+e+"/cancel",a).then((function(e){return m.fromJSON(e.data)}))},t.prototype.checkJobStatus=function(e,t){var r=this.parsedUrl.path,a=n.__assign(n.__assign(n.__assign({},this.requestOptions),t),{query:{f:"json"}});return i(r+"/jobs/"+e,a).then((function(e){return m.fromJSON(e.data)}))},t.prototype.execute=function(e,t){var r=this;return this._constructRequest("execute",e,t).then((function(e){var t=e.data.messages||[];return{results:(e.data.results||[]).map(r._decode),messages:t.map((function(e){return v.fromJSON(e)}))}}))},t.prototype.getResultData=function(e,t,r){var a=this,o=this,s=o.parsedUrl.path,l=this._gpEncode({returnFeatureCollection:o.returnFeatureCollection||void 0,returnM:o.returnM||void 0,returnZ:o.returnZ||void 0,outSR:o.outSpatialReference,returnType:"data",f:"json"},null),u=n.__assign(n.__assign(n.__assign({},this.requestOptions),r),{query:l});return i(s+"/jobs/"+e+"/results/"+t,u).then((function(e){return a._decode(e.data)}))},t.prototype.getResultImage=function(e,t,r,a){var o=this,s=this.parsedUrl.path,l=n.__assign(n.__assign({},r.toJSON()),{f:"json"}),u=this._gpEncode(l),c=n.__assign(n.__assign(n.__assign({},this.requestOptions),a),{query:u});return i(s+"/jobs/"+e+"/results/"+t,c).then((function(e){return o._decode(e.data)}))},t.prototype.getResultMapImageLayer=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t,i,a,o;return n.__generator(this,(function(n){switch(n.label){case 0:return i=(t=this.parsedUrl.path).indexOf("/GPServer/"),a=t.substring(0,i),o=a+"/MapServer/jobs/"+e,[4,new Promise((function(e,t){Promise.all([r.e(7),r.e(17),r.e(1),r.e(27)]).then((function(){var t=[r("d+WR")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))];case 1:return[2,new(n.sent())({url:o})]}}))}))},t.prototype.submitJob=function(e,t){return this._constructRequest("submitJob",e,t).then((function(e){return m.fromJSON(e.data)}))},t.prototype.waitForJobCompletion=function(e,t){var r=this;void 0===t&&(t={});var n=t.interval,i=void 0===n?1e3:n,s=t.signal,l=t.statusCallback;return o.create((function(t,n){o.onAbort(s,(function(){r._clearTimer(e),n(o.createAbortError())})),r._clearTimer(e);var u=setInterval((function(){r._timers.has(e)||n(o.createAbortError()),r._getJobStatus(e,r.requestOptions).then((function(i){var o=i.jobStatus;switch(o){case"job-succeeded":r._clearTimer(e),t(i);break;case"job-submitted":case"job-executing":case"job-waiting":case"job-new":l&&l(i);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-timed-out":case"job-failed":r._clearTimer(e),n(i);break;default:a.neverReached(o)}}))}),i);r._timers.set(e,u)}))},t.prototype._clearTimer=function(e){this._timers.has(e)&&(clearInterval(this._timers.get(e)),this._timers.delete(e))},t.prototype._constructRequest=function(e,t,r){var a=this,o={},s={},l=[];return this._collectGeometries(t,l,o),c.normalizeCentralMeridian(l).then((function(l){var u=a.outSpatialReference,c=a.processExtent,p=a.processSpatialReference,d=a.returnFeatureCollection,f=a.returnM,y=a.returnZ,h=a.parsedUrl.path;for(var v in o){var m=o[v];s[v]=l.slice(m[0],m[1])}var g=u?u.wkid||u:null,_=p?p.wkid||p:null,b="execute"===e?{returnFeatureCollection:d||void 0,returnM:f||void 0,returnZ:y||void 0}:null,w=n.__assign(n.__assign(n.__assign(n.__assign({},c?{context:{extent:c,outSR:g,processSR:_}}:{"env:outSR":g,"env:processSR":_}),t),b),{f:"json"}),x=a._gpEncode(w,null,s),S=n.__assign(n.__assign(n.__assign({},a.requestOptions),r),{query:x});return i(h+"/"+e,S)}))},t.prototype._collectGeometries=function(e,t,r){for(var n in e){var i=e[n];if(i&&"object"==typeof i&&i instanceof h){var a=i.features;r[n]=[t.length,t.length+a.length],a.forEach((function(e){t.push(e.geometry)}))}}},t.prototype._decode=function(e){var t=e.dataType,r=_.fromJSON(e);switch(t){case"GPBoolean":case"GPDouble":case"GPLong":case"GPString":return r;case"GPDate":r.value=new Date(r.value);break;case"GPDataFile":r.value=y.fromJSON(r.value);break;case"GPLinearUnit":r.value=g.fromJSON(r.value);break;case"GPFeatureRecordSetLayer":case"GPRecordSet":r.value=e.value.url?y.fromJSON(r.value):h.fromJSON(r.value);break;case"GPRasterData":case"GPRasterDataLayer":var n=e.value.mapImage;r.value=n?d.fromJSON(n):b.fromJSON(r.value);break;case"GPField":r.value=p.fromJSON(r.value);break;case"GPMultiValue:GPBoolean":case"GPMultiValue:GPDouble":case"GPMultiValue:GPLong":case"GPMultiValue:GPString":return r;case"GPMultiValue:GPDate":r.value=r.value.map((function(e){return new Date(e)}));break;case"GPMultiValue:GPDataFile":r.value=r.value.map((function(e){return y.fromJSON(e)}));break;case"GPMultiValue:GPLinearUnit":r.value=r.value.map((function(e){return g.fromJSON(e)}));break;case"GPMultiValue:GPFeatureRecordSetLayer":case"GPMultiValue:GPRecordSet":r.value=r.value.map((function(e){return h.fromJSON(e)}));break;case"GPMultiValue:GPRasterData":case"GPMultiValue:GPRasterDataLayer":r.value=r.value.map((function(e){return e?d.fromJSON(e):b.fromJSON(r.value)}));break;case"GPMultiValue:GPField":r.value=r.value.map((function(e){return p.fromJSON(e)}));break;default:a.neverReached(t)}return r},t.prototype._gpEncode=function(e,t,r){var n=this;for(var i in e){var a=e[i];Array.isArray(a)?e[i]=JSON.stringify(a.map((function(e){return n._gpEncode({item:e},!0).item}),this)):a instanceof Date&&(e[i]=a.getTime())}return this._encode(e,t,r)},t.prototype._getJobStatus=function(e,t){var r=this.parsedUrl.path+"/jobs/"+e,a=n.__assign(n.__assign(n.__assign({},this.requestOptions),t),{query:{f:"json"}});return i(r,a).then((function(e){return m.fromJSON(e.data)}))},n.__decorate([s.property({type:u})],t.prototype,"outSpatialReference",void 0),n.__decorate([s.property({type:l})],t.prototype,"processExtent",void 0),n.__decorate([s.property({type:u})],t.prototype,"processSpatialReference",void 0),n.__decorate([s.property({nonNullable:!0})],t.prototype,"returnFeatureCollection",void 0),n.__decorate([s.property({nonNullable:!0})],t.prototype,"returnM",void 0),n.__decorate([s.property({nonNullable:!0})],t.prototype,"returnZ",void 0),n.__decorate([s.subclass("esri/tasks/Geoprocessor")],t)}(f)}).apply(null,n))||(e.exports=i)},RDRC:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("y4WC"),r("H1tY"),r("qMld"),r("FayN"),r("QmTF"),r("pOAQ"),r("uLAD"),r("PhdM")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u,c){Object.defineProperty(t,"__esModule",{value:!0});var p=i("esri-debug-messages"),d={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},f={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},y={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},h={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},v={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"UnsupportedLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};function m(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=new e).read(t,n.context),"group"===i.type&&b(t)?[4,S(i,t,n.context)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,c.loadStyleRenderer(i,n.context)];case 3:return r.sent(),[2,i]}}))}))}function g(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,_(e,t)];case 1:return[2,m(r.sent(),e,t)]}}))}))}function _(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,a,c,p,m,g,_;return r.__generator(this,(function(r){switch(r.label){case 0:return i=function(e){var t;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":t=y;break;case"ground":t=f;break;default:t=d}break;default:switch(e.layerContainerType){case"basemap":t=v;break;default:t=h}}return t}(n=t.context),!(a=e.layerType||e.type)&&t&&t.defaultLayerType&&(a=t.defaultLayerType),p=(c=i[a])?o.layerLookupMap[c]:o.layerLookupMap.UnknownLayer,m=n&&n.portal,w(e)?e.itemId?[4,(g=new s({id:e.itemId,portal:m})).load()]:[3,3]:[3,4];case 1:return r.sent(),[4,u.selectLayerClassPath(g)];case 2:_=r.sent(),p=o.layerLookupMap[_.className||"UnknownLayer"],r.label=3;case 3:return[3,8];case 4:return"ArcGISFeatureLayer"!==a?[3,8]:[4,l.isMapNotesLayer(e,m)];case 5:return r.sent()?(p=o.layerLookupMap.MapNotesLayer,[3,8]):[3,6];case 6:return[4,l.isRouteLayer(e,m)];case 7:r.sent()?p=o.layerLookupMap.RouteLayer:b(e)&&(p=o.layerLookupMap.GroupLayer),r.label=8;case 8:return e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(p=o.layerLookupMap.WMTSLayer),[2,p()]}}))}))}function b(e){if("ArcGISFeatureLayer"!==e.layerType||w(e))return!1;var t=e.featureCollection;return!!(t&&t.layers&&t.layers.length>1)}function w(e){return"Feature Collection"===e.type}function x(e,t,i){return r.__awaiter(this,void 0,void 0,(function(){var a,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return a=new n,o=L(a,Array.isArray(t.layers)?t.layers:[],i),[4,e];case 1:return s=r.sent(),[4,o];case 2:return r.sent(),"group"===s.type?(s.layers.addMany(a),[2,s]):[2,void 0]}}))}))}function S(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,a,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,(0,o.layerLookupMap.FeatureLayer)()];case 1:return i=r.sent(),s=(a=t.featureCollection).showLegend,l=a.layers.map((function(e){var t=new i;return t.read(e,n),null!=s&&t.read({showLegend:s},n),t})),e.layers.addMany(l),[2]}}))}))}function L(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,l,u,c,d,f,y;return r.__generator(this,(function(r){switch(r.label){case 0:if(!t)return[2];for(i=[],o=0,s=t;o<s.length;o++)u=g(l=s[o],n),i.push("GroupLayer"===l.layerType?x(u,l,n):u);return[4,a.eachAlways(i)];case 1:for(c=r.sent(),d=0,f=c;d<f.length;d++)y=f[d],p&&y.error?console.error(y.error.toString?y.error.toString():y.error):!y.value||n.filter&&!n.filter(y.value)||e.add(y.value);return[2]}}))}))}t.createLayer=g,t.populateOperationalLayers=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,L(e,t,n)]}))}))}}).apply(null,n))||(e.exports=i)},Rt18:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("7MDj"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var r=e.call(this,t)||this;return r.tiles=new Map,r}return r.__extends(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},Object.defineProperty(t.prototype,"updating",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,r=this.createTile(e);return r.once("isReady",(function(){return t.notifyChange("updating")})),this.tiles.set(e.id,r),r},t.prototype.lockAttributeTextureUpload=function(){},t.prototype.unlockAttributeTextureUpload=function(){},t.prototype.forceAttributeTextureUpload=function(){},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach((function(t){e=e&&t.isReady})),!e},t.prototype.setHighlight=function(){},t.prototype.invalidateLabels=function(){},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},r.__decorate([i.property()],t.prototype,"layer",void 0),r.__decorate([i.property()],t.prototype,"layerView",void 0),r.__decorate([i.property()],t.prototype,"tileInfoView",void 0),r.__decorate([i.property()],t.prototype,"updating",null),r.__decorate([i.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],t)}(n.HandleOwner);t.default=a}).apply(null,n))||(e.exports=i)},SA66:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("LxLY"),r("TTKK"),r("jfWY"),r("Vx27"),r("FPqO")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u){Object.defineProperty(t,"__esModule",{value:!0}),t.NAServiceDescriptionMixin=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this._serviceDescriptionPromise||(this._serviceDescriptionPromise=this._fetchServiceDescription()),[2,this._serviceDescriptionPromise]}))}))},t.prototype._fetchServiceDescription=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,a,l,u;return r.__generator(this,(function(c){switch(c.label){case 0:if(!this.url||!this.parsedUrl)throw new i("network-service:missing-url","Url to Network service is missing");return[4,n(e=this.url,{query:{f:"json"}})];case 1:for((t=c.sent().data).supportedTravelModes||(t.supportedTravelModes=[]),a=0;a<t.supportedTravelModes.length;a++)t.supportedTravelModes[a].id||(t.supportedTravelModes[a].id=t.supportedTravelModes[a].itemId);return[4,t.currentVersion>=10.4?function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n(e+("/"===e[e.length-1]?"":"/")+"retrieveTravelModes",{query:{f:"json"}})];case 1:return[2,{supportedTravelModes:(t=r.sent().data).supportedTravelModes,defaultTravelMode:t.defaultTravelMode}];case 2:throw a=r.sent(),new i("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:a});case 3:return[2]}}))}))}(e):function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,i,a,l,u,c,p,d,f,y,h,v,m,g,_;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,n(e.substring(0,e.indexOf("/rest/")+6)+"info",{query:{f:"json"}})];case 1:return(t=r.sent().data)&&t.owningSystemUrl?[4,n((e=t.owningSystemUrl)+("/"===e[e.length-1]?"":"/")+"sharing/rest/portals/self",{query:{f:"json"}})]:[2,{supportedTravelModes:[],defaultTravelMode:null}];case 2:return i=r.sent().data,(a=o.getDeepValue("helperServices.routingUtilities.url",i))?(l=s.urlToObject(e),u=/\/solveClosestFacility$/.test(l.path)?"Route":/\/solveClosestFacility$/.test(l.path)?"ClosestFacility":"ServiceAreas",[4,n(a+("/"===a[a.length-1]?"":"/")+"GetTravelModes/execute",{query:{f:"json",serviceName:u}})]):[2,{supportedTravelModes:[],defaultTravelMode:null}];case 3:if(c=r.sent(),p=[],d=null,c&&c.data&&c.data.results&&c.data.results.length)for(f=0,y=c.data.results;f<y.length;f++)if("supportedTravelModes"===(h=y[f]).paramName){if(h.value&&h.value.features)for(v=0,m=h.value.features;v<m.length;v++)(g=m[v].attributes)&&(_=JSON.parse(g.TravelMode),p.push(_))}else"defaultTravelMode"===h.paramName&&(d=h.value);return[2,{supportedTravelModes:p,defaultTravelMode:d}]}}))}))}(e)];case 2:return l=c.sent(),u=l.supportedTravelModes,t.defaultTravelMode=l.defaultTravelMode,t.supportedTravelModes=u,[2,t]}}))}))},t.prototype._isInputGeometryZAware=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,o=n;i<o.length;i++){var s=o[i];if(a.isSome(s)&&s.hasZ)return!0}}return!1},t.prototype._dropZValuesOffInputGeometry=function(e,t){for(var r=0;r<t.length;r++){var n=e[t[r]];if(n&&n.length)for(var i=0,a=n;i<a.length;i++)a[i].z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")},r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(e)};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([l.subclass("esri.tasks.mixins.NAServiceDescription")],t)}(t.NAServiceDescriptionMixin(u));t.NAServiceDescription=c}).apply(null,n))||(e.exports=i)},"T/jF":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ma1f"),r("qMld"),r("8V7H"),r("dXLH")],void 0===(i=(function(e,t,r,n,i,a,o){return function(){function e(){this._workerThread=null,this._destroyed=!1}return e.prototype.initialize=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,a.open("RasterWorker")];case 1:return e=t.sent(),this._destroyed?e.close():this._workerThread=e,[2]}}))}))},e.prototype.destroy=function(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)},e.prototype.decode=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return[4,this._workerThread.invoke("decode",e,t)];case 1:return[2,(i=r.sent())?new o(i):null]}}))}))},e.prototype.symbolize=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return i={extent:e.extent&&e.extent.toJSON(),pixelBlock:e.pixelBlock.toJSON(),simpleStretchParams:e.simpleStretchParams,bandIds:e.bandIds},[4,this._workerThread.invoke("symbolize",i,t)];case 1:return[2,(a=r.sent())?new o(a):null]}}))}))},e.prototype.updateSymbolizer=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return a=e&&e.renderer&&"raster-stretch"===e.renderer.type&&e.renderer.histograms,[4,i.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:e.toJSON(),histograms:a},t))];case 1:return r.sent(),[2]}}))}))},e.prototype.stretch=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return e&&e.pixelBlock?(i={srcPixelBlock:e.pixelBlock.toJSON(),stretchParams:e.stretchParams},[4,this._workerThread.invoke("stretch",i,t)]):[2,null];case 1:return[2,(a=r.sent())?new o(a):null]}}))}))},e.prototype.mosaicAndTransform=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(!this._workerThread)throw new n("raster-jobhandler:no-connection","no available worker connection");return e&&e.srcPixelBlocks&&e.srcPixelBlocks.length>0?(i=r.__assign(r.__assign({},e),{srcPixelBlocks:e.srcPixelBlocks.map((function(e){return e?e.toJSON():null}))}),[4,this._workerThread.invoke("mosaicAndTransform",i,t)]):[2,null];case 1:return[2,(a=s.sent())?new o(a):null]}}))}))},e}()}).apply(null,n))||(e.exports=i)},TD84:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-click"},t.GraphicDoubleClickEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-double-click"};var r=function(){function e(e,t,r,n,i,a,o,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-start"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStartEvent=r;var n=function(){function e(e,t,r,n,i,a,o,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveEvent=n;var i=function(){function e(e,t,r,n,i,a,o,s,l,u){this.graphic=e,this.allGraphics=t,this.index=r,this.x=n,this.y=i,this.dx=a,this.dy=o,this.totalDx=s,this.totalDy=l,this.viewEvent=u,this.defaultPrevented=!1,this.type="graphic-move-stop"}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}();t.GraphicMoveStopEvent=i,t.GraphicPointerOverEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-over"},t.GraphicPointerOutEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-out"},t.GraphicPointerDownEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-down"},t.GraphicPointerUpEvent=function(e,t,r,n,i){this.graphic=e,this.index=t,this.x=r,this.y=n,this.viewEvent=i,this.type="graphic-pointer-up"}}).apply(null,n))||(e.exports=i)},"UCD/":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){return function(e){function t(t){var r=e.call(this,t)||this;return r.itemId=null,r.url=null,r}return r.__extends(t,e),r.__decorate([i.property({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],t.prototype,"itemId",void 0),r.__decorate([i.property({type:String,json:{write:!0}})],t.prototype,"url",void 0),r.__decorate([i.subclass("esri.tasks.support.DataFile")],t)}(n.JSONSupport)}).apply(null,n))||(e.exports=i)},UDyV:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("eIBl"),r("Vx27"),r("xii5")],void 0===(i=(function(e,t,r,n,i,a,o){var s={visible:"visibleSublayers"},l=[102100,3857,102113,900913],u=[3395,54004];return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._layerHandles=new i,t.extent=null,t._scale=null,t.view=null,t}return r.__extends(t,e),Object.defineProperty(t.prototype,"layer",{set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this._layerHandles&&(this._layerHandles.removeAll(),this._layerHandles=null),e&&(this._layerHandles||(this._layerHandles=new i),this._layerHandles.add([e.sublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("wms-sublayer-update",(function(e){return t.notifyChange(s[e.propertyName])}))])))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layers",{get:function(){return this.visibleSublayers.filter((function(e){return e.name})).map((function(e){return e.name})).join(",")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange("scale"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleSublayers",{get:function(){var e=this.scale,t=this.layer.sublayers,r=[];return t&&t.forEach((function t(n){var i=n.minScale,a=n.maxScale,o=n.sublayers;n.visible&&(0===e||(0===i||e<=i)&&(0===a||e>=a))&&(r.unshift(n),o&&o.forEach(t))})),r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wkid",{get:function(){var e=this.extent,t=this.layer.spatialReferences,r=e.spatialReference&&e.spatialReference.wkid;t&&-1===t.indexOf(r)&&e.spatialReference.latestWkid&&(r=e.spatialReference.latestWkid);var n=l.some((function(e){return e===r}));if(!t)return r;if(n){var i=[];t.forEach((function(e){l.indexOf(e)>-1&&i.push(e)})),i.length||t.forEach((function(e){u.indexOf(e)>-1&&i.push(e)})),r=i.length>0?i[0]:l[0]}return r},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var e=this.extent,t=this.layer,n=this.layers,i=t.imageFormat,a=t.imageTransparency,s=t.spatialReferences,l=t.version,u=this.wkid;s&&-1===s.indexOf(u)&&e.spatialReference.latestWkid&&(u=e.spatialReference.latestWkid);var c=e.xmin,p=e.ymin,d=e.xmax,f=e.ymax,y={bbox:"1.3.0"===t.version&&o.coordsReversed(u)?p+","+c+","+f+","+d:c+","+p+","+d+","+f,format:i,request:"GetMap",service:"WMS",styles:"",transparent:a,version:l};return isNaN(u)||("1.3.0"===l?y.crs="EPSG:"+u:y.srs="EPSG:"+u),r.__assign(r.__assign({},y),{layers:n})},r.__decorate([a.property()],t.prototype,"extent",void 0),r.__decorate([a.property()],t.prototype,"layer",null),r.__decorate([a.property({readOnly:!0,dependsOn:["visibleSublayers"]})],t.prototype,"layers",null),r.__decorate([a.property({type:Number,dependsOn:["view.scale"]})],t.prototype,"scale",null),r.__decorate([a.property()],t.prototype,"view",void 0),r.__decorate([a.property({dependsOn:["layers","layer.imageTransparency"],readOnly:!0})],t.prototype,"version",null),r.__decorate([a.property({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],t.prototype,"visibleSublayers",null),r.__decorate([a.property()],t.prototype,"wkid",null),r.__decorate([a.subclass("esri.layers.support.ExportWMSImageParameters")],t)}(n)}).apply(null,n))||(e.exports=i)},VIp5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("Vx27"),r("EEGM")],void 0===(i=(function(e,t,r,n,i,a){var o=new n.default({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});return function(e){function t(t){var r=e.call(this,t)||this;return r.type=null,r}return r.__extends(t,e),r.__decorate([i.property({type:String,json:{read:o.read,write:o.write}})],t.prototype,"type",void 0),r.__decorate([i.subclass("esri.tasks.support.NAMessage")],t)}(a)}).apply(null,n))||(e.exports=i)},VTDq:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("Vx27"),r("IlDW"),r("ml7j"),r("b8d8")],void 0===(i=(function(e,t,r,n,i,a,o,s){Object.defineProperty(t,"__esModule",{value:!0});var l={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scale=null,t.view=null,t}return r.__extends(t,e),Object.defineProperty(t.prototype,"dynamicLayers",{get:function(){if(!this.hasDynamicLayers)return null;var e=this.visibleSublayers.map((function(e){return e.toExportImageJSON()}));return e.length?JSON.stringify(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDynamicLayers",{get:function(){return this.layer&&a.isExportDynamic(this.visibleSublayers,this.layer.serviceSublayers,this.layer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layer",{set:function(e){var t=this;this._get("layer")!==e&&(this._set("layer",e),this._layerHandles&&(this._layerHandles.forEach((function(e){return e.remove()})),this._layerHandles.length=0),e&&(this._layerHandles=[e.allSublayers.on("change",(function(){return t.notifyChange("visibleSublayers")})),e.on("sublayer-update",(function(e){return t.notifyChange(l[e.propertyName])}))]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layers",{get:function(){var e=this.visibleSublayers;return e?e.length?"show:"+e.map((function(e){return e.id})).join(","):"show:-1":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layerDefs",{get:function(){var e=this.visibleSublayers.filter((function(e){return null!=e.definitionExpression}));return e.length?JSON.stringify(e.reduce((function(e,t){return e[t.id]=t.definitionExpression,e}),{})):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return null!=this._scale?this._scale:this.view&&this.view.scale||0},set:function(e){this.view||(this._scale=e,this.notifyChange("scale"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return(this._get("version")||0)+1},set:function(e){this._set("version",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleSublayers",{get:function(){var e=this,t=[];if(!this.layer)return t;var r=this.layer.sublayers;r&&r.forEach((function r(n){var i=e.scale;n.visible&&(0===i||(0===n.minScale||i<=n.minScale)&&(0===n.maxScale||i>=n.maxScale))&&(n.sublayers?n.sublayers.forEach(r):t.unshift(n))}));var n=this._get("visibleSublayers");return!n||n.length!==t.length||n.some((function(e,r){return t[r]!==e}))?t:n},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var e=this.layer,t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t=r.__assign(r.__assign({},t),{layers:this.layers,layerDefs:this.layerDefs}),t},r.__decorate([i.property({readOnly:!0,dependsOn:["hasDynamicLayers","visibleSublayers"]})],t.prototype,"dynamicLayers",null),r.__decorate([i.property({readOnly:!0,dependsOn:["visibleSublayers","layer.serviceSublayers","layer.capabilities"]})],t.prototype,"hasDynamicLayers",null),r.__decorate([i.property()],t.prototype,"layer",null),r.__decorate([i.property({readOnly:!0,dependsOn:["visibleSublayers"]})],t.prototype,"layers",null),r.__decorate([i.property({readOnly:!0,dependsOn:["visibleSublayers"]})],t.prototype,"layerDefs",null),r.__decorate([i.property({type:Number,dependsOn:["view.scale"]})],t.prototype,"scale",null),r.__decorate([i.property(o.combinedViewLayerTimeExtentProperty)],t.prototype,"timeExtent",void 0),r.__decorate([i.property({dependsOn:["layers","layerDefs","dynamicLayers","layer.dpi","layer.imageFormat","layer.imageTransparency","layer.gdbVersion","timeExtent"]})],t.prototype,"version",null),r.__decorate([i.property({type:s})],t.prototype,"view",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["layer.sublayers","scale"]})],t.prototype,"visibleSublayers",null),r.__decorate([i.subclass("esri.layers.mixins.ExportImageParameters")],t)}(n);t.ExportImageParameters=u}).apply(null,n))||(e.exports=i)},WTfr:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("Vx27"),r("EEGM")],void 0===(i=(function(e,t,r,n,i,a,o){var s=new n.default({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"});return function(e){function t(t){var r=e.call(this,t)||this;return r.jobId=null,r.jobStatus=null,r.messages=null,r}return r.__extends(t,e),r.__decorate([a.property()],t.prototype,"jobId",void 0),r.__decorate([a.property({json:{read:s.read}})],t.prototype,"jobStatus",void 0),r.__decorate([a.property({type:[o]})],t.prototype,"messages",void 0),r.__decorate([a.subclass("esri.tasks.support.JobInfo")],t)}(i.JSONSupport)}).apply(null,n))||(e.exports=i)},WYOF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){function r(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.addTypeKeyword=function(e,t){if(!r(e,t)){var n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}},t.hasTypeKeyword=r,t.removeTypeKeyword=function(e,t){var r=e.typeKeywords;if(r){var n=r.indexOf(t);n>-1&&r.splice(n,1)}}}).apply(null,n))||(e.exports=i)},WhPF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("Vx27"),r("ddAr"),r("Cobz")],void 0===(i=(function(e,t,r,n,i,a,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ArcGISCachedService=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.copyright=null,t.minScale=0,t.maxScale=0,t.spatialReference=null,t.tileInfo=null,t.tilemapCache=null,t}return r.__extends(t,e),t.prototype.readMinScale=function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0},t.prototype.readMaxScale=function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0},Object.defineProperty(t.prototype,"supportsBlankTile",{get:function(){return this.version>=10.2},enumerable:!0,configurable:!0}),t.prototype.readTilemapCache=function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new o.TilemapCache({layer:this}):null},r.__decorate([i.property({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),r.__decorate([i.property()],t.prototype,"minScale",void 0),r.__decorate([i.reader("service","minScale")],t.prototype,"readMinScale",null),r.__decorate([i.property()],t.prototype,"maxScale",void 0),r.__decorate([i.reader("service","maxScale")],t.prototype,"readMaxScale",null),r.__decorate([i.property({type:n.SpatialReference})],t.prototype,"spatialReference",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["version"]})],t.prototype,"supportsBlankTile",null),r.__decorate([i.property(a.serviceTileInfoProperty)],t.prototype,"tileInfo",void 0),r.__decorate([i.property()],t.prototype,"tilemapCache",void 0),r.__decorate([i.reader("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),r.__decorate([i.property()],t.prototype,"version",void 0),r.__decorate([i.subclass("esri.layers.mixins.ArcGISCachedService")],t)}(e)}}).apply(null,n))||(e.exports=i)},XOvD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("TMur"),r("dhsc"),r("mnow")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var a=new Map,o=new n;t.register=function(e,t){var r={extent:null,rasterInfo:t,cache:new Map};if(a.has(e)){var n=a.get(e);return n.push(r),n.length-1}return a.set(e,[r]),0},t.unregister=function(e,t){a.has(e)&&(a.get(e)[t]=null)},t.deleteRaster=function(e){a.delete(e)},t.decreaseRefCount=function(e,t,r){if(!a.has(e))return null==t?o.decreaseRefCount(e,r):0;var n=a.get(e);if(null==n[t])return o.decreaseRefCount(e,r);var i=n[t].cache;if(i.has(r)){var s=i.get(r);if(s.refCount--,0===s.refCount){i.delete(r);for(var l=0;l<n.length;l++)n[l]&&n[l].cache.has(r)&&n[l].cache.delete(r);s.controller&&s.controller.abort()}return s.refCount}return 0},t.getBlock=function(e,t,r){if(!a.has(e))return null==t?o.getBlock(e,r):null;var n=a.get(e);if(null==n[t]){for(var i=0;i<n.length;i++)if(n[i]&&n[i].cache.has(r))return(s=n[i].cache.get(r)).refCount++,s.block;return o.getBlock(e,r)}var s,l=n[t].cache;if(l.has(r))return(s=l.get(r)).refCount++,s.block;for(i=0;i<n.length;i++)if(i!==t&&n[i]&&n[i]&&n[i].cache.has(r)){var u=n[i].cache.get(r);return u.refCount++,l.set(r,u),u.block}return null},t.putBlock=function(e,t,r,n,i){if(void 0===i&&(i=null),a.has(e)){var s=a.get(e);null!=s[t]?s[t].cache.set(r,{refCount:1,block:n,controller:i}):o.putBlock(e,r,n,i)}else null==t&&o.putBlock(e,r,n,i)},t.deleteBlock=function(e,t,r){if(a.has(e)){var n=a.get(e);null!=n[t]?n[t].cache.delete(r):o.deleteBlock(e,r)}else null==t&&o.deleteBlock(e,r)},t.update=function(e,t,n,o,s,l,u){void 0===u&&(u=null);var c=function(e,t){if(!a.has(e))return null;var r=a.get(e);return null==r[t]?null:r[t]}(e,t),p=c.extent,d=c.cache,f=c.rasterInfo,y=n.clone().normalize();if(n=y[0],!p||p.xmin!==n.xmin||p.xmax!==n.xmax||p.ymin!==n.ymin||p.ymax!==n.ymax){var h=f.spatialReference,v=i.projectExtent(n,h,u),m=new r.Point({x:o,y:o,spatialReference:n.spatialReference});if(null!==s||(s=i.projectResolution(m,h,n,u))){var g=i.snapPyramid(s,f,l||"closest"),_=g.pyramidLevel,b=g.pyramidResolution;if(!g.excessiveReading){for(var w=Math.floor((v.xmin-f.storageInfo.origin.x)/b.x),x=Math.floor((f.storageInfo.origin.y-v.ymax)/b.y),S=Math.ceil((v.xmax-v.xmin)/b.x-.1),L=Math.ceil((v.ymax-v.ymin)/b.y-.1),M=_>0?f.storageInfo.pyramidBlockWidth:f.storageInfo.blockWidth,O=_>0?f.storageInfo.pyramidBlockHeight:f.storageInfo.blockHeight,P=Math.floor(w/M),T=Math.floor(x/O),j=Math.floor((w+S-1)/M),N=Math.floor((x+L-1)/O),G=new Set,I=T-1;I<=N+1;I++)for(var A=P-1;A<=j+1;A++)G.add(_+"/"+I+"/"+A);d.forEach((function(e,t){G.has(t)||d.delete(t)})),c.extent={xmin:n.xmin,ymin:n.ymin,xmax:n.xmax,ymax:n.ymax}}}}}}).apply(null,n))||(e.exports=i)},YM6P:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("+UAu"),r("KY0m"),r("rg9i"),r("97bx"),r("UVEp"),r("hBcF"),r("i90+")],void 0===(i=(function(e,t,r,n,i,a,o,s,l){Object.defineProperty(t,"__esModule",{value:!0});var u={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767]},c={type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},p=l.fromJSON(o.PREDEFINED_JSON_COLOR_RAMPS[0]);t.isSupportedRendererType=function(e){return["raster-stretch","unique-value","class-breaks","raster-shaded-relief"].indexOf(e.type)>-1},t.combineRenderingRules=function(e,t){if(!e||!t)return i.clone(e||t);var r=i.clone(e);return"none"!==t.functionName.toLowerCase()&&((function e(t){var r=t.Raster;return r&&"esri.layers.support.RasterFunction"===r.declaredClass?e(r.functionArguments):t}(r.functionArguments)).Raster=t),r},t.convertRendererToRenderingRule=function(e,t){switch(t=t||{},e.type){case"raster-stretch":return function(e,t){var r=new a;r.functionName="Stretch";var n=d[s.stretchTypeJSONDict.toJSON(e.stretchType)],i={StretchType:n,Statistics:function(e){var t=[];return e.forEach((function(e){var r=e;if(Array.isArray(r))t.push(r);else{if(null==r.min||null==r.max)return;t.push([r.min,r.max,r.avg||0,r.stddev||0])}})),t}(e.statistics),DRA:e.dynamicRangeAdjustment,UseGamma:e.useGamma,Gamma:e.gamma,ComputeGamma:e.computeGamma};if(null!=e.outputMin&&(i.Min=e.outputMin),null!=e.outputMax&&(i.Max=e.outputMax),n===d.standardDeviation?(i.NumberOfStandardDeviations=e.numberOfStandardDeviations,r.outputPixelType="u8"):n===d.percentClip?(i.MinPercent=e.minPercent,i.MaxPercent=e.maxPercent,r.outputPixelType="u8"):n===d.minMax?r.outputPixelType="u8":n===d.sigmoid&&(i.SigmoidStrengthLevel=e.sigmoidStrengthLevel),r.functionArguments=i,r.variableName="Raster",e.colorRamp){var l=e.colorRamp,u=new a,c=o.getColorRampName(l);return u.functionArguments=c?{colorRamp:c}:!t.convertColorRampToColormap||"algorithmic"!==l.type&&"multipart"!==l.type?{colorRamp:e.colorRamp.toJSON()}:{Colormap:o.convertColorRampToColormap(l,256)},u.variableName="Raster",u.functionName="Colormap",u.functionArguments.Raster=r,u}return r}(e,t);case"class-breaks":return function(e,t){var r=[],n=[],i=[],o=[],s=t.pixelType,l=t.rasterAttributeTable,u=l&&l.features,c=y(l);if(u&&Array.isArray(u)&&e.classBreakInfos){e.classBreakInfos.forEach((function(t,r){var n,i=t.symbol.color;i.a&&u.forEach((function(a){((n=a.attributes[e.field])>=t.minValue&&n<t.maxValue||r===e.classBreakInfos.length-1&&n>=t.minValue)&&o.push([a.attributes[c],i.r,i.g,i.b])}))}));var p=s?f(o,s):o,d=new a;return d.functionName="Colormap",d.functionArguments={},d.functionArguments.Colormap=p,d.variableName="Raster",d}e.classBreakInfos.forEach((function(e,t){var a=e.symbol&&e.symbol.color;a.a?(r.push(0===t?e.minValue:e.minValue+1e-6,e.maxValue+1e-6),n.push(t),o.push([t,a.r,a.g,a.b])):i.push(e.minValue,e.maxValue)}));var h=s?f(o,s):o,v=new a;v.functionName="Remap",v.functionArguments={InputRanges:r,OutputValues:n,NoDataRanges:i},v.variableName="Raster";var m=new a;return m.functionName="Colormap",m.functionArguments={Colormap:h,Raster:v},m}(e,t);case"unique-value":return function(e,t){var r=[],n=t.pixelType,i=t.rasterAttributeTable,o=i&&i.features,s=y(i),l=!1;if(e.uniqueValueInfos&&e.uniqueValueInfos.forEach((function(t){var n=t.symbol.color;n.a&&(e.field!==s&&o?o&&o.forEach((function(i){String(i.attributes[e.field])===String(t.value)&&r.push([i.attributes[s],n.r,n.g,n.b])})):isNaN(t.value)?l=!0:r.push([t.value,n.r,n.g,n.b]))})),l)return null;var u=n&&r.length>0?f(r,n):r,c=new a;return c.functionName="Colormap",c.functionArguments={},c.functionArguments.Colormap=u,c.variableName="Raster",c}(e,t);case"raster-colormap":return function(e,t){var r=e.extractColormap();if(r&&0!==r.length){var n=t.pixelType,i=n?f(r,n):r,o=new a;return o.functionName="Colormap",o.functionArguments={},o.functionArguments.Colormap=i,o}}(e,t);case"raster-shaded-relief":return function(e,t){if("elevation"!==t.dataType)return new a;var r=new a;r.functionName="Hillshade";var n="traditional"===e.hillshadeType?0:1,i="none"===e.scalingType?1:3,s={HillshadeType:n,SlopeType:i,ZFactor:e.zFactor};return 0===n&&(s.Azimuth=e.azimuth,s.Altitude=e.altitude),3===i&&(s.PSPower=e.pixelSizePower,s.PSZFactor=e.pixelSizeFactor),r.functionArguments=s,r.variableName="Raster",e.colorRamp&&(r.functionName="ShadedRelief",s.Colormap=o.convertColorRampToColormap(e.colorRamp,256)),r}(e,t)}},t.createDefaultRenderer=function(e,t){if(e){var n,i,a,s,l,u,d,f=e.attributeTable,y=e.dataType,h=e.bandCount,v=e.pixelType,m=e.colormap,g=e.statistics,_=e.histograms;if(t&&t.length>0&&(g=g?t.map((function(e){return g[e]})):null,_=_?t.map((function(e){return _[e]})):null),f&&(i=f.fields.filter((function(e){return"red"===e.name.toLowerCase()}))[0],a=f.fields.filter((function(e){return"green"===e.name.toLowerCase()}))[0],s=f.fields.filter((function(e){return"blue"===e.name.toLowerCase()}))[0],u=f.fields.filter((function(e){return"value"===e.name.toLowerCase()}))[0],(l=f.fields.filter((function(e){return"classname"===e.name.toLowerCase()||"class_name"===e.name.toLowerCase()}))[0])||(l=f.fields.filter((function(e){return"string"===e.type}))[0])||(l=u)),1===h&&(null==m?void 0:m.length)>0)f&&i&&a&&s&&(d={},f.features.forEach((function(e){var t=e.attributes;d[t[u.name]]=l?t[l.name]:t[u.name]}))),n=r.RasterColormapRenderer.createFromColormap(m,d);else if(1===h&&f){var b=void 0,w=f.features;if(i&&a&&s&&l)b=w.map((function(e){return{value:e.attributes[l.name],label:e.attributes[l.name],symbol:{type:"esriSFS",style:"esriSFSSolid",color:[e.attributes[i.name],e.attributes[a.name],e.attributes[s.name],255]}}}));else{var x=o.convertColorRampToColormap(p,w.length);b=w.map((function(e,t){return{value:e.attributes[u.name],label:e.attributes[u.name],symbol:{color:x[t].slice(1,4),type:"esriSFS",style:"esriSFSSolid"}}}))}b.sort((function(e,t){return e.value>t.value?1:-1})),n=r.UniqueValueRenderer.fromJSON({field1:l.name,uniqueValueInfos:b})}if(!n){var S=void 0,L=!1,M=void 0,O=void 0,P=void 0;"u8"===v&&"processed"===y?(S="none",g=1===h?[{min:0,max:255}]:[{min:0,max:255},{min:0,max:255},{min:0,max:255}]):"u8"===v||"elevation"===y?(S="min-max",L=!g):"scientific"===y?(S="min-max",L=!g,M=c):_&&_.length>0?(S="percent-clip",P=O=.25):g?S="min-max":(S="percent-clip",L=!0),n=r.RasterStretchRenderer.fromJSON({stretchType:S,dra:L,colorRamp:M,min:0,max:255,statistics:L?null:g,histograms:L?null:_,maxPercent:O,minPercent:P})}return n}},t.getDefaultBandCombination=function(e){var t=e.bandCount;if(1===t)return null;if(2===t)return[0];var r,n,i,a,o,s=e.keyProperties&&e.keyProperties.BandProperties;if(s&&s.length===t){for(var l=0;l<s.length;l++)s[l].BandName&&"red"===s[l].BandName.toLowerCase()&&(n=l),s[l].BandName&&"green"===s[l].BandName.toLowerCase()&&(i=l),s[l].BandName&&"blue"===s[l].BandName.toLowerCase()&&(a=l),s[l].BandName&&"nearinfrared"===s[l].BandName.toLowerCase()&&(o=l);void 0!==n&&void 0!==i&&void 0!==a?r=[n,i,a]:void 0!==n&&void 0!==i&&void 0!==o&&(r=[o,n,i])}return!r&&t>3&&(r=[0,1,2]),r};var d={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9};function f(e,t){var r=u[String(t).toLowerCase()];return r&&e.push([Math.floor(r[0]-1),0,0,0],[Math.ceil(r[1]+1),0,0,0]),e}function y(e){if(e){var t=e.fields,r=t&&n.find(t,(function(e){return e&&e.name&&"value"===e.name.toLowerCase()}));return r&&r.name}}}).apply(null,n))||(e.exports=i)},a4MF:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e={}),this._options=e}return e.prototype.toQueryParams=function(e){var t=this;if(!e)return null;var r=e.toJSON(),n={};return Object.keys(r).forEach((function(e){var i=t._options[e];if(i){var a="boolean"!=typeof i&&i.name?i.name:e,o="boolean"!=typeof i&&i.getter?i.getter(r):r[e];null!=o&&(n[a]=function(e){if(!Array.isArray(e))return!1;var t=e[0];return"number"==typeof t||"string"==typeof t}(o)?o.join(","):"object"==typeof o?JSON.stringify(o):o)}else n[e]=r[e]}),this),n},e}();t.createQueryParamsHelper=function(e){return new r(e)}}).apply(null,n))||(e.exports=i)},ddAr:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("pMLx")],void 0===(i=(function(e,t,r,n){function i(e,t,i,a){if(!e)return null;var o=t.minScale,s=t.maxScale,l=t.minLOD,u=t.maxLOD;if(null!=l&&null!=u)return n.fromJSON(a&&a.ignoreMinMaxLOD?e:r.__assign(r.__assign({},e),{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=l&&t<=u}))}));if(0!==o&&0!==s){var c=function(e){return Math.round(1e4*e)/1e4},p=o?c(o):1/0,d=s?c(s):-1/0;return n.fromJSON(r.__assign(r.__assign({},e),{lods:e.lods.filter((function(e){var t=c(e.scale);return t<=p&&t>=d}))}))}return n.fromJSON(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.serviceTileInfoProperty={type:n,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:i}}}}},t.readServiceTileInfo=i}).apply(null,n))||(e.exports=i)},dhsc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("R2Zq")],void 0===(i=(function(e,t,r){return function(){function e(e,t){void 0===e&&(e=15e3),void 0===t&&(t=5e3),this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=e,this._interval=Math.min(e,t)}return e.prototype.decreaseRefCount=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.refCount--,i.refCount<=0&&(n.delete(r),i.controller&&i.controller.abort()),i.refCount}return 0},e.prototype.getBlock=function(e,t){var r=e+"/"+t,n=this._cachedBlocks;if(n.has(r)){var i=n.get(r);return i.ts=Date.now(),i.refCount++,n.delete(r),n.set(r,i),i.block}return null},e.prototype.putBlock=function(e,t,r,n){void 0===n&&(n=null);var i=this._cachedBlocks,a=e+"/"+t;if(i.has(a)){var o=i.get(a);o.ts=Date.now(),o.refCount++}else i.set(a,{block:r,ts:Date.now(),refCount:1,controller:n});this.trim(),this.updateTimer()},e.prototype.deleteBlock=function(e,t){var r=this._cachedBlocks,n=e+"/"+t;r.has(n)&&r.delete(n)},e.prototype.updateMaxSize=function(e){this._size=e,this.trim()},e.prototype.empty=function(){this._cachedBlocks.clear(),this.clearTimer()},e.prototype.getCurrentSize=function(){return this._cachedBlocks.size},e.prototype.updateTimer=function(){var e=this;if(null==this._timer){var t=this._cachedBlocks;this._timer=setInterval((function(){for(var n=r.pairsOfMap(t),i=Date.now(),a=0;a<n.length&&n[a][1].ts<=i-e._duration;a++)t.delete(n[a][0]);0===t.size&&e.clearTimer()}),this._interval)}},e.prototype.trim=function(){var e=this._cachedBlocks;if(!(-1===this._size||this._size>=e.size))for(var t=r.pairsOfMap(e),n=0;n<t.length-this._size;n++)e.delete(t[n][0])},e.prototype.clearTimer=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)},e}()}).apply(null,n))||(e.exports=i)},i6zL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("KY0m"),r("BcWh"),r("eIBl"),r("rg9i"),r("jBNx"),r("8MXS"),r("Vx27"),r("tJCi"),r("TD84"),r("txZC")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u,c,p,d){return function(e){function t(t){var r=e.call(this,t)||this;return r._activeGraphic=null,r._dragEvent=null,r._handles=new a,r._hoverGraphic=null,r._initialDragGeometry=null,r._pointerDownEvent=null,r._viewHandles=new a,r.type="graphic-mover",r.callbacks={onGraphicClick:function(){},onGraphicDoubleClick:function(){},onGraphicMoveStart:function(){},onGraphicMove:function(){},onGraphicMoveStop:function(){},onGraphicPointerOver:function(){},onGraphicPointerOut:function(){},onGraphicPointerDown:function(){},onGraphicPointerUp:function(){}},r.enableMoveAllGraphics=!1,r.graphics=[],r.view=null,r}return r.__extends(t,e),t.prototype.initialize=function(){var e=this;this._handles.add([l.whenOnce(this,"view.ready",(function(){e._viewHandles.add([e.view.on("immediate-click",(function(t){return e._clickHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("double-click",(function(t){return e._doubleClickHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-down",(function(t){return e._pointerDownHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-move",(function(t){return e._pointerMoveHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("pointer-up",(function(t){return e._pointerUpHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("drag",(function(t){return e._dragHandler(t)}),d.ViewEventPriorities.TOOL),e.view.on("key-down",(function(t){return e._keyDownHandler(t)}),d.ViewEventPriorities.TOOL)])}))])},t.prototype.destroy=function(){this.reset(),this._viewHandles.removeAll(),this._handles.removeAll()},Object.defineProperty(t.prototype,"state",{get:function(){var e=!!this.get("view.ready"),t=!!this.get("graphics.length");return e&&t?this._activeGraphic?"moving":"active":e?"ready":"disabled"},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null},t.prototype.updateGeometry=function(e,t){var r=this.graphics[e];r&&r.set("geometry",t)},t.prototype._clickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var a=new p.GraphicClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-click",a),t.callbacks.onGraphicClick&&t.callbacks.onGraphicClick(a)}}}))},t.prototype._doubleClickHandler=function(e){var t=this;this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(t.graphics.indexOf(i)>-1){var a=new p.GraphicDoubleClickEvent(i,t.graphics.indexOf(i),e.x,e.y,e);t.emit("graphic-double-click",a),t.callbacks.onGraphicDoubleClick&&t.callbacks.onGraphicDoubleClick(a)}}}))},t.prototype._pointerDownHandler=function(e){var t=this;this._pointerDownEvent=e,this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var i=n.find(r.results,(function(e){return-1!==t.graphics.indexOf(e.graphic)}));if(i){var a=i.graphic;if(t.graphics.indexOf(a)>-1){t._activeGraphic=a;var o=e.x,s=e.y,l=new p.GraphicPointerDownEvent(a,t.graphics.indexOf(a),o,s,e);t.emit("graphic-pointer-down",l),t.callbacks.onGraphicPointerDown&&t.callbacks.onGraphicPointerDown(l)}else a!==t._activeGraphic&&(t._pointerDownEvent=null,t._activeGraphic=null)}else t._pointerDownEvent=null,t._activeGraphic=null}))},t.prototype._pointerUpHandler=function(e){if(this._pointerDownEvent=null,this._activeGraphic){var t=e.x,r=e.y,n=this.graphics.indexOf(this._activeGraphic),i=new p.GraphicPointerUpEvent(this._activeGraphic,n,t,r,e);this._activeGraphic=null,this.emit("graphic-pointer-up",i),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(i)}},t.prototype._pointerMoveHandler=function(e){var t=this;this._dragEvent||this.view.hitTest(s.createScreenPointFromEvent(e)).then((function(r){var n=r.results;if(n.length&&n[0].graphic){var i=n[0].graphic;if(i===t._hoverGraphic)return;if(t.graphics.indexOf(i)>-1){var a=e.x,o=e.y;if(t._hoverGraphic){var s=t.graphics.indexOf(t._hoverGraphic),l=new p.GraphicPointerOutEvent(t.graphics[s],s,a,o,e);t._hoverGraphic=null,t.emit("graphic-pointer-out",l),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(l)}var u=t.graphics.indexOf(i),c=new p.GraphicPointerOverEvent(i,u,a,o,e);return t._hoverGraphic=i,t.emit("graphic-pointer-over",c),void(t.callbacks.onGraphicPointerOver&&t.callbacks.onGraphicPointerOver(c))}}t._hoverGraphic&&(a=e.x,o=e.y,s=t.graphics.indexOf(t._hoverGraphic),c=new p.GraphicPointerOutEvent(t.graphics[s],s,a,o,e),t._hoverGraphic=null,t.emit("graphic-pointer-out",c),t.callbacks.onGraphicPointerOut&&t.callbacks.onGraphicPointerOut(c))}))},t.prototype._dragHandler=function(e){var t=this;if(this._pointerDownEvent){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;e.stopPropagation();var r=e.x,n=e.y,i=this.graphics.indexOf(this._activeGraphic),a=this._activeGraphic.geometry,s=this._dragEvent?r-this._dragEvent.x:0,l=this._dragEvent?n-this._dragEvent.y:0,u=r-e.origin.x,d=n-e.origin.y;if(this._activeGraphic.geometry=c.cloneMove(a,s,l,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((function(e){e!==t._activeGraphic&&(e.geometry=c.cloneMove(e.geometry,s,l,t.view))})),this._dragEvent=e,"start"===e.action){this._initialDragGeometry=o.clone(a);var f=new p.GraphicMoveStartEvent(this._activeGraphic,this.graphics,i,r,n,s,l,u,d,e);this.emit("graphic-move-start",f),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(f),f.defaultPrevented&&this._activeGraphic.set("geometry",a)}else"update"===e.action?(f=new p.GraphicMoveEvent(this._activeGraphic,this.graphics,i,r,n,s,l,u,d,e),this.emit("graphic-move",f),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(f),f.defaultPrevented&&this._activeGraphic.set("geometry",a)):(this._dragEvent=null,f=new p.GraphicMoveStopEvent(this._activeGraphic,this.graphics,i,r,n,s,l,u,d,e),this.emit("graphic-move-stop",f),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(f),f.defaultPrevented&&this.graphics[i].set("geometry",this._initialDragGeometry),this._initialDragGeometry=null)}},t.prototype._keyDownHandler=function(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()},r.__decorate([u.property()],t.prototype,"_activeGraphic",void 0),r.__decorate([u.property({readOnly:!0})],t.prototype,"type",void 0),r.__decorate([u.property()],t.prototype,"callbacks",void 0),r.__decorate([u.property()],t.prototype,"enableMoveAllGraphics",void 0),r.__decorate([u.property()],t.prototype,"graphics",void 0),r.__decorate([u.property({dependsOn:["view.ready","graphics.length","_activeGraphic"],readOnly:!0})],t.prototype,"state",null),r.__decorate([u.property()],t.prototype,"view",void 0),r.__decorate([u.subclass("esri.views.draw.support.GraphicMover")],t)}(i.EventedAccessor)}).apply(null,n))||(e.exports=i)},iHt0:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){function r(){return new Float32Array(3)}function n(e,t,r){var n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=r,n}function i(){return r()}function a(){return n(1,1,1)}function o(){return n(1,0,0)}function s(){return n(0,1,0)}function l(){return n(0,0,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.clone=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.fromValues=n,t.createView=function(e,t){return new Float32Array(e,t,3)},t.zeros=i,t.ones=a,t.unitX=o,t.unitY=s,t.unitZ=l,t.ZEROS=i(),t.ONES=a(),t.UNIT_X=o(),t.UNIT_Y=s(),t.UNIT_Z=l()}).apply(null,n))||(e.exports=i)},jJpZ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("nrlZ"),r("k7g7"),r("2Kdy")],void 0===(i=(function(e,t,n,i,a){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.code=null,this.description=null},s=function(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e};function l(e){return new s(e)}t.createFeatureEditErrorResult=l;var u=function(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e};t.createFeatureEditSuccessResult=function(e){return new u(e)};var c,p=new Set;function d(e,t){var r=t;return"string"==typeof t&&a.isNumericField(e)?r=parseFloat(t):null!=t&&a.isStringField(e)&&"string"!=typeof t&&(r=String(t)),a.sanitizeNullFieldValue(r)}function f(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return c?[2,c]:[4,new Promise((function(e,t){r.e(1).then((function(){var t=[r("tNTp")];e.apply(null,t)}).bind(this)).catch(t.bind(this))}))];case 1:return[2,c=e.sent()]}}))}))}t.mixAttributes=function(e,t,r,n,i,o){for(var s in void 0===i&&(i=!1),p.clear(),n){var u=e.get(s);if(u){var c=n[s],f=d(u,c);if(f!==c&&o&&o.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:u,originalValue:c,sanitizedValue:f}}),p.add(u.name),u&&(i||u.editable)){var y=a.validateFieldValue(u,f);if(y)return l(a.validationErrorToString(y,u,f));r[u.name]=f}}}for(var h=0,v=t;h<v.length;h++){var m=v[h];if(!p.has(m.name))return l('missing required field "'+m.name+'"')}return null},t.simplify=function(e,t){if(!e||!i.isValid(t))return e;if("rings"in e||"paths"in e){if(!c)throw new TypeError("geometry engine not loaded");return c.simplify(t,e)}return e},t.loadGeometryEngine=f,t.loadGeometryEngineForSimplify=function(e,t){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(r){switch(r.label){case 0:return!i.isValid(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t?[3,2]:[4,f()];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}}).apply(null,n))||(e.exports=i)},kBlY:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27"),r("N7S/")],void 0===(i=(function(e,t,r,n,i,a){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.extent=null,t.height=null,t.href=null,t.opacity=1,t.rotation=0,t.scale=null,t.visible=!0,t.width=null,t}return r.__extends(t,e),r.__decorate([i.property({type:a})],t.prototype,"extent",void 0),r.__decorate([i.property()],t.prototype,"height",void 0),r.__decorate([i.property()],t.prototype,"href",void 0),r.__decorate([i.property()],t.prototype,"opacity",void 0),r.__decorate([i.property()],t.prototype,"rotation",void 0),r.__decorate([i.property()],t.prototype,"scale",void 0),r.__decorate([i.property()],t.prototype,"visible",void 0),r.__decorate([i.property()],t.prototype,"width",void 0),r.__decorate([i.subclass("esri.layer.support.MapImage")],t)}(n.JSONSupport)}).apply(null,n))||(e.exports=i)},lbAP:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ImIS"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,a){var o=new n.default({esriMeters:"meters",esriFeet:"feet",esriKilometers:"kilometers",esriMiles:"miles",esriNauticalMiles:"nautical-miles",esriYards:"yards"},{ignoreUnknown:!1});return function(e){function t(t){var r=e.call(this,t)||this;return r.distance=0,r.units=null,r}return r.__extends(t,e),r.__decorate([a.property({json:{write:!0}})],t.prototype,"distance",void 0),r.__decorate([a.property({json:{read:o.read,write:o.write}})],t.prototype,"units",void 0),r.__decorate([a.subclass("esri/tasks/support/LinearUnit")],t)}(i.JSONSupport)}).apply(null,n))||(e.exports=i)},mEoI:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("jZlN"),r("LxLY"),r("Vx27"),r("w1v0")],void 0===(i=(function(e,t,r,n,i,a,o,s){return function(e){function t(t){var r=e.call(this,t)||this;return r.extent=null,r.features=null,r.geometryType="polyline",r.routeId=null,r.routeName=null,r.totalDriveTime=null,r.totalLength=null,r.totalTime=null,r}return r.__extends(t,e),t.prototype.readFeatures=function(e,t){var r=this;(e||[]).forEach((function(e){r._decompressFeatureGeometry(e,t.summary.envelope.spatialReference)}));var o=n.SpatialReference.fromJSON(t.spatialReference);return e.map((function(e){var t=i.fromJSON(e);return t.geometry&&!(e.geometry&&e.geometry.spatialReference)&&(a.unwrap(t.geometry).spatialReference=o),t.strings=e.strings,t.events=(e.events||[]).map((function(t){var r=new i({geometry:new n.Point({x:t.point.x,y:t.point.y,z:t.point.z,hasZ:void 0!==t.point.z,spatialReference:e.geometry&&e.geometry.spatialReference}),attributes:{ETA:t.ETA,arriveTimeUTC:t.arriveTimeUTC}});return r.strings=t.strings,r})),t}))},Object.defineProperty(t.prototype,"mergedGeometry",{get:function(){if(!this.features)return null;var e=this.features.map((function(e){return a.unwrap(e.geometry)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strings",{get:function(){return this.features.map((function(e){return e.strings}))},enumerable:!0,configurable:!0}),t.prototype._decompressFeatureGeometry=function(e,t){e.geometry=this._decompressGeometry(e.compressedGeometry,t)},t.prototype._decompressGeometry=function(e,t){var r,n,i,a,o,s,l,u,c=0,p=0,d=0,f=0,y=[],h=0,v=0,m=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[h],32)){h=2;var g=parseInt(o[h],32);h++,s=parseInt(o[h],32),h++,1&g&&(v=o.indexOf("|")+1,l=parseInt(o[v],32),v++),2&g&&(m=o.indexOf("|",v)+1,u=parseInt(o[m],32),m++)}else s=parseInt(o[h],32),h++;for(;h<o.length&&"|"!==o[h];){r=parseInt(o[h],32)+c,h++,c=r,n=parseInt(o[h],32)+p,h++,p=n;var _=[r/s,n/s];v&&(a=parseInt(o[v],32)+d,v++,d=a,_.push(a/l)),m&&(i=parseInt(o[m],32)+f,m++,f=i,_.push(i/u)),y.push(_)}return{paths:[y],hasZ:v>0,hasM:m>0,spatialReference:t}},t.prototype._mergePolylinesToSinglePath=function(e,t){var r=[];(e||[]).forEach((function(e){e.paths.forEach((function(e){r=r.concat(e)}))}));var i=[],a=[0,0];return r.forEach((function(e){e[0]===a[0]&&e[1]===a[1]||(i.push(e),a=e)})),new n.Polyline({paths:[i]},t)},r.__decorate([o.property({type:n.Extent,json:{read:{source:"summary.envelope"}}})],t.prototype,"extent",void 0),r.__decorate([o.property()],t.prototype,"features",void 0),r.__decorate([o.reader("features")],t.prototype,"readFeatures",null),r.__decorate([o.property()],t.prototype,"geometryType",void 0),r.__decorate([o.property({readOnly:!0,dependsOn:["features","extent.spatialReference"]})],t.prototype,"mergedGeometry",null),r.__decorate([o.property()],t.prototype,"routeId",void 0),r.__decorate([o.property()],t.prototype,"routeName",void 0),r.__decorate([o.property({value:null,readOnly:!0,dependsOn:["features"]})],t.prototype,"strings",null),r.__decorate([o.property({json:{read:{source:"summary.totalDriveTime"}}})],t.prototype,"totalDriveTime",void 0),r.__decorate([o.property({json:{read:{source:"summary.totalLength"}}})],t.prototype,"totalLength",void 0),r.__decorate([o.property({json:{read:{source:"summary.totalTime"}}})],t.prototype,"totalTime",void 0),r.__decorate([o.subclass("esri.tasks.support.DirectionsFeatureSet")],t)}(s)}).apply(null,n))||(e.exports=i)},mnow:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("TMur"),r("ma1f"),r("wIC5"),r("nrlZ"),r("vtMp")],void 0===(i=(function(e,t,r,n,i,a,o,s){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e,t){var r=(e.isWGS84||e.isWebMercator)&&(t.isWGS84||t.isWebMercator);return!(e.equals(t)||r)};t.defaultGridSpacing=32,t.load=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return a.isLoaded()||!a.isSupported()?[2,null]:[4,a.load()];case 1:return e.sent(),[2]}}))}))},t.projectResolution=function(e,t,r,o){if(void 0===o&&(o=null),e.spatialReference.equals(t))return e;var u=l(e.spatialReference,t);if(u&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");var c=r.center,p=new n.Extent({xmin:c.x-e.x/2,xmax:c.x+e.x/2,ymin:c.y-e.y/2,ymax:c.y+e.y/2,spatialReference:e.spatialReference}),d=u?a.project(p,t,o):s.project(p,t);return null==d?null:new n.Point(d.xmax-d.xmin,d.ymax-d.ymin,t)},t.projectPoint=function(e,t,r){if(void 0===r&&(r=null),e.spatialReference.equals(t))return e;var n=l(e.spatialReference,t);if(n&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");return n?a.project(e,t,r):s.project(e,t)},t.projectExtent=function(e,t,r){if(void 0===r&&(r=null),e.spatialReference.equals(t))return e;var n=l(e.spatialReference,t);if(n&&!a.isLoaded())throw new i("rasterprojectionhelper-projectExtent","projection engine is not loaded");return n?a.project(e,t,r):s.project(e,t)},t.getProjectionOffsetGrid=function(e,r,u,c,p,d){void 0===c&&(c=null),void 0===p&&(p=!1),void 0===d&&(d=[t.defaultGridSpacing,t.defaultGridSpacing]);var f=r.spatialReference.equals(e.spatialReference),y=l(e.spatialReference,r.spatialReference);if(y&&!a.isLoaded())throw new i("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(e&&r&&u))return null;for(var h,v,m,g=e.xmin,_=e.ymin,b=e.xmax,w=e.ymax,x=e.spatialReference,S=r.spatialReference,L=o.getInfo(x),M=L&&L.valid[0],O=L&&L.valid[1],P={x:d[0]*u.x,y:d[1]*u.y},T={cols:Math.ceil((b-g)/P.x-.1)+1,rows:Math.ceil((w-_)/P.y-.1)+1},j=P.x,N=P.y,G=[],I=!1,A=0;A<T.cols;A++){for(var E=[],k=0;k<T.rows;k++)h=new n.Point({x:g+j*A,y:w-N*k,spatialReference:x}),v=f?h:y?a.project(h,S,c):s.project(h,S),E.push(v),A>0&&p&&v&&m[k]&&L&&v.x<m[k].x&&(v.x+=O-M),v?(G.push((v.x-r.xmin)/(r.xmax-r.xmin)),G.push((r.ymax-v.y)/(r.ymax-r.ymin))):(G.push(NaN),G.push(NaN),I=!0);m=E}var R=function(e,t){var r=(e[1]+e[5]+e[4*t.rows+1]+e[4*t.rows+5])/4;return[Math.abs((e[0]+e[4]+e[4*t.cols]+e[4*t.cols+4])/4-e[2*t.rows+2]),Math.abs(r-e[2*t.rows+3])]}(G,T),C=new Float32Array((T.cols-1)*(T.rows-1)*2*6),D=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),F=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(A=0;A<T.cols-1;A++){for(k=0;k<T.rows-1;k++){for(var V=A*T.rows*2+2*k,z=G[V],B=G[V+1],J=G[V+2],U=G[V+3],q=G[V+=2*T.rows],W=G[V+1],H=G[V+2],K=G[V+3],Z=0,Y=12*(k*(T.cols-1)+A),X=0;X<3;X++)C[Y++]=D[Z++]*z+D[Z++]*J+D[Z++]*H;for(Z=0,X=0;X<3;X++)C[Y++]=D[Z++]*B+D[Z++]*U+D[Z++]*K;for(Z=0,X=0;X<3;X++)C[Y++]=F[Z++]*z+F[Z++]*q+F[Z++]*H;for(Z=0,X=0;X<3;X++)C[Y++]=F[Z++]*B+F[Z++]*W+F[Z++]*K}if(I)for(var Q=0;Q<C.length;Q++)isNaN(C[Q])&&(C[Q]=-1)}return{offsets:G,error:R,coefficients:C,spacing:d,size:[T.cols-1,T.rows-1]}},t.snapPyramid=function(e,t,r){var i=Math.log(e.x/t.pixelSize.x)/Math.LN2,a=Math.log(e.y/t.pixelSize.y)/Math.LN2,o=t.storageInfo.maximumPyramidLevel||0,s="down"===r?Math.floor(Math.min(i,a)):"up"===r?Math.ceil(Math.max(i,a)):Math.round((i+a)/2),l=!1;s<0?s=0:s>o&&(l=s>o+3,s=o);var u=Math.pow(2,s);return{pyramidLevel:s,pyramidResolution:new n.Point({x:u*t.pixelSize.x,y:u*t.pixelSize.y,spatialReference:t.spatialReference}),excessiveReading:l}}}).apply(null,n))||(e.exports=i)},pOAQ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("QmTF"),r("WYOF")],void 0===(i=(function(e,t,r,n,i){function a(e,t,a,o){return r.__awaiter(this,void 0,void 0,(function(){var s;return r.__generator(this,(function(r){switch(r.label){case 0:return e.layerType&&"ArcGISFeatureLayer"===e.layerType?e.url?[2,!1]:e.featureCollectionType&&e.featureCollectionType===a?[2,!0]:e.itemId?[4,(s=new n({id:e.itemId,portal:t})).load()]:[3,2]:[2,!1];case 1:return r.sent(),[2,"Feature Collection"===s.type&&i.hasTypeKeyword(s,o)];case 2:return[2,!1]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.isMapNotesLayer=function(e,t){return a(e,t,"notes","Map Notes")},t.isRouteLayer=function(e,t){return a(e,t,"route","Route Layer")}}).apply(null,n))||(e.exports=i)},soIt:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qMld"),r("Cobz"),r("f3JK")],void 0===(i=(function(e,t,r,n,i){return function(){function e(e){if(e instanceof n.TilemapCache)this._tilemapCache=e;else{if(!e||!("index"in e))throw new Error("Invalid tilemap!");this._tilemap=e.index}}return e.prototype.dataKey=function(e,t){if(this._tilemapCache){var n=e.level,a=e.row,o=e.col,s=new i(e);return this._tilemapCache.fetchAvailabilityUpsample(n,a,o,s,t).then((function(){return s})).catch((function(e){if(r.isAbortError(e))throw e;return null}))}return this._getIndexedDataKey(e)},e.prototype.forEach=function(e,t,r,n,i){this._callback=i,this._maxLevel=t+e,this._forEach(this._tilemap,t,r,n)},e.prototype._forEach=function(e,t,r,n){0!==e&&(this._callback(t,r,n),t!==this._maxLevel&&"object"==typeof e&&(this._forEach(e[0],t+1,2*r,2*n),this._forEach(e[1],t+1,2*r,2*n+1),this._forEach(e[2],t+1,2*r+1,2*n),this._forEach(e[3],t+1,2*r+1,2*n+1)))},e.prototype._getIndexedDataKey=function(e){var t=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return r.resolve(null);for(var n=e;0!==n.level;)n=new i(n.level-1,n.row>>1,n.col>>1,n.world),t.push(n);var a,o,s=this._tilemap,l=t.pop();if(1===s)return r.resolve(l);for(;t.length;)if(o=(1&(a=t.pop()).col)+((1&a.row)<<1),s){if(0===s[o]){l=null;break}if(1===s[o]){l=a;break}l=a,s=s[o]}return r.resolve(l)},e}()}).apply(null,n))||(e.exports=i)},tNTp:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("vFDJ"),r("H9Hv")],void 0===(i=(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.extendedSpatialReferenceInfo=function(e){return r.extendedSpatialReferenceInfo(e)},t.clip=function(e,t,i){return r.clip(n.jsonAdapter,e,t,i)},t.cut=function(e,t,i){return r.cut(n.jsonAdapter,e,t,i)},t.contains=function(e,t,i){return r.contains(n.jsonAdapter,e,t,i)},t.crosses=function(e,t,i){return r.crosses(n.jsonAdapter,e,t,i)},t.distance=function(e,t,i,a){return r.distance(n.jsonAdapter,e,t,i,a)},t.equals=function(e,t,i){return r.equals(n.jsonAdapter,e,t,i)},t.intersects=function(e,t,i){return r.intersects(n.jsonAdapter,e,t,i)},t.touches=function(e,t,i){return r.touches(n.jsonAdapter,e,t,i)},t.within=function(e,t,i){return r.within(n.jsonAdapter,e,t,i)},t.disjoint=function(e,t,i){return r.disjoint(n.jsonAdapter,e,t,i)},t.overlaps=function(e,t,i){return r.overlaps(n.jsonAdapter,e,t,i)},t.relate=function(e,t,i,a){return r.relate(n.jsonAdapter,e,t,i,a)},t.isSimple=function(e,t){return r.isSimple(n.jsonAdapter,e,t)},t.simplify=function(e,t){return r.simplify(n.jsonAdapter,e,t)},t.convexHull=function(e,t,i){return void 0===i&&(i=!1),r.convexHull(n.jsonAdapter,e,t,i)},t.difference=function(e,t,i){return r.difference(n.jsonAdapter,e,t,i)},t.symmetricDifference=function(e,t,i){return r.symmetricDifference(n.jsonAdapter,e,t,i)},t.intersect=function(e,t,i){return r.intersect(n.jsonAdapter,e,t,i)},t.union=function(e,t,i){return void 0===i&&(i=null),r.union(n.jsonAdapter,e,t,i)},t.offset=function(e,t,i,a,o,s,l){return r.offset(n.jsonAdapter,e,t,i,a,o,s,l)},t.buffer=function(e,t,i,a,o){return void 0===o&&(o=!1),r.buffer(n.jsonAdapter,e,t,i,a,o)},t.geodesicBuffer=function(e,t,i,a,o,s,l){return r.geodesicBuffer(n.jsonAdapter,e,t,i,a,o,s,l)},t.nearestCoordinate=function(e,t,i,a){return void 0===a&&(a=!0),r.nearestCoordinate(n.jsonAdapter,e,t,i,a)},t.nearestVertex=function(e,t,i){return r.nearestVertex(n.jsonAdapter,e,t,i)},t.nearestVertices=function(e,t,i,a,o){return r.nearestVertices(n.jsonAdapter,e,t,i,a,o)},t.rotate=function(e,t,n,i){if(null==t||null==i)throw new Error("Illegal Argument Exception");var a=r.rotate(t,n,i);return a.spatialReference=e,a},t.flipHorizontal=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipHorizontal(t,n);return i.spatialReference=e,i},t.flipVertical=function(e,t,n){if(null==t||null==n)throw new Error("Illegal Argument Exception");var i=r.flipVertical(t,n);return i.spatialReference=e,i},t.generalize=function(e,t,i,a,o){return r.generalize(n.jsonAdapter,e,t,i,a,o)},t.densify=function(e,t,i,a){return r.densify(n.jsonAdapter,e,t,i,a)},t.geodesicDensify=function(e,t,i,a,o){return void 0===o&&(o=0),r.geodesicDensify(n.jsonAdapter,e,t,i,a,o)},t.planarArea=function(e,t,i){return r.planarArea(n.jsonAdapter,e,t,i)},t.planarLength=function(e,t,i){return r.planarLength(n.jsonAdapter,e,t,i)},t.geodesicArea=function(e,t,i,a){return r.geodesicArea(n.jsonAdapter,e,t,i,a)},t.geodesicLength=function(e,t,i,a){return r.geodesicLength(n.jsonAdapter,e,t,i,a)}}).apply(null,n))||(e.exports=i)},uLAD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("ma1f"),r("qMld"),r("FayN"),r("QmTF"),r("WYOF")],void 0===(i=(function(e,t,r,n,i,a,o,s,l){function u(e){switch(e.type){case"Map Service":return function(e){return function(e){return d(e.url).then((function(e){return e.tileInfo}))}(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return p(e).then((function(e){if("object"==typeof e){var t={};return null!=e.id&&(t.layerId=e.id),{className:"FeatureLayer",properties:t}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),l.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:l.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return(t=r.sent())&&Array.isArray(t.layers)&&1===t.layers.length?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return p(e).then((function(t){if("object"==typeof t){var r={},n=void 0;if(null!=t.id?(r.layerId=t.id,n=e.url+"/layers/"+t.id):n=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var i={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];if(-1!==e.typeKeywords.indexOf(s))return{className:i[s]}}return d(n).then((function(e){var t="SceneLayer",n={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&n[e.layerType]&&(t=n[e.layerType]),{className:t,properties:r}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){var t,n,i;return r.__awaiter(this,void 0,void 0,(function(){var a,o,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load()];case 1:return r.sent(),(a=null!==(n=null===(t=e.typeKeywords)||void 0===t?void 0:t.map((function(e){return e.toLowerCase()})))&&void 0!==n?n:[]).indexOf("elevation 3d layer")>-1?[2,{className:"ElevationLayer"}]:a.indexOf("tiled imagery")>-1?[2,{className:"ImageryTileLayer"}]:[4,e.fetchData()];case 2:return o=r.sent(),"ArcGISTiledImageServiceLayer"===(s=null==o?void 0:o.layerType)?[2,{className:"ImageryTileLayer"}]:"ArcGISImageServiceLayer"===s?[2,{className:"ImageryLayer"}]:[4,d(e.url)];case 3:return l=r.sent(),"map"===(null===(i=l.cacheType)||void 0===i?void 0:i.toLowerCase())?[2,{className:"ImageryTileLayer"}]:[2,{className:"ImageryLayer"}]}}))}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return a.reject(new i("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function c(e){return(0,o.layerLookupMap[e.className])().then((function(t){return{constructor:t,properties:e.properties}}))}function p(e){return!e.url||e.url.match(/\/\d+$/)?a.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(t){return t&&Array.isArray(t.layers)?1===t.layers.length&&{id:t.layers[0].id}:d(e.url).then((function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}}))}))}function d(e){return n(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fromItem=function(e){return!e.portalItem||e.portalItem instanceof s||(e=r.__assign(r.__assign({},e),{portalItem:new s(e.portalItem)})),(t=e.portalItem,t.load().then(u).then(c)).then((function(t){var n=r.__assign({portalItem:e.portalItem},t.properties);return a.resolve(new(0,t.constructor)(n))}));var t},t.selectLayerClassPath=u}).apply(null,n))||(e.exports=i)},vlC2:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("iHt0")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec3f32=r}).apply(null,n))||(e.exports=i)},wQ6y:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){return function(e){function t(t){var r=e.call(this,t)||this;return r.format=null,r.itemId=null,r.url=null,r}return r.__extends(t,e),r.__decorate([i.property()],t.prototype,"format",void 0),r.__decorate([i.property({json:{read:{source:"itemID"},write:{target:"itemID"}}})],t.prototype,"itemId",void 0),r.__decorate([i.property()],t.prototype,"url",void 0),r.__decorate([i.subclass("esri/tasks/support/RasterData")],t)}(n.JSONSupport)}).apply(null,n))||(e.exports=i)},wke2:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("Gtr7"),r("qMld"),r("Vx27"),r("N7S/"),r("lRq4"),r("nrlZ"),r("pMLx"),r("YaB4"),r("OQ/g"),r("M3W5"),r("f3JK")],void 0===(i=(function(e,t,r,n,i,a,o,s,l,u,c,p,d,f){var y=s.create(),h=[0,0],v=new f(0,0,0,0);return function(e){function t(t){var n=e.call(this,t)||this;return n._imagePromise=null,n.hidpi=!1,n.imageMaxWidth=2048,n.imageMaxHeight=2048,n.imageRotationSupported=!1,n.imageNormalizationSupported=!1,n.update=i.debounce((function(e,t){return r.__awaiter(n,void 0,void 0,(function(){var n,i,a,o,s,u,c,d,f=this;return r.__generator(this,(function(r){return i=l.getInfo((n=e.state).spatialReference),a=this.hidpi?e.pixelRatio:1,!e.stationary||this.destroyed?[2]:(this.imageRotationSupported?(h[0]=n.size[0],h[1]=n.size[1]):p.getOuterSize(h,n),o=Math.floor(h[0]*a)>this.imageMaxWidth||Math.floor(h[1]*a)>this.imageMaxHeight,s=i&&(n.extent.xmin<i.valid[0]||n.extent.xmax>i.valid[1]),u=!this.imageNormalizationSupported&&s,c=this.imageRotationSupported?n.rotation:0,o||u?(d=Math.min(this.imageMaxWidth,this.imageMaxHeight),u&&(d=Math.min(n.worldScreenWidth,d)),this._imagePromise=this._tiledExport(n,d,c,a,t)):this._imagePromise=this._singleExport(n,h,c,a,t),[2,this._imagePromise.then((function(e){f._imagePromise=null;var t=f.container.children.slice();f.container.removeAllChildren(),e.forEach(f.container.addChild,f.container),f.disposeSource&&t.forEach((function(e){f.disposeSource(e.source)}),f)})).catch((function(e){throw f._imagePromise=null,e}))])}))}))}),5e3),n}return r.__extends(t,e),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"updating",{get:function(){return null!==this._imagePromise},enumerable:!0,configurable:!0}),t.prototype.updateExports=function(e){for(var t=0,r=this.container.children;t<r.length;t++){var n=r[t];if(!n.visible||!n.stage)return;e(n)?console.error("ExportStrategy.updateExports doesn't support promise yet"):(n.invalidateTexture(),n.requestRender())}},t.prototype._export=function(e,t,r,n,a,o){var s=this;return i.resolve().then((function(){return s.fetchSource(e,Math.floor(t*a),Math.floor(r*a),{rotation:n,pixelRatio:a,signal:o})})).then((function(r){var i=new c.Bitmap(r);return i.x=e.xmin,i.y=e.ymax,i.resolution=e.width/t,i.rotation=n,i.pixelRatio=a,i}))},t.prototype._singleExport=function(e,t,r,n,i){p.getBBox(y,e.center,e.resolution,t);var a=new o(y[0],y[1],y[2],y[3],e.spatialReference);return this._export(a,t[0],t[1],r,n,i).then((function(e){return[e]}))},t.prototype._tiledExport=function(e,t,r,n,a){var s=this,l=u.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),c=new d(l),p=c.getTileCoverage(e);if(!p)return null;var f=[];return p.forEach((function(i,l,u,p){v.set(i,l,u,p),c.getTileBounds(y,v);var d=new o(y[0],y[1],y[2],y[3],e.spatialReference);f.push(s._export(d,t,t,r,n,a))})),i.all(f)},r.__decorate([a.property()],t.prototype,"_imagePromise",void 0),r.__decorate([a.property()],t.prototype,"container",void 0),r.__decorate([a.property()],t.prototype,"disposeSource",void 0),r.__decorate([a.property()],t.prototype,"fetchSource",void 0),r.__decorate([a.property()],t.prototype,"hidpi",void 0),r.__decorate([a.property()],t.prototype,"imageMaxWidth",void 0),r.__decorate([a.property()],t.prototype,"imageMaxHeight",void 0),r.__decorate([a.property()],t.prototype,"imageRotationSupported",void 0),r.__decorate([a.property()],t.prototype,"imageNormalizationSupported",void 0),r.__decorate([a.property()],t.prototype,"requestUpdate",void 0),r.__decorate([a.property({dependsOn:["_imagePromise"]})],t.prototype,"updating",null),r.__decorate([a.subclass("esri.views.2d.layers.support.ExportStrategy")],t)}(n)}).apply(null,n))||(e.exports=i)},xii5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("ma1f"),r("jfWY"),r("N7S/"),r("Z4y+")],void 0===(i=(function(e,t,r,n,i,a){Object.defineProperty(t,"__esModule",{value:!0});var o=[[4001,4999],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3416,3416],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]],s={84:4326,83:4269,27:4267};function l(e){return o.some((function(t){return e>=t[0]&&e<=t[1]}))}function u(e,t){var r=t&&t.getElementsByTagName(e);return r&&r.length>0?r[0]:null}function c(e,t,r){var n=u(e,t);return n?n.textContent:r}function p(e,t,r){if(!e)return null;var n,o,s,l,u=parseFloat(e.getAttribute("minx")),c=parseFloat(e.getAttribute("miny")),p=parseFloat(e.getAttribute("maxx")),d=parseFloat(e.getAttribute("maxy"));r?(n=isNaN(c)?-Number.MAX_VALUE:c,o=isNaN(u)?-Number.MAX_VALUE:u,s=isNaN(d)?Number.MAX_VALUE:d,l=isNaN(p)?Number.MAX_VALUE:p):(n=isNaN(u)?-Number.MAX_VALUE:u,o=isNaN(c)?-Number.MAX_VALUE:c,s=isNaN(p)?Number.MAX_VALUE:p,l=isNaN(d)?Number.MAX_VALUE:d);var f=new a({wkid:t});return new i({xmin:n,ymin:o,xmax:s,ymax:l,spatialReference:f})}function d(e,t){var r=u(t,e),i=u("DCPType",r);if(i){var a=u("HTTP",i);if(a){var o=u("Get",a);if(o){var s=function(e,t,r,n){var i=u("OnlineResource",r);return i?i.getAttribute("xlink:href"):null}(0,0,o);if(s)return s.indexOf("&")===s.length-1&&(s=s.substring(0,s.length-1)),function(e,t){var r=[],i=n.urlToObject(e);for(var a in i.query)i.query.hasOwnProperty(a)&&-1===t.indexOf(a.toLowerCase())&&r.push(a+"="+i.query[a]);return i.path+(r.length?"?"+r.join("&"):"")}(s,["service","request"])}}}return null}function f(e,t){var r=e.getElementsByTagName("Operation");if(!r||!r.length){var n=u(t,e).getElementsByTagName("Format");return Array.prototype.slice.call(n).map((function(e){return e.textContent}))}var i=Array.prototype.slice.call(r),a=[];return i.forEach((function(e){if(e.getAttribute("name")===t){var r=e.getElementsByTagName("Format");Array.prototype.slice.call(r).forEach((function(e){a.push(e.textContent)}))}})),a}function y(e,t,r){var n=function(e,t){for(var r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(n.nodeType===Node.ELEMENT_NODE&&n.nodeName===e)return n}return null}(t,e);if(!n)return r;var i=n.textContent;if(null==i||""===i)return r;var a=Number(i);return isNaN(a)?r:a}function h(e,t,r){if(!e)return null;var n={id:r.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},o=u("LatLonBoundingBox",e),d=u("EX_GeographicBoundingBox",e),f=null;o&&(f=p(o,4326)),d&&((f=new i(0,0,0,0,new a({wkid:4326}))).xmin=parseFloat(c("westBoundLongitude",d,0)),f.ymin=parseFloat(c("southBoundLatitude",d,0)),f.xmax=parseFloat(c("eastBoundLongitude",d,0)),f.ymax=parseFloat(c("northBoundLatitude",d,0))),o||d||(f=new i(-180,-90,180,90,new a({wkid:4326}))),n.minScale=y(e,"MaxScaleDenominator",0),n.maxScale=y(e,"MinScaleDenominator",0);var v=["1.0.0","1.1.0","1.1.1"].indexOf(t)>-1?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((function(e){if("Name"===e.nodeName)n.name=e.textContent||"";else if("Title"===e.nodeName)n.title=e.textContent||"";else if("Abstract"===e.nodeName)n.description=e.textContent||"";else if("BoundingBox"===e.nodeName){var i=e.getAttribute(v);i&&0===i.indexOf("EPSG:")&&(0===(o=parseInt(i.substring(5),10))||isNaN(o)||f||(f="1.3.0"===t?p(e,o,l(o)):p(e,o)));var a=i&&i.indexOf(":");if(a&&a>-1){var o;0===(o=parseInt(i.substring(a+1,i.length),10))||isNaN(o)||(o=s[o]?s[o]:o);var c="1.3.0"===t?p(e,o,l(o)):p(e,o);n.fullExtents.push(c)}}else if(e.nodeName===v)e.textContent.split(" ").forEach((function(e){0===(e=e.indexOf(":")>-1?parseInt(e.split(":")[1],10):parseInt(e,10))||isNaN(e)||(s[e]&&(e=s[e]),-1===n.spatialReferences.indexOf(e)&&n.spatialReferences.push(e))}));else if("Style"!==e.nodeName||n.legendURL){if("Layer"===e.nodeName){var d=h(e,t,r);d&&(d.parentLayerId=n.id,n.sublayers||(n.sublayers=[]),n.sublayers.push(d))}}else{var y=u("LegendURL",e);if(y){var m=u("OnlineResource",y);m&&(n.legendURL=m.getAttribute("xlink:href"))}}})),n.extent=f&&f.toJSON(),n}t.parseCapabilities=function(e){if(!e)return null;var t={idCounter:-1};"string"==typeof e&&(e=(new DOMParser).parseFromString(e,"text/xml"));var n=e.documentElement;if("ServiceExceptionReport"===n.nodeName){var a=Array.prototype.slice.call(n.childNodes).map((function(e){return e.textContent})).join("\r\n");throw new r("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",a)}var o=u("Layer",n);if(!o)return null;var s,l,p,y,v="WMS_Capabilities"===n.nodeName||"WMT_MS_Capabilities"===n.nodeName?n.getAttribute("version"):"1.3.0",m=u("Service",n),g=c("Title",m,"")||c("Name",m,""),_=c("AccessConstraints",m,""),b=c("Abstract",m,""),w=parseInt(c("MaxWidth",m,5e3),10),x=parseInt(c("MaxHeight",m,5e3),10),S=u("Capability",n),L=f(n,"GetMap"),M=d(n,"GetMap"),O=h(o,v,t),P=0;if(Array.prototype.slice.call(S.childNodes).forEach((function(e){"Layer"===e.nodeName&&(0===P?s=e:1===P?(O.name&&(O.name="",O.sublayers.push(h(s,v,t))),O.sublayers.push(h(e,v,t))):O.sublayers.push(h(e,v,t)),P++)})),!O)return null;var T=O.fullExtents;if((l=O.sublayers)||(l=[]),0===l.length&&l.push(O),!(p=O.extent)){var j=new i(l[0].extent);O.extent=j.toJSON(),p=O.extent}!(y=O.spatialReferences).length&&l.length>0&&l.forEach((function(e){y.length||(y=e.spatialReferences||function e(t){var r=[];return t.sublayers.forEach((function(t){!r.length&&t.spatialReferences.length&&(r=t.spatialReferences||e(t))})),r}(e))}));var N,G=d(n,"GetFeatureInfo");if(G){var I=f(n,"GetFeatureInfo");I.indexOf("text/html")>-1?N="text/html":I.indexOf("text/plain")>-1&&(N="text/plain")}N||function e(t){t&&(t.queryable=!1,t.sublayers&&t.sublayers.forEach((function(t){e(t)})))}(O);var A=function e(t){var r=[];return t.forEach((function(t){r.push(t),t.sublayers&&t.sublayers.length&&(r=r.concat(e(t.sublayers)),delete t.sublayers)})),r}(l);return{copyright:_,description:b,extent:p,fullExtents:T,featureInfoFormat:N,featureInfoUrl:G,mapUrl:M,maxImageWidth:w,maxImageHeight:x,maxScale:O.maxScale||0,minScale:O.minScale||0,layers:A,spatialReferences:y,supportedImageFormatTypes:L,title:g,version:v}},t.coordsReversed=l,t.getPopupLayers=function(e){return e.length?e.filter((function(e){return e.popupEnabled&&e.name&&e.queryable})).map((function(e){return e.name})).join(","):""}}).apply(null,n))||(e.exports=i)},xojL:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("zOht"),r("zp6E"),r("KY0m"),r("ma1f"),r("rg9i")],void 0===(i=(function(e,t,r,n,i,a,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return e.prototype.getAvailability=function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var r=(e-this.location.top)*this.location.width+(t-this.location.left),n=r>>3,i=this._tileAvailabilityBitSet;return n<0||n>i.length?"unknown":i[n]&1<<r%8?"available":"unavailable"},e.prototype._updateFromData=function(e){for(var t=!0,r=!0,n=Math.ceil(this.location.width*this.location.height/8),i=new Uint8Array(n),a=0,o=0;o<e.length;o++){var s=o%8;e[o]?(r=!1,i[a]|=1<<s):t=!1,7===s&&++a}r?this._allAvailability="unavailable":t?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=i,this.byteSize+=i.length)},e.fromDefinition=function(t,o){var s=t.service.request||n,u=t.row,c=t.col,p=t.width,d=t.height,f={query:{f:"json"}};return o=o?r.__assign(r.__assign({},f),o):f,s(l(t),o).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:u,left:c,width:p,height:d},valid:!0,data:i.constant(p*d,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==u||t.location.left!==c||t.location.width!==p||t.location.height!==d))throw new a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:u,left:c,width:p,height:d}});return e.fromJSON(t)}))},e.fromJSON=function(t){e.validateJSON(t);var r=new e;return r.location=Object.freeze(o.clone(t.location)),r._updateFromData(t.data),Object.freeze(r)},e.validateJSON=function(e){if(!e||!e.location)throw new a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")},e}();function l(e){var t;if("vector-tile"===e.service.type)t=e.service.url+"/tilemap/"+e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height;else{var r=e.service.tileServers;t=(r&&r.length?r[e.row%r.length]:e.service.url)+"/tilemap/"+e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height}var n=e.service.query;return n&&(t=t+"?"+n),t}t.Tilemap=s,t.tilemapDefinitionId=function(e){return e.level+"/"+e.row+"/"+e.col+"/"+e.width+"/"+e.height},t.tilemapDefinitionUrl=l,t.default=s}).apply(null,n))||(e.exports=i)}}]);