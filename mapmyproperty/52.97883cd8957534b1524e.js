(function(){var e={"esri/tasks/support/IdentifyResult":"A0Z0","esri/tasks/support/IdentifyParameters":"ULj+","esri/layers/support/layerUtils":"Uq3m","esri/tasks/IdentifyTask":"Z1iv","src/app/shared/services/MMPModalWindow.service":"ZuPS","esri/rest/identify":"iP6Z","esri/tasks/operations/identify":"zjrk"},t=this||window,i=t.webpackJsonp=t.webpackJsonp||[];i.registerAbsMids?i.registerAbsMids(e):(i.absMidsWaiting=i.absMidsWaiting||[]).push(e)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"2CEZ":function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("72l/"),i("2yZv"),i("8Vgs"),i("fXoL"),i("Zfn2"),i("ofXK")],void 0===(r=(function(e,t,i,n,r,o,a,s,l){"use strict";function p(e,t){1&e&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg",10),a.\u0275\u0275element(1,"path",11),a.\u0275\u0275elementEnd())}function c(e,t){1&e&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg",12),a.\u0275\u0275element(1,"path",13),a.\u0275\u0275elementEnd())}function d(e,t){1&e&&(a.\u0275\u0275namespaceSVG(),a.\u0275\u0275elementStart(0,"svg",12),a.\u0275\u0275element(1,"path",14),a.\u0275\u0275elementEnd())}function u(e,t){if(1&e){var i=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"th",7),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(i);var e=t.$implicit;return a.\u0275\u0275nextContext().updateSortImages(e)})),a.\u0275\u0275text(1),a.\u0275\u0275elementStart(2,"span"),a.\u0275\u0275template(3,p,2,0,"svg",8),a.\u0275\u0275template(4,c,2,0,"svg",9),a.\u0275\u0275template(5,d,2,0,"svg",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var n=t.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(n.label),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!n.isSortActive),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.isSortActive&&n.sortedAsc),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",n.isSortActive&&!n.sortedAsc)}}Object.defineProperty(t,"__esModule",{value:!0}),t.VegetationTableComponent=void 0,a=i.__importStar(a),s=i.__importStar(s),l=i.__importStar(l);var m=function(e){return{selectVegetation:e}},h=function(e){return{"background-color":e}};function f(e,t){if(1&e){var i=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"tr",15),a.\u0275\u0275listener("click",(function(){a.\u0275\u0275restoreView(i);var e=t.$implicit;return a.\u0275\u0275nextContext().selectVegetation(e)})),a.\u0275\u0275elementStart(1,"td",16),a.\u0275\u0275elementStart(2,"div",17),a.\u0275\u0275text(3),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"td",18),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"td",5),a.\u0275\u0275text(7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"td",5),a.\u0275\u0275text(9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&e){var n=t.$implicit,r=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(6,m,r.selectVegetation===n)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(8,h,r.getBackgroundColor(n))),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1("",n.attributes.VegID," "),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(n.attributes.CommonName),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(r.getsoilAcres(n.attributes.Shape_Area)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",r.getsoilPercentage(n.attributes.Shape_Area),"%")}}var y=function(){function e(e){var t=this;this.vegetationService=e,this.headElements=[],this.totalAreaSqMt=0,this.subscriptions={},this.getVegetationData=function(e){t.totalAreaSqMt=e.reduce((function(e,t){return e+t.attributes.Shape_Area}),0),t.totalAcres=r.FormatRoundNumber(o.ConvertSquareMetersToAcres(t.totalAreaSqMt),1),t.vegList=e},this.getBackgroundColor=function(e){var t=e.attributes.HEXColor;return t.length>=7?"#"+t.slice(2,t.length):t},this.selectVegetation=function(e){t.selectedVegetation=t.selectedVegetation===e?void 0:e}}return e.prototype.ngOnInit=function(){var e=this;this.resetHeadElements(),this.subscriptions.vegetationDataChanged$=this.vegetationService.vegetationDataChanged.subscribe((function(t){e.getVegetationData(t[0].value.features)}))},e.prototype.updateSortImages=function(e){var t=this;this.headElements.forEach((function(i){i===e?(i.isSortActive=!0,i.sortedAsc=!i.sortedAsc,t.sortByAttribute(i.sortField,i.sortedAsc)):i.isSortActive=!1}))},e.prototype.sortByAttribute=function(e,t){this.vegList.sort(t?function(t,i){return t.attributes[e]>i.attributes[e]?1:-1}:function(t,i){return i.attributes[e]>t.attributes[e]?1:-1})},e.prototype.getsoilAcres=function(e){return r.FormatRoundNumber(o.ConvertSquareMetersToAcres(e),1)},e.prototype.getsoilPercentage=function(e){return r.FormatRoundNumber(e/this.totalAreaSqMt*100,1)},e.prototype.resetHeadElements=function(){this.headElements=[new n.TableHeader("Symbol","musym",!0,!1),new n.TableHeader("Name","muname",!0,!1),new n.TableHeader("Acres","Shape_Area",!1,!0),new n.TableHeader("Percentage","Shape_Area",!0,!1)]},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275directiveInject(s.VegetationService))},e.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["mmp-vegetation-table"]],decls:16,vars:3,consts:[[1,"table-auto"],["class","px-4 py-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"font-bold"],["colspan","2",1,"px-4","py-1"],[1,"px-4","py-1","text-right"],[1,"footerNote"],[1,"px-4","py-1","cursor-pointer",3,"click"],["role","img","aria-hidden","true","focusable","false","class","sortIcon float-right greyColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["role","img","aria-hidden","true","focusable","false","class","sortIcon float-right text-pmlo_secondary","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["role","img","aria-hidden","true","focusable","false","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"sortIcon","float-right","greyColor"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"],["role","img","aria-hidden","true","focusable","false","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"sortIcon","float-right","text-pmlo_secondary"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"],["fill","currentColor","d","M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"],[1,"cursor-pointer",3,"ngClass","click"],[1,"px-4","py-1","text-center"],[3,"ngStyle"],[1,"px-4","py-1"]],template:function(e,t){1&e&&(a.\u0275\u0275elementStart(0,"table",0),a.\u0275\u0275elementStart(1,"thead"),a.\u0275\u0275elementStart(2,"tr"),a.\u0275\u0275template(3,u,6,4,"th",1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"tbody"),a.\u0275\u0275template(5,f,10,10,"tr",2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"tfoot"),a.\u0275\u0275elementStart(7,"tr",3),a.\u0275\u0275elementStart(8,"td",4),a.\u0275\u0275text(9,"Total"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"td",5),a.\u0275\u0275text(11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"td",5),a.\u0275\u0275text(13,"100.0%"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"p",6),a.\u0275\u0275text(15,"Note: Small deviations possibly found in the table values are due to rounding in calculations."),a.\u0275\u0275elementEnd()),2&e&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",t.headElements),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",t.vegList),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(t.totalAcres))},directives:[l.NgForOf,l.NgIf,l.NgClass,l.NgStyle],styles:["th[_ngcontent-%COMP%]{position:relative;background-color:#eee}th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:.125em}.greyColor[_ngcontent-%COMP%]{color:#d3d3d3}table[_ngcontent-%COMP%]{font-size:.875em;min-width:33.125em;width:100%}tr[_ngcontent-%COMP%]{border:.125em solid #ddd}.footerNote[_ngcontent-%COMP%]{font-size:.625em}.selectedSoil[_ngcontent-%COMP%]{background-color:#007fff;color:#fff}.sortIcon[_ngcontent-%COMP%]{width:.625em}"]}),e}();t.VegetationTableComponent=y}).apply(null,n))||(e.exports=r)},A0Z0:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("TMur"),i("jZlN"),i("ycL1"),i("LxLY"),i("Vx27")],void 0===(r=(function(e,t,i,n,r,o,a,s){"use strict";return function(e){function t(t){var i=e.call(this,t)||this;return i.displayFieldName=null,i.feature=null,i.layerId=null,i.layerName=null,i}return i.__extends(t,e),t.prototype.readFeature=function(e,t){return r.fromJSON({attributes:i.__assign({},t.attributes),geometry:i.__assign({},t.geometry)})},t.prototype.writeFeature=function(e,t){if(e){var r=e.attributes,o=e.geometry;r&&(t.attributes=i.__assign({},r)),a.isSome(o)&&(t.geometry=o.toJSON(),t.geometryType=n.typeKebabDictionary.toJSON(o.type))}},i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"displayFieldName",void 0),i.__decorate([s.property({type:r})],t.prototype,"feature",void 0),i.__decorate([s.reader("feature",["attributes","geometry"])],t.prototype,"readFeature",null),i.__decorate([s.writer("feature")],t.prototype,"writeFeature",null),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"layerId",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"layerName",void 0),i.__decorate([s.subclass("esri.tasks.support.IdentifyResult")],t)}(o.JSONSupport)}).apply(null,n))||(e.exports=r)},EXxd:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("fXoL"),i("aZ8m"),i("Nvl2")],void 0===(r=(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPHomeComponent=void 0,n=i.__importStar(n),r=i.__importStar(r),o=i.__importStar(o);var a=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["app-mmphome"]],decls:3,vars:4,consts:[[1,"parentContainer"],[3,"headerColor","title"],[1,"esriMap"]],template:function(e,t){1&e&&(n.\u0275\u0275elementStart(0,"main",0),n.\u0275\u0275element(1,"app-header",1),n.\u0275\u0275element(2,"app-esrimap",2),n.\u0275\u0275elementEnd()),2&e&&(n.\u0275\u0275classMap("mmp-theme"),n.\u0275\u0275advance(1),n.\u0275\u0275property("headerColor","rgb(176 186 137)")("title","Map My Property"))},directives:[r.HeaderComponent,o.EsrimapComponent],styles:[""]}),e}();t.MMPHomeComponent=a}).apply(null,n))||(e.exports=r)},L3oC:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("ofXK"),i("fXoL")],void 0===(r=(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VegetationTableModule=void 0,r=i.__importStar(r);var o=function(){function e(){}return e.\u0275mod=r.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=r.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},providers:[],imports:[[n.CommonModule]]}),e}();t.VegetationTableModule=o}).apply(null,n))||(e.exports=r)},NpA2:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("tyNb"),i("ofXK"),i("IwBl"),i("EXxd"),i("tj0F"),i("fXoL"),i("tyNb")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPHomepageModule=void 0,l=i.__importStar(l),p=i.__importStar(p);var c=[{path:"",component:a.MMPHomeComponent}],d=function(){function e(){}return e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[r.CommonModule,s.EsriMapModule,n.RouterModule.forChild(c),o.HeaderModule],n.RouterModule]}),e}();t.MMPHomepageModule=d}).apply(null,n))||(e.exports=r)},Nvl2:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("HEKD"),i("krU8"),i("1Zcn"),i("VcYX"),i("RYqx"),i("iy1n"),i("PhHr"),i("mQzU"),i("0w9u"),i("2+LD"),i("nP63"),i("Y2gT"),i("Cfhm"),i("lORP"),i("fXoL"),i("l7P3"),i("2uI/"),i("frIU"),i("Z5CC"),i("ZuPS"),i("ofXK"),i("j/Vj"),i("iy1n"),i("T6IO"),i("ysC3"),i("bUUP"),i("DWcW"),i("IIzr"),i("8WOb"),i("/rtH"),i("m1Uf"),i("7HKM"),i("W5Qm"),i("aCCJ"),i("GxbR"),i("X8NZ"),i("2CEZ")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p,c,d,u,m,h,f,y,g,v,b,S,w,_,M,x,C,V,L,P,E,O,I,j,k,T,N,G,D,A,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsrimapComponent=void 0,o=i.__importDefault(o),s=i.__importDefault(s),g=i.__importStar(g),v=i.__importStar(v),b=i.__importStar(b),S=i.__importStar(S),w=i.__importStar(w),_=i.__importStar(_),M=i.__importStar(M),x=i.__importStar(x),C=i.__importStar(C),V=i.__importStar(V),L=i.__importStar(L),P=i.__importStar(P),E=i.__importStar(E),O=i.__importStar(O),I=i.__importStar(I),j=i.__importStar(j),k=i.__importStar(k),T=i.__importStar(T),N=i.__importStar(N),G=i.__importStar(G),D=i.__importStar(D),A=i.__importStar(A),R=i.__importStar(R);var F=["mapViewNode"],z=["searchBar"],B=["graphicsStore"],H=["sessionModal"],W=["vegetationTableModal"],Z=["notificationsModal"];function U(e,t){1&e&&(g.\u0275\u0275namespaceSVG(),g.\u0275\u0275elementStart(0,"svg",43),g.\u0275\u0275element(1,"path",44),g.\u0275\u0275elementEnd())}function X(e,t){1&e&&(g.\u0275\u0275namespaceSVG(),g.\u0275\u0275elementStart(0,"svg",45),g.\u0275\u0275element(1,"path",44),g.\u0275\u0275elementEnd())}var q=function(){function e(e,t,l,p,c,f){var g=this;this.store=e,this.esrimapService=t,this.mapViewService=l,this.notificationsService=p,this.mmpModalWindowService=c,this.renderer=f,this.clickToAddText=!1,this.sketchVM=new o.default,this.sidebarVisible=window.innerWidth>640,this.geomLabelsSketchVM=new o.default,this.geomLabelsGraphicsLayer=new s.default({id:"geomlabels"}),this.polygonGraphicsLayer=n.CreatePolygonGraphicsLayer(),this.textGraphicsLayer=n.CreateTextGraphicsLayer(),this.generalGraphicsLayer=n.CreatePolygonGraphicsLayer("generalGraphicsLayer"),this.notification=new y.NotificationModel("",""),this.helpHeader="Getting Started Tour",this.helpItem="gettingStartedTour",this.subscriptions={},this.checkIfSavedGraphicsExists=function(){g.savedData=d.getSavedState(),g.savedData&&g.savedData.length>0&&g.sessionModal.show(),g.listenToGraphicsStore()},this.listenToGraphicsStore=function(){var e=g.store.select((function(e){return e.app.graphics}));g.graphicsStoreSub$&&g.graphicsStoreSub$.unsubscribe(),g.graphicsStoreSub$=e.subscribe((function(e){d.setSavedState(e)}))},this.closeOtherPanels=function(e){var t=g.accordionPanels.filter((function(t){return t.title===e}));t.length>0&&t[0].toggleOthers()},this.showCoordinates=function(){var e=g.mapView.center;g.mapCoords="Lat: "+e.latitude.toFixed(5)+" &nbsp; Long: "+e.longitude.toFixed(5)},this.setMapEvents=function(){g.mapView&&(g.mapView.watch("stationary",g.showCoordinates),g.mapView.on("pointer-move",g.showCoordinates),g.mapView.watch("scale",(function(e){return g.mapViewService.pushMapScale(e)})),g.mapView.when((function(){setTimeout((function(){return g.checkIfSavedGraphicsExists()}),2e3)})))},this.startSubscriptions=function(){g.subscriptions.showTableModal=g.mmpModalWindowService.modalVisibilityChanged.subscribe((function(e){e.visible?g.vegetationTableModal.show():g.vegetationTableModal.hide()}))},this.initializeMap=function(){return i.__awaiter(g,void 0,void 0,(function(){return i.__generator(this,(function(e){try{u.InitializeArcGISWorkers(),this.mapView=a.createMapView(this.mapViewEl,this.searchBarDiv),m.reorderGraphicsLayer(this.mapView.map),this.mapView.map.addMany([this.polygonGraphicsLayer,this.textGraphicsLayer,this.geomLabelsGraphicsLayer,this.generalGraphicsLayer]),this.sketchVM=r.SetupSketchViewModel(this.polygonGraphicsLayer,this.mapView),this.generalSketchVM=r.CreateGeneralSketchViewModel(this.generalGraphicsLayer,this.mapView),this.sketchVM.updatePointSymbol=h.defaultPointCircleSymbol,this.sketchVM.activePointSymbol=h.defaultPointCircleSymbol,this.setMapEvents(),this.startSubscriptions()}catch(t){console.error("Map load error ",t)}return[2]}))}))}}return e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){return e.closeOtherPanels("Draw")}),100),this.keyboardSub$=p.ListenToKeyboard(this.graphicsStoreEl,this.mapViewEl,this.renderer),this.subscriptions.notificationsModal=this.notificationsService.openNotificationsModal.subscribe((function(t){e.notification=t,e.notificationsModal.show()}))},e.prototype.restoreSession=function(e){var t=this;null!==e&&this.sessionModal.hide(),e?(this.store.dispatch(c.addGraphics({graphics:this.savedData})),setTimeout((function(){t.mapView.goTo(t.polygonGraphicsLayer.graphics)}),500)):d.clearLocalStorage(),this.listenToGraphicsStore()},e.prototype.ngOnInit=function(){var e=this;this.initializeMap(),this.esrimapService.closeAllPanelsExcept.subscribe((function(t){return e.closeOtherPanels(t)}))},e.prototype.ngOnDestroy=function(){f.serialUnsubscriber.apply(void 0,i.__spread(Object.values(this.subscriptions))),this.keyboardSub$&&this.keyboardSub$(),this.graphicsStoreSub$&&this.graphicsStoreSub$.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(g.\u0275\u0275directiveInject(v.Store),g.\u0275\u0275directiveInject(b.EsrimapService),g.\u0275\u0275directiveInject(S.MapviewService),g.\u0275\u0275directiveInject(w.NotificationsService),g.\u0275\u0275directiveInject(_.MMPModalWindowService),g.\u0275\u0275directiveInject(g.Renderer2))},e.\u0275cmp=g.\u0275\u0275defineComponent({type:e,selectors:[["app-esrimap"]],viewQuery:function(e,t){if(1&e&&(g.\u0275\u0275staticViewQuery(F,!0),g.\u0275\u0275staticViewQuery(z,!0),g.\u0275\u0275staticViewQuery(B,!0),g.\u0275\u0275viewQuery(H,!0),g.\u0275\u0275viewQuery(W,!0),g.\u0275\u0275viewQuery(Z,!0),g.\u0275\u0275viewQuery(l.AccordionPanelComponent,!0)),2&e){var i=void 0;g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.mapViewEl=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.searchBarDiv=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.graphicsStoreEl=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.sessionModal=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.vegetationTableModal=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.notificationsModal=i.first),g.\u0275\u0275queryRefresh(i=g.\u0275\u0275loadQuery())&&(t.accordionPanels=i)}},decls:70,vars:39,consts:[[1,"sidebarBlanket"],["sidebar",""],[1,"sidebar"],[1,"sidebarToggle",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate90",4,"ngIf"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate270",4,"ngIf"],["panelTitle","Draw"],["drawAccPanel",""],[3,"sketchVM","mapView","textGraphicsLayer","geomLabelsSketchVM","geomLabelsGraphicsLayer","polygonGraphicsLayer","generalSketchVM"],["panelTitle","Themes"],["themesAccPanel",""],[3,"mapView"],["panelTitle","Import | Export"],["importExportAccPanel",""],["panelTitle","Export Map to PDF"],["exportMapAccPanel",""],[3,"mapView","sketchVM"],[1,"mapBlanket"],[1,"headerBlanket","hidden","md:block"],[1,"header","headerRow","secondary"],[1,"flex","items-center"],[1,"mr-2"],["searchBar",""],[3,"header","itemName","fillColor"],[1,"coordsDisplay","hidden","md:inline"],[3,"innerHTML"],[1,"translucentPadding","mapViewNodeBlanket","pmloMap"],["id","parent",1,"mapViewNode"],["mapViewNode",""],["id","textboxes"],[3,"mapView","colorPrefix"],[1,"graphicsControls",3,"sketchVM","textGraphicsLayer"],["graphicsStore",""],[1,"pmloModal","sessionModal",3,"maximizable","inViewport","closeModal"],["sessionModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"sessionBtns"],[1,"pmlo-btn","pmlo-secondary","sessionBtn","py-2","px-4",3,"click"],[1,"pmloModal","notificationsModal",3,"maximizable","inViewport"],["notificationsModal",""],[1,"pmloModal","pmloSoilsTable",3,"maximizable","backdrop","inViewport"],["vegetationTableModal",""],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate90"],["d","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate270"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"div",0,1),g.\u0275\u0275elementStart(2,"div",2),g.\u0275\u0275elementStart(3,"button",3),g.\u0275\u0275listener("click",(function(){return t.sidebarVisible=!t.sidebarVisible})),g.\u0275\u0275template(4,U,2,0,"svg",4),g.\u0275\u0275text(5),g.\u0275\u0275template(6,X,2,0,"svg",5),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"app-accordion"),g.\u0275\u0275elementStart(8,"app-accordion-panel",6,7),g.\u0275\u0275element(10,"app-drawtools",8),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(11,"app-accordion-panel",9,10),g.\u0275\u0275element(13,"app-mmp-themes",11),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(14,"app-accordion-panel",12,13),g.\u0275\u0275element(16,"app-import-export",11),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(17,"app-accordion-panel",14,15),g.\u0275\u0275element(19,"app-print-tool",16),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(20,"app-site-policies"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(21,"div",17),g.\u0275\u0275elementStart(22,"div",18),g.\u0275\u0275elementStart(23,"div",19),g.\u0275\u0275elementStart(24,"div",20),g.\u0275\u0275element(25,"div",21,22),g.\u0275\u0275element(27,"app-help-button",23),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(28,"div",24),g.\u0275\u0275text(29," Mouse Coordinates [ "),g.\u0275\u0275element(30,"span",25),g.\u0275\u0275text(31," ] "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(32,"div",26),g.\u0275\u0275elementStart(33,"div",27,28),g.\u0275\u0275element(35,"div",29),g.\u0275\u0275element(36,"app-basemap-widget",11),g.\u0275\u0275element(37,"app-overlay-layers-widget",30),g.\u0275\u0275element(38,"app-swipe-widget",11),g.\u0275\u0275element(39,"app-measurement-widget",11),g.\u0275\u0275element(40,"app-scale-text"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(41,"app-graphic-store",31,32),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(43,"app-modal",33,34),g.\u0275\u0275listener("closeModal",(function(){return t.restoreSession(null)})),g.\u0275\u0275elementContainerStart(45,35),g.\u0275\u0275text(46,"Restore previous session?"),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(47,36),g.\u0275\u0275text(48," This application was closed while you had some drawings. "),g.\u0275\u0275element(49,"br"),g.\u0275\u0275text(50," Would you like to restore those drawings? "),g.\u0275\u0275element(51,"br"),g.\u0275\u0275element(52,"br"),g.\u0275\u0275elementStart(53,"div",37),g.\u0275\u0275elementStart(54,"button",38),g.\u0275\u0275listener("click",(function(){return t.restoreSession(!0)})),g.\u0275\u0275text(55,"Restore"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(56,"button",38),g.\u0275\u0275listener("click",(function(){return t.restoreSession(!1)})),g.\u0275\u0275text(57,"Start New"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(58,"app-modal",39,40),g.\u0275\u0275elementContainerStart(60,35),g.\u0275\u0275text(61),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(62,36),g.\u0275\u0275element(63,"p",25),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(64,"app-modal",41,42),g.\u0275\u0275elementContainerStart(66,35),g.\u0275\u0275text(67,"Vegetation within property boundary"),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(68,36),g.\u0275\u0275element(69,"mmp-vegetation-table"),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementEnd()),2&e&&(g.\u0275\u0275classProp("sidebarHidden",!t.sidebarVisible),g.\u0275\u0275advance(3),g.\u0275\u0275classProp("sideOpen",t.sidebarVisible),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",t.sidebarVisible),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1(" ",t.sidebarVisible?"Hide":"Show"," "),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!t.sidebarVisible),g.\u0275\u0275advance(4),g.\u0275\u0275property("sketchVM",t.sketchVM)("mapView",t.mapView)("textGraphicsLayer",t.textGraphicsLayer)("geomLabelsSketchVM",t.geomLabelsSketchVM)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("polygonGraphicsLayer",t.polygonGraphicsLayer)("generalSketchVM",t.generalSketchVM),g.\u0275\u0275advance(3),g.\u0275\u0275property("mapView",t.mapView),g.\u0275\u0275advance(3),g.\u0275\u0275property("mapView",t.mapView),g.\u0275\u0275advance(3),g.\u0275\u0275property("mapView",t.mapView)("sketchVM",t.sketchVM),g.\u0275\u0275advance(8),g.\u0275\u0275property("header","Find Location")("itemName","search")("fillColor","white"),g.\u0275\u0275advance(3),g.\u0275\u0275property("innerHTML",t.mapCoords,g.\u0275\u0275sanitizeHtml),g.\u0275\u0275advance(6),g.\u0275\u0275property("mapView",t.mapView),g.\u0275\u0275advance(1),g.\u0275\u0275property("mapView",t.mapView)("colorPrefix","pmlo"),g.\u0275\u0275advance(1),g.\u0275\u0275property("mapView",t.mapView),g.\u0275\u0275advance(1),g.\u0275\u0275property("mapView",t.mapView),g.\u0275\u0275advance(2),g.\u0275\u0275property("sketchVM",t.sketchVM)("textGraphicsLayer",t.textGraphicsLayer),g.\u0275\u0275advance(2),g.\u0275\u0275property("maximizable",!1)("inViewport",!0),g.\u0275\u0275advance(15),g.\u0275\u0275property("maximizable",!1)("inViewport",!0),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(t.notification.header),g.\u0275\u0275advance(2),g.\u0275\u0275property("innerHTML",t.notification.body,g.\u0275\u0275sanitizeHtml),g.\u0275\u0275advance(1),g.\u0275\u0275property("maximizable",!1)("backdrop",!1)("inViewport",!0))},directives:[M.NgIf,x.AccordionComponent,C.AccordionPanelComponent,V.DrawtoolsComponent,L.MMPThemesComponent,P.ImportExportComponent,E.PrintToolComponent,O.SitePoliciesComponent,I.HelpbuttonComponent,j.BasemapWidgetComponent,k.OverlayLayersWidgetComponent,T.SwipeWidgetComponent,N.MeasurementWidgetComponent,G.ScaleTextComponent,D.GraphicsStoreComponent,A.ModalComponent,R.VegetationTableComponent],styles:[".headerRow[_ngcontent-%COMP%]{height:50px;align-items:center;color:#000;padding-left:10px}.secondary[_ngcontent-%COMP%]{color:#fff;border-radius:5px 0 0 5px}.mapViewNode[_ngcontent-%COMP%]{height:100%;width:100%}.graphicsControls[_ngcontent-%COMP%]{width:300px;position:absolute;bottom:20px;z-index:10;left:0;right:0;margin:auto}.mapBlanket[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.mapViewNodeBlanket[_ngcontent-%COMP%]{flex:1;padding:5px 0 0 5px;position:relative}.coordsDisplay[_ngcontent-%COMP%]{text-align:right;padding-right:10px;font-size:14px;flex:1;color:#dad2d2}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px}.sidebarBlanket[_ngcontent-%COMP%]{width:270px}.sidebar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px 5px 0 0}.sidebarToggle[_ngcontent-%COMP%]{right:-68px;color:#fff;position:absolute;background:#000;padding:5px;display:none;border-radius:5px;justify-content:center;align-items:center}@media only screen and (max-width:600px){.sidebarBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px;position:fixed;left:0;z-index:9000;background:transparent!important;background-color:transparent!important}.sidebarToggle[_ngcontent-%COMP%]{display:flex}.sidebarHidden[_ngcontent-%COMP%]{left:-269px}}.sideOpen[_ngcontent-%COMP%]{right:-58px}.showHideSvg[_ngcontent-%COMP%]{fill:#fff;height:20px;display:inline-block}.rotate90[_ngcontent-%COMP%]{transform:rotate(90deg)}.rotate270[_ngcontent-%COMP%]{transform:rotate(270deg)}.headerRow[_ngcontent-%COMP%]{background-color:rgba(97,117,19,.5);display:flex}.secondary[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]{background-color:#161616}.sidebar[_ngcontent-%COMP%]{overflow-y:auto}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%], .translucentPadding[_ngcontent-%COMP%]{background-color:rgba(97,117,19,.5)}"]}),e}();t.EsrimapComponent=q}).apply(null,n))||(e.exports=r)},"ULj+":function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("TMur"),i("TMur"),i("9gfz"),i("ycL1"),i("Vx27"),i("1dvD"),i("Lzvl")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p){"use strict";var c=function(e){function t(t){var i=e.call(this,t)||this;return i.dpi=96,i.dynamicLayerInfos=null,i.gdbVersion=null,i.geometry=null,i.geometryPrecision=null,i.height=400,i.layerDefinitions=null,i.layerIds=null,i.layerOption="top",i.layerTimeOptions=null,i.mapExtent=null,i.maxAllowableOffset=null,i.returnFieldName=!1,i.returnGeometry=!1,i.returnM=!1,i.returnUnformattedValues=!1,i.returnZ=!1,i.spatialReference=null,i.timeExtent=null,i.tolerance=null,i.width=400,i}return i.__extends(t,e),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"dpi",void 0),i.__decorate([s.property({type:[Object],json:{read:{source:"dynamicLayers"},write:{target:"dynamicLayers"}}})],t.prototype,"dynamicLayerInfos",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"gdbVersion",void 0),i.__decorate([s.property({types:r.geometryTypes,json:{read:p.fromJSON,write:!0}})],t.prototype,"geometry",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"geometryPrecision",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"height",void 0),i.__decorate([s.property({type:[Object],json:{write:!0}})],t.prototype,"layerDefinitions",void 0),i.__decorate([s.property({type:[Number],json:{write:!0}})],t.prototype,"layerIds",void 0),i.__decorate([s.property({type:String,json:{write:!0}})],t.prototype,"layerOption",void 0),i.__decorate([s.property({type:[Object],json:{write:!0}})],t.prototype,"layerTimeOptions",void 0),i.__decorate([s.property({type:n.Extent,json:{write:!0}})],t.prototype,"mapExtent",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"maxAllowableOffset",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnFieldName",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnGeometry",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnM",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnUnformattedValues",void 0),i.__decorate([s.property({type:Boolean,json:{write:!0}})],t.prototype,"returnZ",void 0),i.__decorate([s.property({type:n.SpatialReference,json:{write:!0}})],t.prototype,"spatialReference",void 0),i.__decorate([s.property({type:o,json:{write:!0}})],t.prototype,"timeExtent",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"tolerance",void 0),i.__decorate([s.property({type:Number,json:{write:!0}})],t.prototype,"width",void 0),i.__decorate([s.subclass("esri.tasks.support.IdentifyParameters")],t)}(a.JSONSupport);return c.from=l.default(c),c}).apply(null,n))||(e.exports=r)},Uq3m:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areLabelsVisible=t.getLayersForScale=t.serializeTimeOptions=t.serializeLayerDefinitions=t.isBaseLayer=t.isTiledLayer=void 0,t.isTiledLayer=function(e){return e&&"base-tile"===e.type||"tile"===e.type||"elevation"===e.type||"imagery-tile"===e.type||"base-elevation"===e.type||"open-street-map"===e.type||"wcs"===e.type||"web-tile"===e.type||"wmts"===e.type||"vector-tile"===e.type},t.isBaseLayer=function(e){return e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.indexOf(e)>-1},t.serializeLayerDefinitions=function(e){var t=/[:;]/,i=[],n=!1;if(e&&(e.forEach((function(e,r){i.push([r,e]),!n&&t.test(e)&&(n=!0)})),i.length>0)){var r=void 0;if(n){var o={};i.forEach((function(e){o[e[0]]=e[1]})),r=JSON.stringify(o)}else{var a=[];i.forEach((function(e){a.push(e[0]+":"+e[1])})),r=a.join(";")}return r}return null},t.serializeTimeOptions=function(e){if(e){var t=[];return e.forEach((function(e,i){t.push('"'+i+'":'+JSON.stringify(e))})),t.length?"{"+t.join(",")+"}":void 0}},t.getLayersForScale=function(e,t){var i=[];if(e>0&&t)for(var n=function(n){if(t[n].parentLayerId>=0&&-1===i.indexOf(t[n].parentLayerId)&&t.some((function(e){return e.id===t[n].parentLayerId})))return"continue";if(t[n].id>=0){var r=!0,o=t[n].maxScale,a=t[n].minScale;(o>0||a>0)&&(o>0&&a>0?r=o<=e&&e<=a:o>0?r=o<=e:a>0&&(r=e<=a)),r&&i.push(t[n].id)}},r=0;r<t.length;r++)n(r);return i},t.areLabelsVisible=function(e){return!0===e.labelsVisible&&null!=e.labelingInfo&&e.labelingInfo.length>0}}).apply(null,n))||(e.exports=r)},XYMc:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("ofXK"),i("kmnG"),i("DC2l"),i("3Pt+"),i("Wqx0"),i("FhEM"),i("fXoL")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPThemesModule=void 0,p=i.__importStar(p);var c=function(){function e(){}return e.\u0275mod=p.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=p.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},providers:[],imports:[[n.CommonModule,r.MatFormFieldModule,a.FormsModule,o.ModalModule,l.HelpbuttonModule,s.SliderModule]]}),e}();t.MMPThemesModule=c}).apply(null,n))||(e.exports=r)},Z1iv:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("Vx27"),i("iP6Z"),i("FPqO")],void 0===(r=(function(e,t,i,n,r,o){"use strict";return function(e){function t(t){var i=e.call(this,t)||this;return i.gdbVersion=null,i.url=null,i}return i.__extends(t,e),t.prototype.execute=function(e,t){return this.gdbVersion&&!e.gdbVersion&&(e.gdbVersion=this.gdbVersion),r.identify(this.url,e,t)},i.__decorate([n.property()],t.prototype,"gdbVersion",void 0),i.__decorate([n.property()],t.prototype,"url",void 0),i.__decorate([n.subclass("esri.tasks.IdentifyTask")],t)}(o)}).apply(null,n))||(e.exports=r)},Zfn2:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("fXoL"),i("w1v0"),i("PboI"),i("fXoL"),i("1wtQ")],void 0===(r=(function(e,t,i,n,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VegetationService=void 0,r=i.__importDefault(r),o=i.__importDefault(o),a=i.__importStar(a),s=i.__importStar(s);var l=function(){function e(e){this.appConfig=e,this.vegetationDataStatus=new n.EventEmitter,this.vegetationDataChanged=new n.EventEmitter}return e.prototype.getVegetationData=function(e){var t=this;return this.vegetationDataStatus.emit("Loading... Please wait."),new Promise((function(i,n){var a=new r.default;a.features=[e];var s={inputPolygon:a},l=new o.default({url:t.appConfig.vegetation.clipGPService});l.submitJob(s).then((function(e){l.waitForJobCompletion(e.jobId).then((function(e){"job-succeeded"===e.jobStatus&&Promise.all([l.getResultData(e.jobId,"outputVegetationMultipart"),l.getResultData(e.jobId,"outputClipVegetation")]).then((function(e){i(e),t.vegetationDataChanged.emit(e),t.vegetationDataStatus.emit("")}))}),(function(e){n(e),t.vegetationDataStatus.emit("An error occured. Please try again.")}))}))}))},e.\u0275fac=function(t){return new(t||e)(a.\u0275\u0275inject(s.AppConfiguration))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();t.VegetationService=l}).apply(null,n))||(e.exports=r)},ZuPS:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("fXoL"),i("fXoL")],void 0===(r=(function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPModalWindowService=void 0,r=i.__importStar(r);var o=function(){function e(){this.modalVisibilityChanged=new n.EventEmitter}return e.prototype.changeModalVisibility=function(e,t){this.modalVisibilityChanged.next({name:e,visible:t})},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}();t.MMPModalWindowService=o}).apply(null,n))||(e.exports=r)},aWe4:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMPSoil=void 0,t.MMPSoil=function(e,t,i,n,r,o,a,s,l,p,c,d,u,m,h,f,y,g){void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o=""),void 0===a&&(a=""),void 0===s&&(s=""),void 0===l&&(l=""),void 0===p&&(p=""),void 0===c&&(c=""),void 0===d&&(d=""),void 0===u&&(u=""),void 0===m&&(m=""),void 0===h&&(h=""),void 0===f&&(f=""),void 0===y&&(y=""),void 0===g&&(g=""),this.mukey=e,this.musym=t,this.muname=i,this.slopegradwta=n,this.forpehrtdcp=r,this.flodfreqdcd=o,this.drclassdcd=a,this.hydclprs=s,this.pH=l,this.ecoclassid=p,this.ecoclassname=c,this.si=d,this.plantcomname=u,this.fpa=m,this.rpa=h,this.saversion=f,this.tabularversion=y,this.spatialversion=g}}).apply(null,n))||(e.exports=r)},iP6Z:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("zp6E"),i("fw2w"),i("p09i"),i("zjrk"),i("ULj+"),i("A0Z0")],void 0===(r=(function(e,t,i,n,r,o,a,s,l){"use strict";function p(e){var t=e.data;t.results=t.results||[];var i={results:[]};return i.results=t.results.map((function(e){return l.fromJSON(e)})),i}Object.defineProperty(t,"__esModule",{value:!0}),t.identify=void 0,t.identify=function(e,t,l){return i.__awaiter(this,void 0,void 0,(function(){var c,d;return i.__generator(this,(function(u){return t=function(e){return s.from(e)}(t),c=t.geometry?[t.geometry]:[],(d=o.parseUrl(e)).path+="/identify",[2,r.normalizeCentralMeridian(c).then((function(e){var r=a.identifyToIdentifyRESTParameters(t,{geometry:e&&e[0]}),s=o.encode(i.__assign(i.__assign(i.__assign({},d.query),{f:"json"}),r)),c=o.asValidOptions(s,l);return n(d.path,c).then(p)}))]}))}))}}).apply(null,n))||(e.exports=r)},tj0F:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("niHo"),i("ofXK"),i("ZRjd"),i("LAbW"),i("Kww6"),i("Wqx0"),i("XYMc"),i("ITmb"),i("XpBf"),i("M8/b"),i("FhEM"),i("S4iY"),i("0I6m"),i("piud"),i("KAcK"),i("DC2l"),i("L3oC"),i("fXoL")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p,c,d,u,m,h,f,y,g,v,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EsriMapModule=void 0,S=i.__importStar(S);var w=function(){function e(){}return e.\u0275mod=S.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=S.\u0275\u0275defineInjector({factory:function(t){return new(t||e)},imports:[[r.CommonModule,u.GraphicsStoreModule,o.DrawtoolsModule,l.SliderModule,p.MMPThemesModule,n.ImportExportModule,a.PrintToolModule,s.AccordionPanelModule,c.BasemapWidgetModule,d.SwipeWidgetModule,h.SitePoliciesModule,m.HelpbuttonModule,f.OverlayLayersWidgetModule,y.MeasurementWidgetModule,g.ScaleTextModule,v.ModalModule,b.VegetationTableModule]]}),e}();t.EsriMapModule=w}).apply(null,n))||(e.exports=r)},ysC3:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("zOht"),i("Z1iv"),i("ULj+"),i("N5Jl"),i("dg76"),i("lORP"),i("97vc"),i("b9ir"),i("HEKD"),i("aWe4"),i("fXoL"),i("frIU"),i("1wtQ"),i("tk/3"),i("IQQX"),i("Z5CC"),i("ZuPS"),i("Zfn2"),i("NVId"),i("8WOb"),i("ofXK"),i("RGY+"),i("3Pt+")],void 0===(r=(function(e,t,i,n,r,o,a,s,l,p,c,d,u,m,h,f,y,g,v,b,S,w,_,M,x){"use strict";function C(e,t){if(1&e){var i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div"),u.\u0275\u0275elementStart(1,"input",14),u.\u0275\u0275listener("ngModelChange",(function(e){return u.\u0275\u0275restoreView(i),u.\u0275\u0275nextContext().selectedTheme=e}))("change",(function(){u.\u0275\u0275restoreView(i);var e=t.$implicit;return u.\u0275\u0275nextContext().themeChanged(e[0])})),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(2,"label",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(4,"br"),u.\u0275\u0275elementEnd()}if(2&e){var n=t.$implicit,r=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275propertyInterpolate1("id","",n[0],"Theme"),u.\u0275\u0275property("value",n[0])("ngModel",r.selectedTheme),u.\u0275\u0275advance(1),u.\u0275\u0275propertyInterpolate1("for","",n[0],"Theme"),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(n[1])}}Object.defineProperty(t,"__esModule",{value:!0}),t.MMPThemesComponent=void 0,n=i.__importDefault(n),r=i.__importDefault(r),u=i.__importStar(u),m=i.__importStar(m),h=i.__importStar(h),f=i.__importStar(f),y=i.__importStar(y),g=i.__importStar(g),v=i.__importStar(v),b=i.__importStar(b),S=i.__importStar(S),w=i.__importStar(w),_=i.__importStar(_),M=i.__importStar(M),x=i.__importStar(x);var V=function(){return["soils","Soils"]},L=function(){return["vegetation","Texas Vegetation"]},P=function(){return["geology","Texas Geology"]},E=function(e,t,i){return[e,t,i]},O=function(e){return{checkboxDisabled:e}},I=function(e){return{"cursor-not-allowed":e}},j=function(){function e(e,t,u,m,h,f,y,g){var v=this;this.mapViewService=e,this.appConfig=t,this.http=u,this.soilsService=m,this.notificationsService=h,this.mmpModalWindowService=f,this.vegetationService=y,this.loaderService=g,this.isIdentifyChecked=!1,this.isIdentifyDisabled=!0,this.isVisibleDisabled=!1,this.isVisibleChecked=!1,this.isSoilsDisabled=!0,this.selectedTheme="soils",this.notification=new s.NotificationModel,this.themesUserGL=o.CreateGL("themesGL",1),this.transparency=0,this.identifyEvent=null,this.identifyParams=new r.default({tolerance:0,layerOption:"top:10"}),this.createGeologyLayer=function(){return p.CreateMapLayer("mapImage","geologyLayer",null,v.appConfig.geologyMapServerURL)},this.hideLayersExcept=function(e){["soilsLayer","vegetationLayer","geologyLayer"].forEach((function(t){if(t!==e){var i=v.getLayerRef(t);void 0!==i&&(i.visible=!1)}}))},this.queryRelatedFeaturesForGeology=function(e,t,i){v.http.get(v.appConfig.geologyMapServerURL+"/"+e+"/queryRelatedRecords?f=json&relationshipid=1&returnGeometry=false&objectids="+t+"&outFields=*").subscribe((function(e){if(e.relatedRecordGroups.length>0){var t=e.relatedRecordGroups[0].relatedRecords;if(t.length>0){var n=t[0].attributes;v.showPopup(n.ROCKUNIT_CD,a.GetMMPGeologyPopupContent(n),i)}}}))},this.clipSelectedTheme=function(){var e=c.GetPolygonGraphics(v.userGL);if(0===e.length)v.notification.body="A drawn boundary is needed to be able to clip "+v.selectedTheme+".",v.notificationsService.openNotificationsModal.emit(v.notification);else if(e.length>1)v.notification.body="You can only clip "+v.selectedTheme+" areas from one polygon at a time.",v.notificationsService.openNotificationsModal.emit(v.notification);else{v.loaderService.isLoading.next(!0);var t=e.getItemAt(0);v.vegetationService.getVegetationData(t).then((function(e){v.mmpModalWindowService.changeModalVisibility(v.selectedTheme,!0)})).catch((function(e){throw l.TraceMMPError("failed to clip selected theme",e.message,"Themes.component")})).finally((function(){v.loaderService.isLoading.next(!1)}))}},this.identifyFeatures=function(e){return i.__awaiter(v,void 0,void 0,(function(){var t;return i.__generator(this,(function(i){this.loaderService.isLoading.next(!0),t=new n.default(this.activeLayer.url),this.identifyParams.width=this.mapView.width,this.identifyParams.height=this.mapView.height,this.identifyParams.mapExtent=this.mapView.extent,this.identifyParams.geometry=e,this.identifyParams.returnGeometry=!1,this.identifyParams.layerOption="top:10";try{"geology"===this.selectedTheme?this.identifyGeology(t,e):"vegetation"===this.selectedTheme&&this.identifyVegetation(t,e)}catch(r){console.error(r)}finally{this.loaderService.isLoading.next(!1)}return[2]}))}))},this.identifySoils=function(e){v.loaderService.isLoading.next(!0),v.soilsService.identifySoil(e,"mmp").then((function(t){var n,r,o=t.Table[0],s=new d.MMPSoil,l=0;try{for(var p=i.__values(Object.keys(s)),c=p.next();!c.done;c=p.next())null!==o[l]&&(s[c.value]=o[l]),l+=1}catch(u){n={error:u}}finally{try{c&&!c.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}v.showPopup(s.musym,a.GetMMPSoilPopupContent(s),e)}))},this.identifyVegetation=function(e,t){return i.__awaiter(v,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return this.identifyParams.layerOption="top:0",[4,e.execute(this.identifyParams)];case 1:return(n=i.sent()).results.length>0&&this.showPopup("ID: "+(r=n.results[0].feature.attributes).VegID,a.GetMMPVegetationPopupContent(r),t),[2]}}))}))},this.showPopup=function(e,t,i){v.mapView.popup.dockOptions={buttonEnabled:!0,position:"top-left"},v.mapView.popup.actions=null,v.mapView.popup.open({title:e,location:i,content:t}),v.loaderService.isLoading.next(!1)},this.identifyGeology=function(e,t){return i.__awaiter(v,void 0,void 0,(function(){var n,r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,e.execute(this.identifyParams)];case 1:return(n=i.sent()).results.length>0&&(r=parseInt(n.results[0].feature.attributes.OBJECTID),this.queryRelatedFeaturesForGeology(n.results[0].layerId,r,t)),[2]}}))}))}}return e.prototype.transparencyChanged=function(e){this.transparency=e,"geology"!==this.selectedTheme&&"vegetation"!==this.selectedTheme||(this.activeLayer.opacity=1-e/100)},e.prototype.ngOnInit=function(){var e=this;this.mapViewService.soilsDisabled.subscribe((function(t){e.isSoilsDisabled=t})),this.userGL=this.mapView.map.findLayerById("userGraphicsLayer")},e.prototype.getLayerRef=function(e){return this.mapView.map.findLayerById(e)},e.prototype.themeChanged=function(e){if(void 0===this.getLayerRef(e+"Layer")){switch(e){case"vegetation":this.vegetationLayer=p.CreateMapLayer("mapImage","vegetationLayer",null,this.appConfig.vegetation.mapserverURL),this.activeLayer=this.vegetationLayer;break;case"geology":this.geologyLayer=p.CreateMapLayer("mapImage","geologyLayer",null,this.appConfig.geologyMapServerURL),this.activeLayer=this.geologyLayer;break;case"soils":this.soilsLayer=p.CreateSoilsLayer("soilsLayer",this.appConfig.ssurgoWMSURL),this.activeLayer=this.soilsLayer}this.mapView.map.add(this.activeLayer)}else this.activeLayer="soils"===e?this.soilsLayer:"vegetation"===e?this.vegetationLayer:this.geologyLayer;this.hideLayersExcept(e+"Layer"),this.activeLayer.visible=this.isVisibleChecked,this.mapView.popup.visible&&this.mapView.popup.close()},e.prototype.themeVisibleChanged=function(e){this.isVisibleChecked=e,this.themeChanged(this.selectedTheme),this.activeLayer.visible=e,this.isIdentifyDisabled=!this.isVisibleChecked},e.prototype.createLayerIdentifyEvent=function(e){var t=this;e&&this.activeLayer.visible&&null===this.identifyEvent?this.identifyEvent=this.mapView.on("click",(function(e){["vegetation","geology"].includes(t.selectedTheme)?t.identifyFeatures(e.mapPoint):t.identifySoils(e.mapPoint)})):e||null===this.identifyEvent||(this.identifyEvent.remove(),this.identifyEvent=null)},e.prototype.themeIdentifyChanged=function(e){this.isIdentifyChecked=e,this.createLayerIdentifyEvent(e),this.mapView.popup.visible&&this.mapView.popup.close()},e.\u0275fac=function(t){return new(t||e)(u.\u0275\u0275directiveInject(m.MapviewService),u.\u0275\u0275directiveInject(h.AppConfiguration),u.\u0275\u0275directiveInject(f.HttpClient),u.\u0275\u0275directiveInject(y.SoilsService),u.\u0275\u0275directiveInject(g.NotificationsService),u.\u0275\u0275directiveInject(v.MMPModalWindowService),u.\u0275\u0275directiveInject(b.VegetationService),u.\u0275\u0275directiveInject(S.LoaderService))},e.\u0275cmp=u.\u0275\u0275defineComponent({type:e,selectors:[["app-mmp-themes"]],inputs:{mapView:"mapView"},decls:28,vars:29,consts:[[1,"py-3","relative"],[3,"header","itemName"],[4,"ngFor","ngForOf"],[1,"row","prl-10","mt-8"],[1,"inline-flex","cursor-pointer",3,"ngClass"],["type","checkbox",1,"m-auto","form-checkbox","h-5","w-5","text-pmlo_secondary","cursor-pointer",3,"ngClass","disabled","change"],[1,"checkbox-label"],[1,"row","prl-10"],["identifyCheckbox",""],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"],[1,"flex","justify-center","mt-3"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"click"],["type","radio","name","mapTheme",3,"id","value","ngModel","ngModelChange","change"],[3,"for"]],template:function(e,t){1&e&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275element(1,"app-help-button",1),u.\u0275\u0275element(2,"br"),u.\u0275\u0275elementStart(3,"div"),u.\u0275\u0275elementStart(4,"div"),u.\u0275\u0275template(5,C,5,5,"div",2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",3),u.\u0275\u0275elementStart(7,"label",4),u.\u0275\u0275elementStart(8,"input",5),u.\u0275\u0275listener("change",(function(e){return t.themeVisibleChanged(e.currentTarget.checked)})),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"span",6),u.\u0275\u0275text(10,"Visible"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"div",7),u.\u0275\u0275elementStart(12,"label",4),u.\u0275\u0275elementStart(13,"input",5,8),u.\u0275\u0275listener("change",(function(e){return t.themeIdentifyChanged(e.currentTarget.checked)})),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"span",6),u.\u0275\u0275text(16,"Identify"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(17,"div",9),u.\u0275\u0275text(18),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(19,"div",10),u.\u0275\u0275elementStart(20,"div"),u.\u0275\u0275text(21,"0"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"app-slider",11),u.\u0275\u0275listener("onChange",(function(e){return t.transparencyChanged(e)})),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(23,"div"),u.\u0275\u0275text(24,"100"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(25,"div",12),u.\u0275\u0275elementStart(26,"button",13),u.\u0275\u0275listener("click",(function(){return t.clipSelectedTheme()})),u.\u0275\u0275text(27,"Clip"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&e&&(u.\u0275\u0275advance(1),u.\u0275\u0275property("header","Map Themes")("itemName","themes"),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngForOf",u.\u0275\u0275pureFunction3(17,E,u.\u0275\u0275pureFunction0(14,V),u.\u0275\u0275pureFunction0(15,L),u.\u0275\u0275pureFunction0(16,P))),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(21,O,t.isVisibleDisabled)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(23,I,t.isVisibleDisabled))("disabled",t.isVisibleDisabled),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(25,O,t.isIdentifyDisabled)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(27,I,t.isIdentifyDisabled))("disabled",t.isIdentifyDisabled),u.\u0275\u0275advance(5),u.\u0275\u0275textInterpolate1("Transparency: ",t.transparency,"%"),u.\u0275\u0275advance(4),u.\u0275\u0275property("value",t.transparency)("min",0)("max",100)("steps",5))},directives:[w.HelpbuttonComponent,_.NgForOf,_.NgClass,M.SliderComponent,x.RadioControlValueAccessor,x.DefaultValueAccessor,x.NgControlStatus,x.NgModel],styles:[".drawBtn[_ngcontent-%COMP%]{padding:0 5px}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{box-sizing:border-box;padding:0;margin-right:8px}"]}),e}();t.MMPThemesComponent=j}).apply(null,n))||(e.exports=r)},zjrk:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i("LxLY"),i("Lzvl"),i("qDpW"),i("Uq3m")],void 0===(r=(function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyToIdentifyRESTParameters=void 0;var a=function(e){return e.spatialReference.wkid||JSON.stringify(e.spatialReference)};t.identifyToIdentifyRESTParameters=function(e,t){var s=e.toJSON(),l=s.dpi,p=s.dynamicLayers,c=s.geometry,d=s.geometryPrecision,u=s.height,m=s.layerDefinitions,h=s.layerIds,f=s.layerOption,y=s.layerTimeOptions,g=s.mapExtent,v=s.maxAllowableOffset,b=s.returnFieldName,S=s.returnGeometry,w=s.returnUnformattedValues,_=s.returnZ,M=s.spatialReference,x=s.timeExtent,C=s.tolerance,V=s.width,L=t&&i.isSome(t.geometry)?t.geometry:null,P={geometryPrecision:d,maxAllowableOffset:v,returnFieldName:b,returnGeometry:S,returnUnformattedValues:w,returnZ:_,tolerance:C},E=L&&L.toJSON()||c;if(P.imageDisplay=V+","+u+","+l,E&&(delete E.spatialReference,P.geometry=JSON.stringify(E),P.geometryType=n.getJsonType(E)),M?P.sr=M.wkid||JSON.stringify(M):E&&E.spatialReference?P.sr=a(E):g&&g.spatialReference&&(P.sr=a(g)),P.time=x?x.join(","):null,g&&(P.mapExtent=g.xmin+","+g.ymin+","+g.xmax+","+g.ymax),P.layers=f,h&&(P.layers+=":"+h.join(",")),m){for(var O=[],I=0;I<m.length;I++){var j=m[I];O[j.id]=j.definitionExpression}P.layerDefs=o.serializeLayerDefinitions(O)}if(p&&p.length){var k=[],T=r.getScale({extent:g,width:V,spatialReference:g.spatialReference}),N=o.getLayersForScale(T,p),G=function(e){var t=p[e],i=t.id;if(!t.subLayerIds&&h&&-1!==h.indexOf(i)&&-1!==N.indexOf(i)){var n={id:i};n.source=t.source;var r=null;if(m&&m.length){var o=m.filter((function(e){return e.id===i}))[0];r=o&&o.definitionExpression}r&&(n.definitionExpression=r);var a=void 0;y&&y[i]&&(a=y[i]),a&&(n.layerTimeOptions=a),k.push(n)}};for(I=0;I<p.length;I++)G(I);var D=JSON.stringify(k);"[]"===D&&(D="[{}]"),P.dynamicLayers=D}return P}}).apply(null,n))||(e.exports=r)}}]);