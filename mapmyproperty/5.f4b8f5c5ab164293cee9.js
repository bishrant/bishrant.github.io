(function(){var t={"arcgis-js-api/views/2d/engine/Container":"1Mg+","esri/views/2d/engine/webgl/color":"4F/P","arcgis-js-api/views/2d/engine/webgl/color":"4F/P","arcgis-js-api/views/layers/effects/grammar":"4amo","arcgis-js-api/views/layers/effects/EffectList":"5umm","arcgis-js-api/views/2d/engine/webgl/SymbolProperties":"7AYJ","arcgis-js-api/views/2d/engine/DisplayObject":"Brhx","esri/views/2d/engine/webgl/number":"Dos2","arcgis-js-api/views/2d/engine/webgl/number":"Dos2","esri/views/2d/engine/webgl/enums":"JNkf","arcgis-js-api/views/2d/engine/webgl/enums":"JNkf","esri/views/2d/engine/webgl/mesh/templates/meshUtils":"OfLC","arcgis-js-api/views/2d/engine/webgl/mesh/templates/meshUtils":"OfLC","arcgis-js-api/views/layers/effects/effects":"TB2I","esri/views/2d/engine/webgl/Utils":"apbF","arcgis-js-api/views/2d/engine/webgl/Utils":"apbF","arcgis-js-api/views/layers/effects/parser":"lCqp","esri/views/2d/engine/webgl/materialKey/MaterialKey":"m87x","arcgis-js-api/views/2d/engine/webgl/materialKey/MaterialKey":"m87x"},e=this||window,r=e.webpackJsonp=e.webpackJsonp||[];r.registerAbsMids?r.registerAbsMids(t):(r.absMidsWaiting=r.absMidsWaiting||[]).push(t)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1Mg+":function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("H1tY"),r("Brhx"),r("5umm")],void 0===(i=(function(t,e,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n("mapview-transitions-duration"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._childrenSet=new Set,e.children=[],e._effectList=null,e}return r.__extends(e,t),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t,this.requestRender()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clips",{get:function(){return this._clips},set:function(t){this._clips=t,this.children.forEach((function(e){return e.clips=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"computedEffects",{get:function(){var t,e;return null!==(e=null===(t=this._effectList)||void 0===t?void 0:t.effects)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){var t,e;return null!==(e=null===(t=this._effectList)||void 0===t?void 0:t.effect)&&void 0!==e?e:""},set:function(t){(this._effectList||t)&&(this._effectList||(this._effectList=new o.default(a)),this._effectList.effect=t,this.requestRender())},enumerable:!1,configurable:!0}),e.prototype.updateTransitionProperties=function(e){t.prototype.updateTransitionProperties.call(this,e),this._effectList&&(this._effectList.transitionStep(e),this._effectList.transitioning&&this.requestRender())},e.prototype.doRender=function(t){var e=this.createRenderParams(t);this.renderChildren(e)},e.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},e.prototype.addChildAt=function(t,e){if(void 0===e&&(e=this.children.length),!t)return t;if(this.contains(t))return t;var r=t.parent;return r&&r!==this&&r.removeChild(t),e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t},e.prototype.contains=function(t){return this._childrenSet.has(t)},e.prototype.removeAllChildren=function(){this._childrenSet.clear();for(var t=0,e=this.children;t<e.length;t++){var r=e[t];this!==this.stage&&(r.clips=null),r.stage=null,r.parent=null}this.children.length=0},e.prototype.removeChild=function(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t},e.prototype.removeChildAt=function(t){var e;return t<0||t>=this.children.length?null:(e=this.children.splice(t,1)[0],this._childrenSet.delete(e),this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null,e)},e.prototype.sortChildren=function(t){return this.children.sort(t)},e.prototype.onAttach=function(){t.prototype.onAttach.call(this);for(var e=this.stage,r=0,n=this.children;r<n.length;r++)n[r].stage=e},e.prototype.onDetach=function(){t.prototype.onDetach.call(this);for(var e=0,r=this.children;e<r.length;e++)r[e].stage=null},e.prototype.renderChildren=function(t){for(var e=this.children,r=e.length,n=0;n<r;n++)e[n].processRender(t)},e.prototype.createRenderParams=function(t){return r.__assign(r.__assign({},t),{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition})},e}(i.DisplayObject);e.Container=s}).apply(null,n))||(t.exports=i)},"4F/P":function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("Dos2")],void 0===(i=(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.premultiplyAlphaRGBAArray=e.premultiplyAlphaRGBA=e.premultiplyAlphaUint32=e.copyAndPremultiply=e.premultiplyAlpha=e.white=void 0,e.white=[255,255,255,1];var n=[0,0,0,0];function i(t,e){return Array.isArray(e)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]=e.r,t[1]=e.g,t[2]=e.b,t[3]=e.a),t}function o(t,e,r){void 0===e&&(e=0),void 0===r&&(r=!1);var n=t[e+3];return t[e+0]*=n,t[e+1]*=n,t[e+2]*=n,r||(t[e+3]*=255),t}e.premultiplyAlpha=o,e.copyAndPremultiply=function(t){return o(i([],t))},e.premultiplyAlphaUint32=function(t){return o(i(n,t)),r.i8888to32(n[0],n[1],n[2],n[3])},e.premultiplyAlphaRGBA=function(t){if(!t)return 0;var e=t.a;return r.i8888to32(t.r*e,t.g*e,t.b*e,255*e)},e.premultiplyAlphaRGBAArray=function(t){if(!t)return 0;var e=t[3];return r.i8888to32(t[0]*(e/255),t[1]*(e/255),t[2]*(e/255),e)}}).apply(null,n))||(t.exports=i)},"4amo":function(t,e,r){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(e,r,n,i){this.message=e,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){var r={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=r[(i=t[e]).type](i);if(o.sort(),o.length>0){for(e=1,n=1;e<o.length;e++)o[e-1]!==o[e]&&(o[n]=o[e],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var n,i={},o={start:rt},a=rt,s=$("none"),u=J("none",!1),c=J(")",!1),l=J(",",!1),p=$("whitespace"),f=/^[ \t\n\r]/,h=Q([" ","\t","\n","\r"],!1,!1),y=$("function"),d=J("(",!1),v=$("identifier"),g=/^[a-z\-]/,_=Q([["a","z"],"-"],!1,!1),m=$("percentage"),E=J("%",!1),T=$("length"),b=J("px",!1),L=J("cm",!1),V=J("mm",!1),A=J("in",!1),S=J("pt",!1),O=J("pc",!1),C=$("angle"),w=J("deg",!1),M=J("rad",!1),I=J("grad",!1),R=J("turn",!1),G=$("number"),x=$("color"),F=J("#",!1),P=/^[0-9a-fA-F]/,D=Q([["0","9"],["a","f"],["A","F"]],!1,!1),B=/^[+\-]/,N=Q(["+","-"],!1,!1),j=/^[0-9]/,W=Q([["0","9"]],!1,!1),z=J(".",!1),U=J("e",!1),X=0,Y=0,k=[{line:1,column:1}],K=0,q=[],Z=0;if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=o[r.startRule]}function H(){return e.substring(Y,X)}function J(t,e){return{type:"literal",text:t,ignoreCase:e}}function Q(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function $(t){return{type:"other",description:t}}function tt(t){var r,n=k[t];if(n)return n;for(r=t-1;!k[r];)r--;for(n={line:(n=k[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return k[t]=n,n}function et(t){X<K||(X>K&&(K=X,q=[]),q.push(t))}function rt(){var t;return(t=function(){var t,r;return Z++,t=X,ot()!==i?("none"===e.substr(X,4)?(r="none",X+=4):(r=i,0===Z&&et(u)),r!==i&&ot()!==i?(Y=t,t=[]):(X=t,t=i)):(X=t,t=i),Z--,t===i&&0===Z&&et(s),t}())===i&&(t=function(){var t,e;if(t=[],(e=nt())!==i)for(;e!==i;)t.push(e),e=nt();else t=i;return t}()),t}function nt(){var t,r,n,o;return t=X,ot()!==i&&(r=function(){var t,r,n;return Z++,t=X,(r=at())!==i?(40===e.charCodeAt(X)?(n="(",X++):(n=i,0===Z&&et(d)),n!==i?(Y=t,t=r=r):(X=t,t=i)):(X=t,t=i),Z--,t===i&&(r=i,0===Z&&et(y)),t}())!==i&&ot()!==i?((n=function(){var t,r,n,o,a,s,u,c;if(t=X,(r=it())!==i){for(n=[],o=X,(a=ot())!==i?(44===e.charCodeAt(X)?(s=",",X++):(s=i,0===Z&&et(l)),s===i&&(s=null),s!==i&&(u=ot())!==i&&(c=it())!==i?o=a=[a,s,u,c]:(X=o,o=i)):(X=o,o=i);o!==i;)n.push(o),o=X,(a=ot())!==i?(44===e.charCodeAt(X)?(s=",",X++):(s=i,0===Z&&et(l)),s===i&&(s=null),s!==i&&(u=ot())!==i&&(c=it())!==i?o=a=[a,s,u,c]:(X=o,o=i)):(X=o,o=i);n!==i?(Y=t,t=r=function(t,e){return e.length>0?function(t,e,r){return[t].concat(function(t,e){return t.map((function(t){return t[3]}))}(e))}(t,e):[t]}(r,n)):(X=t,t=i)}else X=t,t=i;return t}())===i&&(n=null),n!==i&&ot()!==i?(41===e.charCodeAt(X)?(o=")",X++):(o=i,0===Z&&et(c)),o!==i&&ot()!==i?(Y=t,t={type:"function",name:r,parameters:n||[]}):(X=t,t=i)):(X=t,t=i)):(X=t,t=i),t}function it(){var t,r,n,o;return t=X,(r=function(){var t,r,n;return Z++,t=X,ot()!==i&&(r=st())!==i?(37===e.charCodeAt(X)?(n="%",X++):(n=i,0===Z&&et(E)),n!==i?(Y=t,t={value:r,unit:"%"}):(X=t,t=i)):(X=t,t=i),Z--,t===i&&0===Z&&et(m),t}())===i&&(r=function(){var t,r,n;return Z++,t=X,ot()!==i&&(r=st())!==i?("px"===e.substr(X,2)?(n="px",X+=2):(n=i,0===Z&&et(b)),n!==i?(Y=t,t={value:r,unit:"px"}):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,ot()!==i&&(r=st())!==i?("cm"===e.substr(X,2)?(n="cm",X+=2):(n=i,0===Z&&et(L)),n!==i?(Y=t,t=function(t){return{value:t,unit:"cm"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,ot()!==i&&(r=st())!==i?("mm"===e.substr(X,2)?(n="mm",X+=2):(n=i,0===Z&&et(V)),n!==i?(Y=t,t=function(t){return{value:t,unit:"mm"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,ot()!==i&&(r=st())!==i?("in"===e.substr(X,2)?(n="in",X+=2):(n=i,0===Z&&et(A)),n!==i?(Y=t,t=function(t){return{value:t,unit:"in"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,ot()!==i&&(r=st())!==i?("pt"===e.substr(X,2)?(n="pt",X+=2):(n=i,0===Z&&et(S)),n!==i?(Y=t,t=function(t){return{value:t,unit:"pt"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,ot()!==i&&(r=st())!==i?("pc"===e.substr(X,2)?(n="pc",X+=2):(n=i,0===Z&&et(O)),n!==i?(Y=t,t=function(t){return{value:t,unit:"pc"}}(r)):(X=t,t=i)):(X=t,t=i)))))),Z--,t===i&&0===Z&&et(T),t}())===i&&(r=function(){var t,r,n;return Z++,t=X,(r=st())!==i?("deg"===e.substr(X,3)?(n="deg",X+=3):(n=i,0===Z&&et(w)),n!==i?(Y=t,t=r={value:r,unit:"deg"}):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,(r=st())!==i?("rad"===e.substr(X,3)?(n="rad",X+=3):(n=i,0===Z&&et(M)),n!==i?(Y=t,t=r=function(t){return{value:t,unit:"rad"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,(r=st())!==i?("grad"===e.substr(X,4)?(n="grad",X+=4):(n=i,0===Z&&et(I)),n!==i?(Y=t,t=r=function(t){return{value:t,unit:"grad"}}(r)):(X=t,t=i)):(X=t,t=i),t===i&&(t=X,(r=st())!==i?("turn"===e.substr(X,4)?(n="turn",X+=4):(n=i,0===Z&&et(R)),n!==i?(Y=t,t=r=function(t){return{value:t,unit:"turn"}}(r)):(X=t,t=i)):(X=t,t=i)))),Z--,t===i&&(r=i,0===Z&&et(C)),t}())===i&&(r=function(){var t,e;return Z++,t=X,ot()!==i&&(e=st())!==i?(Y=t,t={value:e,unit:null}):(X=t,t=i),Z--,t===i&&0===Z&&et(G),t}()),r!==i&&(Y=t,r={type:"quantity",value:(n=r).value,unit:n.unit}),(t=r)===i&&(t=X,(r=function(){var t,r,n,o;if(Z++,t=X,35===e.charCodeAt(X)?(r="#",X++):(r=i,0===Z&&et(F)),r!==i){if(n=[],P.test(e.charAt(X))?(o=e.charAt(X),X++):(o=i,0===Z&&et(D)),o!==i)for(;o!==i;)n.push(o),P.test(e.charAt(X))?(o=e.charAt(X),X++):(o=i,0===Z&&et(D));else n=i;n!==i?(Y=t,t=r={type:"hex",value:H()}):(X=t,t=i)}else X=t,t=i;return t===i&&(t=X,(r=nt())!==i&&(Y=t,r={type:"function",value:r}),(t=r)===i&&(t=X,(r=at())!==i&&(Y=t,r={type:"named",value:H()}),t=r)),Z--,t===i&&(r=i,0===Z&&et(x)),t}())!==i&&(Y=t,r={type:"color",colorType:(o=r).type,value:o.value}),t=r),t}function ot(){var t,r;for(Z++,t=[],f.test(e.charAt(X))?(r=e.charAt(X),X++):(r=i,0===Z&&et(h));r!==i;)t.push(r),f.test(e.charAt(X))?(r=e.charAt(X),X++):(r=i,0===Z&&et(h));return Z--,t===i&&(r=i,0===Z&&et(p)),t}function at(){var t,r,n;if(Z++,t=X,r=[],g.test(e.charAt(X))?(n=e.charAt(X),X++):(n=i,0===Z&&et(_)),n!==i)for(;n!==i;)r.push(n),g.test(e.charAt(X))?(n=e.charAt(X),X++):(n=i,0===Z&&et(_));else r=i;return r!==i&&(Y=t,r=H()),Z--,(t=r)===i&&(r=i,0===Z&&et(v)),t}function st(){var t,r,n,o,a,s,u,c;if(t=X,B.test(e.charAt(X))?(r=e.charAt(X),X++):(r=i,0===Z&&et(N)),r===i&&(r=null),r!==i){for(n=X,o=[],j.test(e.charAt(X))?(a=e.charAt(X),X++):(a=i,0===Z&&et(W));a!==i;)o.push(a),j.test(e.charAt(X))?(a=e.charAt(X),X++):(a=i,0===Z&&et(W));if(o!==i)if(46===e.charCodeAt(X)?(a=".",X++):(a=i,0===Z&&et(z)),a!==i){if(s=[],j.test(e.charAt(X))?(u=e.charAt(X),X++):(u=i,0===Z&&et(W)),u!==i)for(;u!==i;)s.push(u),j.test(e.charAt(X))?(u=e.charAt(X),X++):(u=i,0===Z&&et(W));else s=i;s!==i?n=o=[o,a,s]:(X=n,n=i)}else X=n,n=i;else X=n,n=i;if(n===i)if(n=[],j.test(e.charAt(X))?(o=e.charAt(X),X++):(o=i,0===Z&&et(W)),o!==i)for(;o!==i;)n.push(o),j.test(e.charAt(X))?(o=e.charAt(X),X++):(o=i,0===Z&&et(W));else n=i;if(n!==i){if(o=X,101===e.charCodeAt(X)?(a="e",X++):(a=i,0===Z&&et(U)),a!==i)if(B.test(e.charAt(X))?(s=e.charAt(X),X++):(s=i,0===Z&&et(N)),s===i&&(s=null),s!==i){if(u=[],j.test(e.charAt(X))?(c=e.charAt(X),X++):(c=i,0===Z&&et(W)),c!==i)for(;c!==i;)u.push(c),j.test(e.charAt(X))?(c=e.charAt(X),X++):(c=i,0===Z&&et(W));else u=i;u!==i?o=a=[a,s,u]:(X=o,o=i)}else X=o,o=i;else X=o,o=i;o===i&&(o=null),o!==i?(Y=t,t=r=parseFloat(H())):(X=t,t=i)}else X=t,t=i}else X=t,t=i;return t}if((n=a())!==i&&X===e.length)return n;throw n!==i&&X<e.length&&et({type:"end"}),function(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}(q,K<e.length?e.charAt(K):null,function(t,e){var r=tt(t),n=tt(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}(K,K<e.length?K+1:K))}}})?n.apply(null,[]):n)||(t.exports=i)},"5umm":function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("otml"),r("TB2I"),r("lCqp")],void 0===(i=(function(t,e,r,n,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t){void 0===t&&(t=200),this.duration=t,this._from=null,this._to=null,this._toNumEffects=0,this._time=0,this._effects=[],this._effect=""}return Object.defineProperty(t.prototype,"effects",{get:function(){return this._effects},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effect",{get:function(){return this._effect},set:function(t){if(this._effect=t,t){var e=o.parse(t);e.error?(this._from=this._to=null,this._toNumEffects=0,this._effects=[]):this._transitionTo(e.effects)}else this._transitionTo([])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitioning",{get:function(){return null!==this._to},enumerable:!1,configurable:!0}),t.prototype.transitionStep=function(t){if(this._to){this._time+=t;for(var e=Math.min(1,this._time/this.duration),r=0;r<this._effects.length;r++)this._effects[r].interpolate(this._from[r],this._to[r],e);1===e&&(this._effects.length=this._toNumEffects,this._from=this._to=null,this._toNumEffects=0)}},t.prototype._transitionTo=function(t){var e=this._effects,r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(n.every((function(t,e){return t.type===r[e].type}))){this._toNumEffects=t.length;for(var i=n.length;i<r.length;i++)n.push(s(r[i].type));this._from=e.map((function(t){return t.clone()})),this._to=t,this._time=0}else this._from=this._to=null,this._toNumEffects=0,this._effects=t},t}();function s(t){switch(t){case"grayscale":case"sepia":case"invert":return new i.ColorMatrixEffect(t,0);case"saturate":case"brightness":case"contrast":return new i.ColorMatrixEffect(t,1);case"opacity":return new i.OpacityEffect(1);case"hue-rotate":return new i.HueRotateEffect(0);case"radial-blur":case"blur":return new i.BlurEffect(t,0);case"drop-shadow":return new i.DropShadowEffect(0,0,0,r.__spreadArrays(n.getNamedColor("transparent")));case"bloom":return new i.BloomEffect(0,0,0)}}e.default=a}).apply(null,n))||(t.exports=i)},"7AYJ":function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("SyoC")],void 0===(i=(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextProperties=void 0;var n=function(){function t(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}return t.prototype.acquire=function(t,e,r,n,i,o,a,s,u){this.color=t,this.haloColor=e,this.haloSize=r,this.size=n,this.angle=i,this.offsetX=o,this.offsetY=a,this.hAnchor=s,this.vAnchor=u},t.prototype.release=function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0},t.pool=new r(t),t}();e.TextProperties=n}).apply(null,n))||(t.exports=i)},Brhx:function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("BcWh"),r("H1tY")],void 0===(i=(function(t,e,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayObject=void 0;var o=1/i("mapview-transitions-duration"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._clips=null,e.computedVisible=!0,e.computedOpacity=1,e.fadeTransitionEnabled=!1,e.inFadeTransition=!1,e._isReady=!1,e._opacity=1,e._stage=null,e._visible=!0,e}return r.__extends(e,t),Object.defineProperty(e.prototype,"clips",{get:function(){return this._clips},set:function(t){this._clips=t,this.requestRender()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._isReady},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stage",{get:function(){return this._stage},set:function(t){if(this._stage!==t){var e=this._stage;this._stage=t,t?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):e.trashDisplayObject(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.requestRender())},enumerable:!1,configurable:!0}),e.prototype.setTransform=function(t){},e.prototype.processRender=function(t){this.stage&&(this.updateTransitionProperties(t.deltaTime),this.computedVisible&&this.doRender(t))},e.prototype.requestRender=function(){this.stage&&this.stage.requestRender()},e.prototype.processDetach=function(){this.onDetach(),this.emit("detach")},e.prototype.updateTransitionProperties=function(t){if(this.fadeTransitionEnabled){var e=this.visible?this.opacity:0,r=this.computedOpacity;if(r===e)this.computedVisible=this.visible;else{var n=t*o;this.computedOpacity=r>e?Math.max(e,r-n):Math.min(e,r+n),this.computedVisible=this.computedOpacity>0;var i=e===this.computedOpacity;this.inFadeTransition=!i,i||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible},e.prototype.onAttach=function(){},e.prototype.onDetach=function(){},e.prototype.doRender=function(t){},e.prototype.ready=function(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())},e}(n);e.DisplayObject=a}).apply(null,n))||(t.exports=i)},Dos2:function(t,e,r){var n,i;n=[r.dj.c(t.i),e],void 0===(i=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.numTo32=e.i8816to32=e.i8888to32=e.i1616to32=e.u32to4Xu8=e.toFloat32=e.toUint32=e.u32=e.u16=e.u8=e.i32=e.i16=e.i8=void 0;var r=new Float32Array(1),n=new Uint32Array(r.buffer);function i(t,e,r){return Math.round(Math.max(Math.min(t,r),e))}e.i8=function(t){return i(t,-128,127)},e.i16=function(t){return i(t,-32768,32767)},e.i32=function(t){return i(t,-2147483648,2147483647)},e.u8=function(t){return i(t,0,255)},e.u16=function(t){return i(t,0,65535)},e.u32=function(t){return i(t,0,4294967295)},e.toUint32=function(t){return r[0]=t,n[0]},e.toFloat32=function(t){return n[0]=t,r[0]},e.u32to4Xu8=function(t){return[255&t,(65280&t)>>>8,(16711680&t)>>>16,(4278190080&t)>>>24]},e.i1616to32=function(t,e){return 65535&t|e<<16},e.i8888to32=function(t,e,r,n){return 255&t|(255&e)<<8|(255&r)<<16|n<<24},e.i8816to32=function(t,e,r){return 255&t|(255&e)<<8|r<<16},e.numTo32=function(t){return 0|t}}).apply(null,n))||(t.exports=i)},JNkf:function(t,e,r){var n,i;n=[r.dj.c(t.i),e],void 0===(i=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MosaicType=e.WGLVVTarget=e.WGLVVFlag=e.VVType=e.WGLDrawPhase=e.WGLGeometryTransactionStatus=e.WGLGeometryType=void 0,function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"}(e.WGLGeometryType||(e.WGLGeometryType={})),function(t){t[t.SUCCEEDED=0]="SUCCEEDED",t[t.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(e.WGLGeometryTransactionStatus||(e.WGLGeometryTransactionStatus={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(e.WGLDrawPhase||(e.WGLDrawPhase={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(e.VVType||(e.VVType={})),function(t){t[t.NONE=0]="NONE",t[t.OPACITY=1]="OPACITY",t[t.COLOR=2]="COLOR",t[t.ROTATION=4]="ROTATION",t[t.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",t[t.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",t[t.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",t[t.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(e.WGLVVFlag||(e.WGLVVFlag={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(e.WGLVVTarget||(e.WGLVVTarget={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(e.MosaicType||(e.MosaicType={}))}).apply(null,n))||(t.exports=i)},OfLC:function(t,e,r){var n,i;n=[r.dj.c(t.i),e],void 0===(i=(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMapAligned=void 0,e.isMapAligned=function(t){switch(t){case"above-along":case"below-along":case"center-along":return 1;default:return 0}}}).apply(null,n))||(t.exports=i)},TB2I:function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("FXVB"),r("oZZu")],void 0===(i=(function(t,e,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpacityEffect=e.HueRotateEffect=e.DropShadowEffect=e.ColorMatrixEffect=e.sepia=e.grayscale=e.BlurEffect=e.BloomEffect=void 0;var o=function(){function t(t,e,r){this.strength=t,this.radius=e,this.threshold=r,this.type="bloom"}return t.prototype.interpolate=function(t,e,r){this.strength=p(t.strength,e.strength,r),this.radius=p(t.radius,e.radius,r),this.threshold=p(t.threshold,e.threshold,r)},t.prototype.clone=function(){return new t(this.strength,this.radius,this.threshold)},t}();e.BloomEffect=o;var a=function(){function t(t,e){this.type=t,this.radius=e}return t.prototype.interpolate=function(t,e,r){this.radius=Math.round(p(t.radius,e.radius,r))},t.prototype.clone=function(){return new t(this.type,this.radius)},t}();e.BlurEffect=a,e.grayscale=function(t,e){var r=1-e,i=n.mat4.set(t,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return n.mat4.transpose(i,i)},e.sepia=function(t,e){var r=1-e,i=n.mat4.set(t,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return n.mat4.transpose(i,i)};var s=function(){function t(t,e){this.type=t,this.amount=e,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}return Object.defineProperty(t.prototype,"colorMatrix",{get:function(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix},enumerable:!1,configurable:!0}),t.prototype.interpolate=function(t,e,r){this.amount=p(t.amount,e.amount,r),this._updateMatrix()},t.prototype.clone=function(){return new t(this.type,this.amount)},t.prototype._updateMatrix=function(){var t,r,o=this._colorMatrix||i.mat4f32.create();switch(this.type){case"brightness":this._colorMatrix=(r=n.mat4.set(o,t=this.amount,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1),n.mat4.transpose(r,r));break;case"contrast":this._colorMatrix=function(t,e){var r=n.mat4.set(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return n.mat4.transpose(r,r)}(o,this.amount);break;case"grayscale":this._colorMatrix=e.grayscale(o,this.amount);break;case"invert":this._colorMatrix=function(t,e){var r=1-2*e,i=n.mat4.set(t,r,0,0,e,0,r,0,e,0,0,r,e,0,0,0,1);return n.mat4.transpose(i,i)}(o,this.amount);break;case"saturate":this._colorMatrix=function(t,e){var r=n.mat4.set(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return n.mat4.transpose(r,r)}(o,this.amount);break;case"sepia":this._colorMatrix=e.sepia(o,this.amount)}},t}();e.ColorMatrixEffect=s;var u=function(){function t(t,e,r,n){this.offsetX=t,this.offsetY=e,this.blurRadius=r,this.color=n,this.type="drop-shadow"}return t.prototype.interpolate=function(t,e,r){this.offsetX=p(t.offsetX,e.offsetX,r),this.offsetY=p(t.offsetY,e.offsetY,r),this.blurRadius=p(t.blurRadius,e.blurRadius,r),this.color[0]=Math.round(p(t.color[0],e.color[0],r)),this.color[1]=Math.round(p(t.color[1],e.color[1],r)),this.color[2]=Math.round(p(t.color[2],e.color[2],r)),this.color[3]=p(t.color[3],e.color[3],r)},t.prototype.clone=function(){return new t(this.offsetX,this.offsetY,this.blurRadius,r.__spreadArrays(this.color))},t}();e.DropShadowEffect=u;var c=function(){function t(t){this.angle=t,this.type="hue-rotate"}return Object.defineProperty(t.prototype,"colorMatrix",{get:function(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix},enumerable:!1,configurable:!0}),t.prototype.interpolate=function(t,e,r){this.angle=p(t.angle,e.angle,r),this._updateMatrix()},t.prototype.clone=function(){return new t(this.angle)},t.prototype._updateMatrix=function(){var t,e,r,o,a,s=this._colorMatrix||i.mat4f32.create();this._colorMatrix=(t=s,e=this.angle,r=Math.sin(e*Math.PI/180),o=Math.cos(e*Math.PI/180),a=n.mat4.set(t,.213+.787*o-.213*r,.715-.715*o-.715*r,.072-.072*o+.928*r,0,.213-.213*o+.143*r,.715+.285*o+.14*r,.072-.072*o-.283*r,0,.213-.213*o-.787*r,.715-.715*o+.715*r,.072+.928*o+.072*r,0,0,0,0,1),n.mat4.transpose(a,a))},t}();e.HueRotateEffect=c;var l=function(){function t(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}return t.prototype.interpolate=function(t,e,r){this.amount=p(t.amount,e.amount,r)},t.prototype.clone=function(){return new t(this.amount)},t}();function p(t,e,r){return t+(e-t)*r}e.OpacityEffect=l}).apply(null,n))||(t.exports=i)},apbF:function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("ma1f"),r("qsST"),r("xoE+"),r("jBNx"),r("DJpR"),r("4F/P"),r("JNkf"),r("7AYJ")],void 0===(i=(function(t,e,r,n,i,o,a,s,u,c,l){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.createProgramDescriptor=e.getPixelArrayCtor=e.getPixelBytes=e.getBytes=e.geometryToMappedGeometry=e.createTextureFromTexelData=e.createGeometryData=e.C_VBO_INFO=e.copyMeshData=e.getTransformParams=e.getVVType=e.getJoinType=e.getCapType=e.isNumber=e.isDefined=e.getTextProperties=e.allocateTypedArrayBufferwithData=e.allocateTypedArrayBuffer=e.strideToPackingFactor=e.getNamedBuffers=e.getStrides=e.C_LABEL_STRIDE_SPEC=e.C_TEXT_STRIDE_SPEC=e.C_LINE_STRIDE_SPEC=e.C_FILL_STRIDE_SPEC_DD=e.C_FILL_STRIDE_SPEC=e.C_ICON_STRIDE_SPEC=e.C_LABEL_VERTEX_DEF=e.C_TEXT_VERTEX_DEF=e.C_LINE_VERTEX_DEF=e.C_FILL_VERTEX_DEF_DD=e.C_FILL_VERTEX_DEF=e.C_ICON_VERTEX_DEF=e.C_VBO_PERINSTANCE_VV=e.C_VBO_PERINSTANCE=e.C_VBO_GEOMETRY=void 0;var f=i.getLogger("esri.views.2d.engine.webgl.Utils");function h(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r];e[i.name]=i.strideInBytes}return e}e.C_VBO_GEOMETRY="geometry",e.C_VBO_PERINSTANCE="per_instance",e.C_VBO_PERINSTANCE_VV="per_instance_vv",e.C_ICON_VERTEX_DEF=[{name:e.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}],e.C_FILL_VERTEX_DEF=[{name:e.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}],e.C_FILL_VERTEX_DEF_DD=[{name:e.C_VBO_GEOMETRY,strideInBytes:12,divisor:0}],e.C_LINE_VERTEX_DEF=[{name:e.C_VBO_GEOMETRY,strideInBytes:36,divisor:0}],e.C_TEXT_VERTEX_DEF=[{name:e.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}],e.C_LABEL_VERTEX_DEF=[{name:e.C_VBO_GEOMETRY,strideInBytes:36,divisor:0}],e.C_ICON_STRIDE_SPEC=h(e.C_ICON_VERTEX_DEF),e.C_FILL_STRIDE_SPEC=h(e.C_FILL_VERTEX_DEF),e.C_FILL_STRIDE_SPEC_DD=h(e.C_FILL_VERTEX_DEF_DD),e.C_LINE_STRIDE_SPEC=h(e.C_LINE_VERTEX_DEF),e.C_TEXT_STRIDE_SPEC=h(e.C_TEXT_VERTEX_DEF),e.C_LABEL_STRIDE_SPEC=h(e.C_LABEL_VERTEX_DEF),e.getStrides=function(t,r){switch(t){case c.WGLGeometryType.MARKER:return e.C_ICON_STRIDE_SPEC;case c.WGLGeometryType.FILL:return r?e.C_FILL_STRIDE_SPEC_DD:e.C_FILL_STRIDE_SPEC;case c.WGLGeometryType.LINE:return e.C_LINE_STRIDE_SPEC;case c.WGLGeometryType.TEXT:return e.C_TEXT_STRIDE_SPEC;case c.WGLGeometryType.LABEL:return e.C_LABEL_STRIDE_SPEC}};var y=[e.C_VBO_GEOMETRY],d=[e.C_VBO_GEOMETRY],v=[e.C_VBO_GEOMETRY],g=[e.C_VBO_GEOMETRY],_=[e.C_VBO_GEOMETRY];function m(t){switch(t){case c.WGLGeometryType.MARKER:return y;case c.WGLGeometryType.FILL:return d;case c.WGLGeometryType.LINE:return v;case c.WGLGeometryType.TEXT:return g;case c.WGLGeometryType.LABEL:return _}}function E(t){switch(t%4){case 0:case 2:return 4;case 1:case 3:return 1}}function T(t){switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}e.getNamedBuffers=m,e.strideToPackingFactor=E,e.allocateTypedArrayBuffer=function(t,e){switch(e%4){case 0:case 2:return new Uint32Array(Math.floor(t*e/4));case 1:case 3:return new Uint8Array(t*e)}},e.allocateTypedArrayBufferwithData=function(t,e){switch(e%4){case 0:case 2:return new Uint32Array(t);case 1:case 3:return new Uint8Array(t)}},e.getTextProperties=function(t){return l.TextProperties.pool.acquire(t.color?u.copyAndPremultiply(t.color):[255,255,255,255],t.haloColor?u.copyAndPremultiply(t.haloColor):[255,255,255,255],a.pt2px(t.haloSize),a.pt2px(t.font.size),t.angle*Math.PI/180,t.xoffset/t.font.size,t.yoffset/t.font.size,"left"===t.horizontalAlignment?0:"right"===t.horizontalAlignment?1:.5,"top"===t.verticalAlignment?0:"bottom"===t.verticalAlignment?1:.5)},e.isDefined=function(t){return null!=t},e.isNumber=function(t){return"number"==typeof t},e.getCapType=function(t,e){switch(t){case"butt":return 0;case"round":return e?2:1;case"square":return 2;default:return f.error(new n("mapview-invalid-type","Cap type "+t+" is not a valid option. Defaulting to round")),1}},e.getJoinType=function(t){switch(t){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return f.error(new n("mapview-invalid-type","Join type "+t+" is not a valid option. Defaulting to round")),1}},e.getVVType=function(t){switch(t){case"opacity":return c.VVType.OPACITY;case"color":return c.VVType.COLOR;case"rotation":return c.VVType.ROTATION;case"size":return c.VVType.SIZE;default:return f.error("Cannot interpret unknown vv: "+t),null}},e.getTransformParams=function(t){return{transform:t.transform,hasZ:t.hasZ,hasM:t.hasM}},e.copyMeshData=function(t,e,r,n,i,o,a){for(var s in o)for(var u=o[s].stride,c=E(u),l=o[s].data,p=r[s].data,f=u*i.vertexCount/c,h=u*t/c,y=u*i.vertexFrom/c,d=0;d<f;++d)p[d+h]=l[d+y];var v=i.indexCount;for(d=0;d<v;++d)n[d+e]=a[d+i.indexFrom]-i.vertexFrom+t},e.C_VBO_INFO=((p={})[e.C_VBO_GEOMETRY]=35044,p),e.createGeometryData=function(t,e){for(var r=[],n=0;n<5;++n){for(var i={},o=0,a=m(n);o<a.length;o++){var s=a[o];i[s]={data:e(n,s)}}r.push({data:t(n),buffers:i})}return r},e.createTextureFromTexelData=function(t,e){var r,n;return o.isPowerOfTwo(e.width)&&o.isPowerOfTwo(e.height)?(r=!0,n=9987):(r=!1,n=9729),new s.Texture(t,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,hasMipmap:r,samplingMode:n,wrapMode:33071,flipped:!0},e)},e.geometryToMappedGeometry=function(t){return{vertexFrom:void 0,vertexTo:void 0,geometry:t}},e.getBytes=T,e.getPixelBytes=function(t){switch(t){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void f.error(new n("webgl-utils","Unable to handle type "+t))}},e.getPixelArrayCtor=function(t){switch(t){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void f.error(new n("webgl-utils","Unable to handle type "+t))}};var b=new Map;e.createProgramDescriptor=function(t,e){if(!b.has(t)){var n=function(t){var e={},n=function(n){var i=0;e[n]=t[n].map((function(t){var e=r.__assign(r.__assign({},t),{normalized:t.normalized||!1,divisor:t.divisor||0,offset:i,stride:0});return i+=t.count*T(t.type),e})),e[n].forEach((function(t){return t.stride=i}))};for(var i in t)n(i);return e}(e),i={strides:function(t){var e={};for(var r in t){var n=t[r];e[r]=n.length?n[0].stride:0}return e}(n),bufferLayouts:n,attributes:function(t){var e={};for(var r in t)for(var n=0,i=t[r];n<i.length;n++){var o=i[n];e[o.name]=o.location}return e}(e)};b.set(t,i)}return b.get(t)}}).apply(null,n))||(t.exports=i)},lCqp:function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("otml"),r("ma1f"),r("TB2I"),r("4amo")],void 0===(i=(function(t,e,r,n,i,o){"use strict";function a(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(t){var e=1;return s(t.parameters,1),1===t.parameters.length&&(e=f(t.parameters[0])),new i.ColorMatrixEffect(t.name,e)}(t);case"opacity":return function(t){var e=1;return s(t.parameters,1),1===t.parameters.length&&(e=f(t.parameters[0])),new i.OpacityEffect(e)}(t);case"hue-rotate":return function(t){var e,r=0;return s(t.parameters,1),1===t.parameters.length&&(function(t){if("quantity"!==t.type||(0!==t.value||null!==t.unit)&&null==l[t.unit])throw new n("effect:type-error","Expected <angle>, Actual: "+u(t),{term:t})}(e=t.parameters[0]),r=e.value*l[e.unit]||0),new i.HueRotateEffect(r)}(t);case"radial-blur":case"blur":return function(t){var e=0;return s(t.parameters,1),1===t.parameters.length&&c(e=h(t.parameters[0]),t.parameters[0]),new i.BlurEffect(t.name,e)}(t);case"drop-shadow":return function(t){for(var e,r=[],o=0,a=t.parameters;o<a.length;o++){var s=a[o];if("color"===s.type){if(r.length&&Object.freeze(r),e)throw new n("effect:type-error","Accepts only one color",{});e=y(s)}else{var u=h(s);if(Object.isFrozen(r))throw new n("effect:type-error","<length> parameters not consecutive",{lengths:r});r.push(u),3===r.length&&c(u,s)}}if(r.length<2||r.length>3)throw new n("effect:type-error","Expected <length>{2,3}, Actual: <length>{"+r.length+"}",{lengths:r});return new i.DropShadowEffect(r[0],r[1],r[2]||0,e||d("black"))}(t);case"bloom":return function(t){var e=1,r=0,n=0;return s(t.parameters,3),t.parameters[0]&&(e=f(t.parameters[0])),t.parameters[1]&&c(r=h(t.parameters[1]),t.parameters[1]),t.parameters[2]&&(n=f(t.parameters[2])),new i.BloomEffect(e,r,n)}(t)}}catch(e){throw e.details.filter=t,e}throw new n("effect:unknown-effect","Effect '"+t.name+"' is not supported",{effect:t})}function s(t,e){if(t.length>e)throw new n("effect:type-error","Function supports up to "+e+" parameters, Actual: "+t.length,{parameters:t})}function u(t){return"color"===t.type?"<color>":p[t.unit]?"<length>":l[t.unit]?"<angle>":"%"===t.unit?"<percentage>":"<double>"}function c(t,e){if(t<0)throw new n("effect:type-error","Negative values are not allowed, Actual: "+t,{term:e})}Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=function(t){var e;try{e=t?o.parse(t):[]}catch(e){return{input:t,parsedFunctions:[],effects:[],error:new n("effect:invalid-syntax","Invalid filter syntax",{input:t,error:e})}}var r={input:t,parsedFunctions:e,effects:[],error:null};try{for(var i=0,s=e;i<s.length;i++)r.effects.push(a(s[i]))}catch(t){r.effects.length=0,r.error=t}return r};var l={deg:1,grad:.9,rad:180/Math.PI,turn:360},p={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/73};function f(t){!function(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new n("effect:type-error","Expected <double> or <percentage>, Actual: "+u(t),{term:t})}(t);var e=t.value;return c(e,t),"%"===t.unit?.01*e:e}function h(t){return function(t){if("quantity"!==t.type||(0!==t.value||null!==t.unit)&&null==p[t.unit])throw new n("effect:type-error","Expected <length>, Actual: "+u(t),{term:t})}(t),t.value*p[t.unit]||0}function y(t){switch(t.colorType){case"hex":return r.hex2rgba(t.value);case"named":return d(t.value);case"function":return function(t){if(s(t.parameters,4),v.test(t.name))return[f(t.parameters[0]),f(t.parameters[1]),f(t.parameters[2]),t.parameters[3]?f(t.parameters[3]):1];if(g.test(t.name))return r.hsla2rgba(function(t){return function(t){if("quantity"!==t.type||null!==t.unit)throw new n("effect:type-error","Expected <double>, Actual: "+u(t),{term:t})}(t),c(t.value,t),t.value}(t.parameters[0]),f(t.parameters[1]),f(t.parameters[2]),t.parameters[3]?f(t.parameters[3]):1);throw new n("effect:syntax-error","Invalid color function '"+t.name+"'",{colorFunction:t})}(t.value)}}function d(t){var e=r.getNamedColorCopy(t);if(!e)throw new n("effect:unknown-color","color '"+t+"' isn't valid",{namedColor:t});return e}var v=/^rgba?/i,g=/^hsla?/i}).apply(null,n))||(t.exports=i)},m87x:function(t,e,r){var n,i;n=[r.dj.c(t.i),e,r("zOht"),r("ma1f"),r("JNkf"),r("OfLC")],void 0===(i=(function(t,e,r,n,i,o){"use strict";function a(t,e){void 0===e&&(e=!1);var r=i.WGLVVFlag.SIZE_FIELD_STOPS|i.WGLVVFlag.SIZE_MINMAX_VALUE|i.WGLVVFlag.SIZE_SCALE_STOPS|i.WGLVVFlag.SIZE_UNIT_VALUE,n=(t&(i.WGLVVTarget.FIELD_TARGETS_OUTLINE|i.WGLVVTarget.MINMAX_TARGETS_OUTLINE|i.WGLVVTarget.SCALE_TARGETS_OUTLINE|i.WGLVVTarget.UNIT_TARGETS_OUTLINE))>>>4;return e?r&n:r&~n}function s(t){var e=a(t,!1);return t&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY|i.WGLVVFlag.ROTATION|e)}Object.defineProperty(e,"__esModule",{value:!0}),e.LabelMaterialKey=e.TextMaterialKey=e.LineMaterialKey=e.MarkerMaterialKey=e.FillMaterialKey=e.MaterialKeyBase=e.hydrateMaterialKey=e.createMaterialKey=e.getLabelVVFlags=e.getTextVVFlags=e.getLineVVFlags=e.getFillVVFlags=e.getMarkerVVFlags=e.getSizeFlagsMask=void 0,e.getSizeFlagsMask=a,e.getMarkerVVFlags=s,e.getFillVVFlags=function(t){return t&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY)},e.getLineVVFlags=function(t,e){if(e)return t&a(t,!0);var r=a(t,!1);return t&(i.WGLVVFlag.COLOR|i.WGLVVFlag.OPACITY|r)},e.getTextVVFlags=function(t){return s(t)},e.getLabelVVFlags=function(t){return t&a(t,!1)},e.createMaterialKey=function(t,e,r,n,o){switch(t){case i.WGLGeometryType.FILL:return h.from(e,n);case i.WGLGeometryType.LINE:return d.from(e,r);case i.WGLGeometryType.MARKER:return y.from(e);case i.WGLGeometryType.TEXT:return v.from(e);case i.WGLGeometryType.LABEL:return g.from(e,o);default:throw new Error("Unable to createMaterialKey for unknown geometryType "+t)}},e.hydrateMaterialKey=function(t){switch(u.load(t).geometryType){case i.WGLGeometryType.MARKER:return new y(t);case i.WGLGeometryType.FILL:return new h(t);case i.WGLGeometryType.LINE:return new d(t);case i.WGLGeometryType.TEXT:return new v(t);case i.WGLGeometryType.LABEL:return new g(t)}};var u=function(){function t(t){this._data=0,this._data=t}return t.load=function(t){var e=this.shared;return e.data=t,e},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geometryType",{get:function(){return this.bits(8,11)},set:function(t){this.setBits(t,8,11)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mapAligned",{get:function(){return!!this.bit(20)},set:function(t){this.setBit(20,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sdf",{get:function(){return!!this.bit(11)},set:function(t){this.setBit(11,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pattern",{get:function(){return!!this.bit(12)},set:function(t){this.setBit(12,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textureBinding",{get:function(){return this.bits(0,8)},set:function(t){this.setBits(t,0,8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"geometryTypeString",{get:function(){switch(this.geometryType){case i.WGLGeometryType.FILL:return"fill";case i.WGLGeometryType.MARKER:return"marker";case i.WGLGeometryType.LINE:return"line";case i.WGLGeometryType.TEXT:return"text";case i.WGLGeometryType.LABEL:return"label";default:throw new n("Unable to handle unknown geometryType: "+this.geometryType)}},enumerable:!1,configurable:!0}),t.prototype.setBit=function(t,e){var r=1<<t;e?this._data|=r:this._data&=~r},t.prototype.bit=function(t){return(this._data&1<<t)>>t},t.prototype.setBits=function(t,e,r){for(var n=e,i=0;n<r;n++,i++)this.setBit(n,0!=(t&1<<i))},t.prototype.bits=function(t,e){for(var r=0,n=t,i=0;n<e;n++,i++)r|=this.bit(n)<<i;return r},t.prototype.hasVV=function(){return!1},t.prototype.setVV=function(t,e){},t.prototype.getVariation=function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}},t.prototype.getVariationHash=function(){return this._data&~(7&this.textureBinding)},t.shared=new t(0),t}();e.MaterialKeyBase=u;var c=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"vvSizeMinMaxValue",{get:function(){return 0!==this.bit(16)},set:function(t){this.setBit(16,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vvSizeScaleStops",{get:function(){return 0!==this.bit(17)},set:function(t){this.setBit(17,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vvSizeFieldStops",{get:function(){return 0!==this.bit(18)},set:function(t){this.setBit(18,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vvSizeUnitValue",{get:function(){return 0!==this.bit(19)},set:function(t){this.setBit(19,t)},enumerable:!1,configurable:!0}),e.prototype.hasVV=function(){return t.prototype.hasVV.call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue},e.prototype.setVV=function(e,r){t.prototype.setVV.call(this,e,r);var n=a(e,r)&e;this.vvSizeMinMaxValue=!!(n&i.WGLVVFlag.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(n&i.WGLVVFlag.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(n&i.WGLVVFlag.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(n&i.WGLVVFlag.SIZE_SCALE_STOPS)},e}(t)},l=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"vvRotation",{get:function(){return 0!==this.bit(15)},set:function(t){this.setBit(15,t)},enumerable:!1,configurable:!0}),e.prototype.hasVV=function(){return t.prototype.hasVV.call(this)||this.vvRotation},e.prototype.setVV=function(e,r){t.prototype.setVV.call(this,e,r),this.vvRotation=!r&&!!(e&i.WGLVVFlag.ROTATION)},e}(t)},p=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"vvColor",{get:function(){return 0!==this.bit(13)},set:function(t){this.setBit(13,t)},enumerable:!1,configurable:!0}),e.prototype.hasVV=function(){return t.prototype.hasVV.call(this)||this.vvColor},e.prototype.setVV=function(e,r){t.prototype.setVV.call(this,e,r),this.vvColor=!r&&!!(e&i.WGLVVFlag.COLOR)},e}(t)},f=function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e.prototype,"vvOpacity",{get:function(){return 0!==this.bit(14)},set:function(t){this.setBit(14,t)},enumerable:!1,configurable:!0}),e.prototype.hasVV=function(){return t.prototype.hasVV.call(this)||this.vvOpacity},e.prototype.setVV=function(e,r){t.prototype.setVV.call(this,e,r),this.vvOpacity=!r&&!!(e&i.WGLVVFlag.OPACITY)},e}(t)},h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.load=function(t){var e=this.shared;return e.data=t,e},e.from=function(t,e){var r=this.load(0);return r.geometryType=i.WGLGeometryType.FILL,e?r.dotDensity=!0:r.setVV(t,!1),r.data},e.prototype.getVariation=function(){return r.__assign(r.__assign({},t.prototype.getVariation.call(this)),{dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity})},Object.defineProperty(e.prototype,"dotDensity",{get:function(){return!!this.bit(15)},set:function(t){this.setBit(15,t)},enumerable:!1,configurable:!0}),e.shared=new e(0),e}(p(f(u)));e.FillMaterialKey=h;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.load=function(t){var e=this.shared;return e.data=t,e},e.from=function(t){var e=this.load(0);return e.geometryType=i.WGLGeometryType.MARKER,e.setVV(t,!1),e.data},e.prototype.getVariation=function(){return r.__assign(r.__assign({},t.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},e.shared=new e(0),e}(p(f(l(c(u)))));e.MarkerMaterialKey=y;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.load=function(t){var e=this.shared;return e.data=t,e},e.from=function(t,e){var r=this.load(0);return r.geometryType=i.WGLGeometryType.LINE,r.setVV(t,e),r.data},e.prototype.getVariation=function(){return r.__assign(r.__assign({},t.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},e.shared=new e(0),e}(p(f(c(u))));e.LineMaterialKey=d;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.load=function(t){var e=this.shared;return e.data=t,e},e.from=function(t){var e=this.load(t);return e.geometryType=i.WGLGeometryType.TEXT,e.setVV(t,!1),e.data},e.prototype.getVariation=function(){return r.__assign(r.__assign({},t.prototype.getVariation.call(this)),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},e.shared=new e(0),e}(p(f(l(c(u)))));e.TextMaterialKey=v;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.load=function(t){var e=this.shared;return e.data=t,e},e.from=function(t,e){var r=this.load(0);return r.geometryType=i.WGLGeometryType.LABEL,r.setVV(t,!1),r.mapAligned=!!o.isMapAligned(e),r.data},e.prototype.getVariation=function(){return r.__assign(r.__assign({},t.prototype.getVariation.call(this)),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})},e.shared=new e(0),e}(c(u));e.LabelMaterialKey=g}).apply(null,n))||(t.exports=i)}}]);