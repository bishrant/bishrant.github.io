(function(){(this||window).webpackJsonp.registerAbsMids({"arcgis-js-api/layers/support/arcgisLayers":"KY+9"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{"KY+9":function(e,r,n){var t,a;t=[n.dj.c(e.i),r,n("2Atf"),n("Q2wQ"),n("HZ3d"),n("zp6E"),n("ma1f"),n("8CIp"),n("FayN"),n("2Kdy")],void 0===(a=(function(e,r,t,a,i,s,u,o,c){function l(e){return i(this,void 0,void 0,(function(){var r,n,t,i,s,c,l,p,v,b;return a(this,(function(a){switch(a.label){case 0:if(!(r=o.parse(e)))throw new u("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});switch(t=r.sublayer,s={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"},n=r.serverType){case"MapServer":i=null!=t?"FeatureLayer":d(e).then((function(e){return e?"TileLayer":"MapImageLayer"}));break;case"ImageServer":i=h(e).then((function(e){var r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?r&&"LERC"===r.toUpperCase()&&e.cacheType&&"elevation"===e.cacheType.toLowerCase()?"ElevationLayer":"TileLayer":"ImageryLayer"}));break;case"SceneServer":i=h(r.url.path).then((function(e){var r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){var n=e.layers[0].layerType;if(null!=r[n])return r[n]}return"SceneLayer"}));break;default:i=s[n]}return c={FeatureLayer:!0,SceneLayer:!0},l={parsedUrl:r,Constructor:null,sublayerIds:null},[4,i];case 1:return p=a.sent(),c[p]&&null==t?[4,y(e)]:[3,3];case 2:1!==(v=a.sent()).length&&(l.sublayerIds=v),a.label=3;case 3:return b=l,[4,f(p)];case 4:return b.Constructor=a.sent(),[2,l]}}))}))}function y(e){return i(this,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return[4,h(e)];case 1:return(r=n.sent())&&Array.isArray(r.layers)?[2,r.layers.map((function(e){return e.id})).reverse()]:[2,[]]}}))}))}function f(e){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,(0,c.layerLookupMap[e])()]}))}))}function d(e){return i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,h(e)];case 1:return[2,r.sent().tileInfo]}}))}))}function h(e){return i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,s(e,{responseType:"json",query:{f:"json"}})];case 1:return[2,r.sent().data]}}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.fromUrl=function(e){return i(this,void 0,void 0,(function(){var r,i,s,u;return a(this,(function(a){switch(a.label){case 0:return[4,l(e.url)];case 1:return r=a.sent(),i=t({},e.properties,{url:e.url}),r.sublayerIds?[4,new Promise((function(e,r){Promise.all([n.e(0),n.e(45)]).then((function(){var r=[n("lAGb")];e.apply(null,r)}).bind(this)).catch(r.bind(this))}))]:[2,new r.Constructor(i)];case 2:return s=a.sent(),u=new s({title:r.parsedUrl.title}),function(e,r){return e.sublayerIds.map((function(n){return new e.Constructor(t({},r,{layerId:n,sublayerTitleMode:"service-name"}))}))}(r,i).forEach((function(e){return u.add(e)})),[2,u]}}))}))}}).apply(null,t))||(e.exports=a)}}]);