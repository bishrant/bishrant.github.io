(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{CVnL:function(t,e,n){"use strict";n.r(e),n.d(e,"ElevationSamplerWorker",(function(){return s}));var r=n("wSAH"),o=n("srIe"),a=n("zna6");class s{async createIndex(t,e){const n=new Array;if(!t.vertexAttributes||!t.vertexAttributes.position)return new a.a;const r=this.createMeshData(t),s=Object(o.k)(e)?await e.invoke("createIndexThread",r,{transferList:n}):this.createIndexThread(r).result;return this.createPooledRBush().fromJSON(s)}createIndexThread(t){const e=new Float64Array(t.position),n=this.createPooledRBush();return t.components?this.createIndexComponentsThread(n,e,t.components.map(t=>new Uint32Array(t))):this.createIndexAllThread(n,e)}createIndexAllThread(t,e){const n=new Array(e.length/9);let r=0;for(let o=0;o<e.length;o+=9)n[r++]=c(e,o+0,o+3,o+6);return t.load(n),{result:t.toJSON()}}createIndexComponentsThread(t,e,n){let r=0;for(const s of n)r+=s.length/3;const o=new Array(r);let a=0;for(const s of n)for(let t=0;t<s.length;t+=3)o[a++]=c(e,3*s[t+0],3*s[t+1],3*s[t+2]);return t.load(o),{result:t.toJSON()}}createMeshData(t){const e=t.vertexAttributes.position.buffer;return!t.components||t.components.some(t=>!t.faces)?{position:e}:{position:e,components:t.components.map(t=>t.faces)}}createPooledRBush(){return new a.a(9,Object(r.a)("csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}}function c(t,e,n,r){return{minX:Math.min(t[e+0],t[n+0],t[r+0]),maxX:Math.max(t[e+0],t[n+0],t[r+0]),minY:Math.min(t[e+1],t[n+1],t[r+1]),maxY:Math.max(t[e+1],t[n+1],t[r+1]),p0:[t[e+0],t[e+1],t[e+2]],p1:[t[n+0],t[n+1],t[n+2]],p2:[t[r+0],t[r+1],t[r+2]]}}e.default=s},RjdO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("X2wA"),o=Object(r.b)((function(t){var e;void 0!==(e=function(){function t(n,r,o,a,s){for(;a>o;){if(a-o>600){var c=a-o+1,i=r-o+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(i-c/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-i*h/c+f)),Math.min(a,Math.floor(r+(c-i)*h/c+f)),s)}var l=n[r],d=o,m=a;for(e(n,o,r),s(n[a],l)>0&&e(n,o,a);d<m;){for(e(n,d,m),d++,m--;s(n[d],l)<0;)d++;for(;s(n[m],l)>0;)m--}0===s(n[o],l)?e(n,o,m):e(n,++m,a),m<=r&&(o=m+1),r<=m&&(a=m-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,o,a,s){t(e,r,o||0,a||e.length-1,s||n)}}())&&(t.exports=e)}))}}]);