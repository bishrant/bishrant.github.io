!function(){function e(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=t.apply(r,n);function c(t){e(i,o,a,c,u,"next",t)}function u(t){e(i,o,a,c,u,"throw",t)}c(void 0)}))}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"8g7C":function(e,r,o){"use strict";o.r(r);var i=o("pO5D"),l=(o("wSAH"),o("srIe")),p=o("6S2I"),f=(o("zqDF"),o("WbKI")),y=o("r88o"),d=o("04ZG"),b=o("zlDU"),h=o("4EHJ"),v=(o("ju1D"),o("9AIY"),o("9MzC")),O=o("Lqtk"),j=o("pqNC"),g=o("5pQd"),w=o("5k2a"),m=o("IvSi"),k=o("uRH/"),S=o("PVlI"),P=o("DbUH"),x=o("tIWS"),D=function(e){u(r,e);var t=s(r);function r(e){var n;return a(this,r),(n=t.call(this,"LercWorker","_decode",e,{strategy:"dedicated"})).scheduler=e,n}return c(r,[{key:"decode",value:function(e,t,r){return e&&0!==e.byteLength?this.invoke({buffer:e,options:t},r):Promise.resolve(null)}},{key:"getTransferList",value:function(e){return[e.buffer]}}]),r}(o("eLqb").a),I=new Map,T=p.a.getLogger("esri.layers.ElevationLayer"),_=function(e){u(y,e);var r,i,p,f=s(y);function y(){var e;a(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=f.call.apply(f,[this].concat(r))).copyright=null,e.heightModelInfo=null,e.path=null,e.opacity=1,e.operationalLayerType="ArcGISTiledElevationServiceLayer",e.sourceJSON=null,e.type="elevation",e.url=null,e.version=null,e._lercDecoder=function(e){var t=I.get(e);return t||(t={instance:new D(e),ref:0},I.set(e,t)),++t.ref,t.instance}(),e}return c(y,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?n({url:e},t):e}},{key:"destroy",value:function(){(function(e){if(null!=e){var t=e.scheduler,r=I.get(t);r&&--r.ref<=0&&(r.instance.destroy(),I.delete(t))}})(this._lercDecoder),this._lercDecoder=null}},{key:"minScale",get:function(){},set:function(e){this.constructed&&T.warn(this.declaredClass+".minScale support has been removed (since 4.5)")}},{key:"maxScale",get:function(){},set:function(e){this.constructed&&T.warn(this.declaredClass+".maxScale support has been removed (since 4.5)")}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=9.3),r}},{key:"load",value:function(e){var t=this,r=Object(l.k)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:function(e){for(var t=0;t<e.typeKeywords.length;t++)if("elevation 3d layer"===e.typeKeywords[t].toLowerCase())return!0;throw new b.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).then((function(){return t._fetchImageService(r)}),(function(){return t._fetchImageService(r)}))),Promise.resolve(this)}},{key:"fetchTile",value:function(e,t,r,n){var o=this,a=Object(l.k)((n=n||{signal:null}).signal)?n.signal:n.signal=Object(v.d)().signal,i={responseType:"array-buffer",signal:a},c={noDataValue:n.noDataValue,returnFileInfo:!0};return this.load().then((function(){return o._fetchTileAvailability(e,t,r,n)})).then((function(){return Object(O.default)(o.getTileUrl(e,t,r),i)})).then((function(e){return o._lercDecoder.decode(e.data,c,a)})).then((function(e){return{values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue}}))}},{key:"getTileUrl",value:function(e,t,r){var o=!this.tilemapCache&&this.supportsBlankTile,a=Object(h.D)(n(n({},this.parsedUrl.query),{},{blankTile:!o&&null}));return"".concat(this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(r).concat(a?"?"+a:"")}},{key:"queryElevation",value:(p=t(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e(23).then(o.bind(null,"LfYK"));case 2:return n=e.sent,a=n.ElevationQuery,e.abrupt("return",(Object(v.u)(r),(new a).query(this,t,r)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"createElevationSampler",value:(i=t(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e(23).then(o.bind(null,"LfYK"));case 2:return n=e.sent,a=n.ElevationQuery,e.abrupt("return",(Object(v.u)(r),(new a).createSampler(this,t,r)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"_fetchTileAvailability",value:function(e,t,r,n){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,t,r,n):Promise.resolve("unknown")}},{key:"_fetchImageService",value:(r=t(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sourceJSON){e.next=2;break}return e.abrupt("return",this.sourceJSON);case 2:return r={query:n({f:"json"},this.parsedUrl.query),responseType:"json",signal:t},e.next=5,Object(O.default)(this.parsedUrl.path,r);case 5:(o=e.sent).ssl&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=o.data,this.read(o.data,{origin:"service",url:this.parsedUrl});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),y}(Object(x.a)(Object(S.a)(Object(k.a)(Object(P.a)(Object(g.a)(j.a))))));Object(i.a)([Object(f.b)({json:{read:{source:"copyrightText"}}})],_.prototype,"copyright",void 0),Object(i.a)([Object(f.b)({readOnly:!0,type:w.a})],_.prototype,"heightModelInfo",void 0),Object(i.a)([Object(f.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],_.prototype,"path",void 0),Object(i.a)([Object(f.b)({type:["show","hide"]})],_.prototype,"listMode",void 0),Object(i.a)([Object(f.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],_.prototype,"minScale",null),Object(i.a)([Object(f.b)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],_.prototype,"maxScale",null),Object(i.a)([Object(f.b)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],_.prototype,"opacity",void 0),Object(i.a)([Object(f.b)({type:["ArcGISTiledElevationServiceLayer"]})],_.prototype,"operationalLayerType",void 0),Object(i.a)([Object(f.b)()],_.prototype,"sourceJSON",void 0),Object(i.a)([Object(f.b)({json:{read:!1},value:"elevation",readOnly:!0})],_.prototype,"type",void 0),Object(i.a)([Object(f.b)(m.n)],_.prototype,"url",void 0),Object(i.a)([Object(f.b)()],_.prototype,"version",void 0),Object(i.a)([Object(y.a)("version",["currentVersion"])],_.prototype,"readVersion",null),_=Object(i.a)([Object(d.a)("esri.layers.ElevationLayer")],_),r.default=_}}])}();