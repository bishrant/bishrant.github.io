!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function t(t){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r,a,n,s,l){try{var i=e[s](l),o=i.value}catch(c){return void r(c)}i.done?t(o):Promise.resolve(o).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var l=e.apply(t,r);function i(e){a(l,n,s,i,o,"next",e)}function o(e){a(l,n,s,i,o,"throw",e)}i(void 0)}))}}(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{"cg+0":function(e,r,a){"use strict";a.r(r),a.d(r,"getPatternDescriptor",(function(){return P})),a.d(r,"getSymbolLayerFill",(function(){return M})),a.d(r,"previewSymbol3D",(function(){return R})),a("wSAH");var s=a("srIe"),l=a("6S2I"),i=a("zlDU"),o=a("9MzC"),c=a("qRWG"),u=a("PcLj"),h=a("ss0y"),p=a("jBHT"),b=a("0ynT"),f=a("NDpP"),m=a("zdBc"),y=a("rI4C"),v=a("IAPW"),d=a("S60b"),j=22,O=120,g=l.a.getLogger("esri.symbols.support.previewSymbol3D");function k(e){var t=e.outline,r=Object(s.k)(e.material)?e.material.color:null,a=Object(s.k)(r)?r.toHex():null;if(Object(s.j)(t))return"fill"===e.type&&"#ffffff"===a?{color:"#bdc3c7",width:.75}:null;var n=Object(c.h)(t.size)||0;return{color:"rgba("+(Object(s.k)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,80)}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.a,a=Object(b.b)(e),n=a.h,s=a.s/t,l=100-(100-a.v)/t,i=Object(b.e)({h:n,s:s,v:l}),o=i.r,c=i.g,u=i.b;return[o,c,u,r]}function x(e){return"water"===e.type?Object(s.j)(e.color)?null:e.color:Object(s.j)(e.material)||Object(s.j)(e.material.color)?null:e.material.color}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=x(e);if(!r){if("fill"===e.type)return null;var a=m.a.r,n=Object(v.b)(a,t);return[n,n,n,100]}for(var s=r.toRgba(),l=0;l<3;l++)s[l]=Object(v.b)(s[l],t);return s}function P(e,t){return L.apply(this,arguments)}function L(){return(L=n(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!==(a=t.style)){e.next=5;break}e.t0=null,e.next=9;break;case 5:return e.next=7,Object(m.c)(Object(h.a)("esri/symbols/patterns/".concat(a,".png")),r.toCss(!0));case 7:e.t1=e.sent,e.t0={type:"pattern",x:0,y:0,src:e.t1,width:5,height:5};case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return e.outline?k(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function S(e,t){var r=x(e);if(!r)return null;var a="rgba(";return a+=Object(v.b)(r.r,t)+",",a+=Object(v.b)(r.g,t)+",",(a+=Object(v.b)(r.b,t)+",")+r.a+");"}function D(e,t){var r=S(e,t);return r?{color:r,width:Math.min(e.size?Object(c.h)(e.size):.75,80)}:{}}function I(e,t,r){var a=.75*r;return{type:"linear",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function R(e,r){if(0===e.symbolLayers.length)return Promise.reject(new i.a("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var a,l=null;switch(e.type){case"point-3d":l=function(e,t){var r,a=t&&t.size?Object(c.h)(t.size):null,n=t&&t.maxSize?Object(c.h)(t.maxSize):null,s=t&&t.disableUpsampling,l=e.symbolLayers,i=[],b=0,m=0,w=l.getItemAt(l.length-1);return w&&"icon"===w.type&&(r=w.size&&Object(c.h)(w.size)),l.forEach((function(l){if("icon"===l.type||"object"===l.type){var o="icon"===l.type?l.size&&Object(c.h)(l.size):0,g=a||o?Math.ceil(Math.min(a||o,n||O)):j;if(l&&l.resource&&l.resource.href){var w=function(e,t){var r=t&&t.resource,a=r&&r.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(a&&"object"!==t.type)return Promise.resolve(Object(y.f)(e,t));var n=Object(h.a)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?Object(f.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((function(e){return e})).then((function(e){var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||n})):Promise.resolve(n)}(e,l).then((function(e){var t=l.get("material.color"),r=function(e){return"icon"===e.type?"multiply":"tint"}(l);return Object(d.b)(e,g,t,r,s)})).then((function(e){var t=e.width,r=e.height;return b=Math.max(b,t),m=Math.max(m,r),[{shape:{type:"image",x:0,y:0,width:t,height:r,src:e.url},fill:null,stroke:null}]}));i.push(w)}else{var x,P=g;"icon"===l.type&&r&&a&&(P=g*(o/r));var L="tall"===(null==t?void 0:t.symbolConfig)||(null==t||null==(x=t.symbolConfig)?void 0:x.isTall)||"object"===l.type&&function(e){var t=e.depth,r=e.height,a=e.width;return a&&t&&r&&a===t&&a<r}(l);b=Math.max(b,L?20:P),m=Math.max(m,P),i.push(Promise.resolve(function(e,t,r){var a=[];if(!e)return a;switch(e.type){case"icon":var n=t,s=t;switch(e.resource&&e.resource.primitive||u.b){case"circle":a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:M(e,0),stroke:k(e)});break;case"square":a.push({shape:{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[0,0]},{command:"L",values:[n,0]},{command:"L",values:[n,s]},{command:"Z",values:[]}]},fill:M(e,0),stroke:k(e)});break;case"triangle":a.push({shape:{type:"path",path:[{command:"M",values:[0,s]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,s]},{command:"Z",values:[]}]},fill:M(e,0),stroke:k(e)});break;case"cross":a.push({shape:{type:"path",path:[{command:"M",values:[.5*n,0]},{command:"L",values:[.5*n,s]},{command:"M",values:[0,.5*s]},{command:"L",values:[n,.5*s]}]},stroke:z(e)});break;case"x":a.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[n,s]},{command:"M",values:[n,0]},{command:"L",values:[0,s]}]},stroke:z(e)});break;case"kite":a.push({shape:{type:"path",path:[{command:"M",values:[0,.5*s]},{command:"L",values:[.5*n,0]},{command:"L",values:[n,.5*s]},{command:"L",values:[.5*n,s]},{command:"Z",values:[]}]},fill:M(e,0),stroke:k(e)})}break;case"object":switch(e.resource&&e.resource.primitive||p.b){case"cone":var l=I(M(e,0),M(e,-.6),r?20:t),i=Object(v.c)(t,r);a.push({shape:i[0],fill:l}),a.push({shape:i[1],fill:l});break;case"inverted-cone":var o=M(e,0),c=I(o,M(e,-.6),t),h=Object(v.h)(t);a.push({shape:h[0],fill:c}),a.push({shape:h[1],fill:o});break;case"cube":var b=Object(v.d)(t,r);a.push({shape:b[0],fill:M(e,0)}),a.push({shape:b[1],fill:M(e,-.3)}),a.push({shape:b[2],fill:M(e,-.5)});break;case"cylinder":var f=I(M(e,0),M(e,-.6),r?20:t),m=Object(v.e)(t,r);a.push({shape:m[0],fill:f}),a.push({shape:m[1],fill:f}),a.push({shape:m[2],fill:M(e,0)});break;case"diamond":var y=Object(v.f)(t);a.push({shape:y[0],fill:M(e,-.3)}),a.push({shape:y[1],fill:M(e,0)}),a.push({shape:y[2],fill:M(e,-.3)}),a.push({shape:y[3],fill:M(e,-.7)});break;case"sphere":var d=I(M(e,0),M(e,-.6));d.x1=0,d.y1=0,d.x2=.25*t,d.y2=.25*t,a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:d});break;case"tetrahedron":var j=Object(v.j)(t);a.push({shape:j[0],fill:M(e,-.3)}),a.push({shape:j[1],fill:M(e,0)}),a.push({shape:j[2],fill:M(e,-.6)})}}return a}(l,P,L)))}}})),Object(o.j)(i).then((function(e){var r=[];return e.forEach((function(e){e.value?r.push(e.value):e.error&&g.warn("error while building swatchInfo!",e.error)})),Object(d.a)(r,[b,m],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}(e,r);break;case"line-3d":l=function(e,r){var a,n=e.symbolLayers,s=[],l=Object(y.g)(e),i=r&&r.size?Object(c.h)(r.size):null,o=(r&&r.maxSize?Object(c.h)(r.maxSize):null)||80,u=0,h=0;return n.forEach((function(e,r){if(e&&("line"===e.type||"path"===e.type)){var n=[];switch(e.type){case"line":var l=D(e,0),c=l&&l.width||0;0===r&&(a=c);var p=Math.min(i||c,o),b=0===r?p:i?p*(c/a):p,f=b>20?2*b:40;h=Math.max(h,b),u=Math.max(u,f),l.width=b,n.push({shape:{type:"path",path:[{command:"M",values:[0,.5*h]},{command:"L",values:[u,.5*h]}]},stroke:l});break;case"path":var m=Math.min(i||j,o),y=M(e,0),d=M(e,-.2),O=S(e,-.4),g=O?{color:O,width:1}:{};if("quad"===e.profile){var k,w,x=null!=(k=e.width)?k:e.size,P=null!=(w=e.height)?w:e.size,L=Object(v.i)(x&&P?x/P:1,0===P,0===x),z=t(t({},g),{},{join:"bevel"});n.push({shape:L[0],fill:d,stroke:z}),n.push({shape:L[1],fill:d,stroke:z}),n.push({shape:L[2],fill:y,stroke:z})}else n.push({shape:v.l.pathSymbol3DLayer[0],fill:d,stroke:g}),n.push({shape:v.l.pathSymbol3DLayer[1],fill:y,stroke:g});h=Math.max(h,m),u=h}s.push(n)}})),Promise.resolve(Object(d.a)(s,[u,h],{node:r&&r.node,scale:l,opacity:r&&r.opacity}))}(e,r);break;case"polygon-3d":case"mesh-3d":l=(a=n(regeneratorRuntime.mark((function e(r,a){var n,l,i,o,u,h,p,b,f,m,y,g,L,z,S,I,R,C,E,A,H,T,q,N,U,W,Z,B,J,F,G;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="mesh-3d"===r.type,l=r.symbolLayers,i=a&&a.size?Object(c.h)(a.size):null,o=a&&a.maxSize?Object(c.h)(a.maxSize):null,u=i||j,h=[],p=0,b=0,f=!1,m=0;case 3:if(!(m<l.length)){e.next=39;break}if(y=l.getItemAt(m),g=[],!n||"fill"===y.type){e.next=7;break}return e.abrupt("continue",36);case 7:L=v.l.fill[0],e.t0=y.type,e.next="fill"===e.t0?11:"line"===e.t0?22:"extrude"===e.t0?25:"water"===e.t0?30:35;break;case 11:if(z=k(y),S=Math.min(u,o||O),p=Math.max(p,S),b=Math.max(b,S),f=!0,I=M(y,0),R="pattern"in y&&y.pattern,C=x(y),e.t1=!n&&Object(s.k)(R)&&"style"===R.type&&"solid"!==R.style&&C,!e.t1){e.next=20;break}return e.next=19,P(R,C);case 19:I=e.sent;case 20:return g.push({shape:L,fill:I,stroke:z}),e.abrupt("break",35);case 22:return E={stroke:D(y,0),shape:L},p=Math.max(p,j),b=Math.max(b,j),g.push(E),e.abrupt("break",35);case 25:return A=t({join:"round"},D(y,-.4)),H=M(y,0),T=M(y,-.2),q=Math.min(u,o||O),N=Object(v.g)(q),A.width=1,g.push({shape:N[0],fill:T,stroke:A}),g.push({shape:N[1],fill:T,stroke:A}),g.push({shape:N[2],fill:H,stroke:A}),U=.7*j+.5*q,p=Math.max(p,j),b=Math.max(b,U),e.abrupt("break",35);case 30:return W=x(y),Z=w(W),B=w(W,2),J=w(W,3),F=Object(v.k)(),f=!0,g.push({shape:F[0],fill:Z}),g.push({shape:F[1],fill:B}),g.push({shape:F[2],fill:J}),G=Math.min(u,o||O),p=Math.max(p,G),b=Math.max(b,G),e.abrupt("break",35);case 35:h.push(g);case 36:m++,e.next=3;break;case 39:return e.abrupt("return",Promise.resolve(Object(d.a)(h,[p,b],{node:a&&a.node,scale:f,opacity:a&&a.opacity})));case 40:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})(e,r)}return l||Promise.reject(new i.a("symbolPreview: swatchInfo3D","symbol not supported."))}}}])}();