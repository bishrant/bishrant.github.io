(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/webgl-engine/lib/geometryDataUtils":"+nCE","arcgis-js-api/views/3d/webgl-engine/lib/geometryDataUtils":"+nCE","arcgis-js-api/views/3d/support/geometryUtils/sphere":"/dtL","arcgis-js-api/views/3d/support/geometryUtils/vector":"18xY","esri/core/libs/gl-matrix-2/mat4f64":"1m5D","arcgis-js-api/core/libs/gl-matrix-2/mat4f64":"1m5D","arcgis-js-api/views/3d/support/geometryUtils/boundedPlane":"2eYJ","esri/core/libs/gl-matrix-2/vec4":"2fXB","arcgis-js-api/core/libs/gl-matrix-2/vec4":"2fXB","arcgis-js-api/views/3d/support/geometryUtils/ray":"4p4v","esri/core/libs/gl-matrix-2/mat3f64":"51bw","arcgis-js-api/core/libs/gl-matrix-2/mat3f64":"51bw","esri/views/3d/webgl-engine/lib/Util":"CIy2","arcgis-js-api/views/3d/webgl-engine/lib/Util":"CIy2","arcgis-js-api/core/libs/gl-matrix-2/factories/mat4f64":"CIzB","arcgis-js-api/views/3d/support/geometryUtils/plane":"GG08","arcgis-js-api/views/3d/support/geometryUtils/axisAngle":"GyfB","arcgis-js-api/views/3d/support/stack":"JjCO","arcgis-js-api/views/3d/support/geometryUtils/lineSegment":"N5NQ","esri/core/libs/gl-matrix-2/vec4f64":"O7NG","arcgis-js-api/core/libs/gl-matrix-2/vec4f64":"O7NG","arcgis-js-api/core/ObjectStack":"PHan","arcgis-js-api/core/libs/gl-matrix-2/factories/vec4f64":"TPlk","arcgis-js-api/views/3d/support/geometryUtils/triangle":"ZjcA","esri/views/3d/support/geometryUtils":"aWgr","arcgis-js-api/views/3d/support/geometryUtils":"aWgr","arcgis-js-api/views/3d/support/geometryUtils/frustum":"cpxo","arcgis-js-api/views/3d/support/geometryUtils/clipRay":"fXZm","arcgis-js-api/geometry/support/meshUtils/deduplicate":"jmRc","esri/geometry/support/meshUtils/deduplicate":"jmRc","arcgis-js-api/core/VectorStack":"wSO/"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+nCE":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("0LE5"),r("Rdxj"),r("ZjcA")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0});var c=1,o=null,a=new Uint32Array([0]);t.generateDefaultIndexArray=function(e){if(1===e)return a;if(e>c||null==o){for(;e>c;)c*=2;o=new Uint32Array(c);for(var t=0;t<c;t++)o[t]=t}return new Uint32Array(o.buffer,0,e)},t.computeAttachmentOriginTriangles=function(e,t,n){if(!e)return!1;var c=e.strideIdx,o=e.offsetIdx,a=e.data;r.vec3.set(n,0,0,0),r.vec3.set(d,0,0,0);for(var s=0,l=0,p=0;p<t.length-2;p+=3){var g=t[p+0]*c+o,m=t[p+1]*c+o,h=t[p+2]*c+o;r.vec3.set(u,a[g+0],a[g+1],a[g+2]),r.vec3.set(v,a[m+0],a[m+1],a[m+2]),r.vec3.set(f,a[h+0],a[h+1],a[h+2]);var y=i.areaPoints3d(u,v,f);y?(r.vec3.add(u,u,v),r.vec3.add(u,u,f),r.vec3.scale(u,u,1/3*y),r.vec3.add(n,n,u),s+=y):(r.vec3.add(d,d,u),r.vec3.add(d,d,v),r.vec3.add(d,d,f),l+=3)}return!(0===l&&0===s||(0!==s?(r.vec3.scale(n,n,1/s),0):0===l||(r.vec3.scale(n,d,1/l),0)))},t.computeAttachmentOriginPoints=function(e,t,n){if(!e||!t)return!1;var i=e.strideIdx,c=e.offsetIdx,o=e.data;r.vec3.set(n,0,0,0);for(var a=-1,s=0,u=0;u<t.length;u++){var v=t[u]*i+c;a!==v&&(n[0]+=o[v+0],n[1]+=o[v+1],n[2]+=o[v+2],s++),a=v}return s>1&&r.vec3.scale(n,n,1/s),s>0},t.computeAttachmentOriginLines=function(e,t,n,i){if(!e)return!1;var c=e.strideIdx,o=e.offsetIdx,a=e.data;r.vec3.set(i,0,0,0),r.vec3.set(d,0,0,0);for(var s=0,f=0,l=t?t.length-1:a.length/c-1,p=l+(n?2:0),g=0;g<p;g+=2){var m=g<l?g:l,h=g<l?g+1:0,y=(t?t[m]:m)*c+o,b=(t?t[h]:h)*c+o;u[0]=a[y+0],u[1]=a[y+1],u[2]=a[y+2],v[0]=a[b+0],v[1]=a[b+1],v[2]=a[b+2],r.vec3.scale(u,r.vec3.add(u,u,v),.5);var P=r.vec3.dist(u,v);P>0?(r.vec3.add(i,i,r.vec3.scale(u,u,P)),s+=P):(r.vec3.add(d,d,u),f++)}return 0!==s?(r.vec3.scale(i,i,1/s),!0):0!==f&&(r.vec3.scale(i,d,1/f),!0)};var s=0;t.getNewId=function(){return s++};var u=n.vec3f64.create(),v=n.vec3f64.create(),f=n.vec3f64.create(),d=n.vec3f64.create()}).apply(null,n))||(e.exports=i)},"/dtL":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("pcDC"),r("qsST"),r("xoE+"),r("PHan"),r("FXVB"),r("0LE5"),r("Rdxj"),r("aWgr"),r("AzkI"),r("JjCO"),r("4p4v")],void 0===(i=(function(e,t,r,n,i,c,o,a,s,u,v,f,d){Object.defineProperty(t,"__esModule",{value:!0});var l=n.getLogger("esri.views.3d.support.geometryUtils.sphere");function p(e){return e?{radius:e.radius,center:s.vec3f64.clone(e.center)}:{radius:1,center:s.vec3f64.create()}}function g(e,t){return void 0===t&&(t=p()),m(e.radius,e.center,t)}function m(e,t,r){return void 0===r&&(r=p()),a.vec3.copy(r.center,t),r.radius=e,r}function h(e,t,r){var n=a.vec3.subtract(f.sv3d.get(),t.origin,e.center),i=a.vec3.dot(t.direction,t.direction),c=2*a.vec3.dot(t.direction,n),o=c*c-4*i*(a.vec3.dot(n,n)-e.radius*e.radius);if(o<0)return!1;var s=Math.sqrt(o),u=(-c-s)/(2*i),v=(-c+s)/(2*i);return(u<0||v<u&&v>0)&&(u=v),!(u<0||(r&&a.vec3.add(r,t.origin,a.vec3.scale(f.sv3d.get(),t.direction,u)),0))}function y(e,t,r){var n=f.sv3d.get(),i=f.sm4d.get();a.vec3.cross(n,t.origin,t.direction),a.vec3.cross(r,n,t.origin),a.vec3.scale(r,r,1/a.vec3.length(r)*e.radius);var c=P(e,t.origin),s=u.vector.angle(t.origin,r);return o.mat4.identity(i),o.mat4.rotate(i,i,s+c,n),a.vec3.transformMat4(r,r,i),r}function b(e,t,r){var n=a.vec3.subtract(f.sv3d.get(),t,e.center),i=a.vec3.scale(f.sv3d.get(),n,e.radius/a.vec3.length(n));return a.vec3.add(r,i,e.center)}function P(e,t){var r=a.vec3.subtract(f.sv3d.get(),t,e.center),n=a.vec3.length(r),c=e.radius+Math.abs(e.radius-n);return i.acosClamped(e.radius/c)}t.create=p,t.wrap=function(e,t){var r=x.get();return r.radius=e,r.center=t||A,r},t.copy=g,t.fromValues=m,t.elevate=function(e,t,r){return e!==r&&a.vec3.copy(r.center,e.center),r.radius=e.radius+t,r},t.setExtent=function(e,t,r){return l.error("sphere.setExtent is not yet supported"),e===r?r:g(e,r)},t.intersectRay=h,t.intersectScreen=function(e,t,r,n){return h(e,d.fromScreenAtEye(t,r,O),n)},t.intersectsRay=function(e,t){return h(e,t,null)},t.intersectRayClosestSilhouette=function(e,t,r){if(h(e,t,r))return r;var n=y(e,t,f.sv3d.get());return a.vec3.add(r,t.origin,a.vec3.scale(f.sv3d.get(),t.direction,a.vec3.distance(t.origin,n)/a.vec3.length(t.direction))),r},t.closestPointOnSilhouette=y,t.closestPoint=function(e,t,r){return h(e,t,r)?r:(d.closestPoint(t,e.center,r),b(e,r,r))},t.projectPoint=b,t.distanceToSilhouette=function(e,t){var r=a.vec3.subtract(f.sv3d.get(),t,e.center),n=a.vec3.squaredLength(r);return Math.sqrt(Math.abs(n-e.radius*e.radius))},t.angleToSilhouette=P;var j=s.vec3f64.create();function M(e,t,n,i){var c=a.vec3.subtract(j,t,e.center);switch(n){case 0:var o=(s=v.cartesianToSpherical(c,j))[2];return a.vec3.set(i,-Math.sin(o),Math.cos(o),0);case 1:var s,u=(s=v.cartesianToSpherical(c,j))[1],f=(o=s[2],Math.sin(u));return a.vec3.set(i,-f*Math.cos(o),-f*Math.sin(o),Math.cos(u));case 2:return a.vec3.normalize(i,c);default:return void r.neverReached(n)}}function w(e,t){var r=a.vec3.subtract(S,t,e.center);return a.vec3.length(r)-e.radius}t.axisAt=M,t.altitudeAt=w,t.setAltitudeAt=function(e,t,r,n){var i=w(e,t),c=M(e,t,2,S),o=a.vec3.scale(S,c,r-i);return a.vec3.add(n,t,o),n};var x=new c.ObjectStack((function(){return{center:null,radius:0}})),O=d.create(),A=s.vec3f64.create(),S=s.vec3f64.create();Object.freeze(A)}).apply(null,n))||(e.exports=i)},"18xY":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("0LE5")],void 0===(i=(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.projectPoint=function(e,t,r){var i=n.vec3.dot(e,t)/n.vec3.dot(e,e);return n.vec3.scale(r,e,i)},t.projectPointSignedLength=function(e,t){return n.vec3.dot(e,t)/n.vec3.length(e)},t.angle=function(e,t){var i=n.vec3.dot(e,t)/(n.vec3.length(e)*n.vec3.length(t));return-r.acosClamped(i)}}).apply(null,n))||(e.exports=i)},"1m5D":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("CIzB")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mat4f64=r}).apply(null,n))||(e.exports=i)},"2eYJ":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("pcDC"),r("qsST"),r("xoE+"),r("PHan"),r("FXVB"),r("1m5D"),r("0LE5"),r("Rdxj"),r("AzkI"),r("JjCO"),r("N5NQ"),r("GG08"),r("4p4v"),r("18xY")],void 0===(i=(function(e,t,r,n,i,c,o,a,s,u,v,f,d,l,p,g){Object.defineProperty(t,"__esModule",{value:!0});var m=n.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function h(e){return void 0===e&&(e=t.UP),{plane:l.create(e.plane),origin:u.vec3f64.clone(e.origin),basis1:u.vec3f64.clone(e.basis1),basis2:u.vec3f64.clone(e.basis2)}}function y(e,t){return void 0===t&&(t=h()),b(e.origin,e.basis1,e.basis2,t)}function b(e,t,r,n){return void 0===n&&(n=h()),s.vec3.copy(n.origin,e),s.vec3.copy(n.basis1,t),s.vec3.copy(n.basis2,r),l.fromVectorsAndPoint(r,t,e,n.plane),function(e,t){Math.abs(s.vec3.dot(e.basis1,e.basis2)/(s.vec3.length(e.basis1)*s.vec3.length(e.basis2)))>1e-6&&m.warn(t,"Provided basis vectors are not perpendicular"),Math.abs(s.vec3.dot(e.basis1,e.plane))>1e-6&&m.warn(t,"Basis vectors and plane normal are not perpendicular"),Math.abs(-s.vec3.dot(e.plane,e.origin)-e.plane[3])>1e-6&&m.warn(t,"Plane offset is not consistent with plane origin")}(n,"fromValues()"),n}function P(e,t,r){e!==r&&y(e,r);var n=s.vec3.scale(f.sv3d.get(),e.plane,t);return s.vec3.add(r.origin,r.origin,n),r.plane[3]-=t,r}function j(e,t){void 0===t&&(t=h());var r=(e[2]-e[0])/2,n=(e[3]-e[1])/2;return s.vec3.set(t.origin,e[0]+r,e[1]+n,0),s.vec3.set(t.basis1,r,0,0),s.vec3.set(t.basis2,0,n,0),l.fromValues(0,0,1,0,t.plane),t}function M(e,t,r){return!!l.intersectRay(e.plane,t,r)&&I(e,r)}function w(e,t,r){var n=R.get();E(e,t,n,R.get());for(var c=Number.POSITIVE_INFINITY,o=0,a=U;o<a.length;o++){var u=N(e,a[o],B.get()),d=f.sv3d.get();if(l.intersectLineSegment(n,u,d)){var p=v.directionFromTo(f.sv3d.get(),t.origin,d),g=Math.abs(i.acosClamped(s.vec3.dot(t.direction,p)));g<c&&(c=g,s.vec3.copy(r,d))}}return c===Number.POSITIVE_INFINITY?x(e,t,r):r}function x(e,t,r){if(M(e,t,r))return r;var n=R.get(),i=R.get();E(e,t,n,i);for(var c=Number.POSITIVE_INFINITY,o=0,a=U;o<a.length;o++){var u=N(e,a[o],B.get()),v=f.sv3d.get();if(l.intersectLineSegmentClamp(n,u,v)){var d=p.distance2(t,v);if(!l.isPointInside(i,v))continue;d<c&&(c=d,s.vec3.copy(r,v))}}return S(e,t.origin)<c&&O(e,t.origin,r),r}function O(e,t,r){var n=l.projectPoint(e.plane,t,f.sv3d.get()),i=d.projectPointClamp(_(e,e.basis1),n,-1,1,f.sv3d.get()),c=d.projectPointClamp(_(e,e.basis2),n,-1,1,f.sv3d.get());return s.vec3.subtract(r,s.vec3.add(f.sv3d.get(),i,c),e.origin),r}function A(e,t,r){var n=e.origin,i=e.basis1,c=e.basis2,o=s.vec3.subtract(f.sv3d.get(),t,n),a=g.projectPointSignedLength(i,o),u=g.projectPointSignedLength(c,o),v=g.projectPointSignedLength(e.plane,o);return s.vec3.set(r,a,u,v)}function S(e,t){var r=A(e,t,f.sv3d.get()),n=e.basis2,i=s.vec3.length(e.basis1),c=s.vec3.length(n),o=Math.max(Math.abs(r[0])-i,0),a=Math.max(Math.abs(r[1])-c,0),u=r[2];return o*o+a*a+u*u}function V(e,t){var r=-e.plane[3];return g.projectPointSignedLength(e.plane,t)-r}function I(e,t){var r=s.vec3.subtract(f.sv3d.get(),t,e.origin),n=s.vec3.squaredLength(e.basis1),i=s.vec3.squaredLength(e.basis2),c=s.vec3.dot(e.basis1,r),o=s.vec3.dot(e.basis2,r);return-c-n<0&&c-n<0&&-o-i<0&&o-i<0}function _(e,t){var r=B.get();return s.vec3.copy(r.origin,e.origin),s.vec3.copy(r.vector,t),r}function N(e,t,r){var n=e.basis1,i=e.basis2,c=e.origin,o=s.vec3.scale(f.sv3d.get(),n,t.origin[0]),a=s.vec3.scale(f.sv3d.get(),i,t.origin[1]);s.vec3.add(r.origin,o,a),s.vec3.add(r.origin,r.origin,c);var u=s.vec3.scale(f.sv3d.get(),n,t.direction[0]),v=s.vec3.scale(f.sv3d.get(),i,t.direction[1]);return s.vec3.scale(r.vector,s.vec3.add(u,u,v),2),r}function E(e,t,r,n){var i=e.plane;l.fromVectorsAndPoint(i,t.direction,t.origin,r),l.fromVectorsAndPoint(r,i,t.origin,n)}t.BoundedPlaneClass=function(){this.plane=l.create(),this.origin=u.vec3f64.create(),this.basis1=u.vec3f64.create(),this.basis2=u.vec3f64.create()},t.create=h,t.wrap=function(e,t,r){var n=C.get();return n.origin=e,n.basis1=t,n.basis2=r,n.plane=l.fromVectorsAndPoint(r,t,e,l.wrap(0,0,0,0)),n},t.copy=y,t.fromValues=b,t.elevate=P,t.setExtent=function(e,t,r){return j(t,r),P(r,V(e,e.origin),r),r},t.fromAABoundingRect=j,t.intersectRay=M,t.intersectRayClosestSilhouette=function(e,t,r){if(M(e,t,r))return r;var n=w(e,t,f.sv3d.get());return s.vec3.add(r,t.origin,s.vec3.scale(f.sv3d.get(),t.direction,s.vec3.distance(t.origin,n)/s.vec3.length(t.direction))),r},t.closestPointOnSilhouette=w,t.closestPoint=x,t.projectPoint=O,t.projectPointLocal=A,t.distance2=S,t.distance=function(e,t){return Math.sqrt(S(e,t))},t.distanceToSilhouette=function(e,t){for(var r=Number.NEGATIVE_INFINITY,n=0,i=U;n<i.length;n++){var c=N(e,i[n],B.get()),o=d.distance2(c,t);o>r&&(r=o)}return Math.sqrt(r)},t.extrusionContainsPoint=function(e,t){return l.isPointInside(e.plane,t)&&I(e,t)},t.axisAt=function(e,t,n,i){return function(e,t,n){switch(t){case 0:s.vec3.copy(n,e.basis1),s.vec3.normalize(n,n);break;case 1:s.vec3.copy(n,e.basis2),s.vec3.normalize(n,n);break;case 2:s.vec3.copy(n,e.plane);break;default:r.neverReached(t)}return n}(e,n,i)},t.altitudeAt=V,t.setAltitudeAt=function(e,t,r,n){var i=V(e,t),c=s.vec3.scale(k,e.plane,r-i);return s.vec3.add(n,t,c),n},t.transform=function(e,t,r){return e!==r&&y(e,r),o.mat4.invert(L,t),o.mat4.transpose(L,L),s.vec3.transformMat4(r.basis1,e.basis1,L),s.vec3.transformMat4(r.basis2,e.basis2,L),s.vec3.transformMat4(r.plane,e.plane,L),s.vec3.transformMat4(r.origin,e.origin,t),l.setOffsetFromPoint(r.plane,r.origin,r.plane),r},t.UP={plane:l.create(),origin:u.vec3f64.fromValues(0,0,0),basis1:u.vec3f64.fromValues(1,0,0),basis2:u.vec3f64.fromValues(0,1,0)};var R=new c.ObjectStack(l.create),B=new c.ObjectStack(d.create),k=u.vec3f64.create(),C=new c.ObjectStack((function(){return{origin:null,basis1:null,basis2:null,plane:null}})),U=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],L=a.mat4f64.create()}).apply(null,n))||(e.exports=i)},"2fXB":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("bH65")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=r}).apply(null,n))||(e.exports=i)},"4p4v":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("PHan"),r("jBNx"),r("W9tT"),r("0LE5"),r("Rdxj"),r("JjCO")],void 0===(i=(function(e,t,r,n,i,c,o,a){function s(e){return e?{origin:o.vec3f64.clone(e.origin),direction:o.vec3f64.clone(e.direction)}:{origin:o.vec3f64.create(),direction:o.vec3f64.create()}}function u(e,t,r){return void 0===r&&(r=s()),c.vec3.copy(r.origin,e),c.vec3.copy(r.direction,t),r}function v(e,t,r){void 0===r&&(r=s());var o=n.castRenderScreenPointArray3(i.vec2.copy(a.sv3d.get(),t));o[2]=0,e.unprojectPoint(o,r.origin);var u=n.castRenderScreenPointArray3(i.vec2.copy(a.sv3d.get(),t));u[2]=1;var v=e.unprojectPoint(u,a.sv3d.get());return c.vec3.subtract(r.direction,v,r.origin),r}function f(e,t,r){void 0===r&&(r=s()),c.vec3.copy(r.origin,e.eye);var n=c.vec3.set(a.sv3d.get(),t[0],t[1],1),i=e.unprojectPoint(n,a.sv3d.get());return c.vec3.subtract(r.direction,i,r.origin),r}function d(e,t){var r=c.vec3.cross(a.sv3d.get(),c.vec3.normalize(a.sv3d.get(),e.direction),c.vec3.subtract(a.sv3d.get(),t,e.origin));return c.vec3.dot(r,r)}function l(){return{origin:null,direction:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.create=s,t.wrap=function(e,t){var r=p.get();return r.origin=e,r.direction=t,r},t.copy=function(e,t){return void 0===t&&(t=s()),u(e.origin,e.direction,t)},t.fromPoints=function(e,t,r){return void 0===r&&(r=s()),c.vec3.copy(r.origin,e),c.vec3.subtract(r.direction,t,e),r},t.fromValues=u,t.fromScreen=function(e,t,r){return void 0===r&&(r=s()),v(e,e.screenToRender(t,n.castRenderScreenPointArray3(a.sv3d.get())),r)},t.fromRender=v,t.fromScreenAtEye=function(e,t,r){return void 0===r&&(r=s()),f(e,e.screenToRender(t,n.castRenderScreenPointArray3(a.sv3d.get())),r)},t.fromRenderAtEye=f,t.distance2=d,t.distance=function(e,t){return Math.sqrt(d(e,t))},t.closestPoint=function(e,t,r){var n=c.vec3.dot(e.direction,c.vec3.subtract(r,t,e.origin));return c.vec3.add(r,e.origin,c.vec3.scale(r,e.direction,n)),r},t.createWrapper=l;var p=new r.ObjectStack(l)}).apply(null,n))||(e.exports=i)},"51bw":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xf8T")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.mat3f64=r}).apply(null,n))||(e.exports=i)},CIy2:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("FXVB"),r("W9tT"),r("DIqE"),r("Rdxj"),r("2fXB"),r("O7NG")],void 0===(i=(function(e,t,r,n,i,c,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var u=s.vec4f64.create(),v=function(){function e(e){this.message=e}return e.prototype.toString=function(){return"AssertException: "+this.message},e}();function f(e,t){if(!e){t=t||"assert";var r=new Error(t);throw r.stack&&console.log(r.stack),new v(t)}}function d(e){for(var t in e)return t}function l(e,t){e[12]=t[0],e[13]=t[1],e[14]=t[2]}function p(e,t){void 0===t&&(t=0);for(var r=0,n=0;n<4;n++)r+=e[t+n]*m[n];return r}t.AssertException=v,t.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex",TANGENT:"tangent"},t.assert=f,t.verify=function(e,t){e||(t=t||"",console.warn("Verify failed: "+t+"\n"+new Error("verify").stack))},t.encodeInt16=function(e){return r.clamp(Math.round(32767*e),-32767,32767)},t.encodeNormal=function(e,t){var r=Math.abs(e[0]),n=Math.abs(e[1]),i=1/(r+n+Math.abs(e[2])),c=r*i,o=n*i,a=Math.min(e[2]*i,0);t[0]=(e[0]<0?-1:1)*(c-a),t[1]=(e[1]<0?-1:1)*(o-a)},t.fallbackIfUndefined=function(e,t){return void 0===e?t:e},t.hex2rgb=function(e){return[((e=Math.floor(e))>>16&255)/255,(e>>8&255)/255,(255&e)/255]},t.rgb2hex=function(e){return"0x"+((r.clamp(Math.round(255*e[0]),0,255)<<16)+(r.clamp(Math.round(255*e[1]),0,255)<<8)+r.clamp(Math.round(255*e[2]),0,255)).toString(16)},t.dec2hex=function(e){var t=e.toString(16);return"00000000".substr(0,8-t.length)+t},t.rayTriangle3D=function(e,t,r,n,i,c,a,s,u){void 0===u&&(u=o.vec3f64.create());var v=n[a]-r[c],f=n[a+1]-r[c+1],d=n[a+2]-r[c+2],l=i[s]-r[c],p=i[s+1]-r[c+1],g=i[s+2]-r[c+2],m=t[1]*g-p*t[2],h=t[2]*l-g*t[0],y=t[0]*p-l*t[1],b=v*m+f*h+d*y;if(b>-1e-5&&b<1e-5)return!1;var P=1/b,j=e[0]-r[c],M=e[1]-r[c+1],w=e[2]-r[c+2];if(u[1]=P*(j*m+M*h+w*y),u[1]<0||u[1]>1)return!1;var x=M*d-f*w,O=w*v-d*j,A=j*f-v*M;return u[2]=P*(t[0]*x+t[1]*O+t[2]*A),!(u[2]<0||u[1]+u[2]>1||(u[0]=P*(l*x+p*O+g*A),0))},t.rayBoxTest=function(e,t,r,n){var i,c=(r[0]-e[0])/t[0],o=(n[0]-e[0])/t[0];c>o&&(i=c,c=o,o=i);var a=(r[1]-e[1])/t[1],s=(n[1]-e[1])/t[1];if(a>s&&(i=a,a=s,s=i),c>s||a>o)return!1;a>c&&(c=a),s<o&&(o=s);var u=(r[2]-e[2])/t[2],v=(n[2]-e[2])/t[2];return u>v&&(i=u,u=v,v=i),!(c>v||u>o||(v<o&&(o=v),o<0))},t.rayRay2D=function(e,t,r,n,i,o){void 0===o&&(o=c.vec2f64.create());var a=(n[i]-r[i])*(t[0]-e[0])-(n[0]-r[0])*(t[i]-e[i]);if(0===a)return!1;var s=((n[0]-r[0])*(e[i]-r[i])-(n[i]-r[i])*(e[0]-r[0]))/a;return o[0]=e[0]+s*(t[0]-e[0]),o[1]=e[i]+s*(t[i]-e[i]),!0},t.project=function(e,t,r,n,i){i||(i=e),u[0]=e[0],u[1]=e[1],u[2]=e[2],u[3]=1,a.vec4.transformMat4(u,u,t),i.length>2&&(i[2]=-u[2]),a.vec4.transformMat4(u,u,r),f(0!==u[3]),i[0]=u[0]/u[3],i[1]=u[1]/u[3],i[2]=u[2]/u[3],i[0]=(.5*i[0]+.5)*n[2]+n[0],i[1]=(.5*i[1]+.5)*n[3]+n[1]},t.getFirstObjectKey=d,t.getFirstObjectValue=function(e){return e[d(e)]},t.objectEmpty=function(e){for(var t in e)return!1;return!0},t.logWithBase=function(e,t){return Math.log(e)/Math.log(t)},t.setMatrixTranslation=l,t.setMatrixTranslation3=function(e,t,r,n){e[12]=t,e[13]=r,e[14]=n},t.getMatrixTranslation=function(e,t){return void 0===t&&(t=o.vec3f64.create()),t[0]=e[12],t[1]=e[13],t[2]=e[14],t},t.createTranslationMatrix=function(e,t){return l(e=n.mat4.identity(e),t),e},t.isTranslationMatrix=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&1===e[15]},t.fovx2fovy=function(e,t,r){return 2*Math.atan(r*Math.tan(.5*e)/t)},t.fovy2fovx=function(e,t,r){return 2*Math.atan(t*Math.tan(.5*e)/r)},t.fovx2fovd=function(e,t,r){return 2*Math.atan(Math.sqrt(t*t+r*r)*Math.tan(.5*e)/t)},t.fovy2fovd=function(e,t,r){return 2*Math.atan(Math.sqrt(t*t+r*r)*Math.tan(.5*e)/r)},t.fovd2fovx=function(e,t,r){return 2*Math.atan(t*Math.tan(.5*e)/Math.sqrt(t*t+r*r))},t.fovd2fovy=function(e,t,r){return 2*Math.atan(r*Math.tan(.5*e)/Math.sqrt(t*t+r*r))},t.packFloatRGBA=function(e,t,n){void 0===n&&(n=0);for(var i,c=r.clamp(e,0,h),o=0;o<4;o++)t[n+o]=Math.floor(256*((i=c*g[o])-Math.floor(i)))},t.unpackFloatRGBA=p;var g=[1,256,65536,16777216],m=[1/256,1/65536,1/16777216,1/4294967296],h=p(new Uint8ClampedArray([255,255,255,255]));t.inverseProjectionInfo=function(e,t,r,n,c){var o=e;0===e[11]?(n[0]=2/(t*o[0]),n[1]=2/(r*o[5]),n[2]=(1+o[12])/o[0],n[3]=(1+o[13])/o[5],i.vec2.set(c,0,1)):(n[0]=-2/(t*o[0]),n[1]=-2/(r*o[5]),n[2]=(1-o[8])/o[0],n[3]=(1-o[9])/o[5],i.vec2.set(c,1,0))}}).apply(null,n))||(e.exports=i)},CIzB:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.clone=function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},t.fromValues=function(e,t,r,n,i,c,o,a,s,u,v,f,d,l,p,g){return[e,t,r,n,i,c,o,a,s,u,v,f,d,l,p,g]},t.createView=function(e,t){return new Float64Array(e,t,16)},t.IDENTITY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}).apply(null,n))||(e.exports=i)},GG08:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("0LE5"),r("JjCO")],void 0===(i=(function(e,t,r,n,i){function c(e){return void 0===e&&(e=t.UP),[e[0],e[1],e[2],e[3]]}function o(e,t){return void 0===t&&(t=c()),a(e[0],e[1],e[2],e[3],t)}function a(e,t,r,n,i){return void 0===i&&(i=c()),i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function s(e,t,r){void 0===r&&(r=c()),n.vec3.copy(r,t);var i=n.vec3.dot(t,t);return Math.abs(i-1)>1e-5&&i>1e-12&&n.vec3.scale(r,r,1/Math.sqrt(i)),u(r,e,r),r}function u(e,t,r){return e!==r&&o(e,r),r[3]=-n.vec3.dot(r,t),r}function v(e,t,r,o){return void 0===o&&(o=c()),s(r,n.vec3.cross(i.sv3d.get(),t,e),o)}function f(e,t,r){var c=n.vec3.scale(i.sv3d.get(),e,n.vec3.dot(e,t));return n.vec3.subtract(r,t,c),r}function d(e,t){return n.vec3.dot(e,t)+e[3]}function l(e,t,i,c,o,a){var s=n.vec3.dot(e,i);if(0===s)return!1;var u=-(n.vec3.dot(e,t)+e[3])/s;return o&&(u=c?Math.max(0,u):r.clamp(u,0,1)),!(u<0||!c&&u>1||(n.vec3.add(a,t,n.vec3.scale(a,i,u)),0))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=c,t.wrap=function(e,t,r,n){return a(e,t,r,n,i.sv4d.get())},t.copy=o,t.fromValues=a,t.fromNormalAndOffset=function(e,t,r){return void 0===r&&(r=c()),n.vec3.copy(r,e),r[3]=t,r},t.fromPositionAndNormal=s,t.fromPoints=function(e,t,r,o){return void 0===o&&(o=c()),v(n.vec3.subtract(i.sv3d.get(),e,t),n.vec3.subtract(i.sv3d.get(),r,t),e,o)},t.setOffsetFromPoint=u,t.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},t.fromVectorsAndPoint=v,t.intersectRay=function(e,t,r){return l(e,t.origin,t.direction,!0,!1,r)},t.intersectLineSegment=function(e,t,r){return l(e,t.origin,t.vector,!1,!1,r)},t.intersectLineSegmentClamp=function(e,t,r){return l(e,t.origin,t.vector,!1,!0,r)},t.isSphereFullyInside=function(e,t){var r=t.radius;return d(e,t.center)-r>=0},t.isSphereFullyOutside=function(e,t){var r=t.radius;return d(e,t.center)+r<0},t.isPointInside=function(e,t){return d(e,t)>=0},t.isPointOutside=function(e,t){return d(e,t)<0},t.isAABBFullyInside=function(e,t){return e[0]*(e[0]>0?t[0]:t[3])+e[1]*(e[1]>0?t[1]:t[4])+e[2]*(e[2]>0?t[2]:t[5])+e[3]>=0},t.clip=function(e,t){var r=n.vec3.dot(e,t.ray.direction),i=-d(e,t.ray.origin);if(i<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return i>0;if((i<0||r<0)&&!(i<0&&r<0))return!0;var c=i/r;return r>0?c<t.c1&&(t.c1=c):c>t.c0&&(t.c0=c),t.c0<=t.c1},t.clipInfinite=function(e,t){var r=n.vec3.dot(e,t.ray.direction),i=-d(e,t.ray.origin);if(r>-1e-6&&r<1e-6)return i>0;var c=i/r;return r>0?c<t.c1&&(t.c1=c):c>t.c0&&(t.c0=c),t.c0<=t.c1},t.projectPoint=function(e,t,r){var c=n.vec3.scale(i.sv3d.get(),e,-e[3]),o=f(e,n.vec3.subtract(i.sv3d.get(),t,c),i.sv3d.get());return n.vec3.add(r,o,c),r},t.projectVector=f,t.distance=function(e,t){return Math.abs(d(e,t))},t.signedDistance=d,t.UP=[0,0,1,0]}).apply(null,n))||(e.exports=i)},GyfB:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("0LE5"),r("JjCO"),r("18xY")],void 0===(i=(function(e,t,r,n,i){function c(e){return void 0===e&&(e=t.UP),[e[0],e[1],e[2],e[3]]}function o(e,t,r,n,i){return void 0===i&&(i=c()),i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}Object.defineProperty(t,"__esModule",{value:!0}),t.create=c,t.wrap=function(e,t,r,i){return o(e,t,r,i,n.sv4d.get())},t.wrapAxisAngle=function(e,t){return o(e[0],e[1],e[2],t,n.sv4d.get())},t.copy=function(e,t){return void 0===t&&(t=c()),o(e[0],e[1],e[2],e[3],t)},t.fromValues=o,t.fromAxisAndAngle=function(e,t,n){return void 0===n&&(n=c()),r.vec3.copy(n,e),n[3]=t,n},t.fromPoints=function(e,t,n){return void 0===n&&(n=c()),r.vec3.cross(n,e,t),r.vec3.normalize(n,n),n[3]=i.angle(e,t),n},t.UP=[0,0,1,0]}).apply(null,n))||(e.exports=i)},JjCO:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("wSO/")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sv2d=r.VectorStack.createVec2f64(),t.sv3d=r.VectorStack.createVec3f64(),t.sv4d=r.VectorStack.createVec4f64(),t.sm3d=r.VectorStack.createMat3f64(),t.sm4d=r.VectorStack.createMat4f64(),t.sq4d=r.VectorStack.createQuatf64()}).apply(null,n))||(e.exports=i)},N5NQ:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+"),r("PHan"),r("0LE5"),r("Rdxj"),r("JjCO")],void 0===(i=(function(e,t,r,n,i,c,o){function a(e){return e?{origin:c.vec3f64.clone(e.origin),vector:c.vec3f64.clone(e.vector)}:{origin:c.vec3f64.create(),vector:c.vec3f64.create()}}function s(e,t){var r=p.get();return r.origin=e,r.vector=t,r}function u(e,t,r){return void 0===r&&(r=a()),i.vec3.copy(r.origin,e),i.vec3.copy(r.vector,t),r}function v(e,t){var n=i.vec3.subtract(o.sv3d.get(),t,e.origin),c=i.vec3.dot(e.vector,n),a=i.vec3.dot(e.vector,e.vector),s=r.clamp(c/a,0,1),u=i.vec3.subtract(o.sv3d.get(),i.vec3.scale(o.sv3d.get(),e.vector,s),n);return i.vec3.dot(u,u)}function f(e,t,n,c,a){var s=e.vector,u=e.origin,v=i.vec3.subtract(o.sv3d.get(),t,u),f=i.vec3.length(s),d=i.vec3.dot(s,v)/f;return i.vec3.scale(a,s,r.clamp(d,n,c)),i.vec3.add(a,a,e.origin)}function d(e,t,n,c){var a=e.origin,s=i.vec3.add(o.sv3d.get(),a,e.vector),u=t.origin,v=i.vec3.add(o.sv3d.get(),u,t.vector),f=o.sv3d.get(),d=o.sv3d.get();if(f[0]=a[0]-u[0],f[1]=a[1]-u[1],f[2]=a[2]-u[2],d[0]=v[0]-u[0],d[1]=v[1]-u[1],d[2]=v[2]-u[2],Math.abs(d[0])<1e-6&&Math.abs(d[1])<1e-6&&Math.abs(d[2])<1e-6)return!1;var l=o.sv3d.get();if(l[0]=s[0]-a[0],l[1]=s[1]-a[1],l[2]=s[2]-a[2],Math.abs(l[0])<1e-6&&Math.abs(l[1])<1e-6&&Math.abs(l[2])<1e-6)return!1;var p=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],g=d[0]*l[0]+d[1]*l[1]+d[2]*l[2],m=f[0]*l[0]+f[1]*l[1]+f[2]*l[2],h=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],y=(l[0]*l[0]+l[1]*l[1]+l[2]*l[2])*h-g*g;if(Math.abs(y)<1e-6)return!1;var b=(p*g-m*h)/y,P=(p+g*b)/h;n&&(b=r.clamp(b,0,1),P=r.clamp(P,0,1));var j=o.sv3d.get(),M=o.sv3d.get();return j[0]=a[0]+b*l[0],j[1]=a[1]+b*l[1],j[2]=a[2]+b*l[2],M[0]=u[0]+P*d[0],M[1]=u[1]+P*d[1],M[2]=u[2]+P*d[2],c.tA=b,c.tB=P,c.pA=j,c.pB=M,c.distance2=i.vec3.squaredDistance(j,M),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.create=a,t.wrap=s,t.copy=function(e,t){return void 0===t&&(t=a()),u(e.origin,e.vector,t)},t.fromValues=u,t.fromPoints=function(e,t,r){return void 0===r&&(r=a()),i.vec3.copy(r.origin,e),i.vec3.subtract(r.vector,t,e),r},t.distance2=v,t.distance=function(e,t){return Math.sqrt(v(e,t))},t.projectPoint=function(e,t,r){return f(e,t,0,1,r)},t.pointAt=function(e,t,r){return i.vec3.add(r,e.origin,i.vec3.scale(r,e.vector,t))},t.projectPointClamp=f,t.closestRayDistance2=function(e,t){if(d(e,s(t.origin,t.direction),!1,l)){var r=l.tA,n=l.pB;if(r>=0&&r<=1)return l.distance2;if(r<0)return i.vec3.squaredDistance(e.origin,n);if(r>1)return i.vec3.squaredDistance(i.vec3.add(o.sv3d.get(),e.origin,e.vector),n)}return null},t.closestLineSegmentPoint=function(e,t,r){return!!d(e,t,!0,l)&&(i.vec3.copy(r,l.pA),!0)},t.closestLineSegmentDistance2=function(e,t){return d(e,t,!0,l)?l.distance2:null};var l={tA:0,tB:0,pA:c.vec3f64.create(),pB:c.vec3f64.create(),distance2:0},p=new n.ObjectStack((function(){return{origin:null,vector:null}}))}).apply(null,n))||(e.exports=i)},O7NG:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("TPlk")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.vec4f64=r}).apply(null,n))||(e.exports=i)},PHan:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("6DRN")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.allocator=e,this.items=[],this.itemsPtr=0,this.tickHandle=r.before((function(){return t.reset()})),this.grow()}return e.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null),this.items=null},e.prototype.get=function(){return 0===this.itemsPtr&&r((function(){})),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]},e.prototype.reset=function(){var e=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*i);this.items.length=Math.min(e,this.items.length),this.itemsPtr=0},e.prototype.grow=function(){for(var e=0;e<Math.max(8,Math.min(this.items.length,i));e++)this.items.push(this.allocator())},e}();t.ObjectStack=n;var i=1024;t.default=n}).apply(null,n))||(e.exports=i)},TPlk:function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){function r(e,t,r,n){return[e,t,r,n]}function n(){return r(1,1,1,1)}function i(){return r(1,0,0,0)}function c(){return r(0,1,0,0)}function o(){return r(0,0,1,0)}function a(){return r(0,0,0,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){return[0,0,0,0]},t.clone=function(e){return[e[0],e[1],e[2],e[3]]},t.fromValues=r,t.fromArray=function(e){for(var t=[0,0,0,0],r=Math.min(4,e.length),n=0;n<r;++n)t[n]=e[n];return t},t.createView=function(e,t){return new Float64Array(e,t,4)},t.zeros=function(){return[0,0,0,0]},t.ones=n,t.unitX=i,t.unitY=c,t.unitZ=o,t.unitW=a,t.ZEROS=[0,0,0,0],t.ONES=n(),t.UNIT_X=i(),t.UNIT_Y=c(),t.UNIT_Z=o(),t.UNIT_W=a()}).apply(null,n))||(e.exports=i)},ZjcA:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("PHan"),r("W9tT"),r("0LE5"),r("Rdxj"),r("JjCO"),r("N5NQ")],void 0===(i=(function(e,t,r,n,i,c,o,a){function s(e){return e?{p0:c.vec3f64.clone(e.p0),p1:c.vec3f64.clone(e.p1),p2:c.vec3f64.clone(e.p2)}:{p0:c.vec3f64.create(),p1:c.vec3f64.create(),p2:c.vec3f64.create()}}function u(e,t,r,n){return void 0===n&&(n=s()),i.vec3.copy(n.p0,e),i.vec3.copy(n.p1,t),i.vec3.copy(n.p2,r),n}function v(e,t,r){var i=n.vec2.distance(e,t),c=n.vec2.distance(t,r),o=n.vec2.distance(r,e),a=(i+c+o)/2,s=a*(a-i)*(a-c)*(a-o);return s<=0?0:Math.sqrt(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=s,t.wrap=function(e,t,r){var n=d.get();return n.p0=e,n.p1=t,n.p2=r,n},t.copy=function(e,t){return void 0===t&&(t=s()),u(e.p0,e.p1,e.p2,t)},t.fromValues=u,t.distance2=function(e,t){var r=e.p0,n=e.p1,c=e.p2,s=i.vec3.subtract(o.sv3d.get(),n,r),u=i.vec3.subtract(o.sv3d.get(),c,n),v=i.vec3.subtract(o.sv3d.get(),r,c),d=i.vec3.subtract(o.sv3d.get(),t,r),l=i.vec3.subtract(o.sv3d.get(),t,n),p=i.vec3.subtract(o.sv3d.get(),t,c),g=i.vec3.cross(s,s,v),m=i.vec3.dot(i.vec3.cross(o.sv3d.get(),s,g),d),h=i.vec3.dot(i.vec3.cross(o.sv3d.get(),u,g),l),y=i.vec3.dot(i.vec3.cross(o.sv3d.get(),v,g),p);if(m>0&&h>0&&y>0){var b=i.vec3.dot(g,d);return b*b/i.vec3.dot(g,g)}var P=a.distance2(a.fromValues(r,s,f.get()),t),j=a.distance2(a.fromValues(n,u,f.get()),t),M=a.distance2(a.fromValues(c,v,f.get()),t);return Math.min(P,j,M)},t.intersectRay=function(e,t,r){var n=t.direction,c=t.origin,o=e.p0,a=e.p1,s=e.p2,u=a[0]-o[0],v=a[1]-o[1],f=a[2]-o[2],d=s[0]-o[0],l=s[1]-o[1],p=s[2]-o[2],g=n[1]*p-l*n[2],m=n[2]*d-p*n[0],h=n[0]*l-d*n[1],y=u*g+v*m+f*h;if(y>-1e-5&&y<1e-5)return!1;var b=1/y,P=c[0]-o[0],j=c[1]-o[1],M=c[2]-o[2],w=b*(P*g+j*m+M*h);if(w<0||w>1)return!1;var x=j*f-v*M,O=M*u-f*P,A=P*v-u*j,S=b*(n[0]*x+n[1]*O+n[2]*A);return!(S<0||w+S>1||(r&&(i.vec3.scale(r,n,b*(d*x+l*O+p*A)),i.vec3.add(r,c,r)),0))},t.areaPoints2d=v,t.area2d=function(e){return v(e.p0,e.p1,e.p2)},t.areaPoints3d=function(e,t,r){return i.vec3.subtract(l,t,e),i.vec3.subtract(p,r,e),i.vec3.length(i.vec3.cross(l,l,p))/2};var f=new r.ObjectStack(a.create),d=new r.ObjectStack((function(){return{p0:null,p1:null,p2:null}})),l=c.vec3f64.create(),p=c.vec3f64.create()}).apply(null,n))||(e.exports=i)},aWgr:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("GyfB"),r("2eYJ"),r("fXZm"),r("cpxo"),r("N5NQ"),r("GG08"),r("4p4v"),r("/dtL"),r("ZjcA"),r("18xY")],void 0===(i=(function(e,t,r,n,i,c,o,a,s,u,v,f){Object.defineProperty(t,"__esModule",{value:!0}),t.plane=a,t.boundedPlane=n,t.triangle=v,t.lineSegment=o,t.ray=s,t.clipRay=i,t.sphere=u,t.frustum=c,t.vector=f,t.axisAngle=r}).apply(null,n))||(e.exports=i)},cpxo:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("PHan"),r("FXVB"),r("0LE5"),r("Rdxj"),r("2fXB"),r("O7NG"),r("JjCO"),r("fXZm"),r("GG08")],void 0===(i=(function(e,t,r,n,i,c,o,a,s,u,v){function f(e){if(e){var t=e.planes,r=e.points;return{planes:[v.create(t[0]),v.create(t[1]),v.create(t[2]),v.create(t[3]),v.create(t[4]),v.create(t[5])],points:[c.vec3f64.clone(r[0]),c.vec3f64.clone(r[1]),c.vec3f64.clone(r[2]),c.vec3f64.clone(r[3]),c.vec3f64.clone(r[4]),c.vec3f64.clone(r[5]),c.vec3f64.clone(r[6]),c.vec3f64.clone(r[7])]}}return{planes:[v.create(),v.create(),v.create(),v.create(),v.create(),v.create()],points:[c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create(),c.vec3f64.create()]}}function d(e,t,r){void 0===r&&(r=f());for(var n=0;n<6;n++)v.copy(e[n],r.planes[n]);for(n=0;n<8;n++)i.vec3.copy(r.points[n],t[n]);return r}function l(e){var t=e.planes,r=e.points;v.fromPoints(r[4],r[0],r[3],t[0]),v.fromPoints(r[1],r[5],r[6],t[1]),v.fromPoints(r[4],r[5],r[1],t[2]),v.fromPoints(r[3],r[2],r[6],t[3]),v.fromPoints(r[0],r[1],r[2],t[4]),v.fromPoints(r[5],r[4],r[7],t[5])}function p(e,t){for(var r=0;r<6;r++)if(!v.clip(e[r],t))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.create=f,t.copy=function(e,t){return void 0===t&&(t=f()),d(e.planes,e.points,t)},t.fromValues=d,t.fromMatrix=function(e,t,r){void 0===r&&(r=f());var c=r.points,a=n.mat4.multiply(s.sm4d.get(),t,e);n.mat4.invert(a,a);for(var u=0;u<8;++u){var v=o.vec4.transformMat4(s.sv4d.get(),g[u],a);i.vec3.set(c[u],v[0]/v[3],v[1]/v[3],v[2]/v[3])}return l(r),r},t.recomputePlanes=l,t.intersectsSphere=function(e,t){for(var r=0;r<6;r++)if(v.isSphereFullyInside(e[r],t))return!1;return!0},t.intersectsRay=function(e,t){return p(e,u.fromRay(t,m.get()))},t.intersectClipRay=function(e,t){for(var r=0;r<6;r++)if(!v.clipInfinite(e[r],t))return!1;return!0},t.intersectsLineSegment=function(e,t,r){return p(e,u.fromLineSegmentAndDirection(t,r,m.get()))},t.intersectsPoint=function(e,t){for(var r=0;r<6;r++)if(v.signedDistance(e[r],t)>0)return!1;return!0},t.intersectsAABB=function(e,t){for(var r=0;r<6;r++)if(v.isAABBFullyInside(e[r],t))return!1;return!0},t.planePointIndices={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]};var g=[a.vec4f64.fromValues(-1,-1,-1,1),a.vec4f64.fromValues(1,-1,-1,1),a.vec4f64.fromValues(1,1,-1,1),a.vec4f64.fromValues(-1,1,-1,1),a.vec4f64.fromValues(-1,-1,1,1),a.vec4f64.fromValues(1,-1,1,1),a.vec4f64.fromValues(1,1,1,1),a.vec4f64.fromValues(-1,1,1,1)],m=new r.ObjectStack(u.create)}).apply(null,n))||(e.exports=i)},fXZm:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("PHan"),r("0LE5"),r("JjCO"),r("4p4v")],void 0===(i=(function(e,t,r,n,i,c){function o(e){return e?{ray:c.create(e.ray),c0:e.c0,c1:e.c1}:{ray:c.create(),c0:0,c1:Number.MAX_VALUE}}function a(e,t,r,n){return void 0===n&&(n=o()),c.copy(e,n.ray),n.c0=t,n.c1=r,n}function s(e,t,r){void 0===r&&(r=o());var i=n.vec3.length(e.vector);return c.fromValues(e.origin,t,r.ray),r.c0=0,r.c1=i,r}function u(e,t,r){return n.vec3.add(r,e.ray.origin,n.vec3.scale(r,e.ray.direction,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.create=o,t.wrap=function(e,t,r){var n=v.get();return n.ray=e,n.c0=t,n.c1=r,n},t.copy=function(e,t){return void 0===t&&(t=o()),a(e.ray,e.c0,e.c1,t)},t.fromValues=a,t.fromRay=function(e,t){return void 0===t&&(t=o()),c.copy(e,t.ray),t.c0=0,t.c1=Number.MAX_VALUE,t},t.fromLineSegment=function(e,t){return void 0===t&&(t=o()),s(e,n.vec3.normalize(i.sv3d.get(),e.vector),t)},t.fromLineSegmentAndDirection=s,t.getStart=function(e,t){return u(e,e.c0,t)},t.getEnd=function(e,t){return u(e,e.c1,t)},t.getAt=u;var v=new r.ObjectStack((function(){return{c0:0,c1:0,ray:null}}))}).apply(null,n))||(e.exports=i)},jmRc:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xoE+")],void 0===(i=(function(e,t,r){function n(e,t,n){var s=e.byteLength/(4*t),u=new Uint32Array(e,0,s*t),v=new Uint32Array(s),f=n&&n.minReduction||0,d=n&&n.originalIndices||null,l=n&&n.componentOffsets||null,p=0;if(l)for(var g=0;g<l.length-1;g++){var m=l[g+1]-l[g];m>p&&(p=m)}else p=s;var h=Math.floor(1.1*p)+1;for((null==a||a.length<2*h)&&(a=new Uint32Array(r.nextHighestPowerOfTwo(2*h))),g=0;g<2*h;g++)a[g]=0;var y=0,b=!!l&&!!d,P=b?d.length:s,j=b?new Uint32Array(d.length):null,M=0!==f?Math.ceil(7.84*1.96/(f*f)*f*(1-f)):P,w=1,x=l?l[1]:P;for(g=0;g<P;g++){if(g===M){var O=1-y/g;if(O+1.96*Math.sqrt(O*(1-O)/g)<f)return null;M*=2}if(g===x){for(var A=0;A<2*h;A++)a[A]=0;if(d)for(var S=l[w-1];S<l[w];S++)j[S]=v[d[S]];x=l[++w]}for(var V=b?d[g]:g,I=o(u,B=V*t,t),_=I%h,N=y;0!==a[2*_+1];){if(a[2*_]===I){var E=a[2*_+1]-1;if(i(u,B,E*t,t)){N=v[E];break}}++_>=h&&(_-=h)}N===y&&(a[2*_]=I,a[2*_+1]=V+1,y++),v[V]=N}if(0!==f&&1-y/s<f)return null;if(b){for(g=l[w-1];g<j.length;g++)j[g]=v[d[g]];v=j}var R=new Uint32Array(t*y);for(y=0,g=0;g<P;g++){var B;v[g]===y&&(c(u,B=(b?d[g]:g)*t,R,y*t,t),y++)}if(d&&!b){var k=new Uint32Array(d.length);for(g=0;g<k.length;g++)k[g]=v[d[g]];v=k}return{buffer:R.buffer,indices:v,uniqueCount:y}}function i(e,t,r,n){for(var i=0;i<n;i++)if(e[t+i]!==e[r+i])return!1;return!0}function c(e,t,r,n,i){for(var c=0;c<i;c++)r[n+c]=e[t+c]}function o(e,t,r){for(var n=0,i=0;i<r;i++)n=(n=e[t+i]+n|0)+(n<<11)+(n>>>2)|0;return n>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.deduplicate=n;var a=null;t.default=n}).apply(null,n))||(e.exports=i)},"wSO/":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("6DRN"),r("51bw"),r("1m5D"),r("lLWD"),r("DIqE"),r("Rdxj"),r("O7NG")],void 0===(i=(function(e,t,r,n,i,c,o,a,s){Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t,n){var i=this;this.itemByteSize=e,this.itemCreate=t,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(n/this.itemByteSize),this.tickHandle=r.before((function(){return i.reset()}))}return e.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null),this.itemsPtr=0,this.items=null,this.buffers=null},e.prototype.get=function(){0===this.itemsPtr&&r((function(){}));for(var e=Math.floor(this.itemsPtr/this.itemsPerBuffer);this.buffers.length<=e;){for(var t=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),n=0;n<this.itemsPerBuffer;++n)this.items.push(this.itemCreate(t,n*this.itemByteSize));this.buffers.push(t)}return this.items[this.itemsPtr++]},e.prototype.reset=function(){for(var e=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>e;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0},e.createVec2f64=function(t){return void 0===t&&(t=v),new e(16,o.vec2f64.createView,t)},e.createVec3f64=function(t){return void 0===t&&(t=v),new e(24,a.vec3f64.createView,t)},e.createVec4f64=function(t){return void 0===t&&(t=v),new e(32,s.vec4f64.createView,t)},e.createMat3f64=function(t){return void 0===t&&(t=v),new e(72,n.mat3f64.createView,t)},e.createMat4f64=function(t){return void 0===t&&(t=v),new e(128,i.mat4f64.createView,t)},e.createQuatf64=function(t){return void 0===t&&(t=v),new e(32,c.quatf64.createView,t)},Object.defineProperty(e.prototype,"test",{get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}},enumerable:!0,configurable:!0}),e}();t.VectorStack=u;var v=4096}).apply(null,n))||(e.exports=i)}}]);