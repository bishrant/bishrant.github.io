(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{"kF+t":function(e,t,i){"use strict";i.r(t),i.d(t,"PlanmylandoperationModule",function(){return za});var a=i("tyNb"),o=i("ofXK"),s=i("IwBl"),r=i("fXoL"),n=i("aZ8m"),l=i("mrSG"),c=i("HEKD"),d=i("krU8"),b=i("oEnM"),p=i("VcYX"),h=i("b9ir"),u=i("iy1n"),m=i("zgsL"),g=i("0w9u"),f=i("mQzU"),S=i("2+LD"),y=i("Y2gT"),v=i("nP63"),w=i("PhHr"),R=i("Cfhm"),B=i("lORP"),x=i("l7P3"),C=i("frIU"),L=i("IQQX"),O=i("1wtQ"),k=i("2uI/"),M=i("Z5CC"),P=i("3E6D"),T=i("5qNO"),A=i("j/Vj"),V=i("T6IO"),j=i("N5Jl"),I=i("8Vgs"),G=i("2yZv"),_=i("xk++"),z=i("/uz8"),N=i("8prj"),D=i("LE+W"),H=i("lNcg");const F=e=>({style:"dash",color:{r:51,g:102,b:255,a:e},opacity:100,width:3}),E=e=>({color:{r:102,g:153,b:205,a:e},style:"solid",opacity:100}),W=e=>({color:{r:255,g:255,b:0,a:e},style:"solid",opacity:100}),Z=e=>({color:{r:255,g:0,b:0,a:e},style:"solid",opacity:100}),U=e=>({color:{r:68,g:79,b:137,a:e},style:"solid",opacity:100});let q=(()=>{class e{constructor(e){this.appConfig=e}isWithinTexas(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{const i=new z.a({url:this.appConfig.usCountyLayerURL}),a=new _.a;a.spatialRelationship="intersects",a.returnGeometry=!1,a.geometry=e,a.outFields=["STATE"],i.execute(a).then(e=>{if(0===e.features.length)t(!1);else{let i=!0;e.features.forEach(e=>{"48"!==e.attributes.STATE&&(i=!1)}),t(i)}}).catch(e=>{console.error(e),t(null)})})})}getSensAreas(e,t,i,a,o){return new Promise(s=>{const r=new N.default;r.features=[e];const n={inputPolygon:r,isOnlyTexas:t,smzValue:i,wetAreasBufferValue:a,severeSlopesValue:o},l=new D.a({url:this.appConfig.sensAreasGPServiceURL});l.submitJob(n).then(e=>{l.waitForJobCompletion(e.jobId).then(e=>{"job-succeeded"===e.jobStatus&&Promise.all([l.getResultData(e.jobId,"outputWetlands"),l.getResultData(e.jobId,"outputWetlandsBuffer"),l.getResultData(e.jobId,"outputSevereSlopes"),l.getResultData(e.jobId,"outputSMZ"),l.getResultData(e.jobId,"outputStreams")]).then(e=>{s(e)}).catch(e=>{console.error(e),s([])})},e=>{console.error(e),s([])})})})}addSensAreasToMap(e,t,i,a){const o=(100-a)/100;t.forEach((t,a)=>{let s,r,n={style:"dash",color:null,opacity:100,width:0},l="",c=!1;switch(a){case 0:r=E(o),s=Object(H.a)(n,r),l="wetlands";break;case 1:r=U(o),s=Object(H.a)(n,r),l="wetlandsBuffer";break;case 2:r=Z(o),s=Object(H.a)(n,r),l="slopes",c=!0;break;case 3:r=W(o),s=Object(H.a)(n,r),l="smz";break;case 4:n=F(o),s=Object(H.b)(n),l="streams"}this.addGraphicsToGL(e,t.value,c,s,l,a,!1,i)})}updateOpacity(e,t,i){e.graphics.forEach(e=>{e.attributes.origin===t&&(e.visible=i),"wetlands"===t&&"wetlandsBuffer"===e.attributes.origin&&(e.visible=i)})}bufferGraphic(e,t,i){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(a=>{const o=new N.default;o.features=[t];const s={inputPolygon:o,origin:e,inputFeet:i.toString()},r=new D.a({url:this.appConfig.bufferSensAreasGPServiceURL});r.submitJob(s).then(e=>{r.waitForJobCompletion(e.jobId).then(e=>{"job-succeeded"===e.jobStatus&&r.getResultData(e.jobId,"outputBufferFeatures").then(e=>{a(e)})},e=>{console.error(e),a(null)})})})})}addBuffersOrSlopeToMap(e,t,i,a,o){const s=(100-a)/100;let r=W(s),n=!1,l=0;"smz"===i?(r=W(s),l=2):"wetlandsBuffer"===i?(r=U(s),l=0):"slopes"===i&&(r=Z(s),l=1,n=!0);const c=Object(H.a)({style:"dash",color:null,opacity:100,width:0},r);this.addGraphicsToGL(e,t,n,c,i,l,!0,o)}updateGraphicsOpacity(e,t){const i=(100-t)/100;e.graphics.forEach(e=>{let t,a,o={style:"dash",color:null,opacity:100,width:0};switch(e.attributes.origin){case"wetlands":a=E(i),t=Object(H.a)(o,a);break;case"wetlandsBuffer":a=U(i),t=Object(H.a)(o,a);break;case"slopes":a=Z(i),t=Object(H.a)(o,a);break;case"smz":a=W(i),t=Object(H.a)(o,a);break;case"streams":o=F(i),t=Object(H.b)(o)}e.symbol=t})}setSlope(e,t,i){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(a=>{const o=new N.default;o.features=[e];const s={inputPolygon:o,minSlopeValue:t.toString(),isOnlyTexas:i},r=new D.a({url:this.appConfig.severeSlopesGPServiceURL});r.submitJob(s).then(e=>{r.waitForJobCompletion(e.jobId).then(e=>{"job-succeeded"===e.jobStatus&&r.getResultData(e.jobId,"outputSevereSlopes").then(e=>{a(e)})},e=>{console.error(e),a(null)})})})})}removeGraphicsByAttribute(e,t){const i=e.graphics.filter(e=>e.attributes.origin===t);e.removeMany(i)}addGraphicsToGL(e,t,i,a,o,s,r,n){if(r&&("smz"!==o&&"wetlandsBuffer"!==o&&"slopes"!==o||this.removeGraphicsByAttribute(e,o)),t.features.length>0){const l=[];t.features.forEach(e=>{e.symbol=a,e.setAttribute("origin",o),e.setAttribute("groupOrder",s),e.setAttribute("boundaryId",n),i&&void 0!==e.attributes.gridcode?1===e.attributes.gridcode&&l.push(e):l.push(e)}),e.addMany(l),r&&e.graphics.sort((e,t)=>e.attributes.groupOrder>t.attributes.groupOrder?1:e.attributes.groupOrder<t.attributes.groupOrder?-1:0)}}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(O.a))},e.\u0275dir=r.Ib({type:e}),e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var J=i("NVId");const Q=(e,t)=>{const i={operationalLayers:$(e.map),baseMap:K(e.map),mapOptions:Y(e,t),exportOptions:{dpi:96,outputSize:[800,1100]}};return JSON.stringify(i)},Y=(e,t)=>({extent:null===t?e.extent:t,spatialReference:{latestWkid:3857,wkid:102100},showAttribution:!1,scale:null===t?e.scale:null}),K=e=>{const t=[];return e.basemap.baseLayers.forEach(e=>{if(!e.type.includes("bing")){let i=e.url;e.url.includes("http")||(i="https:"+i),t.push({url:i})}}),e.basemap.referenceLayers.forEach(e=>{let i=e.url;e.url.includes("http")||(i="https:"+i),t.push({url:i})}),{baseMapLayers:t}},$=e=>{const t=[];return e.basemap.baseLayers.filter(e=>e.type.includes("bing")).forEach(e=>{const i=X(e);t.push(i)}),e.layers.forEach(e=>{let i=null;if(e.visible){switch(e.type){case"wms":i=ee(e);break;case"graphics":i=te(e)}null!==i&&t.push(i)}}),t},X=e=>({culture:e.culture,key:e.key,type:e.operationalLayerType}),ee=e=>({type:"wms",url:e.url,opacity:e.opacity,version:e.version,layers:e.sublayers.map(e=>({name:e.name})),visibleLayers:e.sublayers.map(e=>e.visible?e.name:"")}),te=e=>{const t=e.graphics.filter(e=>"polygon"===e.geometry.type).map(e=>({geometry:e.geometry,symbol:e.symbol})),i=e.graphics.filter(e=>"polyline"===e.geometry.type).map(e=>({geometry:e.geometry,symbol:e.symbol})),a=e.graphics.filter(e=>"point"===e.geometry.type).map(e=>({geometry:e.geometry,symbol:e.symbol}));return{opacity:e.opacity,minScale:e.minScale,maxScale:e.maxScale,featureCollection:{layers:[{layerDefinition:{geometryType:"esriGeometryPolygon"},featureSet:{geometryType:"esriGeometryPolygon",features:t}},{layerDefinition:{geometryType:"esriGeometryPolyline"},featureSet:{geometryType:"esriGeometryPolyline",features:i}},{layerDefinition:{geometryType:"esriGeometryPoint"},featureSet:{geometryType:"esriGeometryPoint",features:a}}]}}};let ie=(()=>{class e{constructor(e){this.appConfig=e}exportWebMap(e,t,i,a){return new Promise(o=>{const s={Web_Map_as_JSON:Q(e,a),Format:i,Layout_Template:t},r=new D.a({url:this.appConfig.printGPServiceURL});r.submitJob(s).then(e=>{r.waitForJobCompletion(e.jobId).then(e=>{"job-succeeded"===e.jobStatus&&r.getResultData(e.jobId,"Output_File").then(e=>{o(e.value.url)})})})})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(O.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ae=i("tk/3");let oe=(()=>{class e{constructor(e,t){this.http=e,this.config=t}getSMZReports(e){return this.http.post(this.config.backendURL+"CreateSensAreasReport",e)}getSoilsReport(e){return this.http.post(this.config.backendURL+"CreatePMLOSoilsReport",e)}getOperationalConsiderationsReport(e){return this.http.post(this.config.backendURL+"CreateOpConsReport",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(ae.a),r.Wb(O.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var se=i("8WOb"),re=i("RGY+"),ne=i("3Pt+");function le(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"+"),r.Rb())}function ce(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"\u2013"),r.Rb())}function de(e,t){if(1&e){const e=r.Tb();r.Sb(0,"button",33),r.Zb("click",function(){return r.tc(e),r.dc(2).bufferGraphic("smz")}),r.Bc(1,"Buffer"),r.Rb()}}function be(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",24),r.Sb(1,"div",25),r.Sb(2,"div",26),r.Sb(3,"div",27),r.Sb(4,"div",28),r.Sb(5,"input",29),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().smzBufferValue=t}),r.Rb(),r.Sb(6,"label",30),r.Bc(7,"Feet"),r.Rb(),r.Ob(8,"div",31),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(9,de,2,0,"button",32),r.Rb()}if(2&e){const e=r.dc();r.Bb(5),r.jc("ngModel",e.smzBufferValue),r.Bb(4),r.jc("ngIf",e.areasCalculated)}}function pe(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"+"),r.Rb())}function he(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"\u2013"),r.Rb())}function ue(e,t){if(1&e){const e=r.Tb();r.Sb(0,"button",33),r.Zb("click",function(){return r.tc(e),r.dc(2).setSlope("slopes")}),r.Bc(1,"Set"),r.Rb()}}function me(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",34),r.Sb(1,"div",35),r.Bc(2,">"),r.Rb(),r.Sb(3,"div",36),r.Sb(4,"div",27),r.Sb(5,"div",28),r.Sb(6,"input",37),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().slopeValue=t}),r.Rb(),r.Sb(7,"label",38),r.Bc(8,"Percent"),r.Rb(),r.Ob(9,"div",31),r.Rb(),r.Rb(),r.Rb(),r.Ac(10,ue,2,0,"button",32),r.Rb()}if(2&e){const e=r.dc();r.Bb(6),r.jc("ngModel",e.slopeValue),r.Bb(4),r.jc("ngIf",e.areasCalculated)}}function ge(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"+"),r.Rb())}function fe(e,t){1&e&&(r.Sb(0,"span"),r.Bc(1,"\u2013"),r.Rb())}function Se(e,t){if(1&e&&(r.Sb(0,"span"),r.Bc(1),r.Rb()),2&e){const e=r.dc();r.Bb(1),r.Dc("(",e.wetlandsBufferLabel," buf-ft)")}}function ye(e,t){if(1&e){const e=r.Tb();r.Sb(0,"button",33),r.Zb("click",function(){return r.tc(e),r.dc(2).bufferGraphic("wetlandsBuffer")}),r.Bc(1,"Buffer"),r.Rb()}}function ve(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",39),r.Sb(1,"div",25),r.Sb(2,"div",27),r.Sb(3,"div",28),r.Sb(4,"input",40),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().wetlandsBufferValue=t}),r.Rb(),r.Sb(5,"label",41),r.Bc(6,"Buffer Feet"),r.Rb(),r.Ob(7,"div",31),r.Rb(),r.Rb(),r.Rb(),r.Ac(8,ye,2,0,"button",32),r.Ob(9,"div",42),r.Rb()}if(2&e){const e=r.dc();r.Bb(4),r.jc("ngModel",e.wetlandsBufferValue),r.Bb(4),r.jc("ngIf",e.areasCalculated)}}function we(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",20),r.Sb(1,"div",43),r.Sb(2,"div",28),r.Sb(3,"input",44),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().reportTitle=t}),r.Rb(),r.Sb(4,"label",45),r.Bc(5,"Report Title"),r.Rb(),r.Ob(6,"div",31),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.dc();r.Bb(3),r.jc("ngModel",e.reportTitle)}}let Re=(()=>{class e{constructor(e,t,i,a,o,s,r,n){this.decimalPipe=e,this.sensAreasService=t,this.loaderService=i,this.printTaskService=a,this.reportsService=o,this.esrimapService=s,this.notificationsService=r,this.mapViewService=n,this.streamCollapsed=!0,this.slopeCollapsed=!0,this.wetCollapsed=!0,this.sliderValue=50,this.streamsChkboxValue=!0,this.smzChkboxValue=!0,this.slopesChkboxValue=!0,this.wetAreasChkboxValue=!0,this.smzBufferValue=50,this.smzLabelValue=50,this.wetlandsBufferValue=0,this.wetlandsBufferLabel=0,this.slopeValue=8,this.slopeLabelValue=8,this.areasCalculated=!1,this.reportTitle="",this.sensAreaGL=Object(j.a)("sensAreasGL",1),this.pmloNote=new B.a}ngOnInit(){this.boundaryLayer=this.mapView.map.findLayerById("userGraphicsLayer"),this.mapView.map.add(this.sensAreaGL),this.mapViewService.sensAreasGLHasPolygons.subscribe(e=>{e||(this.sensAreaGL.removeAll(),this.areasCalculated=!1)})}calculareSensAreas(){if(0===this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).length)this.pmloNote.body="A drawn boundary is needed to be able to calculate sensitive areas.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).length>1)this.pmloNote.body="You can only display sensitive areas from one polygon at a time.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(Object(I.e)(this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0).geometry,1e5,"acres"))this.pmloNote.body="Please make sure the boundary is less than "+this.decimalPipe.transform(1e5)+" acres.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(0===this.sensAreaGL.graphics.length){this.loaderService.isLoading.next(!0);const e=this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.sensAreasService.isWithinTexas(e.geometry).then(t=>{this.sensAreasService.getSensAreas(e,t,this.smzBufferValue,this.wetlandsBufferValue,this.slopeValue).then(t=>{0===t.length?(this.loaderService.isLoading.next(!1),this.esrimapService.sensAreasAccordionOpen.emit(!1),this.pmloNote.body='There was an error calculating "Sensitive Areas". Please try again and, if the problem persists, contact the administrator.',this.notificationsService.openNotificationsModal.emit(this.pmloNote)):(this.sensAreasService.addSensAreasToMap(this.sensAreaGL,t,e.attributes.id,this.sliderValue),this.areasCalculated=!0,this.smzLabelValue=this.smzBufferValue,this.slopeLabelValue=this.slopeValue,this.wetlandsBufferLabel=this.wetlandsBufferValue,this.loaderService.isLoading.next(!1))})})}}updateSliderValue(e){this.sliderValue=parseInt(e),this.sensAreasService.updateGraphicsOpacity(this.sensAreaGL,parseInt(e))}updateGraphicOpacity(e,t){this.sensAreasService.updateOpacity(this.sensAreaGL,t,e)}bufferGraphic(e){this.loaderService.isLoading.next(!0);const t=this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0),i="smz"===e?this.smzBufferValue:this.wetlandsBufferValue;i>0?this.sensAreasService.bufferGraphic(e,t,i).then(i=>{null===i?(this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error creating the buffer. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote)):(this.sensAreasService.addBuffersOrSlopeToMap(this.sensAreaGL,i.value,e,this.sliderValue,t.attributes.id),this.smzLabelValue=this.smzBufferValue,this.wetlandsBufferLabel=this.wetlandsBufferValue,this.loaderService.isLoading.next(!1))}):"smz"!==e&&"wetlandsBuffer"!==e||(this.sensAreasService.removeGraphicsByAttribute(this.sensAreaGL,e),this.smzLabelValue=this.smzBufferValue,this.wetlandsBufferLabel=this.wetlandsBufferValue,this.loaderService.isLoading.next(!1))}setSlope(e){this.loaderService.isLoading.next(!0);const t=this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.sensAreasService.isWithinTexas(t.geometry).then(i=>{this.sensAreasService.setSlope(t,this.slopeValue,i).then(i=>{null===i?(this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error setting the severe slope. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote)):(this.slopeLabelValue=this.slopeValue,this.sensAreasService.addBuffersOrSlopeToMap(this.sensAreaGL,i.value,e,this.sliderValue,t.attributes.id),this.loaderService.isLoading.next(!1))})})}calcClearSMZGraphics(){this.areasCalculated?(this.sensAreaGL.removeAll(),this.areasCalculated=!1):this.calculareSensAreas()}buildSMZReport(){this.loaderService.isLoading.next(!0),this.printTaskService.exportWebMap(this.mapView,"PMLOSensAreasTemplate","jpg",this.boundaryLayer.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0).geometry.extent.clone().expand(1.05)).then(e=>{if("error"===e)this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error creating the report. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{let t=0;this.sensAreaGL.graphics.filter(e=>"slopes"===e.attributes.origin).length>0&&(t=Object(G.b)(this.sensAreaGL.graphics.filter(e=>"slopes"===e.attributes.origin).getItemAt(0).attributes.Shape_Area));const i={zzProjNamezz:this.reportTitle,imageUrl:e,zzStreamsLengthzz:Object(G.a)(Object(I.d)(this.sensAreaGL.graphics.filter(e=>"streams"===e.attributes.origin)),0)+" feet",zzSmzAreazz:Object(G.a)(Object(I.c)(this.sensAreaGL.graphics.filter(e=>"smz"===e.attributes.origin)),1)+" acres",zzSevereSlopezz:this.slopeValue,zzSevereSlopesAreazz:Object(G.a)(t,1)+" acres",zzWetAreasAreazz:Object(G.a)(Object(I.c)(this.sensAreaGL.graphics.filter(e=>"wetlands"===e.attributes.origin)),1)+" acres",zzWetAreasBufferAreazz:Object(G.a)(Object(I.c)(this.sensAreaGL.graphics.filter(e=>"wetlandsBuffer"===e.attributes.origin)),1)+" acres"};this.reportsService.getSMZReports({content:JSON.stringify(i)}).subscribe(e=>{this.loaderService.isLoading.next(!1),window.open(e.fileName,"_blank","noopener")})}})}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(o.f),r.Nb(q),r.Nb(J.a),r.Nb(ie),r.Nb(oe),r.Nb(k.a),r.Nb(M.a),r.Nb(C.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-sens-areas"]],inputs:{mapView:"mapView"},decls:58,vars:30,consts:[[1,"py-3"],[3,"header","itemName"],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"],[1,"flex","items-center"],[1,"plusSign"],[1,"inline-flex","cursor-pointer"],["type","checkbox",1,"m-auto","form-checkbox","h-5","w-5","text-pmlo_secondary","cursor-pointer",3,"ngModel","ngModelChange","change"],[1,"checkbox-label"],[1,"saSymbol","streamLegend"],[1,"streamColor"],[1,"plusSign",3,"click"],[4,"ngIf"],[1,"saSymbol","smzBack"],["class","flex my-2",4,"ngIf"],[1,"saSymbol","slopeBack"],["class","flex my-2 slopeBufferContainer",4,"ngIf"],[1,"saSymbol","wetBack"],["class","flex mt-2",4,"ngIf"],[1,"flex","mt-3"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"click"],["class","flex mt-3",4,"ngIf"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"disabled","click"],[1,"flex","my-2"],[1,"subMenuContainer"],[1,"flex"],[1,"md-input-main"],[1,"md-input-box"],["id","smzBufferValue","name","smzBufferValue","type","number","min","0","placeholder"," ","aria-label","s m z buffer radius",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","smzBufferValue",1,"md-label","text-pmlo_primary"],[1,"pmlo-md-input-underline","md-input-underline"],["type","button","class","pmlo-btn pmlo-secondary sm-btn",3,"click",4,"ngIf"],["type","button",1,"pmlo-btn","pmlo-secondary","sm-btn",3,"click"],[1,"flex","my-2","slopeBufferContainer"],[1,"prefix-margin","flex","items-center","greaterThan"],[1,"subMenuContainer","flex"],["id","slopeInput","name","slopeInput","type","number","min","0","placeholder"," ","aria-label","slope percent",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","slopeInput",1,"md-label","text-pmlo_primary"],[1,"flex","mt-2"],["id","wetBufferInput","name","wetBufferInput","type","number","min","0","placeholder"," ","aria-label","buffer radius",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","wetBufferInput",1,"md-label","text-pmlo_primary","w-20"],[1,"saSymbol","wetBufferBack"],[1,"md-input-main","mx-3"],["id","saReportTitle","name","saReportTitle","type","text","placeholder"," ","maxlength","40",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","saReportTitle",1,"md-label","text-pmlo_primary"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Bc(4),r.Rb(),r.Sb(5,"div",3),r.Sb(6,"div"),r.Bc(7,"0"),r.Rb(),r.Sb(8,"app-slider",4),r.Zb("onChange",function(e){return t.updateSliderValue(e)}),r.Rb(),r.Sb(9,"div"),r.Bc(10,"100"),r.Rb(),r.Rb(),r.Sb(11,"div",5),r.Ob(12,"div",6),r.Sb(13,"label",7),r.Sb(14,"input",8),r.Zb("ngModelChange",function(e){return t.streamsChkboxValue=e})("change",function(e){return t.updateGraphicOpacity(e.target.checked,"streams")}),r.Rb(),r.Sb(15,"span",9),r.Bc(16,"Streams"),r.Rb(),r.Rb(),r.Sb(17,"div",10),r.Sb(18,"div",11),r.Bc(19,"\u2013\u2013\u2013"),r.Rb(),r.Rb(),r.Rb(),r.Sb(20,"div",5),r.Sb(21,"div",12),r.Zb("click",function(){return t.streamCollapsed=!t.streamCollapsed}),r.Ac(22,le,2,0,"span",13),r.Ac(23,ce,2,0,"span",13),r.Rb(),r.Sb(24,"label",7),r.Sb(25,"input",8),r.Zb("ngModelChange",function(e){return t.smzChkboxValue=e})("change",function(e){return t.updateGraphicOpacity(e.target.checked,"smz")}),r.Rb(),r.Sb(26,"span",9),r.Bc(27),r.Rb(),r.Rb(),r.Ob(28,"div",14),r.Rb(),r.Ac(29,be,10,2,"div",15),r.Sb(30,"div",5),r.Sb(31,"div",12),r.Zb("click",function(){return t.slopeCollapsed=!t.slopeCollapsed}),r.Ac(32,pe,2,0,"span",13),r.Ac(33,he,2,0,"span",13),r.Rb(),r.Sb(34,"label",7),r.Sb(35,"input",8),r.Zb("ngModelChange",function(e){return t.slopesChkboxValue=e})("change",function(e){return t.updateGraphicOpacity(e.target.checked,"slopes")}),r.Rb(),r.Sb(36,"span",9),r.Bc(37),r.Rb(),r.Rb(),r.Ob(38,"div",16),r.Rb(),r.Ac(39,me,11,2,"div",17),r.Sb(40,"div",5),r.Sb(41,"div",12),r.Zb("click",function(){return t.wetCollapsed=!t.wetCollapsed}),r.Ac(42,ge,2,0,"span",13),r.Ac(43,fe,2,0,"span",13),r.Rb(),r.Sb(44,"label",7),r.Sb(45,"input",8),r.Zb("ngModelChange",function(e){return t.wetAreasChkboxValue=e})("change",function(e){return t.updateGraphicOpacity(e.target.checked,"wetlands")}),r.Rb(),r.Sb(46,"span",9),r.Bc(47,"Wet Areas "),r.Ac(48,Se,2,1,"span",13),r.Rb(),r.Rb(),r.Ob(49,"div",18),r.Rb(),r.Ac(50,ve,10,2,"div",19),r.Sb(51,"div",20),r.Sb(52,"button",21),r.Zb("click",function(){return t.calcClearSMZGraphics()}),r.Bc(53),r.Rb(),r.Rb(),r.Ac(54,we,7,1,"div",22),r.Sb(55,"div",20),r.Sb(56,"button",23),r.Zb("click",function(){return t.buildSMZReport()}),r.Bc(57,"Create a Report"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Sensitive Areas")("itemName","sensAreas"),r.Bb(3),r.Dc("Transparency: ",t.sliderValue,"%"),r.Bb(4),r.jc("value",t.sliderValue)("min",0)("max",100)("steps",5),r.Bb(6),r.jc("ngModel",t.streamsChkboxValue),r.Cb("checked",t.streamsChkboxValue),r.Bb(8),r.jc("ngIf",t.streamCollapsed),r.Bb(1),r.jc("ngIf",!t.streamCollapsed),r.Bb(2),r.jc("ngModel",t.smzChkboxValue),r.Cb("checked",t.smzChkboxValue),r.Bb(2),r.Dc("SMZ (",t.smzLabelValue," ft)"),r.Bb(2),r.jc("ngIf",!t.streamCollapsed),r.Bb(3),r.jc("ngIf",t.slopeCollapsed),r.Bb(1),r.jc("ngIf",!t.slopeCollapsed),r.Bb(2),r.jc("ngModel",t.slopesChkboxValue),r.Cb("checked",t.slopesChkboxValue),r.Bb(2),r.Dc("Slopes (>",t.slopeLabelValue,"%)"),r.Bb(2),r.jc("ngIf",!t.slopeCollapsed),r.Bb(3),r.jc("ngIf",t.wetCollapsed),r.Bb(1),r.jc("ngIf",!t.wetCollapsed),r.Bb(2),r.jc("ngModel",t.wetAreasChkboxValue),r.Cb("checked",t.wetAreasChkboxValue),r.Bb(3),r.jc("ngIf",0!==t.wetlandsBufferLabel),r.Bb(2),r.jc("ngIf",!t.wetCollapsed),r.Bb(3),r.Cc(t.areasCalculated?"Clear Layer":"Calculate Areas"),r.Bb(1),r.jc("ngIf",t.areasCalculated),r.Bb(2),r.jc("disabled",!t.areasCalculated))},directives:[se.a,re.a,ne.a,ne.j,ne.m,o.m,ne.o,ne.b,ne.g],styles:["label[_ngcontent-%COMP%]{font-size:14px}.plusSign[_ngcontent-%COMP%]{align-self:center;cursor:pointer;font-size:1.25em;margin-right:.125em;width:.75em}.saSymbol[_ngcontent-%COMP%]{border:1px solid #000;height:1.25em;margin:.3125em .625em .3125em auto;width:1.875em}.streamLegend[_ngcontent-%COMP%]{border:none!important}.streamColor[_ngcontent-%COMP%]{color:#005ce6;font-size:1em;font-weight:700}.smzBack[_ngcontent-%COMP%]{background-color:#ff0}.slopeBack[_ngcontent-%COMP%]{background-color:red}.wetBack[_ngcontent-%COMP%]{background-color:#6699cd}.wetBufferBack[_ngcontent-%COMP%]{background-color:#444f89;margin-bottom:1.3125em;margin-top:1.3125em}.slopeBufferContainer[_ngcontent-%COMP%]{position:relative}.greaterThan[_ngcontent-%COMP%]{bottom:0;margin:auto;padding-left:.625em;position:absolute;top:0}.subMenuContainer[_ngcontent-%COMP%]{margin-left:1.5625em;margin-right:1em}.subMenuContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:3.25em}.prefix-margin[_ngcontent-%COMP%]{margin-right:.625em}.reportTitleContainer[_ngcontent-%COMP%]{margin-left:.625em;margin-right:.625em;width:100%}.reportTitleContainer[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1em}.sm-btn[_ngcontent-%COMP%]{width:3.75em}"]}),e})();class Be{constructor(e="",t="",i="",a="",o="",s="",r="",n="",l="",c="",d="",b="",p="",h="",u="",m="",g="",f="",S="",y="",v="",w="",R="",B="",x="",C="",L="",O="",k="",M="",P="",T="",A="",V="",j=""){this.mukey=e,this.musym=t,this.muname=i,this.compname=a,this.comppct_r=o,this.erocl=s,this.taxclname=r,this.drclassdcd=n,this.flodfreqdcd=l,this.pondfreqprs=c,this.wtdepannmin=d,this.slopegradwta=b,this.Hydric_Rating=p,this.ecoclassid=h,this.ecoclassname=u,this.si=m,this.plantcomname=g,this.Horizon_A=f,this.Horizon_B=S,this.CLRoadLndg=y,this.HandPlant=v,this.HEquipOp=w,this.LogLndg=R,this.MechPlant=B,this.SitePrepD=x,this.SitePrepS=C,this.EroHzdORT=L,this.EroHzdRT=O,this.FireDamage=k,this.SeedMortal=M,this.RoadSuitNS=P,this.SoilRutHzd=T,this.saversion=A,this.tabularversion=V,this.spatialversion=j}}var xe=i("dg76"),Ce=i("VVTu"),Le=i("LE9a"),Oe=i("97vc");let ke=(()=>{class e{constructor(e,t){this.printTaskService=e,this.appConfig=t}printMaps(e,t,i,a){return Object(l.a)(this,void 0,void 0,function*(){return i.visible=!1,t.visible=!1,this.printTaskService.exportWebMap(e,"PMLOSensAreasTemplate","jpg",a).then(o=>(t.visible=!0,i.visible=!0,new Promise((t,i)=>{this.printTaskService.exportWebMap(e,"PMLOSoilsTemplate","jpg",a).then(e=>{t({boundaryImage:o,soilsImage:e})}).catch(()=>{i(new Error("Error printing"))})})))})}getCountyFromCentroid(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{const i=new z.a({url:this.appConfig.usCountyLayerURL}),a=new _.a({spatialRelationship:"intersects",returnGeometry:!1,geometry:e,outFields:["NAME","COUNTY"]});i.execute(a).then(e=>{t({countyName:e.features[0].attributes.NAME,countyFips:e.features[0].attributes.COUNTY})}).catch(()=>{t({countyName:"",countyFips:""})})})})}getWatershedFromCentroid(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{const i=new z.a({url:this.appConfig.usWatershedLayerURL}),a=new _.a({spatialRelationship:"intersects",returnGeometry:!1,geometry:e,outFields:["huc8","name"]});i.execute(a).then(e=>{t(0===e.features.length?"":e.features[0].attributes.huc8+" "+e.features[0].attributes.name)}).catch(()=>{t("")})})})}getSoilsReportHydroParams(e){return Object(l.a)(this,void 0,void 0,function*(){return new Promise(t=>{const i=new N.default;i.features=[e];const a={Input_Polygon:i};new D.a({url:this.appConfig.soilsReportHydroParamsGPServiceURL}).execute(a).then(e=>{t({perennialFeet:e.results[0].value,intermittentFeet:e.results[1].value,ephemeralFeet:e.results[2].value,wetlandsAcres:e.results[3].value})}).catch(()=>{t({perennialFeet:null,intermittentFeet:null,ephemeralFeet:null,wetlandsAcres:null})})})})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(ie),r.Wb(O.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Me=i("f8+1"),Pe=i("NoDi");const Te=["identifyCheckbox"];function Ae(e,t){if(1&e){const e=r.Tb();r.Qb(0),r.Sb(1,"div",11),r.Bc(2),r.Rb(),r.Sb(3,"div",12),r.Sb(4,"div"),r.Bc(5,"0"),r.Rb(),r.Sb(6,"app-slider",13),r.Zb("onChange",function(t){return r.tc(e),r.dc().updateSliderValue(t)}),r.Rb(),r.Sb(7,"div"),r.Bc(8,"100"),r.Rb(),r.Rb(),r.Pb()}if(2&e){const e=r.dc();r.Bb(2),r.Dc("Transparency: ",e.sliderValue,"%"),r.Bb(4),r.jc("value",e.sliderValue)("min",0)("max",100)("steps",5)}}function Ve(e,t){if(1&e){const e=r.Tb();r.Qb(0),r.Sb(1,"div",8),r.Sb(2,"button",9),r.Zb("click",function(){return r.tc(e),r.dc().toggleTable()}),r.Bc(3),r.Rb(),r.Rb(),r.Sb(4,"div",14),r.Sb(5,"div",15),r.Sb(6,"div",16),r.Sb(7,"input",17),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().soReportTitle=t}),r.Rb(),r.Sb(8,"label",18),r.Bc(9,"Report Title"),r.Rb(),r.Ob(10,"div",19),r.Rb(),r.Rb(),r.Rb(),r.Pb()}if(2&e){const e=r.dc();r.Bb(3),r.Dc("",e.isTableVisible?"Hide":"Show"," Table"),r.Bb(4),r.jc("ngModel",e.soReportTitle)}}const je=function(e){return{checkboxDisabled:e}},Ie=function(e){return{"cursor-not-allowed":e}};let Ge=(()=>{class e{constructor(e,t,i,a,o,s,r,n,l,c,d){this.soilsService=e,this.loaderService=t,this.mapViewService=i,this.soilsReportService=a,this.sensAreasService=o,this.appConfig=s,this.reportsService=r,this.esriMapService=n,this.notificationsService=l,this.modalService=c,this.sketchSelectionService=d,this.isIdentifyChecked=!1,this.isIdentifyDisabled=!0,this.isVisibleDisabled=!0,this.isVisibleChecked=!1,this.areSoilsClipped=!1,this.polygonGraphicsInBoundary=!1,this.isTableVisible=!1,this.sliderValue=0,this.isOrangeSymbol=!1,this.soReportTitle="",this.soilsIdentifyClickEvent=null,this.pmloSoilsGL=Object(j.a)("pmloSoilsGL",1),this.pmloSoilLabelsGL=Object(j.a)("pmloSoilLabelsGL",1),this.pmloNote=new B.a}ngOnInit(){this.pmloSoilLabelsGL.minScale=37e3,this.soilsDynamicLayer=this.mapView.map.findLayerById("soilsDynamicLayer"),this.mapViewService.soilsDisabled.subscribe(e=>{this.isVisibleDisabled=e,this.isIdentifyDisabled=!(!e&&this.isVisibleChecked),e?null!==this.soilsIdentifyClickEvent&&(this.soilsIdentifyClickEvent.remove(),this.soilsIdentifyClickEvent=null):this.createSoilsIdentifyClickEvent(this.isIdentifyChecked)}),this.mapViewService.boundaryHasPolygons.subscribe(e=>{this.polygonGraphicsInBoundary=e,e||(this.clearSoilGLayers(),this.areSoilsClipped=!1)}),this.userGL=this.mapView.map.findLayerById("userGraphicsLayer"),this.mapView.map.add(this.pmloSoilsGL),this.mapView.map.add(this.pmloSoilLabelsGL),this.mapView.whenLayerView(this.pmloSoilsGL).then(e=>{e.watch("updating",t=>{if(t){let t=!0;0===e.layer.graphics.length&&(t=!1),this.areSoilsClipped=t,this.soilsService.soilsGLHasPolygons.emit(t)}})}),this.soilsService.showTableModal.subscribe(e=>{this.isTableVisible=!!e}),this.soilsService.selectPolygonFromTable.subscribe(e=>{if(null===e)this.pmloSoilsGL.graphics.pop();else{void 0!==this.pmloSoilsGL.graphics.find(e=>e.attributes.isFromSelection)&&this.pmloSoilsGL.graphics.pop();const t=Object(Ce.d)(),i=Object(Ce.e)(),a=e.clone();a.attributes.isFromSelection=!0,a.symbol=Object(H.a)(i,t),this.pmloSoilsGL.add(a)}}),this.soilsService.updateSliderValue.subscribe(e=>{this.checkIfOrange(e.sliderVal),e.isFromSoils&&this.soilsService.updateGraphicsOpacity(this.pmloSoilsGL,this.pmloSoilLabelsGL,e.sliderVal,this.isOrangeSymbol,!0),this.sliderValue=e.sliderVal}),this.esriMapService.soilsAccordionOpen.subscribe(e=>{e&&(this.pmloSoilsGL.graphics.length>0&&this.soilsService.updateGraphicsOpacity(this.pmloSoilsGL,this.pmloSoilLabelsGL,this.sliderValue,this.isOrangeSymbol,!0),this.pmloSoilLabelsGL.visible=!0)}),this.modalService.closedFromButton.subscribe(e=>{"Soils Within Project Area"===e&&(this.isTableVisible=!1)})}soilsVisibleChanged(e){this.isVisibleChecked=e,this.soilsDynamicLayer.visible=e,this.isIdentifyDisabled=!e,!e&&this.isIdentifyChecked&&(this.identifyCheckbox.nativeElement.checked=!1,this.soilsIdentifyChanged(!1)),this.createSoilsIdentifyClickEvent(this.isIdentifyChecked)}clipClearSoils(){if(this.areSoilsClipped)this.clearSoilGLayers();else{this.clearSoilGLayers();const e=Object(c.d)(this.userGL);if(0===e.length)this.pmloNote.body="A drawn boundary is needed to be able to clip soils.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(e.length>1)this.pmloNote.body="You can only clip soils areas from one polygon at a time.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{this.loaderService.isLoading.next(!0);const t=e.getItemAt(0);this.soilsService.getSoils(t).then(e=>{if(0===e.length)this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error while clipping the soils. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{const i=t.attributes.id;this.soilsService.addSoilsToMap(this.pmloSoilsGL,e[0],i,this.sliderValue,this.isOrangeSymbol),this.soilsService.addSoilLabelsToMap(this.pmloSoilLabelsGL,e[1],i,this.sliderValue,this.isOrangeSymbol),this.soilsService.showTableModal.emit(!0),this.loaderService.isLoading.next(!1)}})}}}createSoilsIdentifyClickEvent(e){e&&this.soilsDynamicLayer.visible&&null===this.soilsIdentifyClickEvent?this.soilsIdentifyClickEvent=this.mapView.on("click",e=>{this.loaderService.isLoading.next(!0),this.soilsService.identifySoil(e.mapPoint,"pmlo").then(t=>{const i=t.Table[0],a=new Be;let o=0;for(const e of Object.keys(a))null!==i[o]&&(a[e]=i[o]),o+=1;this.mapView.popup.dockOptions={buttonEnabled:!0,position:"top-left"},this.mapView.popup.open({title:a.musym,location:e.mapPoint,content:Object(xe.d)(a),overwriteActions:!0,actions:[]}),this.loaderService.isLoading.next(!1)})}):e||null===this.soilsIdentifyClickEvent||(this.soilsIdentifyClickEvent.remove(),this.soilsIdentifyClickEvent=null)}updateSketchState(e){this.sketchSelectionService.changeSketchSelectionMode("soils",e)}disableSoilsIdentify(){this.identifyCheckbox.nativeElement.checked=!1,this.mapView.popup.close(),this.soilsIdentifyChanged(!1)}soilsIdentifyChanged(e){this.isIdentifyChecked=e,this.updateSketchState(!e),this.createSoilsIdentifyClickEvent(e),e||this.mapView.popup.close()}updateSliderValue(e){this.soilsService.updateSliderValue.emit({sliderVal:parseInt(e),isFromSoils:!0,selectedRadioVal:null})}toggleTable(){this.soilsService.showTableModal.emit(!this.isTableVisible)}buildSoilsReport(){this.loaderService.isLoading.next(!0);const e=this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0),t=new Le.a;t.add(e);const i=this.pmloSoilsGL.graphics.map(e=>(e.attributes.Acres=Object(G.b)(e.attributes.Shape_Area),e.attributes));Promise.all([this.soilsReportService.printMaps(this.mapView,this.pmloSoilsGL,this.pmloSoilLabelsGL,e.geometry.extent.clone().expand(1.05)),this.soilsReportService.getCountyFromCentroid(e.geometry.centroid),this.soilsReportService.getWatershedFromCentroid(e.geometry.centroid),this.soilsReportService.getSoilsReportHydroParams(e),this.sensAreasService.isWithinTexas(e.geometry)]).then(a=>{const o={projectName:this.soReportTitle,boundaryImageUrl:a[0].boundaryImage,soilsImageUrl:a[0].soilsImage,countyName:a[1].countyName,countyFips:a[1].countyFips,watershed:a[2],ephemeralFeet:a[3].ephemeralFeet,intermittentFeet:a[3].intermittentFeet,perennialFeet:a[3].perennialFeet,wetlandsAcres:a[3].wetlandsAcres,isWithinTexas:a[4],projectAcres:Object(I.c)(t),latitude:e.geometry.centroid.latitude,longitude:e.geometry.centroid.longitude,soils:i.items};this.reportsService.getSoilsReport({content:JSON.stringify(o)}).subscribe(e=>{this.loaderService.isLoading.next(!1),window.open(e.fileName,"_blank","noopener")},e=>{throw this.loaderService.isLoading.next(!1),Object(Oe.a)("Error getting soils report",e.message,"soils.component:272")})}).catch(e=>{throw this.loaderService.isLoading.next(!1),Object(Oe.a)("Error getting soils report",e.message,"soils.component:272")})}checkIfOrange(e){this.isOrangeSymbol=!(e<75||100===e)}clearSoilGLayers(){this.soilsService.clearSoilGLayers(this.pmloSoilsGL,this.pmloSoilLabelsGL)}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(L.a),r.Nb(J.a),r.Nb(C.a),r.Nb(ke),r.Nb(q),r.Nb(O.a),r.Nb(oe),r.Nb(k.a),r.Nb(M.a),r.Nb(Me.a),r.Nb(Pe.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-soils"]],viewQuery:function(e,t){if(1&e&&r.Fc(Te,1),2&e){let e;r.qc(e=r.ac())&&(t.identifyCheckbox=e.first)}},inputs:{mapView:"mapView"},decls:22,vars:20,consts:[[1,"py-3"],[3,"header","itemName"],[1,"row","prl-10"],[1,"inline-flex","cursor-pointer",3,"ngClass"],["type","checkbox",1,"m-auto","form-checkbox","h-5","w-5","text-pmlo_secondary","cursor-pointer",3,"ngClass","disabled","change"],[1,"checkbox-label"],["identifyCheckbox",""],[4,"ngIf"],[1,"flex","justify-center","mt-3"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"click"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"disabled","click"],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"],[1,"flex","mt-3"],[1,"md-input-main","mx-3"],[1,"md-input-box"],["id","soReportTitle","name","soReportTitle","type","text","placeholder"," ","maxlength","40",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","soReportTitle",1,"md-label","text-pmlo_primary"],[1,"pmlo-md-input-underline","md-input-underline"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Sb(4,"label",3),r.Sb(5,"input",4),r.Zb("change",function(e){return t.soilsVisibleChanged(e.currentTarget.checked)}),r.Rb(),r.Sb(6,"span",5),r.Bc(7,"Visible"),r.Rb(),r.Rb(),r.Rb(),r.Sb(8,"div",2),r.Sb(9,"label",3),r.Sb(10,"input",4,6),r.Zb("change",function(e){return t.soilsIdentifyChanged(e.currentTarget.checked)}),r.Rb(),r.Sb(12,"span",5),r.Bc(13,"Identify"),r.Rb(),r.Rb(),r.Rb(),r.Ac(14,Ae,9,5,"ng-container",7),r.Sb(15,"div",8),r.Sb(16,"button",9),r.Zb("click",function(){return t.clipClearSoils()}),r.Bc(17),r.Rb(),r.Rb(),r.Ac(18,Ve,11,2,"ng-container",7),r.Sb(19,"div",8),r.Sb(20,"button",10),r.Zb("click",function(){return t.buildSoilsReport()}),r.Bc(21,"Create A Report"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Soils")("itemName","soils"),r.Bb(3),r.jc("ngClass",r.mc(12,je,t.isVisibleDisabled)),r.Bb(1),r.jc("ngClass",r.mc(14,Ie,t.isVisibleDisabled))("disabled",t.isVisibleDisabled),r.Bb(4),r.jc("ngClass",r.mc(16,je,t.isIdentifyDisabled)),r.Bb(1),r.jc("ngClass",r.mc(18,Ie,t.isIdentifyDisabled))("disabled",t.isIdentifyDisabled),r.Bb(4),r.jc("ngIf",t.areSoilsClipped),r.Bb(3),r.Cc(t.areSoilsClipped?"Clear Layer":"Clip"),r.Bb(1),r.jc("ngIf",t.areSoilsClipped),r.Bb(2),r.jc("disabled",!t.areSoilsClipped))},directives:[se.a,o.k,o.m,re.a,ne.b,ne.g,ne.j,ne.m],styles:[".prl-10[_ngcontent-%COMP%]{padding-left:.625em;padding-right:.625em}.checkboxDisabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.4}"]}),e})(),_e=(()=>{class e{constructor(e,t){this.printTaskService=e,this.reportsService=t}addSoilsToMap(e,t,i,a){const o=(100-a)/100,s=[],r=Object(Ce.a)(o);t.value.features.forEach(e=>{const t=Object(Ce.b)(e,o);e.symbol=Object(H.a)(r,t),e.setAttribute("boundaryId",i),s.push(e)}),e.addMany(s)}createOperationsReport(e,t,i,a,o){return new Promise(s=>{this.printTaskService.exportWebMap(t,"PMLOSensAreasTemplate","jpg",a).then(t=>{const a=i.graphics.map(e=>(e.attributes.Acres=Object(G.b)(e.attributes.Shape_Area),e.attributes));this.reportsService.getOperationalConsiderationsReport({content:JSON.stringify({projName:o,imageUrl:t,operation:e,soils:a})}).subscribe(e=>{s(e.fileName)})})})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(ie),r.Wb(oe))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ze=i("sq3C");class Ne{constructor(e="",t=""){this.backgroundColor=e,this.label=t}}const De={r:140,g:81,b:10},He={r:216,g:179,b:101},Fe={r:246,g:232,b:195},Ee={r:255,g:255,b:255},We={r:199,g:234,b:229},Ze={r:90,g:180,b:172},Ue={r:1,g:102,b:94},qe={r:215,g:25,b:28},Je={r:252,g:141,b:89},Qe={r:255,g:255,b:191},Ye={r:145,g:207,b:96},Ke={r:192,g:192,b:192};let $e=(()=>{class e{constructor(){this.GetOperationLegend=new r.n,this.SetActiveHarvOperationLegenRadio=new r.n,this.SetActiveRegOperationLegenRadio=new r.n}setOperationLegendSymbols(e,t,i){t.graphics.forEach(t=>{let a={};switch(t.attributes[e]){case"Excessively drained":a=De;break;case"Somewhat excessively drained":a=He;break;case"Well drained":a=Fe;break;case"Moderately well drained":a=Ee;break;case"Somewhat poorly drained":a=We;break;case"Poorly drained":a=Ze;break;case"Very poorly drained":a=Ue;break;case"Very severe":a=qe;break;case"Severe":a=Je;break;case"Moderate":a=Qe;break;case"Slight":a=Ye;break;case"Poorly suited":a=Je;break;case"Moderately suited":a=Qe;break;case"Well suited":a=Ye;break;case"High":a=Je;break;case"Low":a=Ye;break;case"Unsuited":a=qe;break;default:a=Ke}const o=(100-i)/100;a.a=o;const s=Object(Ce.a)(o),r={color:a,style:t.symbol.style,opacity:1};t.symbol=Object(H.a)(s,r)})}setOperationLegend(e,t){const i=[];["drclassdcd"].includes(e)?(i.push(new Ne(this.GetLegendHexColor(De),"Excessively drained")),i.push(new Ne(this.GetLegendHexColor(He),"Somewhat excessively drained")),i.push(new Ne(this.GetLegendHexColor(Fe),"Well drained")),i.push(new Ne(this.GetLegendHexColor(Ee),"Moderately well drained")),i.push(new Ne(this.GetLegendHexColor(We),"Somewhat poorly drained")),i.push(new Ne(this.GetLegendHexColor(Ze),"Poorly drained")),i.push(new Ne(this.GetLegendHexColor(Ue),"Very poorly drained")),i.push(new Ne(this.GetLegendHexColor(Ke),"Not rated"))):["RoadSuitNS","HEquipOp","MechPlant","HandPlant","SitePrepS","SitePrepD"].includes(e)?(["MechPlant","HandPlant","SitePrepS","SitePrepD"].includes(e)&&i.push(new Ne(this.GetLegendHexColor(qe),"Unsuited")),i.push(new Ne(this.GetLegendHexColor(Je),"Poorly suited")),i.push(new Ne(this.GetLegendHexColor(Qe),"Moderately suited")),i.push(new Ne(this.GetLegendHexColor(Ye),"Well suited")),i.push(new Ne(this.GetLegendHexColor(Ke),"Not rated"))):["EroHzdORT"].includes(e)?(i.push(new Ne(this.GetLegendHexColor(qe),"Very severe")),i.push(new Ne(this.GetLegendHexColor(Je),"Severe")),i.push(new Ne(this.GetLegendHexColor(Qe),"Moderate")),i.push(new Ne(this.GetLegendHexColor(Ye),"Slight")),i.push(new Ne(this.GetLegendHexColor(Ke),"Not rated"))):["CLRoadLndg","EroHzdRT","SoilRutHzd"].includes(e)?(i.push(new Ne(this.GetLegendHexColor(Je),"Severe")),i.push(new Ne(this.GetLegendHexColor(Qe),"Moderate")),i.push(new Ne(this.GetLegendHexColor(Ye),"Slight")),i.push(new Ne(this.GetLegendHexColor(Ke),"Not rated"))):["SeedMortal","FireDamage"].includes(e)&&(i.push(new Ne(this.GetLegendHexColor(Je),"High")),i.push(new Ne(this.GetLegendHexColor(Qe),"Moderate")),i.push(new Ne(this.GetLegendHexColor(Ye),"Low")),i.push(new Ne(this.GetLegendHexColor(Ke),"Not rated"))),t?this.SetActiveHarvOperationLegenRadio.emit(e):this.SetActiveRegOperationLegenRadio.emit(e),this.GetOperationLegend.emit(i)}GetLegendHexColor(e){return Object(ze.e)([e.r,e.g,e.b])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xe=function(e){return{"background-color":e}};function et(e,t){if(1&e&&(r.Sb(0,"div",3),r.Ob(1,"div",4),r.Sb(2,"div",5),r.Bc(3),r.Rb(),r.Rb()),2&e){const e=t.$implicit;r.Bb(1),r.jc("ngStyle",r.mc(2,Xe,e.backgroundColor)),r.Bb(2),r.Cc(e.label)}}let tt=(()=>{class e{constructor(e){this.operationLegendService=e,this.legendItems=[]}ngOnInit(){this.operationLegendService.GetOperationLegend.subscribe(e=>{this.legendItems=e}),this.operationLegendService.setOperationLegend(this.initialValue,this.isFromHarvest)}}return e.\u0275fac=function(t){return new(t||e)(r.Nb($e))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-operation-legend"]],inputs:{initialValue:"initialValue",isFromHarvest:"isFromHarvest"},decls:4,vars:1,consts:[[1,"legendFieldset"],[1,"py-1","px-2","mx-1"],["class","flex my-2",4,"ngFor","ngForOf"],[1,"flex","my-2"],[1,"legendSymbol",3,"ngStyle"],[1,"pl-2"]],template:function(e,t){1&e&&(r.Sb(0,"fieldset",0),r.Sb(1,"legend",1),r.Bc(2,"Legend"),r.Rb(),r.Ac(3,et,4,4,"div",2),r.Rb()),2&e&&(r.Bb(3),r.jc("ngForOf",t.legendItems))},directives:[o.l,o.n],styles:[".legendFieldset[_ngcontent-%COMP%]{border:2px groove threedface;padding:.3125em}.legendSymbol[_ngcontent-%COMP%]{border:1px solid #000;height:1.5em;min-width:1.875em}"]}),e})();function it(e,t){if(1&e&&(r.Sb(0,"div",22),r.Ob(1,"pmlo-operation-legend",23),r.Rb()),2&e){const e=r.dc();r.Bb(1),r.jc("initialValue",e.selectedRadio)("isFromHarvest",!0)}}function at(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",24),r.Sb(1,"div",25),r.Sb(2,"div",26),r.Sb(3,"input",27),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().hoReportTitle=t}),r.Rb(),r.Sb(4,"label",28),r.Bc(5,"Report Title"),r.Rb(),r.Ob(6,"div",29),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.dc();r.Bb(3),r.jc("ngModel",e.hoReportTitle)}}let ot=(()=>{class e{constructor(e,t,i,a,o,s,r,n){this.esrimapService=e,this.soilsService=t,this.loaderService=i,this.harvestOperationsService=a,this.decimalPipe=o,this.operationLegendService=s,this.notificationsService=r,this.mapViewService=n,this.sliderValue=0,this.selectedRadio="drclassdcd",this.areSoilsClipped=!1,this.hoReportTitle="",this.accordionOpened=!1,this.pmloNote=new B.a}ngOnInit(){this.pmloSoilsGL=this.mapView.map.findLayerById("pmloSoilsGL"),this.pmloSoilLabelsGL=this.mapView.map.findLayerById("pmloSoilLabelsGL"),this.userGL=this.mapView.map.findLayerById("userGraphicsLayer"),this.esrimapService.harvOpAccordionOpen.subscribe(e=>{this.accordionOpened=e,e&&(this.pmloSoilLabelsGL.graphics.length>0&&(this.soilsService.showTableModal.emit(!1),this.pmloSoilLabelsGL.visible=!1,this.operationLegendService.setOperationLegendSymbols(this.selectedRadio,this.pmloSoilsGL,this.sliderValue)),this.operationLegendService.setOperationLegend(this.selectedRadio,!0))}),this.mapViewService.boundaryHasPolygons.subscribe(e=>{e||this.clipClearSoils(!0)}),this.soilsService.soilsGLHasPolygons.subscribe(e=>{this.areSoilsClipped=e}),this.soilsService.updateSliderValue.subscribe(e=>{this.sliderValue=e.sliderVal,e.isFromSoils||(this.operationLegendService.setOperationLegendSymbols(e.selectedRadioVal,this.pmloSoilsGL,e.sliderVal),this.pmloSoilLabelsGL.visible=!1)}),this.operationLegendService.SetActiveHarvOperationLegenRadio.subscribe(e=>{this.selectedRadio=e})}updateSliderValue(e){this.soilsService.updateSliderValue.emit({sliderVal:parseInt(e),isFromSoils:!1,selectedRadioVal:this.selectedRadio})}radioChanged(e){this.operationLegendService.setOperationLegendSymbols(e,this.pmloSoilsGL,this.sliderValue),this.operationLegendService.setOperationLegend(e,!0)}clipClearSoils(e=null){this.areSoilsClipped||!0===e?this.soilsService.clearSoilGLayers(this.pmloSoilsGL,this.pmloSoilLabelsGL):this.clipSoils()}buildOperationsReport(){this.loaderService.isLoading.next(!0);const e=this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.harvestOperationsService.createOperationsReport(this.selectedRadio,this.mapView,this.pmloSoilsGL,e.geometry.extent.clone().expand(1.05),this.hoReportTitle).then(e=>{this.loaderService.isLoading.next(!1),window.open(e,"_blank","noopener")})}clipSoils(){if(0===this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length)this.pmloNote.body="A drawn boundary is needed to get operational considerations.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length>1)this.pmloNote.body="You can only get operational considerations information from one polygon at a time.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length>0)if(Object(I.e)(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0).geometry,1e5,"acres"))this.pmloNote.body="Please make sure the boundary is less than "+this.decimalPipe.transform(1e5)+" acres.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{this.loaderService.isLoading.next(!0);const e=this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.soilsService.getSoils(e).then(t=>{if(0===t.length)this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error while getting operational considerations information. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{const i=e.attributes.id;this.harvestOperationsService.addSoilsToMap(this.pmloSoilsGL,t[0],i,this.sliderValue),this.operationLegendService.setOperationLegendSymbols(this.selectedRadio,this.pmloSoilsGL,this.sliderValue),this.soilsService.addSoilLabelsToMap(this.pmloSoilLabelsGL,t[1],i,100,!1),this.soilsService.shareMultiSoils.emit(t[0].value.features),this.areSoilsClipped=!0,this.loaderService.isLoading.next(!1)}})}}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(k.a),r.Nb(L.a),r.Nb(J.a),r.Nb(_e),r.Nb(o.f),r.Nb($e),r.Nb(M.a),r.Nb(C.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-harvest-operations"]],inputs:{mapView:"mapView"},decls:57,vars:18,consts:[[1,"py3"],[3,"header","itemName"],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"],[1,"block"],[1,"mt-2"],[1,"inline-flex","cursor-pointer"],["type","radio","name","pmlo-op","value","drclassdcd",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],[1,"ml-2"],[1,"mt-1"],["type","radio","name","pmlo-op","value","RoadSuitNS",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-op","value","CLRoadLndg",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-op","value","EroHzdORT",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-op","value","EroHzdRT",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-op","value","HEquipOp",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-op","value","SoilRutHzd",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["class","mt-3",4,"ngIf"],[1,"flex","justify-center","mt-3"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"click"],["class","flex mt-3",4,"ngIf"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"disabled","click"],[1,"mt-3"],[3,"initialValue","isFromHarvest"],[1,"flex","mt-3"],[1,"md-input-main","mx-3"],[1,"md-input-box"],["id","hoReportTitle","name","soReportTitle","type","text","placeholder"," ","maxlength","40",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","hoReportTitle",1,"md-label","text-pmlo_primary"],[1,"pmlo-md-input-underline","md-input-underline"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Bc(4),r.Rb(),r.Sb(5,"div",3),r.Sb(6,"div"),r.Bc(7,"0"),r.Rb(),r.Sb(8,"app-slider",4),r.Zb("onChange",function(e){return t.updateSliderValue(e)}),r.Rb(),r.Sb(9,"div"),r.Bc(10,"100"),r.Rb(),r.Rb(),r.Sb(11,"div",5),r.Sb(12,"div",6),r.Sb(13,"fieldset"),r.Sb(14,"div"),r.Sb(15,"label",7),r.Sb(16,"input",8),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(17,"span",9),r.Bc(18,"Drainage Class"),r.Rb(),r.Rb(),r.Rb(),r.Sb(19,"div",10),r.Sb(20,"label",7),r.Sb(21,"input",11),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(22,"span",9),r.Bc(23,"Suitability for Roads and Log Landings"),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",10),r.Sb(25,"label",7),r.Sb(26,"input",12),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(27,"span",9),r.Bc(28,"Constuction Limitations for Haul Roads and Log Landings"),r.Rb(),r.Rb(),r.Rb(),r.Sb(29,"div",10),r.Sb(30,"label",7),r.Sb(31,"input",13),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(32,"span",9),r.Bc(33,"Erosion Hazard: Off-Road/Off-Trail"),r.Rb(),r.Rb(),r.Rb(),r.Sb(34,"div",10),r.Sb(35,"label",7),r.Sb(36,"input",14),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(37,"span",9),r.Bc(38,"Erosion Hazard: Road/Trail"),r.Rb(),r.Rb(),r.Rb(),r.Sb(39,"div",10),r.Sb(40,"label",7),r.Sb(41,"input",15),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(42,"span",9),r.Bc(43,"Harvest Equipment Operability"),r.Rb(),r.Rb(),r.Rb(),r.Sb(44,"div",10),r.Sb(45,"label",7),r.Sb(46,"input",16),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(47,"span",9),r.Bc(48,"Soil Rutting Hazard"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(49,it,2,2,"div",17),r.Sb(50,"div",18),r.Sb(51,"button",19),r.Zb("click",function(){return t.clipClearSoils()}),r.Bc(52),r.Rb(),r.Rb(),r.Ac(53,at,7,1,"div",20),r.Sb(54,"div",18),r.Sb(55,"button",21),r.Zb("click",function(){return t.buildOperationsReport()}),r.Bc(56,"Create A Report"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Operational Considerations")("itemName","harvOperations"),r.Bb(3),r.Dc("Transparency: ",t.sliderValue,"%"),r.Bb(4),r.jc("value",t.sliderValue)("min",0)("max",100)("steps",5),r.Bb(8),r.jc("checked","drclassdcd"===t.selectedRadio),r.Bb(5),r.jc("checked","RoadSuitNS"===t.selectedRadio),r.Bb(5),r.jc("checked","CLRoadLndg"===t.selectedRadio),r.Bb(5),r.jc("checked","EroHzdORT"===t.selectedRadio),r.Bb(5),r.jc("checked","EroHzdRT"===t.selectedRadio),r.Bb(5),r.jc("checked","HEquipOp"===t.selectedRadio),r.Bb(5),r.jc("checked","SoilRutHzd"===t.selectedRadio),r.Bb(3),r.jc("ngIf",t.accordionOpened),r.Bb(3),r.Cc(t.areSoilsClipped?"Clear Layer":"Clip"),r.Bb(1),r.jc("ngIf",t.areSoilsClipped),r.Bb(2),r.jc("disabled",!t.areSoilsClipped))},directives:[se.a,re.a,o.m,tt,ne.b,ne.g,ne.j,ne.m],styles:[""]}),e})();function st(e,t){if(1&e&&(r.Sb(0,"div",21),r.Ob(1,"pmlo-operation-legend",22),r.Rb()),2&e){const e=r.dc();r.Bb(1),r.jc("initialValue",e.selectedRadio)("isFromHarvest",!1)}}function rt(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div",23),r.Sb(1,"div",24),r.Sb(2,"div",25),r.Sb(3,"input",26),r.Zb("ngModelChange",function(t){return r.tc(e),r.dc().roReportTitle=t}),r.Rb(),r.Sb(4,"label",27),r.Bc(5,"Report Title"),r.Rb(),r.Ob(6,"div",28),r.Rb(),r.Rb(),r.Rb()}if(2&e){const e=r.dc();r.Bb(3),r.jc("ngModel",e.roReportTitle)}}let nt=(()=>{class e{constructor(e,t,i,a,o,s,r,n){this.soilsService=e,this.loaderService=t,this.operationLegendService=i,this.harvestOperationsService=a,this.esrimapService=o,this.decimalPipe=s,this.notificationsService=r,this.mapViewService=n,this.sliderValue=0,this.selectedRadio="SeedMortal",this.areSoilsClipped=!1,this.roReportTitle="",this.accordionOpened=!1,this.pmloNote=new B.a}ngOnInit(){this.pmloSoilsGL=this.mapView.map.findLayerById("pmloSoilsGL"),this.pmloSoilLabelsGL=this.mapView.map.findLayerById("pmloSoilLabelsGL"),this.userGL=this.mapView.map.findLayerById("userGraphicsLayer"),this.esrimapService.regOpAccordionOpen.subscribe(e=>{this.accordionOpened=e,e&&(this.pmloSoilLabelsGL.graphics.length>0&&(this.soilsService.showTableModal.emit(!1),this.pmloSoilLabelsGL.visible=!1,this.operationLegendService.setOperationLegendSymbols(this.selectedRadio,this.pmloSoilsGL,this.sliderValue)),this.operationLegendService.setOperationLegend(this.selectedRadio,!1))}),this.mapViewService.boundaryHasPolygons.subscribe(e=>{e||this.clipClearSoils(!0)}),this.soilsService.soilsGLHasPolygons.subscribe(e=>{this.areSoilsClipped=e}),this.soilsService.updateSliderValue.subscribe(e=>{this.sliderValue=e.sliderVal,e.isFromSoils||(this.operationLegendService.setOperationLegendSymbols(e.selectedRadioVal,this.pmloSoilsGL,e.sliderVal),this.pmloSoilLabelsGL.visible=!1)}),this.operationLegendService.SetActiveRegOperationLegenRadio.subscribe(e=>{this.selectedRadio=e})}updateSliderValue(e){this.soilsService.updateSliderValue.emit({sliderVal:parseInt(e),isFromSoils:!1,selectedRadioVal:this.selectedRadio})}radioChanged(e){this.operationLegendService.setOperationLegendSymbols(e,this.pmloSoilsGL,this.sliderValue),this.operationLegendService.setOperationLegend(e,!1)}clipClearSoils(e=null){this.areSoilsClipped||!0===e?this.soilsService.clearSoilGLayers(this.pmloSoilsGL,this.pmloSoilLabelsGL):this.clipSoils()}buildOperationsReport(){this.loaderService.isLoading.next(!0);const e=this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.harvestOperationsService.createOperationsReport(this.selectedRadio,this.mapView,this.pmloSoilsGL,e.geometry.extent.clone().expand(1.05),this.roReportTitle).then(e=>{this.loaderService.isLoading.next(!1),window.open(e,"_blank","noopener")})}clipSoils(){if(0===this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length)this.pmloNote.body="A drawn boundary is needed to get regeneration attributes.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length>1)this.pmloNote.body="You can only get regeneration attributes from one polygon at a time.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else if(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).length>0)if(Object(I.e)(this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0).geometry,1e5,"acres"))this.pmloNote.body="Please make sure the boundary is less than "+this.decimalPipe.transform(1e5)+" acres",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{this.loaderService.isLoading.next(!0);const e=this.userGL.graphics.filter(e=>"polygon"===e.geometry.type).getItemAt(0);this.soilsService.getSoils(e).then(t=>{if(0===t.length)this.loaderService.isLoading.next(!1),this.pmloNote.body="There was an error while getting regeneration attributes. Please try again and, if the problem persists, contact the administrator.",this.notificationsService.openNotificationsModal.emit(this.pmloNote);else{const i=e.attributes.id;this.harvestOperationsService.addSoilsToMap(this.pmloSoilsGL,t[0],i,this.sliderValue),this.operationLegendService.setOperationLegendSymbols(this.selectedRadio,this.pmloSoilsGL,this.sliderValue),this.soilsService.addSoilLabelsToMap(this.pmloSoilLabelsGL,t[1],i,100,!1),this.soilsService.shareMultiSoils.emit(t[0].value.features),this.areSoilsClipped=!0,this.loaderService.isLoading.next(!1)}})}}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(L.a),r.Nb(J.a),r.Nb($e),r.Nb(_e),r.Nb(k.a),r.Nb(o.f),r.Nb(M.a),r.Nb(C.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-regeneration-operations"]],inputs:{mapView:"mapView"},decls:52,vars:17,consts:[[1,"py3"],[3,"header","itemName"],[1,"pt-3"],[1,"flex","justify-between","items-baseline","pb-1"],[1,"transparencySlider",3,"value","min","max","steps","onChange"],[1,"block"],[1,"mt-2"],[1,"inline-flex","cursor-pointer"],["type","radio","name","pmlo-reg","value","SeedMortal",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],[1,"ml-2"],[1,"mt-1"],["type","radio","name","pmlo-reg","value","SitePrepS",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-reg","value","SitePrepD",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-reg","value","MechPlant",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-reg","value","HandPlant",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["type","radio","name","pmlo-reg","value","FireDamage",1,"form-radio","border-pmlo_secondary","text-pmlo_secondary","mt-1","cursor-pointer",3,"checked","change"],["class","mt-3",4,"ngIf"],[1,"flex","justify-center","mt-3"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"click"],["class","flex mt-3",4,"ngIf"],["type","button",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"disabled","click"],[1,"mt-3"],[3,"initialValue","isFromHarvest"],[1,"flex","mt-3"],[1,"md-input-main","mx-3"],[1,"md-input-box"],["id","roReportTitle","name","soReportTitle","type","text","placeholder"," ","maxlength","40",1,"pmlo-md-input","md-input",3,"ngModel","ngModelChange"],["for","roReportTitle",1,"md-label","text-pmlo_primary"],[1,"pmlo-md-input-underline","md-input-underline"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Bc(4),r.Rb(),r.Sb(5,"div",3),r.Sb(6,"div"),r.Bc(7,"0"),r.Rb(),r.Sb(8,"app-slider",4),r.Zb("onChange",function(e){return t.updateSliderValue(e)}),r.Rb(),r.Sb(9,"div"),r.Bc(10,"100"),r.Rb(),r.Rb(),r.Sb(11,"div",5),r.Sb(12,"div",6),r.Sb(13,"fieldset"),r.Sb(14,"div"),r.Sb(15,"label",7),r.Sb(16,"input",8),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(17,"span",9),r.Bc(18,"Potential for Seedling Mortality"),r.Rb(),r.Rb(),r.Rb(),r.Sb(19,"div",10),r.Sb(20,"label",7),r.Sb(21,"input",11),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(22,"span",9),r.Bc(23,"Mechanical Site Preparation (Surface)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(24,"div",10),r.Sb(25,"label",7),r.Sb(26,"input",12),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(27,"span",9),r.Bc(28,"Mechanical Site Preparation (Deep)"),r.Rb(),r.Rb(),r.Rb(),r.Sb(29,"div",10),r.Sb(30,"label",7),r.Sb(31,"input",13),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(32,"span",9),r.Bc(33,"Suitability for Machine Planting"),r.Rb(),r.Rb(),r.Rb(),r.Sb(34,"div",10),r.Sb(35,"label",7),r.Sb(36,"input",14),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(37,"span",9),r.Bc(38,"Suitability for Hand Planting"),r.Rb(),r.Rb(),r.Rb(),r.Sb(39,"div",10),r.Sb(40,"label",7),r.Sb(41,"input",15),r.Zb("change",function(e){return t.radioChanged(e.target.value)}),r.Rb(),r.Sb(42,"span",9),r.Bc(43,"Potential for Damage by Fire"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Ac(44,st,2,2,"div",16),r.Sb(45,"div",17),r.Sb(46,"button",18),r.Zb("click",function(){return t.clipClearSoils()}),r.Bc(47),r.Rb(),r.Rb(),r.Ac(48,rt,7,1,"div",19),r.Sb(49,"div",17),r.Sb(50,"button",20),r.Zb("click",function(){return t.buildOperationsReport()}),r.Bc(51,"Create A Report"),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Regeneration")("itemName","regOperations"),r.Bb(3),r.Dc("Transparency: ",t.sliderValue,"%"),r.Bb(4),r.jc("value",t.sliderValue)("min",0)("max",100)("steps",5),r.Bb(8),r.jc("checked","SeedMortal"===t.selectedRadio),r.Bb(5),r.jc("checked","SitePrepS"===t.selectedRadio),r.Bb(5),r.jc("checked","SitePrepD"===t.selectedRadio),r.Bb(5),r.jc("checked","MechPlant"===t.selectedRadio),r.Bb(5),r.jc("checked","HandPlant"===t.selectedRadio),r.Bb(5),r.jc("checked","FireDamage"===t.selectedRadio),r.Bb(3),r.jc("ngIf",t.accordionOpened),r.Bb(3),r.Cc(t.areSoilsClipped?"Clear Layer":"Clip"),r.Bb(1),r.jc("ngIf",t.areSoilsClipped),r.Bb(2),r.jc("disabled",!t.areSoilsClipped))},directives:[se.a,re.a,o.m,tt,ne.b,ne.g,ne.j,ne.m],styles:[""]}),e})();var lt=i("UhwK"),ct=i("6lH3");const dt={meters:"meters",feet:"feet",kilometers:"meters",miles:"feet","nautical-miles":"feet",yards:"feet"},bt={meters:"m.",feet:"ft.",kilometers:"km.",miles:"mi.","nautical-miles":"n.m.",yards:"yd."},pt=e=>Math.round(100*(e+Number.EPSILON))/100,ht=e=>"[object Array]"!==toString.call(e)?0:Math.min.apply(null,e),ut=e=>"[object Array]"!==toString.call(e)?0:Math.max.apply(null,e),mt=e=>e.reduce((e,t)=>e+t,0),gt=(e,t="miles")=>{const i=JSON.parse(JSON.stringify(e));for(let a=0;a<i.length;a++){const e=i.slice().splice(0,a+1),o=new lt.a({hasZ:!0,paths:[e],spatialReference:{wkid:102100}}),s=Object(ct.planarLength)(o,t);i[a].push(Math.round(s))}return i},ft=e=>{const t=JSON.parse(JSON.stringify(e));return t.map((e,i)=>(e.push(i+1>=t.length?0:((e,t)=>{const i=t[0]-e[0],a=t[1]-e[1],o=t[2]-e[2],s=Math.sqrt(i*i+a*a),r=Math.round(o/s*1e3)/10;return Math.abs(r)})(e,t[i+1])),e)),e=void 0,t},St={meters:1,feet:3.281,kilometers:.001,miles:1/1609,"nautical-miles":1/1852,yards:1.094},yt=(e,t)=>{const i=St[dt[t]];return e.forEach(e=>{e[2]=e[2]*i}),e};var vt=i("jWBI"),wt=i("jtHE");let Rt=(()=>{class e{constructor(e,t,i){this.config=e,this.loaderService=t,this.printTaskService=i,this.chartData$=new wt.a(1),this.state=new r.n,this.viewModel=new class{constructor(){this.showWidget=!1,this.ptArrayOriginal=[],this.state="",this.unit="miles",this.error="",this.isMSL=!1,this.divId="elevation-plotly"}GetElevationData(e,t){const i=e.toJSON();i.atttributes={OID:1};const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded");const o=new URLSearchParams;return o.append("f","json"),o.append("returnZ","true"),o.append("DEMResolution","FINEST"),o.append("ProfileIDField","ObjectID"),o.append("InputLineFeatures",JSON.stringify({fields:[{name:"OID",type:"esriFieldTypeObjectID",alias:"OID"}],geometryType:"esriGeometryPolyline",features:[i],sr:{wkid:102100}})),fetch(t,{method:"POST",headers:a,body:o,redirect:"follow"})}getChartData(e,t){e=yt(e,t),e=gt(e,t);const i=((e,t)=>{const i="meters"===dt[t]?"m.":"ft.",a=bt[t];return{x:e.map(e=>e[3]),y:e.map(e=>e[2]),customdata:e.map(t=>[t[2]-e[0][2],t[4]]),fill:"tozeroy",type:"scatter",smoothing:1,mode:"markers+lines",marker:{color:"transparent"},name:"",text:"new line",fillcolor:"rgba(173,216,230,0.5)",line:{color:"rgb(0,0,0)",width:2,shape:"linear",smoothing:1},hovertemplate:"%{y:.2f} "+i+" elevation<br>%{x:.2f} "+a+" from start<br>%{customdata[0]:.2f} "+i+" net elevation change<br>%{customdata[1]:.2f}% forward slope"}})(e=ft(e),t);let a;var o;return a=this.slopeThreshold&&this.slopeThreshold>0?[i,{x:(o=((e,t)=>{const i=[],a=e.slice();for(let o=0;o<a.length&&!(o>a.length);o++){const e=a[o][3];a[o][4]>=t?(i.push([e,a[o][2]]),o+1<a.length&&i.push([a[o+1][3],a[o+1][2]])):i.push([e,null])}return[i.map(e=>e[0]),i.map(e=>e[1])]})(e,this.slopeThreshold))[0],y:o[1],fill:"tozeroy",type:"scatter",smoothing:1,fillcolor:"transparent",line:{color:"rgb(255,0,0)",width:3,shape:"linear",smoothing:1},marker:{color:"transparent"},hoverinfo:"skip"}]:[i],[a,((e,t,i,a)=>{let o=e.map(e=>e[2]);const s=dt[t],r={hoverMode:"closest",hoverDistance:-1,hoveron:"points",showlegend:!1,dragMode:!1,displayModeBar:!1,scrollZoom:!1,width:document.getElementById(a).clientWidth,height:340,margin:{l:60,t:10,r:20,b:10},plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,paper_bgcolor:"rgba(0,0,0,0)",hoverlabel:{bgcolor:"black",font:{color:"white"}},xaxis:{showgrid:!1,fixedrange:!0,automargin:!0,standoff:10,linewidth:2,separatethousands:!0,title:{text:"<b>Distance ("+t+")</b>",standoff:10,font:{size:15,color:"black",family:'"Open Sans", verdana, arial, sans-serif;'}},showspikes:!0,spikedash:"solid",spikethickness:1},yaxis:{range:[i?0:ht(o)>100?ht(o)-10:ht(o)-5,ut(o)>100?ut(o)+10:ut(o)+5],fixedrange:!0,linewidth:2,separatethousands:!0,title:{text:"<b>Elevation ("+s+")</b>",standoff:1,font:{size:15,color:"black",family:'"Open Sans", verdana, arial, sans-serif;'}}}};return o=null,r})(e,t,this.isMSL,this.divId),e]}initializeHover(e,t){document.getElementById(this.divId).on("plotly_hover",function(i){try{const a=e[i.points[0].pointIndex],o=new vt.a({geometry:{type:"point",x:a[0],y:a[1],spatialReference:{wkid:102100}},symbol:{type:"simple-marker",style:"cross",color:"cyan",outline:{color:[0,255,255],width:"3px"}}});t.removeAll(),t.add(o)}catch(a){}}).on("plotly_unhover",function(){t.removeAll()})}GetStatistics(){let e=JSON.parse(JSON.stringify(this.ptArrayOriginal));e=yt(e,this.unit),e=gt(e,this.unit),e=ft(e),e=((e,t="miles")=>{const i=JSON.parse(JSON.stringify(e));for(let a=0;a<i.length;a++){const e=i.slice().splice(a,2),o=new lt.a({hasZ:!0,paths:[e],spatialReference:{wkid:102100}}),s=Object(ct.planarLength)(o,t);i[a].push(Math.round(s))}return i})(e,this.unit);const t=" "+bt[this.unit],i=" "+bt[dt[this.unit]],a=e[e.length-1][3],o=e.map(e=>e[4]),s=this.slopeThreshold?e.filter(e=>e[4]>this.slopeThreshold).map(e=>e[5]):[],r=e.map(e=>e[2]),n=r[0],l=r.map(e=>e-n),c=mt(l.filter(e=>e>0)),d=mt(l.filter(e=>e<0));return{TotalDistance:Math.round(a)+t,MaximumSlope:ut(o)+"%",MinimumSlope:ht(o)+"%",MeanSlope:pt((b=o,b.reduce((e,t)=>e+t,0)/b.length))+"%",SteepSlopes:pt(mt(s))+t,ElevationRange:Math.abs(pt(ut(r)-ht(r)))+i,MinimumElevation:pt(ht(r))+i,MaximumElevation:pt(ut(r))+i,TotalElevationGain:pt(c)+i,TotalElevationLost:pt(d)+i};var b}printReport(e,t,i,a,o){return Object(l.a)(this,void 0,void 0,function*(){return new Promise((s,r)=>Object(l.a)(this,void 0,void 0,function*(){try{const r=yield a.exportWebMap(t,"ProfileToolFeetTemplate","png",o),n=document.getElementById("elevationProfileTitle"),l=yield this.exportImage(e),c={title:n.value,summaryStats:this.GetStatistics(),graphImage:l.split("data:image/png;base64,")[1],mapLink:r},d=new Headers;d.append("Content-Type","application/json");const b={method:"POST",headers:d,body:JSON.stringify(c),redirect:"follow"},p=yield fetch(i,b).then(e=>e.json());s(p)}catch(n){this.state="error",this.error=n,console.error(n),r(n)}}))})}exportImage(e){return new Promise((t,i)=>{const a=document.getElementById(this.divId);e.toImage(a,{height:400,width:856}).then(function(e){t(e)}).catch(e=>i(e))})}},this.reveresed=!1,this.graphicsLayer=new m.a,this.lineGraphicsLayer=new m.a({id:"lineElevation"})}initialize(e,t){return this.mapView=e.mapView,this.popup=e.popup,this.viewModel.divId=e.divId,this.viewModel.isMSL=e.isMSL,this.viewModel.unit=e.unit,this.viewModel.slopeThreshold=e.slopeThreshold,this.mapView.map.addMany([this.lineGraphicsLayer,this.graphicsLayer]),this.sketchVM=t,this._DrawingComplete(),i.e(31).then(i.t.bind(null,"5VEH",7)).then(e=>{this.Plotly=e}),this}reverseProfile(){this.reveresed=!this.reveresed;const e=document.getElementById(this.viewModel.divId),t=e.clientHeight,i=e.clientWidth;this.Plotly.purge(this.viewModel.divId),e.outerHTML=e.outerHTML,document.getElementById(this.viewModel.divId).style.height=t+"px",document.getElementById(this.viewModel.divId).style.width=i+"px";let a,o=JSON.parse(JSON.stringify(this.viewModel.ptArrayOriginal));a=this.reveresed?JSON.parse(JSON.stringify(o.reverse())):JSON.parse(JSON.stringify(this.viewModel.ptArrayOriginal));const[s,r,n]=this.viewModel.getChartData(a,this.viewModel.unit);this._renderChart(s,r),this.viewModel.initializeHover(n,this.graphicsLayer),a=void 0,o=void 0}resizeChart(e,t){this.Plotly.relayout(this.viewModel.divId,{width:e,height:t})}start(e){this.sketchVM.create("polyline",{mode:e})}close(){this.graphicsLayer.removeAll(),this.lineGraphicsLayer.removeAll(),this.sketchVM&&this.sketchVM.layer.graphics.removeAll()}createReport(){return Object(l.a)(this,void 0,void 0,function*(){this.loaderService.isLoading.next(!0),this.mapView.goTo(this.lineGraphicsLayer.graphics,{animate:!1}).then(()=>{this.mapView.extent=this.mapView.extent.clone().expand(1.25);const e=this.mapView.extent.clone();setTimeout(()=>{this.viewModel.printReport(this.Plotly,this.mapView,this.config.backendURL+this.config.elevationProfileReportURL,this.printTaskService,e).then(e=>{window.open(e.fileName,"_blank")}).catch(e=>{console.error(e)}).finally(()=>{this.loaderService.isLoading.next(!1)})},100)})})}_renderChart(e,t){this.chartData$.next({data:e,options:t}),this.Plotly.react(this.viewModel.divId,e,t,{displayModeBar:!1,responsive:!0,autosize:!0})}_DrawingComplete(){this.sketchVM.on("create",e=>{"complete"===e.state&&(this.lineGraphicsLayer.add(e.graphic),this.viewModel.userGraphic=e.graphic,this.loaderService.isLoading.next(!0),this.displayLineChart(e.graphic))})}get isReversed(){return this.reveresed}displayLineChart(e){return Object(l.a)(this,void 0,void 0,function*(){this.viewModel.state="loading";try{const t=yield this.viewModel.GetElevationData(e,this.config.elevationGPServiceURL),i=yield t.text(),a=JSON.parse(i);this.state.emit({visible:!0}),this.popup.show(),this.loaderService.isLoading.next(!1),this.viewModel.showWidget=!0;const o=a.results[0].value.features[0].geometry.paths[0];this.viewModel.ptArrayOriginal=o.slice(),this.createChart(o.slice())}catch(t){this.state.emit({visible:!0}),this.viewModel.showWidget=!0,this.popup.show(),this.loaderService.isLoading.next(!1),this.viewModel.state="error",this.viewModel.error="Error getting elevation data. "+t,console.error(t)}})}createChart(e){return Object(l.a)(this,void 0,void 0,function*(){this.viewModel.state="ready";let t=JSON.parse(JSON.stringify(e)),[a,o,s]=this.viewModel.getChartData(t,this.viewModel.unit);void 0===this.Plotly&&(this.Plotly=yield i.e(31).then(i.t.bind(null,"5VEH",7))),this._renderChart(a,o),this.viewModel.initializeHover(s,this.graphicsLayer),t=null,[a,o,s]=[null,null,null]})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(O.a),r.Wb(J.a),r.Wb(ie))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac}),e})();var Bt=i("X8NZ");const xt=["elevationProfileModal"],Ct=function(e){return{elevationBtnActive:e}};let Lt=(()=>{class e{constructor(e,t,i){this.elevationService=e,this.loaderService=t,this.sketchSelectionService=i,this.slopeThreshold=8,this.isActive=!1,this.headerBgColor="#353535",this.isMSL=!1,this.isElevationProfileToolActive=!1,this.isReversed=!1,this.isReversed=e.isReversed}onResizeEnd(e){this.elevationService.resizeChart(e.width-30,e.height-90)}startDrawingGraphics(e){this.drawTool===e?this.modelClosed():(""!==this.drawTool&&this.modelClosed(),this.updateSketchState(!1),this.drawTool=e,this.isActive=!0,this.sketchVM&&this.sketchVM.cancel(),this.elevationProfileModal.visible&&this.elevationProfileModal.hide(),this.elvUtils=void 0,this.elvUtils=this.elevationService.initialize({mapView:this.mapView,slopeThreshold:this.slopeThreshold,unit:"feet",divId:"gd",isMSL:this.isMSL,popup:this.elevationProfileModal},this.generalSketchVM),this.elvUtils.start(e))}cleanup(){this.elevationProfileModal.hide()}modelClosed(){this.elevationService.close(),this.generalSketchVM&&(this.generalSketchVM.layer.removeAll(),this.generalSketchVM.layer.graphics.removeAll(),this.generalSketchVM.cancel()),this.drawTool="",this.isActive=!1,this.updateSketchState(!0)}ngOnDestroy(){this.chartDataObservable$.unsubscribe(),this.drawingObservable$.unsubscribe()}reverseProfile(){this.isReversed=!this.isReversed,this.elevationService.reverseProfile()}createReport(){this.elevationService.createReport()}updateSketchState(e){this.sketchSelectionService.changeSketchSelectionMode("elevationprofile",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(Rt),r.Nb(J.a),r.Nb(Pe.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-elevation-profile"]],viewQuery:function(e,t){if(1&e&&r.Fc(xt,1),2&e){let e;r.qc(e=r.ac())&&(t.elevationProfileModal=e.first)}},inputs:{mapView:"mapView",slopeThreshold:"slopeThreshold",sketchVM:"sketchVM",generalSketchVM:"generalSketchVM"},decls:41,vars:19,consts:[[1,"py-3"],[3,"header","itemName"],[1,"centerAlign"],[1,"btn-group"],[1,"pmlo-btn","pmlo-secondary","generalBtn",3,"ngClass","click"],[1,"inline-flex","items-center","mt-3"],["type","checkbox",1,"form-checkbox","h-5","w-5","text-mmp_primary",3,"ngModel","ngModelChange"],[1,"ml-2","text-black"],[3,"maximizable","backdrop","dragEnabled","showFooter","headerBackgroundColor","closeModal","resizeEnd"],["elevationProfileModal",""],[1,"app-modal-header","bg-pmlo_secondary"],[1,"app-modal-body"],[2,"height","340px","width","100%","position","relative"],["id","gd"],[1,"slopeIndicator"],["height","25","width","25"],["x1","0","y1","12","x2","25","y2","12",2,"stroke","rgb(255,0,0)","stroke-width","4"],[1,"app-modal-footer"],["title","Reverse the profile direction",1,"generalBtn","tooltip","profileDirection","pmlo-btn","pmlo-secondary",3,"click"],[1,"tooltip-text","bg-gray-700","w-100","p-3","-mt-6","-ml-6","rounded"],[1,"createreportBar"],["for","elevationProfileTitle",1,"inline-block","text-gray-700","text-sm","font-bold","mb-2","mr-2"],["id","elevationProfileTitle","aria-label","project name","type","text",1,"shadow","appearance-none","border","rounded","w-150","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:ring","mr-2"],[1,"pmlo-btn","pmlo-secondary","py-2","px-4","createReportBtn",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Sb(4,"div",3),r.Sb(5,"button",4),r.Zb("click",function(){return t.startDrawingGraphics("click")}),r.Bc(6,"Draw Line"),r.Rb(),r.Ob(7,"br"),r.Sb(8,"button",4),r.Zb("click",function(){return t.startDrawingGraphics("freehand")}),r.Bc(9,"Draw Freehand"),r.Rb(),r.Rb(),r.Ob(10,"br"),r.Sb(11,"div",2),r.Sb(12,"label",5),r.Sb(13,"input",6),r.Zb("ngModelChange",function(e){return t.isMSL=e}),r.Rb(),r.Sb(14,"span",7),r.Bc(15,"Base Sea Level"),r.Rb(),r.Rb(),r.Rb(),r.Ob(16,"br"),r.Rb(),r.Rb(),r.Sb(17,"app-modal",8,9),r.Zb("closeModal",function(){return t.modelClosed()})("resizeEnd",function(e){return t.onResizeEnd(e)}),r.Qb(19,10),r.Bc(20,"Elevation Profile"),r.Pb(),r.Qb(21,11),r.Sb(22,"div",12),r.Ob(23,"div",13),r.Rb(),r.Sb(24,"span",14),r.cc(),r.Sb(25,"svg",15),r.Ob(26,"line",16),r.Rb(),r.Bc(27),r.Rb(),r.Pb(),r.bc(),r.Qb(28,17),r.Sb(29,"button",18),r.Zb("click",function(){return t.reverseProfile()}),r.Ob(30,"span"),r.Sb(31,"span",19),r.Bc(32),r.Ob(33,"br"),r.Bc(34,"Click to flip Profile Direction"),r.Rb(),r.Rb(),r.Sb(35,"span",20),r.Sb(36,"label",21),r.Bc(37," Project Name: "),r.Rb(),r.Ob(38,"input",22),r.Sb(39,"button",23),r.Zb("click",function(){return t.createReport()}),r.Bc(40,"Create Report"),r.Rb(),r.Rb(),r.Pb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Elevation Profile")("itemName","elevation"),r.Bb(4),r.jc("ngClass",r.mc(15,Ct,"click"===t.drawTool)),r.Bb(3),r.jc("ngClass",r.mc(17,Ct,"freehand"===t.drawTool)),r.Bb(5),r.jc("ngModel",t.isMSL),r.Bb(4),r.jc("maximizable",!1)("backdrop",!1)("dragEnabled",!0)("showFooter",!0)("headerBackgroundColor",t.headerBgColor),r.Bb(10),r.Dc(" \xa0\xa0Steep slope > ",t.slopeThreshold,"% "),r.Bb(3),r.Eb("",t.isReversed?"icon-arrow-right":"icon-arrow-left"," text-white"),r.Bb(2),r.Dc("Profile Direction: ",t.isReversed?"Reverse":"Forward",""))},directives:[se.a,o.k,ne.a,ne.j,ne.m,Bt.a],styles:[".btn-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{opacity:.011;z-index:100}.btn-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{border:2px solid #00feea}.btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;justify-content:center}.profileDirection[_ngcontent-%COMP%]{font-size:25px;height:35px;margin-left:20px;width:35px}.createreportBar[_ngcontent-%COMP%]{float:right;margin-right:20px}.slopeIndicator[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:20px;margin-top:-30px}.createReportBtn[_ngcontent-%COMP%]{height:auto}.elevationBtnActive[_ngcontent-%COMP%]{border:2px solid #00feea}"]}),e})();var Ot=i("4GrV"),kt=i("H9eC");const Mt=[[18,18,18,18,18,24,24,24,24],[18,18,18,24,24,30,30,30,36],[18,18,18,24,30,36,36,36,42],[18,18,18,30,30,36,36,42,48],[18,18,18,30,36,42,42,48,99],[18,18,18,30,36,48,48,48,99],[18,24,24,36,42,99,99,99,99],[24,24,24,36,48,99,99,99,99],[24,24,24,42,99,99,99,99,99],[24,30,30,48,99,99,99,99,99],[30,30,30,99,99,99,99,99,99],[30,36,36,99,99,99,99,99,99],[30,36,42,99,99,99,99,99,99],[36,36,42,99,99,99,99,99,99]];var Pt=i("gYg2"),Tt=i("9XlO"),At=i("R3GT");let Vt=(()=>{class e{constructor(e,t,i){this.config=e,this.loaderService=t,this.http=i,this.chartData$=new wt.a(1),this.drawingComplete=new r.n,this.state=new r.n,this.reveresed=!1}initialize(e){return this.mapView=e.mapView,this._graphicsLayer=e.graphicsLayer,this.mapView.map.add(e.graphicsLayer),this.sketchVM=new b.a({layer:e.graphicsLayer,view:this.mapView,updateOnGraphicClick:!1,pointSymbol:{type:"simple-marker",style:"circle",color:"blue",size:"8px"}}),this._DrawingComplete(),this}_DrawingComplete(){this.sketchVM.on("create",e=>{"complete"===e.state&&(this._graphicsLayer.add(e.graphic),this.drawingComplete.emit(e.graphic))})}get isReversed(){return this.reveresed}GetCulvertData(e){const t=new N.default({features:[e],geometryType:"point",spatialReference:{wkid:3857}});return[new D.a({url:this.config.culvertSize.gpServiceURL}),{Input_Pour_Point:t,"env:outSR":3857}]}start(){this._graphicsLayer.graphics.length>1&&this._graphicsLayer.graphics.removeAll(),this.sketchVM.create("point")}close(){this._graphicsLayer.removeAll(),this.sketchVM.destroy()}GeneratePDFReport(e,t){return Object(l.a)(this,void 0,void 0,function*(){this.http.post(this.config.backendURL+this.config.culvertSize.reportURL,e).subscribe(e=>{window.open(e.fileName),this.loaderService.isLoading.next(!1)},e=>{this.loaderService.isLoading.next(!1),t.show(),console.error(e)})})}createReport(e,t,i){return Object(l.a)(this,void 0,void 0,function*(){try{this.loaderService.isLoading.next(!0);const a=new Tt.default({url:this.config.printGPServiceURL}),o=new At.a({view:this.mapView,extraParameters:{Format:"PDF"}}),s=new D.a({url:this.config.printGPServiceURL});yield this.mapView.goTo(e.extent.expand(1.5)),a._getPrintDefinition(o,this.mapView).then(e=>Object(l.a)(this,void 0,void 0,function*(){const a=[{id:"ArcGISTiledMapServiceLayer1661",url:"http://server.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer",title:"ArcGISTiledMapServiceLayer1659",minScale:0,maxScale:0}],o=e.operationalLayers.filter(e=>"culvertGraphics"===e.id)[0];a.push(o),e.operationalLayers=a;const r={Web_Map_as_JSON:e,Format:"jpg",Layout_Template:"CulvertSize",f:"json"},n=yield s.submitJob(r);if("job-succeeded"===(yield s.waitForJobCompletion(n.jobId)).jobStatus){const e=yield s.getResultData(n.jobId,"Output_File"),a=t;a.watershedImageURL=e.value.url,this.GeneratePDFReport(a,i)}}),e=>console.error(e))}catch(a){console.error(a),this.loaderService.isLoading.next(!1),i.show()}})}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(O.a),r.Wb(J.a),r.Wb(ae.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac}),e})();const jt=["culvertModal"],It=["errorModal"],Gt=function(e){return{drawCulvertActive:e}};let _t=(()=>{class e{constructor(e,t,i){this.culvertService=e,this.loaderService=t,this.sketchSelectionService=i,this.culvertReportTitle="",this.culvertData={Avg_Slope:5,Clay_WA:28,OBJECTID:1,POLY_AREA:0,Sand_WA:34,Shape_Area:1416,Shape_Length:194,Silt_WA:37,Soil_Texture:"Clay Loam",CulvertSize:"12 inches"},this.graphicsLayer=new m.a({id:"culvertGraphics"}),this.isActive=!1,this.headerBgColor="#353535",this.isCulvertToolActive=!1,this.isPopupVisible=!1}ngAfterViewInit(){}updateSketchState(e){this.sketchSelectionService.changeSketchSelectionMode("culvert",e)}drawPourPoint(){this.isCulvertToolActive||this.isActive?this.clearCulvertTool():(this.updateSketchState(!1),this.isCulvertToolActive=!0,this.isActive=!0,this.culvertUtils=this.culvertService.initialize({mapView:this.mapView,graphicsLayer:this.graphicsLayer}),this.culvertUtils.start(),this.drawingObservable$=this.culvertService.drawingComplete.subscribe(e=>Object(l.a)(this,void 0,void 0,function*(){this.isCulvertToolActive=!1,this.loaderService.isLoading.next(!0);try{const t=this.culvertService.GetCulvertData(e),i=yield t[0].submitJob(t[1]);yield t[0].waitForJobCompletion(i.jobId);const a=yield t[0].getResultData(i.jobId,"Final_Pour_Point"),o=yield t[0].getResultData(i.jobId,"Watershed_Feature"),s=a.value.toJSON(),r=o.value.toJSON(),n=new Ot.a({x:s.features[0].geometry.x,y:s.features[0].geometry.y,spatialReference:{wkid:s.spatialReference.wkid}}),l=new Ot.b({rings:r.features[0].geometry.rings,spatialReference:{wkid:r.spatialReference.wkid}});this.culvertData=r.features[0].attributes,this.culvertData.SoilTexture=function(e,t,i){let a="";return i+1.5*e<15?a="Sand":i+1.5*e>=15&&i+2*e<30?a="Loamy Sand":e>=7&&e<20&&t>52&&i+2*e>=30||e<7&&i<50&&i+2*e>=30?a="Sandy Loam":e>=7&&e<27&&i>=28&&i<50&&t<=52?a="Loam":i>=50&&e>=12&&e<27||i>=50&&i<80&&e<12?a="Silt Loam":i>=80&&e<12?a="Silt":e>=20&&e<35&&i<28&&t>45?a="Sandy Clay Loam":e>=27&&e<40&&t>20&&t<=45?a="Clay Loam":e>=27&&e<40&&t<=20?a="Silty Clay Loam":e>=35&&t>45?a="Sandy Clay":e>=40&&i>=40?a="Silty Clay":e>=40&&t<=45&&i<40&&(a="Clay"),a}(this.culvertData.Clay_WA,this.culvertData.Sand_WA,this.culvertData.Silt_WA),this.culvertData.CulvertSize=((e,t,i)=>{const a=((e,t)=>{let i="";return-1!==["Sand","Loamy Sand","Sandy Loam"].indexOf(e)?i="l":-1!==["Loam","Silt Loam","Silt","Sandy Clay Loam","Clay Loam","Silty Clay Loam"].indexOf(e)?i="m":-1!==["Sandy Clay","Silty Clay","Clay"].indexOf(e)&&(i="h"),["lFlat","lModerate","lSteep","mFlat","mModerate","mSteep","hFlat","hModerate","hSteep"].indexOf(i+(t<5?"Flat":t<15?"Moderate":"Steep"))})(this.culvertData.SoilTexture,this.culvertData.Avg_Slope),o=(e=>{let t=0;return t=e<=5?0:e<=10?1:e<=20?2:e<=30?3:e<=40?4:e<=50?5:e<=75?6:e<=100?7:e<=150?8:e<=200?9:e<=250?10:e<=300?11:e<=350?12:e<=400?13:NaN,t})(i);if(i<=400){const e=Mt[o][a];return 99!==e?e+" inches":"Off Chart"}return"Off Chart"})(0,0,this.culvertData.POLY_AREA),yield Pt.i(),this.pourPointReportWGS=Pt.j(n,new Ot.d({wkid:4326})),this.watershedGeometry=Pt.j(l,new Ot.d({wkid:102100}));const c=new vt.a({geometry:this.watershedGeometry,symbol:new kt.a({color:[218,47,47,.25]}),attributes:r.features[0].attributes}),d=Pt.j(n,new Ot.d({wkid:102100})),b=new vt.a({geometry:d,symbol:new kt.b({style:"cross",outline:{width:1.5}})});this.graphicsLayer.addMany([b,c]),this.mapView.goTo(this.watershedGeometry.extent.expand(1.5)),this.errorModal.visible&&this.errorModal.hide(),this.culvertModal.show(),this.isPopupVisible=!0}catch(t){this.errorModal.show()}finally{this.loaderService.isLoading.next(!1)}})))}cleanup(){this.culvertModal.hide()}clearCulvertTool(){this.culvertService.close(),this.isCulvertToolActive=!1,this.isActive=!1,this.drawTool=void 0,this.drawingObservable$.unsubscribe(),this.isPopupVisible=!1,this.errorModal.hide(),this.updateSketchState(!0)}closeError(){this.culvertService.close(),this.isCulvertToolActive=!1,this.isActive=!1,this.drawTool=void 0,this.drawingObservable$.unsubscribe(),this.isPopupVisible=!1}ngOnDestroy(){this.drawingObservable$.unsubscribe()}createReport(){const e=this.culvertData,t={watershedImageURL:"",zzProjName:this.culvertReportTitle,zzLatitude:Math.round(1e6*this.pourPointReportWGS.latitude)/1e6,zzLongitude:Math.round(1e6*this.pourPointReportWGS.longitude)/1e6,zzAcresDrained:e.POLY_AREA.toFixed(2),zzSlope:e.Avg_Slope.toFixed(2),zzTexture:e.SoilTexture,zzSilt:e.Silt_WA.toFixed(2),zzSand:e.Sand_WA.toFixed(2),zzClay:e.Clay_WA.toFixed(2),zzCulvertDiam:e.CulvertSize};this.culvertService.createReport(this.watershedGeometry,t,this.errorModal)}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(Vt),r.Nb(J.a),r.Nb(Pe.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-culvert-size"]],viewQuery:function(e,t){if(1&e&&(r.Fc(jt,1),r.Fc(It,1)),2&e){let e;r.qc(e=r.ac())&&(t.culvertModal=e.first),r.qc(e=r.ac())&&(t.errorModal=e.first)}},inputs:{mapView:"mapView"},decls:44,vars:36,consts:[[1,"py-3"],[3,"header","itemName"],[1,"centerAlign"],[1,"btn-group"],["type","button","aria-label","point","value","Draw Point",1,"pmlo-btn","pmlo-secondary","generalBtn",3,"disabled","ngClass","click"],[3,"maximizable","backdrop","headerBackgroundColor","closeModal"],["errorModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[3,"maximizable","backdrop","showFooter","headerBackgroundColor","closeModal"],["culvertModal",""],[1,"app-modal-header","bg-pmlo_secondary"],[1,"app-modal-footer"],[1,"createreportBar"],["for","elevationProfileTitle",1,"inline-block","text-gray-700","text-sm","font-bold","mb-2","mr-2"],["aria-label","project name","type","text","maxlength","40",1,"shadow","appearance-none","border","rounded","w-150","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:ring","mr-2",3,"ngModel","ngModelChange"],[1,"pmlo-btn","pmlo-secondary","py-2","px-4",3,"click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Ob(1,"app-help-button",1),r.Ob(2,"br"),r.Sb(3,"div",2),r.Sb(4,"div",3),r.Sb(5,"input",4),r.Zb("click",function(){return t.drawPourPoint()}),r.Rb(),r.Ob(6,"br"),r.Rb(),r.Rb(),r.Rb(),r.Sb(7,"app-modal",5,6),r.Zb("closeModal",function(){return t.closeError()}),r.Qb(9,7),r.Bc(10,"Error"),r.Pb(),r.Qb(11,8),r.Bc(12," An error occured while processing your request. Please try again. "),r.Pb(),r.Rb(),r.Sb(13,"app-modal",9,10),r.Zb("closeModal",function(){return t.clearCulvertTool()}),r.Qb(15,11),r.Bc(16,"Watershed Properties"),r.Pb(),r.Qb(17,8),r.Bc(18),r.ec(19,"number"),r.Ob(20,"br"),r.Bc(21),r.ec(22,"number"),r.Ob(23,"br"),r.Bc(24),r.Ob(25,"br"),r.Bc(26),r.ec(27,"number"),r.Ob(28,"br"),r.Bc(29),r.ec(30,"number"),r.Ob(31,"br"),r.Bc(32),r.ec(33,"number"),r.Ob(34,"br"),r.Bc(35),r.Ob(36,"br"),r.Pb(),r.Qb(37,12),r.Sb(38,"span",13),r.Sb(39,"label",14),r.Bc(40," Project Name: "),r.Rb(),r.Sb(41,"input",15),r.Zb("ngModelChange",function(e){return t.culvertReportTitle=e}),r.Rb(),r.Sb(42,"button",16),r.Zb("click",function(){return t.createReport()}),r.Bc(43,"Create Report"),r.Rb(),r.Rb(),r.Pb(),r.Rb()),2&e&&(r.Bb(1),r.jc("header","Culvert Size")("itemName","culvert"),r.Bb(4),r.jc("disabled",t.isPopupVisible)("ngClass",r.mc(34,Gt,t.isCulvertToolActive)),r.Bb(2),r.jc("maximizable",!1)("backdrop",!0)("headerBackgroundColor","red"),r.Bb(6),r.jc("maximizable",!1)("backdrop",!1)("showFooter",!0)("headerBackgroundColor",t.headerBgColor),r.Bb(5),r.Dc(" Area (Acres): ",r.gc(19,19,t.culvertData.POLY_AREA,"1.2"),""),r.Bb(3),r.Dc(" Mean Slope (%): ",r.gc(22,22,t.culvertData.Avg_Slope,"1.2"),""),r.Bb(3),r.Dc(" Soil Texture: ",t.culvertData.SoilTexture,""),r.Bb(2),r.Dc(" Sand (%): ",r.gc(27,25,t.culvertData.Sand_WA,"1.2"),""),r.Bb(3),r.Dc(" Silt (%): ",r.gc(30,28,t.culvertData.Silt_WA,"1.2"),""),r.Bb(3),r.Dc(" Clay (%): ",r.gc(33,31,t.culvertData.Clay_WA,"1.2"),""),r.Bb(3),r.Dc(" Recommended Minimum Culvert Diameter: ",t.culvertData.CulvertSize,""),r.Bb(6),r.jc("ngModel",t.culvertReportTitle))},directives:[se.a,o.k,Bt.a,ne.b,ne.g,ne.j,ne.m],pipes:[o.f],styles:[".drawCulvertActive[_ngcontent-%COMP%]{border:2px solid #00feea}"]}),e})();var zt=i("bUUP"),Nt=i("DWcW"),Dt=i("IIzr"),Ht=i("/rtH"),Ft=i("m1Uf"),Et=i("7HKM"),Wt=i("W5Qm"),Zt=i("aCCJ"),Ut=i("GxbR"),qt=i("72l/");function Jt(e,t){1&e&&(r.cc(),r.Sb(0,"svg",10),r.Ob(1,"path",11),r.Rb())}function Qt(e,t){1&e&&(r.cc(),r.Sb(0,"svg",12),r.Ob(1,"path",13),r.Rb())}function Yt(e,t){1&e&&(r.cc(),r.Sb(0,"svg",12),r.Ob(1,"path",14),r.Rb())}function Kt(e,t){if(1&e){const e=r.Tb();r.Sb(0,"th",7),r.Zb("click",function(){r.tc(e);const i=t.$implicit;return r.dc().updateSortImages(i)}),r.Bc(1),r.Sb(2,"span"),r.Ac(3,Jt,2,0,"svg",8),r.Ac(4,Qt,2,0,"svg",9),r.Ac(5,Yt,2,0,"svg",9),r.Rb(),r.Rb()}if(2&e){const e=t.$implicit;r.Bb(1),r.Cc(e.label),r.Bb(2),r.jc("ngIf",!e.isSortActive),r.Bb(1),r.jc("ngIf",e.isSortActive&&e.sortedAsc),r.Bb(1),r.jc("ngIf",e.isSortActive&&!e.sortedAsc)}}const $t=function(e){return{selectedSoil:e}},Xt=function(e){return{"background-color":e}};function ei(e,t){if(1&e){const e=r.Tb();r.Sb(0,"tr",15),r.Zb("click",function(){r.tc(e);const i=t.$implicit;return r.dc().selectSoil(i)}),r.Sb(1,"td",16),r.Sb(2,"div",17),r.Bc(3),r.Rb(),r.Rb(),r.Sb(4,"td",18),r.Bc(5),r.Rb(),r.Sb(6,"td",5),r.Bc(7),r.Rb(),r.Sb(8,"td",5),r.Bc(9),r.Rb(),r.Rb()}if(2&e){const e=t.$implicit,i=r.dc();r.jc("ngClass",r.mc(6,$t,i.selectedSoil===e)),r.Bb(2),r.jc("ngStyle",r.mc(8,Xt,i.getBackgroundColor(e.attributes))),r.Bb(1),r.Dc("",e.attributes.musym," "),r.Bb(2),r.Cc(e.attributes.muname),r.Bb(2),r.Cc(i.getsoilAcres(e.attributes.Shape_Area)),r.Bb(2),r.Dc("",i.getsoilPercentage(e.attributes.Shape_Area),"%")}}let ti=(()=>{class e{constructor(e){this.soilsService=e,this.headElements=[],this.totalAreaSqMt=0}ngOnInit(){this.soilsService.shareMultiSoils.subscribe(e=>{this.totalAreaSqMt=e.reduce((e,t)=>e+t.attributes.Shape_Area,0),this.totalAcres=Object(G.a)(Object(I.b)(this.totalAreaSqMt),1),this.soils=e,this.resetHeadElements(),this.sortByAttribute("Shape_Area",!1)})}getsoilAcres(e){return Object(G.a)(Object(I.b)(e),1)}getsoilPercentage(e){return Object(G.a)(e/this.totalAreaSqMt*100,1)}getBackgroundColor(e){let t=e.HexColor;return"W"===e.musym&&(t=Ce.h),t}updateSortImages(e){this.headElements.forEach(t=>{t===e?(t.isSortActive=!0,t.sortedAsc=!t.sortedAsc,this.sortByAttribute(t.sortField,t.sortedAsc)):t.isSortActive=!1})}selectSoil(e){this.selectedSoil===e?(this.selectedSoil=void 0,this.soilsService.selectPolygonFromTable.emit(null)):(this.selectedSoil=e,this.soilsService.selectPolygonFromTable.emit(e))}sortByAttribute(e,t){this.soils.sort(t?(t,i)=>t.attributes[e]>i.attributes[e]?1:-1:(t,i)=>i.attributes[e]>t.attributes[e]?1:-1)}resetHeadElements(){this.headElements=[new qt.a("Symbol","musym",!0,!1),new qt.a("Soil Name","muname",!0,!1),new qt.a("Acres","Shape_Area",!1,!0),new qt.a("Percentage","Shape_Area",!0,!1)]}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(L.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-soils-table"]],decls:16,vars:3,consts:[[1,"table-auto"],["class","px-4 py-1 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"font-bold"],["colspan","2",1,"px-4","py-1"],[1,"px-4","py-1","text-right"],[1,"footerNote"],[1,"px-4","py-1","cursor-pointer",3,"click"],["role","img","aria-hidden","true","focusable","false","class","sortIcon float-right greyColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["role","img","aria-hidden","true","focusable","false","class","sortIcon float-right text-pmlo_secondary","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",4,"ngIf"],["role","img","aria-hidden","true","focusable","false","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"sortIcon","float-right","greyColor"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"],["role","img","aria-hidden","true","focusable","false","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"sortIcon","float-right","text-pmlo_secondary"],["fill","currentColor","d","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"],["fill","currentColor","d","M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"],[1,"cursor-pointer",3,"ngClass","click"],[1,"px-4","py-1","text-center"],[3,"ngStyle"],[1,"px-4","py-1"]],template:function(e,t){1&e&&(r.Sb(0,"table",0),r.Sb(1,"thead"),r.Sb(2,"tr"),r.Ac(3,Kt,6,4,"th",1),r.Rb(),r.Rb(),r.Sb(4,"tbody"),r.Ac(5,ei,10,10,"tr",2),r.Rb(),r.Sb(6,"tfoot"),r.Sb(7,"tr",3),r.Sb(8,"td",4),r.Bc(9,"Total"),r.Rb(),r.Sb(10,"td",5),r.Bc(11),r.Rb(),r.Sb(12,"td",5),r.Bc(13,"100.0%"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(14,"p",6),r.Bc(15,"Note: Small deviations possibly found in the table values are due to rounding in calculations."),r.Rb()),2&e&&(r.Bb(3),r.jc("ngForOf",t.headElements),r.Bb(2),r.jc("ngForOf",t.soils),r.Bb(6),r.Cc(t.totalAcres))},directives:[o.l,o.m,o.k,o.n],styles:["th[_ngcontent-%COMP%]{background-color:#eee;position:relative}th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:.125em}.greyColor[_ngcontent-%COMP%]{color:#d3d3d3}table[_ngcontent-%COMP%]{font-size:.875em;min-width:33.125em;width:100%}tr[_ngcontent-%COMP%]{border:.125em solid #ddd}.footerNote[_ngcontent-%COMP%]{font-size:.625em}.selectedSoil[_ngcontent-%COMP%]{background-color:#007fff;color:#fff}.sortIcon[_ngcontent-%COMP%]{width:.625em}"]}),e})();var ii=i("OFbc");const ai=function(){return{"width.px":25,fill:"black"}};function oi(e,t){1&e&&(r.Sb(0,"div",9),r.Sb(1,"p",10),r.Bc(2,"The Draw toolbox contains tools to draw areas (polygons and circles), lines (linear features), and points of interest.\xa0\xa0In addition, text can be added to the map."),r.Rb(),r.Sb(3,"p",10),r.Bc(4,"To define areas, circles, linear features, and points, or to add text to the map, select the button corresponding to the drawing tool of interest to activate it and all the drawing options to style that element will be available."),r.Rb(),r.Sb(5,"p",10),r.Bc(6,"For example, to draw a boundary, select the "),r.Sb(7,"b"),r.Bc(8,"Polygon"),r.Rb(),r.Ob(9,"svg-icon",11),r.Bc(10," button and select the options for drawing mode, line style, and fill style.\xa0\xa0Once these are set, move the cursor to the map and begin adding points at each location where the boundary changes direction.\xa0\xa0Move the cursor in the direction of the next point and click to add a new point.\xa0\xa0Continue this until you draw the entire boundary.\xa0\xa0Double-clicking to add the last point will complete the drawing."),r.Rb(),r.Sb(11,"p",10),r.Bc(12,"To add circles, lines, points of interest, or text, follow the same steps as for area polygons.\xa0\xa0To draw a circle, select the "),r.Sb(13,"b",12),r.Bc(14,"Circle"),r.Rb(),r.Ob(15,"svg-icon",11),r.Bc(16," tool and specify the drawing mode.\xa0\xa0Two options are offered, "),r.Sb(17,"b"),r.Bc(18,"Click"),r.Rb(),r.Bc(19," and "),r.Sb(20,"b"),r.Bc(21,"Freehand"),r.Rb(),r.Bc(22,".\xa0\xa0By selecting "),r.Sb(23,"b"),r.Bc(24,"Freehand"),r.Rb(),r.Bc(25," you can draw a circle by hand.\xa0\xa0To use this option, move the cursor to the map, and press down the left button of the mouse at the location that will be the center of the circle, and start moving the cursor away from the center to define its size.\xa0\xa0When you are satisfied with the size of the circle, release the mouse button.\xa0\xa0To create a circle with a specific radius distance, select the "),r.Sb(26,"b"),r.Bc(27,"Click"),r.Rb(),r.Bc(28," drawing mode option, enter the desired radius, move the cursor to the map and click on the map to specify the center of the circle."),r.Rb(),r.Sb(29,"p",10),r.Bc(30,"To draw a line, select the "),r.Sb(31,"b"),r.Bc(32,"Line"),r.Rb(),r.Ob(33,"svg-icon",11),r.Bc(34," tool and specify the drawing mode and style options.\xa0\xa0Linear features can be drawn either as polylines (connected segments of straight lines) or as freehand lines, such as the way you draw using a pencil. "),r.Rb(),r.Sb(35,"p",10),r.Bc(36,"To add points of interest or text, select the respective tool and specify the appearance options as was done for areas and lines.\xa0\xa0Click the "),r.Sb(37,"b"),r.Bc(38,"Point"),r.Rb(),r.Bc(39," or "),r.Sb(40,"b"),r.Bc(41,"Text"),r.Rb(),r.Bc(42," tool, whichever is applicable, and click anywhere on the map to create the point or text."),r.Rb(),r.Sb(43,"p",10),r.Bc(44,"To deactivate all the drawing tools, click on the "),r.Sb(45,"b"),r.Bc(46,"Clear"),r.Rb(),r.Bc(47," button whenever a tool is active."),r.Rb(),r.Rb()),2&e&&(r.Bb(9),r.jc("src","assets/icons/polygon.svg")("svgStyle",r.lc(6,ai)),r.Bb(6),r.jc("src","assets/icons/circle.svg")("svgStyle",r.lc(7,ai)),r.Bb(18),r.jc("src","assets/icons/polyline.svg")("svgStyle",r.lc(8,ai)))}function si(e,t){1&e&&(r.Sb(0,"div",13),r.Sb(1,"p",10),r.Bc(2,'If you are not satisfied with the drawing and want to edit it, click on the drawn feature to select it and enable editing mode.\xa0\xa0In the case of editing an area, notice the blue circular points on each corner or vertex.\xa0\xa0Click on these and drag them to a new, desired location to move these points.\xa0\xa0To delete an existing vertex, right-click on it.\xa0\xa0New vertices can be added by clicking on and dragging the "ghost" vertices (grey circular points) to the desired location.\xa0\xa0The moved ghost vertex will now show as a new point (blue).\xa0\xa0Ghost vertices are displayed halfway between two existing points.\xa0\xa0Similar steps can be followed to edit lines.'),r.Rb(),r.Sb(3,"p",10),r.Bc(4,"Points of interest can be moved by first clicking on it to select it, which will be indicated by changing to cyan blue color.\xa0\xa0You can now click and drag it to a new location."),r.Rb(),r.Sb(5,"p",10),r.Bc(6,"Text can be moved by first clicking on it and then dragging the text to the desired position using the input box handler.\xa0\xa0To delete the text, click on the delete icon."),r.Rb(),r.Sb(7,"p",10),r.Bc(8,"If you want to move a label showing the acreage, click on the label to select it, then click and drag it to the new location.\xa0\xa0If you do not wish to display the acreage labels, uncheck the "),r.Sb(9,"b"),r.Bc(10,"Area/Distance Labels"),r.Rb(),r.Bc(11," checkbox, and vice versa."),r.Rb(),r.Sb(12,"p",10),r.Bc(13,"Clicking on the "),r.Sb(14,"b"),r.Bc(15,"Delete All"),r.Rb(),r.Bc(16," button (at the bottom of the map) will delete all drawings.\xa0\xa0Clicking the "),r.Sb(17,"b"),r.Bc(18,"Undo"),r.Rb(),r.Bc(19," button (also at the bottom of the map) will delete the last feature drawn.\xa0\xa0Clicking on it again will delete the next to last one drawn.\xa0\xa0This can be done to sequentially delete features in reverse order that they were added.\xa0\xa0The same functionality holds for the "),r.Sb(20,"b"),r.Bc(21,"Redo"),r.Rb(),r.Bc(22," button."),r.Rb(),r.Rb())}const ri=function(e){return{"tab-label-active":e}};let ni=(()=>{class e{constructor(){this.isDrawActive=!0}ngOnInit(){}setActiveTab(e){(this.isDrawActive&&!e||!this.isDrawActive&&e)&&(this.isDrawActive=!this.isDrawActive)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-draw-help"]],decls:12,vars:8,consts:[[1,"tab-label-container","flex"],["role","tablist",1,"tab-list"],[1,"tab-labels"],["role","tab",1,"tab-label",3,"ngClass","click"],["id","drawTab",1,"tab-label-content"],["id","editTab",1,"tab-label-content"],[1,"tab-body-wrapper"],["role","tabpanel","class","tab-body","aria-labelledby","drawTab",4,"ngIf"],["role","tabpanel","class","tab-body","aria-labelledby","editTab",4,"ngIf"],["role","tabpanel","aria-labelledby","drawTab",1,"tab-body"],[1,"mt-2"],[3,"src","svgStyle"],[1,"mt-1"],["role","tabpanel","aria-labelledby","editTab",1,"tab-body"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"div",2),r.Sb(3,"button",3),r.Zb("click",function(){return t.setActiveTab(!0)}),r.Sb(4,"div",4),r.Bc(5," Draw "),r.Rb(),r.Rb(),r.Sb(6,"button",3),r.Zb("click",function(){return t.setActiveTab(!1)}),r.Sb(7,"div",5),r.Bc(8," Edit "),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(9,"div",6),r.Ac(10,oi,48,9,"div",7),r.Ac(11,si,23,0,"div",8),r.Rb()),2&e&&(r.Bb(3),r.jc("ngClass",r.mc(4,ri,t.isDrawActive)),r.Bb(3),r.jc("ngClass",r.mc(6,ri,!t.isDrawActive)),r.Bb(4),r.jc("ngIf",t.isDrawActive),r.Bb(1),r.jc("ngIf",!t.isDrawActive))},directives:[o.k,o.m,ii.b],styles:[".tab-label-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);display:flex;flex-grow:1;overflow:hidden}.tab-list[_ngcontent-%COMP%]{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.tab-labels[_ngcontent-%COMP%]{display:flex}.tab-label[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;cursor:pointer;display:inline-flex;font-weight:500;height:48px;justify-content:center;min-width:160px;opacity:.6;padding:0 24px;position:relative;text-align:center;white-space:nowrap}.tab-label-active[_ngcontent-%COMP%]{--tw-border-opacity:1;border-bottom:2px solid;border-color:rgba(53,53,53,var(--tw-border-opacity))}.tab-label-content[_ngcontent-%COMP%]{cursor:pointer}svg-icon[_ngcontent-%COMP%]{display:inline-block;height:1.3rem}"]}),e})(),li=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-sens-areas-help"]],decls:42,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox allows for display of various sensitive areas within a project area from a context of Best Management Practices (BMPs) for the protection of soil and water quality.\xa0\xa0Sensitive areas include stream buffers, also called streamside management zone (SMZs), severe slopes, and wet areas."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,"To display sensitive areas, first need to have defined a boundary for a project area.\xa0\xa0Then, click on the "),r.Sb(4,"b"),r.Bc(5,"Calculate Areas"),r.Rb(),r.Bc(6," button, and wait until the sensitive areas display in the map."),r.Rb(),r.Sb(7,"p",0),r.Bc(8,"By default, the SMZs are produced using a 50-ft buffer and wet areas have no buffer.\xa0\xa0For both SMZs and wet areas, you can define the buffer width to use by entering the value in feet and clicking the "),r.Sb(9,"b"),r.Bc(10,"Buffer"),r.Rb(),r.Bc(11," button.\xa0\xa0To define a buffer width, click on the plus "),r.Sb(12,"b"),r.Bc(13,"(+)"),r.Rb(),r.Bc(14," sign to the left of either SMZ or wet areas.\xa0\xa0For SMZs, an additional 5 feet is added to the buffer width to account for the stream width."),r.Rb(),r.Sb(15,"p",0),r.Bc(16,"Severe slopes are considered over 8% by default.\xa0\xa0You can define the minimum percent value of slope that you consider severe by clicking on the plus "),r.Sb(17,"b"),r.Bc(18,"(+)"),r.Rb(),r.Bc(19," sign to the left of the severe slopes, entering the value in percentage, and clicking the "),r.Sb(20,"b"),r.Bc(21,"Set"),r.Rb(),r.Bc(22," button."),r.Rb(),r.Sb(23,"p",0),r.Bc(24,"Click "),r.Sb(25,"b"),r.Bc(26,"Create a Report"),r.Rb(),r.Bc(27," to produce a one-page PDF report that summarizes project area including a map showing the sensitive areas within the project area and area or distance for each one of the sensitive area types.\xa0\xa0Optionally, a "),r.Sb(28,"b"),r.Bc(29,"Report Title"),r.Rb(),r.Bc(30," can be added."),r.Rb(),r.Sb(31,"p",0),r.Bc(32,"To delete sentive areas from the map click on the "),r.Sb(33,"b"),r.Bc(34,"Clear Layer"),r.Rb(),r.Bc(35," button."),r.Rb(),r.Sb(36,"p",0),r.Bc(37,"Streams were produced from the National Hydrography Dataset (NHD)."),r.Rb(),r.Sb(38,"p",0),r.Bc(39,"Wet areas was produced from geospatial data provided by the National Wetlands Inventory, a program established by U.S. Fish & Wildlife Service; however, they are not necessarily jurisdictional wetlands as defined by EPA or the Army Corps of Engineers."),r.Rb(),r.Sb(40,"p",0),r.Bc(41,"Severe slopes was produced from a 10-meter Digital Elevation Model (DEM) for Texas, and SSURGO database for all the other states (please refer to soils toolbox help to get more information)."),r.Rb())},styles:[""]}),e})(),ci=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-soils-help"]],decls:188,vars:0,consts:[[1,"mt-2"],["href","https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_053627","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/planners/?cid=nrcs142p2_054262","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://sdmdataaccess.sc.egov.usda.gov/","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox contains several tools for displaying soils and their attributes either across the entire map or just within the project area boundary."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,"To display the soils across the whole map, check the "),r.Sb(4,"b"),r.Bc(5,"Visible"),r.Rb(),r.Bc(6," checkbox; however, they only display at a high zoom level.\xa0\xa0 To investigate various attributes associated with an individual soil, check the "),r.Sb(7,"b"),r.Bc(8,"Identify"),r.Rb(),r.Bc(9," checkbox.\xa0\xa0With the Identify checkbox checked, click on an individual soil on the map to display a window listing a set of selected attributes for that soil."),r.Rb(),r.Sb(10,"p",0),r.Bc(11,"You can clip the soils to the boundary of your project area by clicking on the "),r.Sb(12,"b"),r.Bc(13,"Clip"),r.Rb(),r.Bc(14," button.\xa0\xa0Before using this tool, ensure a single project area boundary is displayed on the map and that this area is less than 100,000 acres.\xa0\xa0To make the clipped soils layer transparent, you can move the "),r.Sb(15,"b"),r.Bc(16,"Layer Transparency"),r.Rb(),r.Bc(17," slider handle to the right.\xa0\xa0A transparency value of 75 and greater will cause the active layer to display with no fill and with outlines and labels as orange, similar to NRCS\u2019s Web Soil Survey.\xa0\xa0A value of 100 will result in the layer not showing at all.\xa0\xa0This transparency slider is synchronized with the one in operational considerations and regeneration so that the transparency will be applied to all layers in the three toolboxes."),r.Rb(),r.Sb(18,"p",0),r.Bc(19,"When the soils layer is clipped to the property boundary, a table is displayed showing the percentage of each type of soil within the property boundary.\xa0\xa0To identify the type of soil, click on a table row and the soil type will be highlighted on the map.\xa0\xa0To unselect the highlighted area on the map, click again on the selected table row.\xa0\xa0To hide or show the table back click on the "),r.Sb(20,"b"),r.Bc(21,"Hide/Show Table"),r.Rb(),r.Bc(22," button.\xa0\xa0 To remove the clipped layer, click the "),r.Sb(23,"b"),r.Bc(24,"Clear Clipped Layer"),r.Rb(),r.Bc(25," button."),r.Rb(),r.Sb(26,"p",0),r.Bc(27,"Click "),r.Sb(28,"b"),r.Bc(29,"Create a Report"),r.Rb(),r.Bc(30," to produce a PDF report that summarizes project area including a map of the project area boundary, a map showing the soils within the project area, and a one-page summary for each soil listing selected attributes.\xa0\xa0Optionally, a "),r.Sb(31,"b"),r.Bc(32,"Report Title"),r.Rb(),r.Bc(33," can be added."),r.Rb(),r.Sb(34,"p",0),r.Bc(35,"Soil polygons are made available as a Web Map Service from the Soil Data Access Web Service provided by National Resource Conservation Service (NRCS).\xa0\xa0Soil attribute information is queried from the NRCS Soil Data Access Web Service.\xa0\xa0Both of these services use data from the Soil Survey Geographic (SSURGO) database.\xa0\xa0For a description of SSURGO, please refer to the "),r.Sb(36,"a",1),r.Bc(37,"NRCS Description of SSURGO Database"),r.Rb(),r.Bc(38,".\xa0\xa0For additional information on soil surveys, see "),r.Sb(39,"a",2),r.Bc(40,"NRCS Soil Survey Manual"),r.Rb(),r.Bc(41,"."),r.Rb(),r.Sb(42,"p",0),r.Sb(43,"b"),r.Bc(44,"Citation:"),r.Rb(),r.Rb(),r.Sb(45,"p",0),r.Bc(46,"Soil Survey Staff, Natural Resources Conservation Service, United States Department of Agriculture.\xa0\xa0Soil Survey Geographic (SSURGO) Database.\xa0\xa0Available online at "),r.Sb(47,"a",3),r.Bc(48,"https://sdmdataaccess.sc.egov.usda.gov/"),r.Rb(),r.Bc(49,"."),r.Rb(),r.Sb(50,"p",0),r.Bc(51,"The soils layer shows map units, which are collections of areas defined and named the same in terms of their soil components.\xa0\xa0For simplicity, the term soil here refers to a map unit.\xa0\xa0The following attributes have been extracted from SSURGO and included here:"),r.Rb(),r.Sb(52,"p",0),r.Sb(53,"b"),r.Bc(54,"Mapunit Symbol"),r.Rb(),r.Bc(55,":\xa0\xa0Label used on map to identify each soil.\xa0\xa0Used as header in the identify window."),r.Rb(),r.Sb(56,"p",0),r.Sb(57,"b"),r.Bc(58,"Map Unit Name"),r.Rb(),r.Bc(59,":\xa0\xa0Name of soil."),r.Rb(),r.Sb(60,"p",0),r.Sb(61,"b"),r.Bc(62,"Map Unit Dominant Component"),r.Rb(),r.Bc(63,":\xa0\xa0The component that makes up the majority of the soil map unit."),r.Rb(),r.Sb(64,"p",0),r.Sb(65,"b"),r.Bc(66,"Percent of Map Unit"),r.Rb(),r.Bc(67,":\xa0\xa0The percentage of the map unit that the dominant component makes up."),r.Rb(),r.Sb(68,"p",0),r.Sb(69,"b"),r.Bc(70,"Taxonomic Classification"),r.Rb(),r.Bc(71,":\xa0\xa0The soil classification used by the National Cooperative Soil Survey having six categories including Order, Suborder, Great Group, Subgroup, Family, and Series."),r.Rb(),r.Sb(72,"p",0),r.Sb(73,"b"),r.Bc(74,"A Horizon"),r.Rb(),r.Bc(75,":\xa0\xa0Texture of surface horizon."),r.Rb(),r.Sb(76,"p",0),r.Sb(77,"b"),r.Bc(78,"B Horizon"),r.Rb(),r.Bc(79,":\xa0\xa0Texture of subsurface horizon."),r.Rb(),r.Sb(80,"p",0),r.Sb(81,"b"),r.Bc(82,"Slope Gradient"),r.Rb(),r.Bc(83,":\xa0\xa0Percent slope."),r.Rb(),r.Sb(84,"p",0),r.Sb(85,"b"),r.Bc(86,"Erosion Class"),r.Rb(),r.Bc(87,":\xa0\xa0Erosion class of soil."),r.Rb(),r.Sb(88,"p",0),r.Sb(89,"b"),r.Bc(90,"Drainage Class"),r.Rb(),r.Bc(91,":\xa0\xa0The natural drainage condition of the soil refers to the frequency and duration of wet periods including Excessively Drained, Somewhat Excessively Drained, Well Drained, Moderately Well Drained, Somewhat Poorly Drained, Poorly Drained, and Very Poorly Drained."),r.Rb(),r.Sb(92,"p",0),r.Sb(93,"b"),r.Bc(94,"Depth to Water Table (inches)"),r.Rb(),r.Bc(95,":\xa0\xa0Depth to the water table in inches."),r.Rb(),r.Sb(96,"p",0),r.Sb(97,"b"),r.Bc(98,"Hydric Rating"),r.Rb(),r.Bc(99,":\xa0\xa0Percentage of map unit considered hydric."),r.Rb(),r.Sb(100,"p",0),r.Sb(101,"b"),r.Bc(102,"Flooding Frequency"),r.Rb(),r.Bc(103,":\xa0\xa0The annual probability of a flood event expressed as a class including None, Very Rare, Rare, Occasional, Frequent, and Very Frequent."),r.Rb(),r.Sb(104,"p",0),r.Sb(105,"b"),r.Bc(106,"Presence of Ponding"),r.Rb(),r.Bc(107,":\xa0\xa0The percent chance in ponding in any one year."),r.Rb(),r.Sb(108,"p",0),r.Sb(109,"b"),r.Bc(110,"Site Index Max Value"),r.Rb(),r.Bc(111,":\xa0\xa0Weighted average of the highest site index (height of trees at 50 years of age) value for any tree species within a component for each soil (map unit)."),r.Rb(),r.Sb(112,"p",0),r.Sb(113,"b"),r.Bc(114,"Site Index Max Value Species"),r.Rb(),r.Bc(115,":\xa0\xa0Tree species of the calculated weighted average of the highest site index."),r.Rb(),r.Sb(116,"p",0),r.Sb(117,"b"),r.Bc(118,"Ecological Class ID"),r.Rb(),r.Bc(119,":\xa0\xa0Ecological Classification ID is the identifier of a particular ecological community.\xa0\xa0It also serves as a hyperlink to NRSC information about that Ecological Class."),r.Rb(),r.Sb(120,"p",0),r.Sb(121,"b"),r.Bc(122,"Ecological Class"),r.Rb(),r.Bc(123,":\xa0\xa0Ecological Classification Name is the descriptive name of a particular ecological community."),r.Rb(),r.Sb(124,"p",0),r.Sb(125,"b"),r.Bc(126,"Construction Limitations for Haul Roads and Log Landings"),r.Rb(),r.Bc(127,":\xa0\xa0For limitations affecting the construction of haul roads and log landings, the ratings are based on slope, flooding, permafrost, plasticity index, the hazard of soil slippage, content of sand, the Unified classification of the soil, rock fragments on or below the surface, depth to a restrictive layer that is indurated, depth to a water table, and ponding.\xa0\xa0Limitations can be slight, moderate, or severe."),r.Rb(),r.Sb(128,"p",0),r.Sb(129,"b"),r.Bc(130,"Harvest Equipment Operability"),r.Rb(),r.Bc(131,":\xa0\xa0Suitability for use of forestland harvesting equipment.\xa0\xa0The ratings are based on slope, rock fragments on the surface, plasticity index, content of sand, the Unified classification of the soil, depth to a water table, and ponding.\xa0\xa0Standard rubber-tire skidders and bulldozers are assumed to be used for ground-based harvesting and transport.\xa0\xa0Suitability includes Well Suited, Moderately Suited, and Poorly Suited."),r.Rb(),r.Sb(132,"p",0),r.Sb(133,"b"),r.Bc(134,"Erosion Hazard: Off-Road/Off-Trail"),r.Rb(),r.Bc(135,":\xa0\xa0Hazard of soil loss from off-road and off-trail areas after disturbance activities that expose the soil surface.\xa0\xa0The ratings are based on slope and soil erosion factor K.\xa0\xa0The soil loss is caused by sheet or rill erosion in off-road or off-trail areas where 50 to 75 percent of the surface has been exposed by logging, grazing, mining, or other kinds of disturbance.\xa0\xa0Hazard classes include Slight, Moderate, Severe, and Very severe."),r.Rb(),r.Sb(136,"p",0),r.Sb(137,"b"),r.Bc(138,"Erosion Hazard - Road/Trail"),r.Rb(),r.Bc(139,":\xa0\xa0The ratings in this interpretation indicate the hazard of soil loss from unsurfaced roads and trails.\xa0\xa0The ratings are based on soil erosion factor K, slope, and content of rock fragments.\xa0\xa0Hazard is described as Slight, Moderate, or Severe."),r.Rb(),r.Sb(140,"p",0),r.Sb(141,"b"),r.Bc(142,"Soil Rutting Hazard"),r.Rb(),r.Bc(143,":\xa0\xa0Hazard of surface rut formation through the operation of forestland equipment.\xa0\xa0Soil displacement and puddling (soil deformation and compaction) may occur simultaneously with rutting.\xa0\xa0Hazard is described as Slight, Moderate, or Severe."),r.Rb(),r.Sb(144,"p",0),r.Sb(145,"b"),r.Bc(146,"Suitability for Roads and Log Landings"),r.Rb(),r.Bc(147,":\xa0\xa0Suitability for using the natural surface of the soil for roads and as log landings in forested areas.\xa0\xa0The ratings are based on slope, rock fragments on the surface, plasticity index, content of sand, the Unified classification of the soil, depth to a water table, ponding, flooding, and the hazard of soil slippage.\xa0\xa0Suitability classes include Well Suited, Moderately Suited, and Poorly Suited."),r.Rb(),r.Sb(148,"p",0),r.Sb(149,"b"),r.Bc(150,"Suitability for Roads on Natural Surface"),r.Rb(),r.Bc(151,":\xa0\xa0Suitability for using the natural surface of the soil for roads.\xa0\xa0The ratings are based on slope, rock fragments on the surface, plasticity index, content of sand, the Unified classification of the soil, depth to a water table, ponding, flooding, and the hazard of soil slippage.\xa0\xa0Suitability classes include Well Suited, Moderately Suited, and Poorly Suited."),r.Rb(),r.Sb(152,"p",0),r.Sb(153,"b"),r.Bc(154,"Potential for Seedling Mortality"),r.Rb(),r.Bc(155,":\xa0\xa0The ratings in this interpretation indicate the likelihood of death of naturally or artificially propagated tree seedlings, as influenced by soil characteristics, physiographic features, and climatic conditions.\xa0\xa0Considered in the ratings are flooding, ponding, depth to a water table, content of lime, reaction, available water capacity, soil moisture regime, soil temperature regime, aspect, and slope.\xa0\xa0Seedling mortality classes include Low, Moderate, and High."),r.Rb(),r.Sb(156,"p",0),r.Sb(157,"b"),r.Bc(158,"Mechanical Site Preparation (Surface)"),r.Rb(),r.Bc(159,":\xa0\xa0Suitability for use of surface-altering soil tillage equipment during site preparation in forested areas.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0The part of the soil from the surface to a depth of about 1 foot is considered in the ratings.\xa0\xa0Suitability includes Well Suited, Moderately Suited, Poorly Suited, and Unsuited."),r.Rb(),r.Sb(160,"p",0),r.Sb(161,"b"),r.Bc(162,"Mechanical Site Preparation (Deep)"),r.Rb(),r.Bc(163,":\xa0\xa0Suitability for the use of deep soil tillage equipment during site preparation in forested areas.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0The part of the soil from the surface to a depth of about 3 feet is considered in the ratings.\xa0\xa0Suitability includes Well Suited, Moderately Suited, Poorly Suited, and Unsuited."),r.Rb(),r.Sb(164,"p",0),r.Sb(165,"b"),r.Bc(166,"Suitability for Machine Planting"),r.Rb(),r.Bc(167,":\xa0\xa0Expected difficulty of planting trees or shrubs using a mechanical planter.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, content of sand, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding\xa0\xa0It is assumed that necessary site preparation is completed before seedlings are planted.\xa0\xa0Suitability includes Well Suited, Moderately Suited, Poorly Suited, and Unsuited."),r.Rb(),r.Sb(168,"p",0),r.Sb(169,"b"),r.Bc(170,"Suitability for Hand Planting"),r.Rb(),r.Bc(171,":\xa0\xa0Expected difficulty of hand planting of forestland plants.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, content of sand, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0It is assumed that necessary site preparation is completed before seedlings are planted.\xa0\xa0Suitability includes Well Suited, Moderately Suited, Poorly Suited, and Unsuited."),r.Rb(),r.Sb(172,"p",0),r.Sb(173,"b"),r.Bc(174,"Potential for Damage by Fire"),r.Rb(),r.Bc(175,":\xa0\xa0Potential for damage to nutrient, physical, and biotic soil characteristics by fire.\xa0\xa0The ratings involve an evaluation of the potential impact of prescribed fires or wildfires that are intense enough to remove the duff layer and consume organic matter in the surface layer.\xa0\xa0Damage by fire classes include Low, Moderate, and High."),r.Rb(),r.Sb(176,"p",0),r.Sb(177,"b"),r.Bc(178,"Survey Area Version"),r.Rb(),r.Bc(179,":\xa0\xa0Survey area version number and availability date."),r.Rb(),r.Sb(180,"p",0),r.Sb(181,"b"),r.Bc(182,"Tabular Version"),r.Rb(),r.Bc(183,":\xa0\xa0Tabular data version number and availability date."),r.Rb(),r.Sb(184,"p",0),r.Sb(185,"b"),r.Bc(186,"Spatial Version"),r.Rb(),r.Bc(187,":\xa0\xa0Spatial data version number and availability date."),r.Rb())},styles:[""]}),e})(),di=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-harvest-operations-help"]],decls:42,vars:0,consts:[[1,"mt-2"],[1,"mt=2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox displays information on selected operational considerations from the NRCS SSURGO (for more information please refer to soils toolbox help).\xa0\xa0For these, a legend appears for the following soil characteristics, or attributes:"),r.Rb(),r.Sb(2,"p",0),r.Sb(3,"b"),r.Bc(4,"Drainage Class"),r.Rb(),r.Bc(5,":\xa0\xa0The natural drainage condition of the soil refers to the frequency and duration of wet periods."),r.Rb(),r.Sb(6,"p",0),r.Sb(7,"b"),r.Bc(8,"Suitability for Roads and Log Landings"),r.Rb(),r.Bc(9,":\xa0\xa0Suitability for using the natural surface of the soil for roads and as log landings in forested areas. The ratings are based on slope, rock fragments on the surface, plasticity index, content of sand, the Unified classification of the soil, depth to a water table, ponding, flooding, and the hazard of soil slippage."),r.Rb(),r.Sb(10,"p",0),r.Sb(11,"b"),r.Bc(12,"Construction Limitations for Haul Roads and Log Landings"),r.Rb(),r.Bc(13,":\xa0\xa0For limitations affecting the construction of haul roads and log landings, the ratings are basedon slope, flooding, permafrost, plasticity index, the hazard of soil slippage, content of sand, the Unified classification of the soil, rock fragments on or belowthe surface, depth to a restrictive layer that is indurated, depth to a water table, and ponding."),r.Rb(),r.Sb(14,"p",0),r.Sb(15,"b"),r.Bc(16,"Harvest Equipment Operability"),r.Rb(),r.Bc(17,":\xa0\xa0Suitability for use of forestland harvesting equipment.\xa0\xa0The ratings are based on slope, rock fragments on the surface,plasticity index, content of sand, the Unified classification of the soil, depth to a water table, and ponding. Standard rubber-tire skidders and bulldozers areassumed to be used for ground-based harvesting and transport."),r.Rb(),r.Sb(18,"p",0),r.Sb(19,"b"),r.Bc(20,"Erosion Hazard: Off-Road/Off-Trail"),r.Rb(),r.Bc(21,":\xa0\xa0Hazard of soil loss from off-road and off-trail areas after disturbance activities that expose the soil surface.\xa0\xa0Theratings are based on slope and soil erosion factor K. The soil loss is caused by sheet or rill erosion in off-road or off-trail areas where 50 to 75 percent ofthe surface has been exposed by logging, grazing, mining, or other kinds of disturbance."),r.Rb(),r.Sb(22,"p",0),r.Sb(23,"b"),r.Bc(24,"Erosion Hazard - Road/Trail"),r.Rb(),r.Bc(25,":\xa0\xa0The ratings in this interpretation indicate the hazard of soil loss from unsurfaced roads and trails.\xa0\xa0The ratings are based onsoil erosion factor K, slope, and content of rock fragments."),r.Rb(),r.Sb(26,"p",0),r.Sb(27,"b"),r.Bc(28,"Soil Rutting Hazard"),r.Rb(),r.Bc(29,":\xa0\xa0Hazard of surface rut formation through the operation of forestland equipment.\xa0\xa0Soil displacement and puddling (soil deformation and compaction) may occur simultaneously with rutting."),r.Rb(),r.Sb(30,"p",0),r.Bc(31,"To make the layer transparent, you can move the slider handle to the right.\xa0\xa0This transparency slider is synchronized with the one in soils and regeneration so, the transparency will be applied to all layers in the three toolboxes."),r.Rb(),r.Sb(32,"p",1),r.Bc(33,"Since the information is coming from the same source as soils and regeneration, once one of the three gets processed, the other two are processed."),r.Rb(),r.Sb(34,"p",0),r.Bc(35,"Click "),r.Sb(36,"b"),r.Bc(37,"Create a Report"),r.Rb(),r.Bc(38," to produce a one-page PDF report that summarizes project area including a map showing the distribution of the selected harvesting operation classification within the project area and area for each one of the attributes.\xa0\xa0Optionally, a "),r.Sb(39,"b"),r.Bc(40,"Report Title"),r.Rb(),r.Bc(41," can be added."),r.Rb())},styles:[""]}),e})(),bi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-regeneration-operations-help"]],decls:38,vars:0,consts:[[1,"mt-2"],[1,"mt=2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox displays information on selected regeneration attributes from the NRCS SSURGO (for more information please refer to soils toolbox help).\xa0\xa0For these, a legend appears for the following soil characteristics, or attributes:"),r.Rb(),r.Sb(2,"p",0),r.Sb(3,"b"),r.Bc(4,"Potential for Seedling Mortality"),r.Rb(),r.Bc(5,":\xa0\xa0The ratings in this interpretation indicate the likelihood of death of naturally or artificially propagated tree seedlings, as influenced by soil characteristics, physiographic features, and climatic conditions.\xa0\xa0Considered in the ratings are flooding, ponding, depth to a water table, content of lime, reaction, available water capacity, soil moisture regime, soil temperature regime, aspect, and slope."),r.Rb(),r.Sb(6,"p",0),r.Sb(7,"b"),r.Bc(8,"Mechanical Site Preparation (Surface)"),r.Rb(),r.Bc(9,":\xa0\xa0Suitability for use of surface-altering soil tillage equipment during site preparation in forested areas.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0The part of the soil from the surface to a depth of about 1 foot is considered in the ratings."),r.Rb(),r.Sb(10,"p",0),r.Sb(11,"b"),r.Bc(12,"Mechanical Site Preparation (Deep)"),r.Rb(),r.Bc(13,":\xa0\xa0Suitability for the use of deep soil tillage equipment during site preparation in forested areas.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0The part of the soil from the surface to a depth of about 3 feet is considered in the ratings."),r.Rb(),r.Sb(14,"p",0),r.Sb(15,"b"),r.Bc(16,"Suitability for Machine Planting"),r.Rb(),r.Bc(17,":\xa0\xa0Expected difficulty of planting trees or shrubs using a mechanical planter.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, content of sand, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding\xa0\xa0It is assumed that necessary site preparation is completed before seedlings are planted."),r.Rb(),r.Sb(18,"p",0),r.Sb(19,"b"),r.Bc(20,"Suitability for Hand Planting"),r.Rb(),r.Bc(21,":\xa0\xa0Expected difficulty of hand planting of forestland plants.\xa0\xa0The ratings are based on slope, depth to a restrictive layer, content of sand, plasticity index, rock fragments on or below the surface, depth to a water table, and ponding.\xa0\xa0It is assumed that necessary site preparation is completed before seedlings are planted."),r.Rb(),r.Sb(22,"p",0),r.Sb(23,"b"),r.Bc(24,"Potential for Damage by Fire"),r.Rb(),r.Bc(25,":\xa0\xa0Potential for damage to nutrient, physical, and biotic soil characteristics by fire.\xa0\xa0The ratings involve an evaluation of the potential impact of prescribed fires or wildfires that are intense enough to remove the duff layer and consume organic matter in the surface layer."),r.Rb(),r.Sb(26,"p",0),r.Bc(27,"To make the layer transparent, you can move the slider handle to the right.\xa0\xa0This transparency slider is synchronized with the one in soils and harvesting operations so, the transparency will be applied to all layers in the three toolboxes."),r.Rb(),r.Sb(28,"p",1),r.Bc(29,"Since the information is coming from the same source as soils and harvesting operations, once one of the three gets processed, the other two are processed."),r.Rb(),r.Sb(30,"p",0),r.Bc(31,"Click "),r.Sb(32,"b"),r.Bc(33,"Create a Report"),r.Rb(),r.Bc(34," to produce a one-page PDF report that summarizes project area including a map showing the distribution of the selected regeneration operation classification within the project area and area for each one of the attributes.\xa0\xa0Optionally, a "),r.Sb(35,"b"),r.Bc(36,"Report Title"),r.Rb(),r.Bc(37," can be added."),r.Rb())},styles:[""]}),e})(),pi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-elevation-help"]],decls:4,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox contains a tool to explore an elevation profile along a user-defined path (existing or potential road or trail)."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,"The toolbox contains two line-drawing tools\u2014a polyline tool and a freehand line tool\u2014along with a checkbox for using Base Sea Level as the minimum Y-axis value.\xa0\xa0To define a path, click on either line-drawing button and draw a path.\xa0\xa0After a moment, an Elevation Profile chart will display.\xa0\xa0To produce a one-page report that displays this chart, enter a project name and click the report button.\xa0\xa0A PDF report will be produced that can be printed or saved."),r.Rb())},styles:[""]}),e})(),hi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-culvert-help"]],decls:12,vars:0,consts:[[1,"mt-2"],["href","https://tfsweb.tamu.edu/uploadedFiles/TFSMain/Manage_Forest_and_Land/Water_Resources_and_BMPs/Stewardship/Texas%20BMP%20Handbook.pdf","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox contains a tool to determine a minimum diameter for a culvert at a particular point along a stream."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,"Culvert size is determined from the Minimum Culvert Sizing Chart provided in the "),r.Sb(4,"a",1),r.Bc(5,"Texas Forestry Best Management Practices Manual"),r.Rb(),r.Bc(6,". \xa0\xa0Three factors go in to determining this culvert diameter: (1) area drained in acres, (2) soil texture (light, medium, and heavy), and (3) slope class (flat <5%, moderate 5-15%, steep >15%).\xa0\xa0The tool calculates the area in acres that are drained to a \u201cpour-point\u201d that is within 30 meters of the user-defined point and shows on the map the area that is drained (its watershed)."),r.Rb(),r.Sb(7,"p",0),r.Bc(8,"To calculate a culvert size, click on the "),r.Sb(9,"b"),r.Bc(10,"Draw Point"),r.Rb(),r.Bc(11," button and click a point on the map along a drainage.\xa0\xa0It may be useful to refer to the topo map when doing this.\xa0\xa0After a moment, the watershed will appear along with the user-defined point and the calculated pour point.\xa0\xa0The purpose of the pour point, which is the lowest area within 30 meters of the user-defined point, is to minimize anomalies for calculating the watershed size when locating a point for a culvert."),r.Rb())},styles:[""]}),e})(),ui=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-import-export-help"]],decls:24,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"This toolbox allows you to import and export areas, lines, points and text.\xa0\xa0Before importing or exporting the graphics, select the type of file to import or export including mmp, shp, kml, and gpx formats.\xa0\xa0The following briefly describes each type of file."),r.Rb(),r.Sb(2,"p",0),r.Sb(3,"b"),r.Bc(4,"Make special note of the mmp format as it allows exporting and importing all work done (including text)."),r.Rb(),r.Rb(),r.Sb(5,"p",0),r.Sb(6,"b"),r.Bc(7,"MMP"),r.Rb(),r.Bc(8,"\u2014Map My Property file format\u2014This file format, native to Map My Property suite, allows you to export and later import all the work that has been done in a mapping session including boundaries (areas and circles), lines, points, and text.\xa0\xa0Symbology, such as color and width, are also exported or imported in the process.\xa0\xa0This option results in saving a single mmp file."),r.Rb(),r.Sb(9,"p",0),r.Sb(10,"b"),r.Bc(11,"SHP"),r.Rb(),r.Bc(12,"\u2014Shapefile format\u2014Polygons, circles, lines and points can be exported and imported using this format.\xa0\xa0Shapefile is a format used by GIS mapping applications such as ESRI\u2019s ArcMap.\xa0\xa0This option results in saving a zip file containing a shapefile per geometry type.\xa0\xa0Each one of the shapefiles is made up of several files and, if you have more than one type of graphic in your map, the downloaded zip file will contain more than one shapefile.\xa0\xa0If a shapefile is imported, it must be in the form of a zip file, so to import a shapefile make sure all the files needed are inside a single zip file."),r.Rb(),r.Sb(13,"p",0),r.Sb(14,"b"),r.Bc(15,"KML"),r.Rb(),r.Bc(16,"\u2014Keyhole Markup Language file format\u2014This file format is used by Google Earth and exporting to this format will allow loading your areas, circles, lines or points into this popular mapping program.\xa0\xa0Conversely, boundaries, circles, lines or points produced in Google Earth can be imported."),r.Rb(),r.Sb(17,"p",0),r.Sb(18,"b"),r.Bc(19,"GPX"),r.Rb(),r.Bc(20,"\u2014GPS Exchange Format\u2014A device-independent data format used for GPS navigation devices.\xa0\xa0If there is an area, line or point on the map, the points representing these graphics will be exported in GPX format.\xa0\xa0To import GPX points, click the "),r.Sb(21,"b"),r.Bc(22,"Import"),r.Rb(),r.Bc(23," button, and your GPX points will be imported and displayed on the map."),r.Rb())},styles:[""]}),e})(),mi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-export-map-help"]],decls:19,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The Export to PDF toolbox allows you to create a printable map matching the contents of your map view.\xa0\xa0You may enter a title and comments for the map on the "),r.Sb(2,"b"),r.Bc(3,"Title"),r.Rb(),r.Bc(4," and "),r.Sb(5,"b"),r.Bc(6,"Comments"),r.Rb(),r.Bc(7," boxes.\xa0\xa0Note that, for the comments, a maximum number of characters (200) and line breaks (5) are allowed."),r.Rb(),r.Sb(8,"p",0),r.Bc(9,"If you do not wish to display the current date on your printed map, uncheck the "),r.Sb(10,"b"),r.Bc(11,"Show Current Date"),r.Rb(),r.Bc(12," checkbox and the current date will not appear on the map.\xa0\xa0Once satisfied with the options available, click the "),r.Sb(13,"b"),r.Bc(14,"Preview"),r.Rb(),r.Bc(15," button that will open a window where you can refine the map extent by panning and zooming.\xa0\xa0You can then click the "),r.Sb(16,"b"),r.Bc(17,"Generate PDF"),r.Rb(),r.Bc(18," button, which will open a map in PDF format in your browser.\xa0\xa0If the map does not show, make sure your browser allows you to show pop-ups.\xa0\xa0The map is displayed in landscape aspect ratio (long side horizontal).\xa0\xa0The exported file is a geospatial PDF, which allows viewing of map coordinates and georeferenced information encoded inside the PDF file, when opened in a compatible viewer."),r.Rb())},styles:[""]}),e})(),gi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-layers-help"]],decls:44,vars:0,consts:[[1,"mt-2"],["href","https://carto.nationalmap.gov/arcgis/rest/services/contours/MapServer","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://www.fema.gov/flood-insurance","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://www.usgs.gov/core-science-systems/ngp/national-hydrography/national-hydrography-dataset","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://hydro.nationalmap.gov/","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"],["href","https://www.fws.gov/wetlands/",1,"underline","text-blue-700"],["href","https://www.arcgis.com/home/item.html?id=b2d85fa426024b25b49191fcfefc4cb3","target","_blank","rel","noopener noreferrer",1,"underline","text-blue-700"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The Layers window allows display of one or more overlay layers:"),r.Rb(),r.Sb(2,"p",0),r.Sb(3,"b"),r.Bc(4,"Contours"),r.Rb(),r.Bc(5,":\xa0\xa0"),r.Sb(6,"a",1),r.Bc(7,"USGS Elevation Contours"),r.Rb(),r.Bc(8," service from The National Map that displays contours generated for the United States at various scales."),r.Rb(),r.Sb(9,"p",0),r.Sb(10,"b"),r.Bc(11,"Flood Zones"),r.Rb(),r.Bc(12,":\xa0\xa0This layer displays Flood Hazard Areas from the "),r.Sb(13,"a",2),r.Bc(14,"Flood Insurance Rate Map"),r.Rb(),r.Bc(15," created by the Federal Emergency Management Agency."),r.Rb(),r.Sb(16,"p",0),r.Sb(17,"b"),r.Bc(18,"Hydrology"),r.Rb(),r.Bc(19,":\xa0\xa0Cartographic representation of the "),r.Sb(20,"a",3),r.Bc(21,"National Hydrography Dataset (NHD)"),r.Rb(),r.Bc(22,"."),r.Rb(),r.Sb(23,"p",0),r.Sb(24,"b"),r.Bc(25,"Watersheds"),r.Rb(),r.Bc(26,":\xa0\xa0This layer contains Hydrologic Unit (HU) polygon boundaries for the United States, Puerto Rico, and the U.S. Virgin Islands.\xa0\xa0For additional information visit "),r.Sb(27,"a",4),r.Bc(28,"https://hydro.nationalmap.gov/"),r.Rb(),r.Bc(29,"."),r.Rb(),r.Sb(30,"p",0),r.Sb(31,"b"),r.Bc(32,"Wet Areas"),r.Rb(),r.Bc(33,":\xa0\xa0This layer displays wet areas from the "),r.Sb(34,"a",5),r.Bc(35,"National Wetlands Inventory"),r.Rb(),r.Bc(36,"."),r.Rb(),r.Sb(37,"p",0),r.Sb(38,"b"),r.Bc(39,"Parcels"),r.Rb(),r.Bc(40,":\xa0\xa0"),r.Sb(41,"a",6),r.Bc(42,"ParcelPoint\xae from CoreLogic \xae"),r.Rb(),r.Bc(43," captures parcel boundary information and covers all 50 states, the District of Columbia, Guam, U.S. Virgin Islands, and Northern Mariana Islands."),r.Rb())},encapsulation:2}),e})(),fi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-swipe-help"]],decls:12,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The Swipe Layers window is used to interactively compare two different imagery layers for the state of Texas."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,'To use the tool, select the appropriate layer in the dropdown menus and the "Swipe Direction" option on the bottom.\xa0\xa0The selected "Swipe Direction" provides a way to interact with the map and there are 2 options:'),r.Rb(),r.Sb(4,"p",0),r.Sb(5,"b"),r.Bc(6,"Left-Right"),r.Rb(),r.Bc(7,":\xa0\xa0It is the default style.\xa0\xa0With this option selected, you slide the swipe tool left and right."),r.Rb(),r.Sb(8,"p",0),r.Sb(9,"b"),r.Bc(10,"Top-Bottom"),r.Rb(),r.Bc(11,":\xa0\xa0With this option selected, you slide the swipe tool up and down."),r.Rb())},encapsulation:2}),e})(),Si=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-basemaps-help"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The Basemaps window contains a collection of basemaps that will display when selected.\xa0\xa0Selecting the Texas thumbnail at the bottom will show a dropdown list with options for statewide aerial imagery in chronological descending order.\xa0\xa0The 2009 imagery encompasses just the eastern portion of Texas, while the 2008 encompasses only the western part of the state."),r.Rb())},encapsulation:2}),e})(),yi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-search-widget-help"]],decls:19,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The find location tool enables users to move to a location much quicker and easier than standard panning/zooming.\xa0\xa0Users can locate addresses, place names and coordinates in decimal degrees.\xa0\xa0The coordinates can be entered in the format "),r.Sb(2,"b"),r.Bc(3,"Lat, Lon"),r.Rb(),r.Bc(4," with or without the comma.\xa0\xa0For example, to locate Texas A&M University, enter "),r.Sb(5,"b"),r.Bc(6,"30.61 -96.34"),r.Rb(),r.Bc(7,".\xa0\xa0If you want to use cardinal directions, you do not need to worry about the position of the coordinates as either "),r.Sb(8,"b"),r.Bc(9,"W 96.34 N 30.61"),r.Rb(),r.Bc(10," or "),r.Sb(11,"b"),r.Bc(12,"N 30.61 W 96.34"),r.Rb(),r.Bc(13," can be entered."),r.Rb(),r.Sb(14,"p",0),r.Bc(15,"You can also zoom in on your current location by clicking in the input box and then the "),r.Sb(16,"b"),r.Bc(17,"Use current location"),r.Rb(),r.Bc(18," button.\xa0\xa0Note that you will need to allow location in your browser."),r.Rb())},encapsulation:2}),e})(),vi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-measurement-widget-help"]],decls:23,vars:0,consts:[[1,"mt-2"]],template:function(e,t){1&e&&(r.Sb(0,"p"),r.Bc(1,"The Measurement window provides tools for measuring distance and area."),r.Rb(),r.Sb(2,"p",0),r.Bc(3,"To measure lines, click the "),r.Sb(4,"b"),r.Bc(5,"Line Measurement"),r.Rb(),r.Bc(6," button (ruler with line on top icon) and draw a line by clicking on the map at the starting point and adding straight-line segments.\xa0\xa0Double-click to finish drawing the line.\xa0\xa0To change the length unit, select the new option from the "),r.Sb(7,"b"),r.Bc(8,"Unit"),r.Rb(),r.Bc(9," drop-down."),r.Rb(),r.Sb(10,"p",0),r.Bc(11,"To measure area, click the "),r.Sb(12,"b"),r.Bc(13,"Area Measurement"),r.Rb(),r.Bc(14," button (polygon with a ruler icon) and draw a polygon on the map by clicking three or more points.\xa0\xa0Double-click to finish drawing the area.\xa0\xa0To change the area unit, select the new option from the "),r.Sb(15,"b"),r.Bc(16,"Unit"),r.Rb(),r.Bc(17," drop-down."),r.Rb(),r.Sb(18,"p",0),r.Bc(19,"To delete the measurement drawing, click the "),r.Sb(20,"b"),r.Bc(21,"Delete"),r.Rb(),r.Bc(22," button (trash can icon)."),r.Rb())},styles:[""]}),e})();const wi=["slide"];function Ri(e,t){if(1&e){const e=r.Tb();r.Sb(0,"li",32),r.Sb(1,"div",33),r.Zb("click",function(){r.tc(e);const i=t.index;return r.dc(2).goToSlide(i)}),r.Bc(2,"\u2022"),r.Rb(),r.Rb()}if(2&e){const e=t.index,i=r.dc(2);r.Bb(1),r.jc("ngClass",i.activeSlideIndex===e?"text-pmlo_secondary":"text-pmlo_primary")}}function Bi(e,t){if(1&e&&(r.Qb(0),r.Ac(1,Ri,3,1,"li",31),r.Pb()),2&e){const e=r.dc();r.Bb(1),r.jc("ngForOf",e.slidesArray)}}let xi=(()=>{class e{constructor(){this.activeSlideIndex=0,this.isLoaded=!1,this.slidesArray=[]}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.slidesArray=this.slides.toArray()},100)}nextSlide(){this.activeSlideIndex!==this.slides.length-1&&(this.navigatToNext(),this.activeSlideIndex+=1)}previousSlide(){0!==this.activeSlideIndex&&(this.navigateToPrevious(),this.activeSlideIndex-=1)}goToSlide(e){if(this.activeSlideIndex<e)for(let t=0;t<e-this.activeSlideIndex;t++)this.navigatToNext();else if(this.activeSlideIndex>e)for(let t=0;t<this.activeSlideIndex-e;t++)this.navigateToPrevious();this.activeSlideIndex=e}navigateToPrevious(){const e=document.querySelector(".slide.translate-x-0");e.classList.remove("translate-x-0"),e.classList.add("translate-x-full");const t=e.previousElementSibling;t.classList.remove("-translate-x-full"),t.classList.add("translate-x-0")}navigatToNext(){const e=document.querySelector(".slide.translate-x-0");e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full");const t=e.nextElementSibling;t.classList.remove("translate-x-full"),t.classList.add("translate-x-0")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-overall-help"]],viewQuery:function(e,t){if(1&e&&r.Fc(wi,1),2&e){let e;r.qc(e=r.ac())&&(t.slides=e)}},decls:153,vars:3,consts:[[1,"relative","carousel"],[1,"absolute","inset-0","w-full","transition-all","ease-in-out","duration-1000","transform","translate-x-0","slide"],["slide",""],[1,"mt-2"],["src","assets/pmlo_tour/slide1.png","alt","web application user interface image",1,"mx-auto"],[1,"absolute","inset-0","w-full","transition-all","ease-in-out","duration-1000","transform","translate-x-full","slide"],["src","assets/pmlo_tour/slide2a.png","alt","find location tool image",1,"mx-auto"],[1,"mt-2","flex"],["src","assets/pmlo_tour/slide2b.png","alt","navigation buttons",1,"mx-auto",2,"width","4.5em"],[1,"ml-2"],[1,"mt-4"],["src","assets/pmlo_tour/slide3.png","alt","draw tools user inerface",1,"mx-auto"],[1,"mt-1"],["src","assets/pmlo_tour/slide4.png","alt","sensitive areas tool user inerface",1,"mx-auto"],["src","assets/pmlo_tour/slide5.png","alt","soils table and clipped soils image",1,"mx-auto"],["src","assets/pmlo_tour/slide6.png","alt","operational considerations radio buttons",1,"mx-auto"],["src","assets/pmlo_tour/slide7.png","alt","regeneration radio buttons",1,"mx-auto"],["src","assets/pmlo_tour/slide8.png","alt","elevation profile image",1,"mx-auto"],["src","assets/pmlo_tour/slide9.png","alt","culvert size tool result image",1,"mx-auto"],["src","assets/pmlo_tour/slide10.png","alt","import export toolbox user interface",1,"mx-auto"],["src","assets/pmlo_tour/slide11.png","alt","example of a printed map",1,"mx-auto"],["src","assets/pmlo_tour/slide12.png","alt","basemap toolbox user interface",1,"mx-auto"],["src","assets/pmlo_tour/slide13.png","alt","list of available layers",1,"mx-auto"],["src","assets/pmlo_tour/slide14.png","alt","example of swiping images",1,"mx-auto"],[1,"absolute","bottom-0","w-full","flex","flex-col"],[1,"text-center"],[1,"flex","items-center","justify-center"],[1,"inline-block","mr-4"],[1,"cursor-pointer","block","text-2xl","text-pmlo_primary","hover:text-pmlo_secondary",3,"click"],[4,"ngIf"],[1,"inline-block","ml-1"],["class","inline-block mr-3",4,"ngFor","ngForOf"],[1,"inline-block","mr-3"],[1,"cursor-pointer","block","text-4xl","hover:text-pmlo_secondary",3,"ngClass","click"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.Sb(1,"div",1,2),r.Sb(3,"p"),r.Sb(4,"b"),r.Bc(5,"Welcome to Plan My Land Operation!"),r.Rb(),r.Rb(),r.Sb(6,"p",3),r.Bc(7,"This tour will introduce you to the tools in this application.\xa0\xa0For detailed information, click the ? button, located on the top right of each toolbox.\xa0\xa0You can always open this tour again by clicking in the "),r.Sb(8,"b"),r.Bc(9,"Help"),r.Rb(),r.Bc(10," link located in the upper right corner of the application."),r.Rb(),r.Sb(11,"p",3),r.Ob(12,"img",4),r.Rb(),r.Rb(),r.Sb(13,"div",5,2),r.Sb(15,"p"),r.Sb(16,"b"),r.Bc(17,"Find Location"),r.Rb(),r.Rb(),r.Sb(18,"p",3),r.Bc(19,"Use the Find Location tool to locate addresses, place names and coordinates in decimal degrees."),r.Rb(),r.Sb(20,"p",3),r.Ob(21,"img",6),r.Rb(),r.Sb(22,"p",3),r.Sb(23,"b"),r.Bc(24,"Map Navigation"),r.Rb(),r.Rb(),r.Sb(25,"div",7),r.Sb(26,"div"),r.Ob(27,"img",8),r.Rb(),r.Sb(28,"div",9),r.Sb(29,"p",3),r.Bc(30,"You can use your mouse to pan and your scroll wheel to zoom.\xa0\xa0Gestures work for navigation on touch devices."),r.Rb(),r.Sb(31,"p",3),r.Bc(32,"You can also use the map buttons to zoom to Texas, zoom in, and zoom out."),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Sb(33,"div",5,2),r.Sb(35,"p"),r.Sb(36,"b"),r.Bc(37,"Draw"),r.Rb(),r.Rb(),r.Sb(38,"p",3),r.Bc(39,"Draw toolbox contains tools to draw and edit areas, circles, lines and points of interest.\xa0\xa0In addition, text can be added."),r.Rb(),r.Sb(40,"p",10),r.Ob(41,"img",11),r.Rb(),r.Rb(),r.Sb(42,"div",5,2),r.Sb(44,"p"),r.Sb(45,"b"),r.Bc(46,"Sensitive Areas"),r.Rb(),r.Rb(),r.Sb(47,"p",3),r.Bc(48,"Sensitive Areas toolbox allows you to display various sensitive areas within a project area from a context of Best Management Practices (BMPs) for the protection of soil and water quality.\xa0\xa0You can also create a report with a map and a summary of the sensitive area types."),r.Rb(),r.Sb(49,"p",12),r.Ob(50,"img",13),r.Rb(),r.Rb(),r.Sb(51,"div",5,2),r.Sb(53,"p"),r.Sb(54,"b"),r.Bc(55,"Soils"),r.Rb(),r.Rb(),r.Sb(56,"p",3),r.Bc(57,"In the Soils toolbox you can access to several soil attributes directly from the Soil Survey Geographic (SSURGO) Database.\xa0\xa0You can also clip the soil polygons within your project area and create a full report with all the soils information."),r.Rb(),r.Sb(58,"p",3),r.Ob(59,"img",14),r.Rb(),r.Rb(),r.Sb(60,"div",5,2),r.Sb(62,"p"),r.Sb(63,"b"),r.Bc(64,"Operational Considerations"),r.Rb(),r.Rb(),r.Sb(65,"p",3),r.Bc(66,"Operational Considerations toolbox allows you to see selected attributes such as Harvest Equipment Operability from the Soil Survey Geographic (SSURGO) Database.\xa0\xa0You can change the attribute you want to display for you project area and create a summary report."),r.Rb(),r.Sb(67,"p",3),r.Ob(68,"img",15),r.Rb(),r.Rb(),r.Sb(69,"div",5,2),r.Sb(71,"p"),r.Sb(72,"b"),r.Bc(73,"Regeneration"),r.Rb(),r.Rb(),r.Sb(74,"p",3),r.Bc(75,"Regeneration toolbox allows you to see selected attributes such as Potential for Seedling Mortality from the Soil Survey Geographic (SSURGO) Database.\xa0\xa0You can change the attribute you want to display for you project area and create a summary report."),r.Rb(),r.Sb(76,"p",3),r.Ob(77,"img",16),r.Rb(),r.Rb(),r.Sb(78,"div",5,2),r.Sb(80,"p"),r.Sb(81,"b"),r.Bc(82,"Elevation Profile"),r.Rb(),r.Rb(),r.Sb(83,"p",3),r.Bc(84,"Elevation Profile toolbox allows you to explore the profile of a drawn line in the map.\xa0\xa0You will be able to identify steep slopes and create a summary report of the drawn path."),r.Rb(),r.Sb(85,"p",3),r.Ob(86,"img",17),r.Rb(),r.Rb(),r.Sb(87,"div",5,2),r.Sb(89,"p"),r.Sb(90,"b"),r.Bc(91,"Culvert Size"),r.Rb(),r.Rb(),r.Sb(92,"p",3),r.Bc(93,"The Culvert Size tool works only for Texas and determines the minimum recommended diameter for a culvert based on three factors: (1) acres drained, (2) soils texture, and (3) slope.\xa0\xa0Once the tool runs you will be able to generate a summary report of the results."),r.Rb(),r.Sb(94,"p",3),r.Ob(95,"img",18),r.Rb(),r.Rb(),r.Sb(96,"div",5,2),r.Sb(98,"p"),r.Sb(99,"b"),r.Bc(100,"Import | Export"),r.Rb(),r.Rb(),r.Sb(101,"p",3),r.Bc(102,"The Import | Export toolbox allows you to load and save drawings (areas, lines, points of interest, and text) in multiple formats.\xa0\xa0This gives you the ability of sharing your drawings with other people."),r.Rb(),r.Sb(103,"p",3),r.Ob(104,"img",19),r.Rb(),r.Rb(),r.Sb(105,"div",5,2),r.Sb(107,"p"),r.Sb(108,"b"),r.Bc(109,"Export to pdf"),r.Rb(),r.Rb(),r.Sb(110,"p",3),r.Bc(111,"The Export to PDF toolbox allows you to create a printable GeoPDF map matching the contents of you map.\xa0\xa0You also will be able to add a title and some comments to your map."),r.Rb(),r.Sb(112,"p",3),r.Ob(113,"img",20),r.Rb(),r.Rb(),r.Sb(114,"div",5,2),r.Sb(116,"p"),r.Sb(117,"b"),r.Bc(118,"Basemaps"),r.Rb(),r.Rb(),r.Sb(119,"p",3),r.Bc(120,"You can also choose what basemap to display as the map background.\xa0\xa0Selecting the Texas thumbnail will display a dropdown list with options for statewide aerial imagery."),r.Rb(),r.Sb(121,"p",3),r.Ob(122,"img",21),r.Rb(),r.Rb(),r.Sb(123,"div",5,2),r.Sb(125,"p"),r.Sb(126,"b"),r.Bc(127,"Layers"),r.Rb(),r.Rb(),r.Sb(128,"p",3),r.Bc(129,"You can view different information in the map by turning items on and off in the list."),r.Rb(),r.Sb(130,"p",3),r.Ob(131,"img",22),r.Rb(),r.Rb(),r.Sb(132,"div",5,2),r.Sb(134,"p"),r.Sb(135,"b"),r.Bc(136,"Swipe Layers"),r.Rb(),r.Rb(),r.Sb(137,"p",3),r.Bc(138,"You can compare interactively two different imagery layers for the state of Texas."),r.Rb(),r.Sb(139,"p",3),r.Ob(140,"img",23),r.Rb(),r.Rb(),r.Sb(141,"div",24),r.Sb(142,"p",25),r.Sb(143,"b"),r.Bc(144),r.Rb(),r.Rb(),r.Sb(145,"ol",26),r.Sb(146,"li",27),r.Sb(147,"div",28),r.Zb("click",function(){return t.previousSlide()}),r.Bc(148,"\u276e"),r.Rb(),r.Rb(),r.Ac(149,Bi,2,1,"ng-container",29),r.Sb(150,"li",30),r.Sb(151,"div",28),r.Zb("click",function(){return t.nextSlide()}),r.Bc(152,"\u276f"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(144),r.Ec("",t.activeSlideIndex+1," of ",t.slidesArray.length,""),r.Bb(5),r.jc("ngIf",t.slidesArray.length>0))},directives:[o.m,o.l,o.k],styles:[".carousel[_ngcontent-%COMP%]{font-size:.9em;height:25em}"]}),e})();const Ci=["mapViewNode"],Li=["searchBar"],Oi=["graphicsStore"],ki=["drawAccPanel"],Mi=["soilsTableModal"],Pi=["sensAreasAccPanel"],Ti=["soilsAccPanel"],Ai=["harvestAccPanel"],Vi=["regenerationAccPanel"],ji=["culvertAccPanel"],Ii=["elevationAccPanel"],Gi=["notificationsModal"],_i=["helpModal"],zi=["sessionModal"],Ni=["soilsComponent"],Di=["elevationProfileComponent"],Hi=["culvertSizeComponent"];function Fi(e,t){1&e&&(r.cc(),r.Sb(0,"svg",61),r.Ob(1,"path",62),r.Rb())}function Ei(e,t){1&e&&(r.cc(),r.Sb(0,"svg",63),r.Ob(1,"path",62),r.Rb())}function Wi(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-draw-help"),r.Pb())}function Zi(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-sens-areas-help"),r.Pb())}function Ui(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-soils-help"),r.Pb())}function qi(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-harvest-operations-help"),r.Pb())}function Ji(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-regeneration-operations-help"),r.Pb())}function Qi(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-elevation-help"),r.Pb())}function Yi(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-culvert-help"),r.Pb())}function Ki(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-import-export-help"),r.Pb())}function $i(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-export-map-help"),r.Pb())}function Xi(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-layers-help"),r.Pb())}function ea(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-swipe-help"),r.Pb())}function ta(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-basemaps-help"),r.Pb())}function ia(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-search-widget-help"),r.Pb())}function aa(e,t){1&e&&(r.Qb(0),r.Ob(1,"app-measurement-widget-help"),r.Pb())}function oa(e,t){1&e&&(r.Qb(0),r.Ob(1,"pmlo-overall-help"),r.Pb())}let sa=(()=>{class e{constructor(e,t,i,a,o,s,r,n,u){this.store=e,this.mapViewService=t,this.soilsService=i,this.appConfig=a,this.esrimapService=o,this.notificationsService=s,this.accordionPanelService=r,this.helpService=n,this.renderer=u,this.clickToAddText=!1,this.sketchVM=new b.a,this.sidebarVisible=window.innerWidth>640,this.geomLabelsSketchVM=new b.a,this.geomLabelsGraphicsLayer=new m.a({id:"geomlabels"}),this.polygonGraphicsLayer=Object(c.a)(),this.textGraphicsLayer=Object(c.b)(),this.generalGraphicsLayer=Object(c.a)("generalGraphicsLayer"),this.notification=new B.a("",""),this.helpHeader="Getting Started Tour",this.helpItem="gettingStartedTour",this.subscriptions={},this.checkIfSavedGraphicsExists=()=>{this.savedData=Object(g.b)(),this.savedData&&this.savedData.length>0&&this.sessionModal.show(),this.listenToGraphicsStore()},this.listenToGraphicsStore=()=>{const e=this.store.select(e=>e.app.graphics);this.graphicsStoreSub$&&this.graphicsStoreSub$.unsubscribe(),this.graphicsStoreSub$=e.subscribe(e=>{Object(g.c)(e)})},this.showCoordinates=()=>{const e=this.mapView.center;this.mapCoords="Lat: "+e.latitude.toFixed(5)+" &nbsp; Long: "+e.longitude.toFixed(5)},this.setMapEvents=()=>{this.mapView&&(this.mapView.watch("stationary",this.showCoordinates),this.mapView.on("pointer-move",this.showCoordinates),this.mapView.watch("scale",e=>this.mapViewService.pushMapScale(e)),this.mapView.when(()=>{setTimeout(()=>this.checkIfSavedGraphicsExists(),2e3)}))},this.initializeMap=()=>Object(l.a)(this,void 0,void 0,function*(){try{Object(S.a)(),this.mapView=Object(p.b)(this.mapViewEl,this.searchBarDiv),Object(v.a)(this.mapView.map);const e=Object(h.b)("soilsDynamicLayer",this.appConfig.ssurgoWMSURL);this.mapView.map.addMany([e,this.polygonGraphicsLayer,this.textGraphicsLayer,this.geomLabelsGraphicsLayer,this.generalGraphicsLayer]),this.sketchVM=Object(d.d)(this.polygonGraphicsLayer,this.mapView),this.generalSketchVM=Object(d.b)(this.generalGraphicsLayer,this.mapView),this.sketchVM.updatePointSymbol=y.b,this.sketchVM.activePointSymbol=y.b,this.setMapEvents(),this.mapView.whenLayerView(this.polygonGraphicsLayer).then(e=>{e.watch("updating",t=>{if(t){let t=!0,i=!0;const a=this.mapView.map.findLayerById("pmloSoilsGL"),o=this.mapView.map.findLayerById("sensAreasGL");0===Object(c.d)(e.layer).length?(t=!1,i=!1):((0===a.graphics.length||a.graphics.length>0&&void 0===Object(c.c)(e.layer,a.graphics.getItemAt(0).attributes.boundaryId))&&(t=!1),(0===o.graphics.length||o.graphics.length>0&&void 0===Object(c.c)(e.layer,o.graphics.getItemAt(0).attributes.boundaryId))&&(i=!1)),this.mapViewService.boundaryHasPolygons.emit(t),this.mapViewService.sensAreasGLHasPolygons.emit(i)}})})}catch(e){console.error("Map load error ",e)}}),this.clearOtherPanelOnDrawOpen=()=>{this.elevationProfileComponent.isActive&&this.elevationProfileComponent.cleanup(),this.culvertSizeComponent.isActive&&this.culvertSizeComponent.cleanup()},this.closeOtherPanels=e=>{const t=this.accordionPanels.filter(t=>t.panelTitle===e);t.length>0&&(t[0].toggleOthers(),this.clearOtherPanelOnDrawOpen())}}ngAfterViewInit(){setTimeout(()=>this.closeOtherPanels("Draw"),100),this.subscriptions.keyboard=Object(w.a)(this.graphicsStoreEl,this.mapViewEl,this.renderer)}ngOnDestroy(){Object(R.a)(...Object.values(this.subscriptions)),this.graphicsStoreSub$&&this.graphicsStoreSub$.unsubscribe()}restoreSession(e){null!==e&&this.sessionModal.hide(),e?(this.store.dispatch(Object(f.a)({graphics:this.savedData})),setTimeout(()=>{this.mapView.goTo(this.polygonGraphicsLayer.graphics)},500)):Object(g.a)(),this.listenToGraphicsStore()}ngOnInit(){this.initializeMap(),this.subscriptions.showTableModal=this.soilsService.showTableModal.subscribe(e=>{e?this.soilsTableModal.show():this.soilsTableModal.hide()}),this.subscriptions.notificationsModal=this.notificationsService.openNotificationsModal.subscribe(e=>{this.notification=e,this.notificationsModal.show()}),this.accordionPanelService.setActivePanel.subscribe(e=>{this.esrimapService.setActivePanel(e),e!==this.culvertAccPanel&&this.culvertSizeComponent.isActive&&this.culvertSizeComponent.cleanup(),e!==this.elevationAccPanel&&this.elevationProfileComponent.isActive&&this.elevationProfileComponent.cleanup(),e!==this.soilsAccPanel&&this.soilsComponent.isIdentifyChecked&&this.soilsComponent.disableSoilsIdentify()}),this.esrimapService.sensAreasAccordionOpen.subscribe(e=>{this.sensAreasAccPanel.opened=e}),this.esrimapService.harvOpAccordionOpen.subscribe(e=>{this.harvestAccPanel.opened=e}),this.esrimapService.regOpAccordionOpen.subscribe(e=>{this.regenerationAccPanel.opened=e}),this.esrimapService.closeAllPanelsExcept.subscribe(e=>this.closeOtherPanels(e)),this.helpService.openHelp.subscribe(e=>{this.helpHeader=e.header,this.helpItem=e.itemName,this.helpModal.show()})}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(x.h),r.Nb(C.a),r.Nb(L.a),r.Nb(O.a),r.Nb(k.a),r.Nb(M.a),r.Nb(P.a),r.Nb(T.a),r.Nb(r.F))},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-esrimap"]],viewQuery:function(e,t){if(1&e&&(r.Fc(Ci,3),r.Fc(Li,3),r.Fc(Oi,3),r.Fc(ki,1),r.Fc(Mi,1),r.Fc(Pi,1),r.Fc(Ti,1),r.Fc(Ai,1),r.Fc(Vi,1),r.Fc(ji,1),r.Fc(Ii,1),r.Fc(Gi,1),r.Fc(_i,1),r.Fc(zi,1),r.Fc(Ni,1),r.Fc(Di,1),r.Fc(Hi,1),r.Fc(u.a,1)),2&e){let e;r.qc(e=r.ac())&&(t.mapViewEl=e.first),r.qc(e=r.ac())&&(t.searchBarDiv=e.first),r.qc(e=r.ac())&&(t.graphicsStoreEl=e.first),r.qc(e=r.ac())&&(t.drawAccPanel=e.first),r.qc(e=r.ac())&&(t.soilsTableModal=e.first),r.qc(e=r.ac())&&(t.sensAreasAccPanel=e.first),r.qc(e=r.ac())&&(t.soilsAccPanel=e.first),r.qc(e=r.ac())&&(t.harvestAccPanel=e.first),r.qc(e=r.ac())&&(t.regenerationAccPanel=e.first),r.qc(e=r.ac())&&(t.culvertAccPanel=e.first),r.qc(e=r.ac())&&(t.elevationAccPanel=e.first),r.qc(e=r.ac())&&(t.notificationsModal=e.first),r.qc(e=r.ac())&&(t.helpModal=e.first),r.qc(e=r.ac())&&(t.sessionModal=e.first),r.qc(e=r.ac())&&(t.soilsComponent=e.first),r.qc(e=r.ac())&&(t.elevationProfileComponent=e.first),r.qc(e=r.ac())&&(t.culvertSizeComponent=e.first),r.qc(e=r.ac())&&(t.accordionPanels=e)}},decls:108,vars:68,consts:[[1,"sidebarBlanket"],["sidebar",""],[1,"sidebar"],[1,"sidebarToggle",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate90",4,"ngIf"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","class","showHideSvg rotate270",4,"ngIf"],["panelTitle","Draw"],["drawAccPanel",""],[3,"sketchVM","mapView","textGraphicsLayer","geomLabelsSketchVM","geomLabelsGraphicsLayer","polygonGraphicsLayer","generalSketchVM"],["panelTitle","Sensitive Areas"],["sensAreasAccPanel",""],[3,"mapView"],["panelTitle","Soils"],["soilsAccPanel",""],["soilsComponent",""],["panelTitle","Operational Considerations"],["harvestAccPanel",""],["panelTitle","Regeneration"],["regenerationAccPanel",""],["panelTitle","Elevation Profile"],["elevationAccPanel",""],[3,"mapView","sketchVM","generalSketchVM"],["elevationProfileComponent",""],["panelTitle","Culvert Size"],["culvertAccPanel",""],["culvertSizeComponent",""],["panelTitle","Import | Export"],["importExportAccPanel",""],["panelTitle","Export Map to PDF"],["exportMapAccPanel",""],[3,"mapView","sketchVM"],[1,"mapBlanket"],[1,"headerBlanket","hidden","md:block"],[1,"header","headerRow","secondary"],[1,"flex","items-center"],[1,"mr-2"],["searchBar",""],[3,"header","itemName","fillColor"],[1,"coordsDisplay","hidden","md:inline"],[3,"innerHTML"],[1,"translucentPadding","mapViewNodeBlanket","pmloMap"],["id","parent",1,"mapViewNode"],["mapViewNode",""],["id","textboxes"],[3,"mapView","colorPrefix"],[1,"graphicsControls",3,"sketchVM","textGraphicsLayer"],["graphicsStore",""],[1,"pmloModal","pmloSoilsTable",3,"maximizable","backdrop","inViewport"],["soilsTableModal",""],[1,"app-modal-header"],[1,"app-modal-body"],[1,"pmloModal","notificationsModal",3,"maximizable","inViewport"],["notificationsModal",""],[1,"pmloModal","helpModal",3,"maximizable","backdrop","inViewport","isHelpModal","isOverflowXHidden"],["helpModal",""],[1,"app-modal-body",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"pmloModal","sessionModal",3,"maximizable","inViewport","closeModal"],["sessionModal",""],[1,"sessionBtns"],[1,"pmlo-btn","pmlo-secondary","sessionBtn","py-2","px-4",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate90"],["d","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"showHideSvg","rotate270"]],template:function(e,t){1&e&&(r.Sb(0,"div",0,1),r.Sb(2,"div",2),r.Sb(3,"button",3),r.Zb("click",function(){return t.sidebarVisible=!t.sidebarVisible}),r.Ac(4,Fi,2,0,"svg",4),r.Bc(5),r.Ac(6,Ei,2,0,"svg",5),r.Rb(),r.Sb(7,"app-accordion"),r.Sb(8,"app-accordion-panel",6,7),r.Ob(10,"app-drawtools",8),r.Rb(),r.Sb(11,"app-accordion-panel",9,10),r.Ob(13,"pmlo-sens-areas",11),r.Rb(),r.Sb(14,"app-accordion-panel",12,13),r.Ob(16,"pmlo-soils",11,14),r.Rb(),r.Sb(18,"app-accordion-panel",15,16),r.Ob(20,"pmlo-harvest-operations",11),r.Rb(),r.Sb(21,"app-accordion-panel",17,18),r.Ob(23,"pmlo-regeneration-operations",11),r.Rb(),r.Sb(24,"app-accordion-panel",19,20),r.Ob(26,"app-elevation-profile",21,22),r.Rb(),r.Sb(28,"app-accordion-panel",23,24),r.Ob(30,"app-culvert-size",11,25),r.Rb(),r.Sb(32,"app-accordion-panel",26,27),r.Ob(34,"app-import-export",11),r.Rb(),r.Sb(35,"app-accordion-panel",28,29),r.Ob(37,"app-print-tool",30),r.Rb(),r.Rb(),r.Ob(38,"app-site-policies"),r.Rb(),r.Rb(),r.Sb(39,"div",31),r.Sb(40,"div",32),r.Sb(41,"div",33),r.Sb(42,"div",34),r.Ob(43,"div",35,36),r.Ob(45,"app-help-button",37),r.Rb(),r.Sb(46,"div",38),r.Bc(47," Mouse Coordinates [ "),r.Ob(48,"span",39),r.Bc(49," ] "),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"div",40),r.Sb(51,"div",41,42),r.Ob(53,"div",43),r.Ob(54,"app-basemap-widget",11),r.Ob(55,"app-overlay-layers-widget",44),r.Ob(56,"app-swipe-widget",11),r.Ob(57,"app-measurement-widget",11),r.Ob(58,"app-scale-text"),r.Rb(),r.Ob(59,"app-graphic-store",45,46),r.Rb(),r.Rb(),r.Sb(61,"app-modal",47,48),r.Qb(63,49),r.Bc(64,"Soils Within Project Area"),r.Pb(),r.Qb(65,50),r.Ob(66,"pmlo-soils-table"),r.Pb(),r.Rb(),r.Sb(67,"app-modal",51,52),r.Qb(69,49),r.Bc(70),r.Pb(),r.Qb(71,50),r.Ob(72,"p",39),r.Pb(),r.Rb(),r.Sb(73,"app-modal",53,54),r.Qb(75,49),r.Bc(76),r.Pb(),r.Qb(77,55),r.Ac(78,Wi,2,0,"ng-container",56),r.Ac(79,Zi,2,0,"ng-container",56),r.Ac(80,Ui,2,0,"ng-container",56),r.Ac(81,qi,2,0,"ng-container",56),r.Ac(82,Ji,2,0,"ng-container",56),r.Ac(83,Qi,2,0,"ng-container",56),r.Ac(84,Yi,2,0,"ng-container",56),r.Ac(85,Ki,2,0,"ng-container",56),r.Ac(86,$i,2,0,"ng-container",56),r.Ac(87,Xi,2,0,"ng-container",56),r.Ac(88,ea,2,0,"ng-container",56),r.Ac(89,ta,2,0,"ng-container",56),r.Ac(90,ia,2,0,"ng-container",56),r.Ac(91,aa,2,0,"ng-container",56),r.Ac(92,oa,2,0,"ng-container",56),r.Pb(),r.Rb(),r.Sb(93,"app-modal",57,58),r.Zb("closeModal",function(){return t.restoreSession(null)}),r.Qb(95,49),r.Bc(96,"Restore previous session?"),r.Pb(),r.Qb(97,50),r.Bc(98," This application was closed while you had some drawings. "),r.Ob(99,"br"),r.Bc(100," Would you like to restore those drawings? "),r.Ob(101,"br"),r.Ob(102,"br"),r.Sb(103,"div",59),r.Sb(104,"button",60),r.Zb("click",function(){return t.restoreSession(!0)}),r.Bc(105,"Restore"),r.Rb(),r.Sb(106,"button",60),r.Zb("click",function(){return t.restoreSession(!1)}),r.Bc(107,"Start New"),r.Rb(),r.Rb(),r.Pb(),r.Rb()),2&e&&(r.Fb("sidebarHidden",!t.sidebarVisible),r.Bb(3),r.Fb("sideOpen",t.sidebarVisible),r.Bb(1),r.jc("ngIf",t.sidebarVisible),r.Bb(1),r.Dc(" ",t.sidebarVisible?"Hide":"Show"," "),r.Bb(1),r.jc("ngIf",!t.sidebarVisible),r.Bb(4),r.jc("sketchVM",t.sketchVM)("mapView",t.mapView)("textGraphicsLayer",t.textGraphicsLayer)("geomLabelsSketchVM",t.geomLabelsSketchVM)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("geomLabelsGraphicsLayer",t.geomLabelsGraphicsLayer)("polygonGraphicsLayer",t.polygonGraphicsLayer)("generalSketchVM",t.generalSketchVM),r.Bb(3),r.jc("mapView",t.mapView),r.Bb(3),r.jc("mapView",t.mapView),r.Bb(4),r.jc("mapView",t.mapView),r.Bb(3),r.jc("mapView",t.mapView),r.Bb(3),r.jc("mapView",t.mapView)("sketchVM",t.sketchVM)("generalSketchVM",t.generalSketchVM),r.Bb(4),r.jc("mapView",t.mapView),r.Bb(4),r.jc("mapView",t.mapView),r.Bb(3),r.jc("mapView",t.mapView)("sketchVM",t.sketchVM),r.Bb(8),r.jc("header","Find Location")("itemName","search")("fillColor","white"),r.Bb(3),r.jc("innerHTML",t.mapCoords,r.uc),r.Bb(6),r.jc("mapView",t.mapView),r.Bb(1),r.jc("mapView",t.mapView)("colorPrefix","pmlo"),r.Bb(1),r.jc("mapView",t.mapView),r.Bb(1),r.jc("mapView",t.mapView),r.Bb(2),r.jc("sketchVM",t.sketchVM)("textGraphicsLayer",t.textGraphicsLayer),r.Bb(2),r.jc("maximizable",!1)("backdrop",!1)("inViewport",!0),r.Bb(6),r.jc("maximizable",!1)("inViewport",!0),r.Bb(3),r.Cc(t.notification.header),r.Bb(2),r.jc("innerHTML",t.notification.body,r.uc),r.Bb(1),r.jc("maximizable",!1)("backdrop",!1)("inViewport",!0)("isHelpModal",!0)("isOverflowXHidden",!0),r.Bb(3),r.Cc(t.helpHeader),r.Bb(1),r.jc("ngSwitch",t.helpItem),r.Bb(1),r.jc("ngSwitchCase","draw"),r.Bb(1),r.jc("ngSwitchCase","sensAreas"),r.Bb(1),r.jc("ngSwitchCase","soils"),r.Bb(1),r.jc("ngSwitchCase","harvOperations"),r.Bb(1),r.jc("ngSwitchCase","regOperations"),r.Bb(1),r.jc("ngSwitchCase","elevation"),r.Bb(1),r.jc("ngSwitchCase","culvert"),r.Bb(1),r.jc("ngSwitchCase","importExport"),r.Bb(1),r.jc("ngSwitchCase","exportMap"),r.Bb(1),r.jc("ngSwitchCase","layers"),r.Bb(1),r.jc("ngSwitchCase","swipe"),r.Bb(1),r.jc("ngSwitchCase","basemaps"),r.Bb(1),r.jc("ngSwitchCase","search"),r.Bb(1),r.jc("ngSwitchCase","measurement"),r.Bb(1),r.jc("ngSwitchCase","gettingStartedTour"),r.Bb(1),r.jc("maximizable",!1)("inViewport",!0))},directives:[o.m,A.a,u.a,V.a,Re,Ge,ot,nt,Lt,_t,zt.a,Nt.a,Dt.a,se.a,Ht.a,Ft.a,Et.a,Wt.a,Zt.a,Ut.a,Bt.a,ti,o.o,o.p,ni,li,ci,di,bi,pi,hi,ui,mi,gi,fi,Si,yi,vi,xi],styles:[".headerRow[_ngcontent-%COMP%]{align-items:center;color:#000;height:50px;padding-left:10px}.secondary[_ngcontent-%COMP%]{border-radius:5px 0 0 5px;color:#fff}.mapViewNode[_ngcontent-%COMP%]{height:100%;width:100%}.graphicsControls[_ngcontent-%COMP%]{bottom:20px;left:0;margin:auto;position:absolute;right:0;width:300px;z-index:10}.mapBlanket[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.mapViewNodeBlanket[_ngcontent-%COMP%]{flex:1;padding:5px 0 0 5px;position:relative}.coordsDisplay[_ngcontent-%COMP%]{color:#dad2d2;flex:1;font-size:14px;padding-right:10px;text-align:right}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%]{padding:5px 0 0 5px}.sidebarBlanket[_ngcontent-%COMP%]{width:270px}.sidebar[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;height:100%;width:100%}.sidebarToggle[_ngcontent-%COMP%]{align-items:center;background:#000;border-radius:5px;color:#fff;display:none;justify-content:center;padding:5px;position:absolute;right:-68px}@media only screen and (max-width:600px){.sidebarBlanket[_ngcontent-%COMP%]{background:transparent!important;background-color:transparent!important;left:0;padding:5px 0 0 5px;position:fixed;z-index:9000}.sidebarToggle[_ngcontent-%COMP%]{display:flex}.sidebarHidden[_ngcontent-%COMP%]{left:-269px}}.sideOpen[_ngcontent-%COMP%]{right:-58px}.showHideSvg[_ngcontent-%COMP%]{fill:#fff;display:inline-block;height:20px}.rotate90[_ngcontent-%COMP%]{transform:rotate(90deg)}.rotate270[_ngcontent-%COMP%]{transform:rotate(270deg)}.headerRow[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5);display:flex}.secondary[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]{background-color:#353535}.sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;overflow-y:auto}.headerBlanket[_ngcontent-%COMP%], .sidebarBlanket[_ngcontent-%COMP%], .translucentPadding[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5)}.sessionBtn[_ngcontent-%COMP%]{width:9em}.sessionBtns[_ngcontent-%COMP%]{gap:1em;display:flex;justify-content:center}"]}),e})(),ra=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-pmlo"]],decls:3,vars:4,consts:[[1,"parentContainer"],[3,"headerColor","title"],[1,"esriMap"]],template:function(e,t){1&e&&(r.Sb(0,"main",0),r.Ob(1,"app-header",1),r.Ob(2,"pmlo-esrimap",2),r.Rb()),2&e&&(r.Db("pmlo-theme"),r.Bb(1),r.jc("headerColor","rgb(199 193 177)")("title","Plan My Land Operation"))},directives:[n.a,sa],encapsulation:2}),e})();var na=i("Kww6");let la=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var ca=i("ITmb"),da=i("kmnG"),ba=i("DC2l"),pa=i("FhEM");let ha=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({providers:[Vt],imports:[[o.c,da.d,ne.f,ba.a,pa.a]]}),e})(),ua=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c,ii.a]]}),e})();var ma=i("ZRjd");let ga=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})(),fa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({providers:[Rt],imports:[[o.c,da.d,ne.f,ba.a,pa.a]]}),e})(),Sa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var ya=i("M8/b");let va=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var wa=i("niHo");let Ra=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var Ba=i("bTqV");let xa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var Ca=i("piud"),La=i("0I6m"),Oa=i("LAbW"),ka=i("KAcK");let Ma=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var Pa=i("S4iY"),Ta=i("Wqx0");let Aa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[o.c]]}),e})();var Va=i("XpBf");let ja=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({imports:[[na.a,la,ca.a,o.c,ha,ua,ma.a,ga,fa,Sa,ne.f,ya.a,pa.a,va,wa.a,Ra,Ba.b,xa,Ca.a,ba.a,La.a,Oa.a,ka.a,Ma,Pa.a,Ta.a,Aa,Va.a]]}),e})(),Ia=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["pmlo-about"]],decls:22,vars:4,consts:[[1,"parentContainer"],[3,"headerColor","title","isAboutVisible","isHelpVisible"],[1,"aboutBody","mx-5","mb-5","bg-pmlo_secondary","flex","justify-center"],[1,"container","mx-2","text-white","justify-between","flex","flex-col"],[1,"mb-3"],[1,"text-2xl","text-center","font-bold"],[1,"mt-4"],["href","/","target","_blank","rel","noopener noreferrer"],[1,"mt-4","text-2xl","underline"],["href","assets/casestudy/PMLO_Exercise.pdf","target","_blank","rel","noopener noreferrer"],[1,"text-2xl","underline"],["href","assets/casestudy/FairchildSF.zip","rel","noopener noreferrer"],[1,"disclaimerContainer","text-sm"]],template:function(e,t){1&e&&(r.Sb(0,"main",0),r.Ob(1,"app-header",1),r.Sb(2,"div",2),r.Sb(3,"div",3),r.Sb(4,"div",4),r.Sb(5,"h1",5),r.Bc(6,"About Plan My Land Operation"),r.Rb(),r.Sb(7,"p",6),r.Bc(8,"The "),r.Sb(9,"a",7),r.Bc(10,"Plan My Land Operation"),r.Rb(),r.Bc(11," application is a mechanism for the Texas A&M Forest Service to provide users with tools to locate and map their project area, identify sensitive areas including streams, wet areas, and steep slopes, buffer these special features, determine operational characteristics of mapped soil types such as rutting potential and erosion hazard, calculate the culvert size needed for a selected point, and determine the elevation profile of a linear feature, such as a road or trail.\xa0\xa0The application also allows users to save and print reports with operational considerations and Best Management Practice recommendations."),r.Rb(),r.Sb(12,"p",8),r.Sb(13,"a",9),r.Bc(14,"Case Study Exercise"),r.Rb(),r.Rb(),r.Sb(15,"p",10),r.Sb(16,"a",11),r.Bc(17,"Exercise Data - FairchildSF.zip"),r.Rb(),r.Rb(),r.Rb(),r.Sb(18,"div",12),r.Sb(19,"p"),r.Sb(20,"i"),r.Bc(21,"Disclaimer: This website is provided by the Texas A&M Forest Service to help users plan operations on a project area.\xa0\xa0In providing information on this site, we attempt to be as accurate as possible.\xa0\xa0However, the Texas Forest Service makes no claims, guarantees, or promises about the accuracy or completeness of the information provided.\xa0\xa0Information contained on this site should not be construed as giving business, legal, or other advice."),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e&&(r.Bb(1),r.jc("headerColor","rgb(199 193 177)")("title","Plan My Land Operation")("isAboutVisible",!1)("isHelpVisible",!1))},directives:[n.a],styles:[".parentContainer[_ngcontent-%COMP%]{background-color:rgba(143,131,100,.5)}.container[_ngcontent-%COMP%]{max-width:45em}.aboutBody[_ngcontent-%COMP%]{border-radius:.3125em;flex:1}@media screen and (min-height:768px) and (min-width:768px){.aboutBody[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:4em}.disclaimerContainer[_ngcontent-%COMP%]{margin-bottom:4em}}"]}),e})();var Ga=i("rDax");const _a=[{path:"",component:ra},{path:"about",component:Ia}];let za=(()=>{class e{constructor(e){e.getContainerElement().classList.add("pmlo-theme")}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(Ga.e))},e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({providers:[o.f],imports:[[o.c,ja,a.e.forChild(_a),s.a]]}),e})()}}]);