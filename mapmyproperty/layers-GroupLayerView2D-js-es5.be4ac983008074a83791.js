!function(){function e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==i.return||i.return()}finally{if(l)throw s}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function a(e,t,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=y(e);if(t){var n=y(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return h(this,i)}}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{"2GoO":function(e,i,n){"use strict";n.r(i);var o=n("pO5D"),c=(n("wSAH"),n("6S2I"),n("zqDF"),n("WbKI")),h=n("04ZG"),p=(n("4EHJ"),n("ju1D"),n("9AIY"),n("LE9a")),f=n("fX31"),v=function(e){u(i,e);var t=d(i);function i(e){var r;return s(this,i),(r=t.call(this,e)).layerViews=new p.a,r}return l(i,[{key:"initialize",value:function(){var e=this;this.handles.add([this.layerViews.on("change",(function(t){return e._layerViewsChangeHandler(t)})),this.layerViews.on("after-changes",(function(){return e._layerViewsAfterChangesHandler()})),this.layer.watch("visibilityMode",(function(){return e._visibilityModeHandler()}),!0),this.watch("visible",(function(){return e._visibleHandler()}),!0)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]}),this._layerViewsAfterChangesHandler()}},{key:"layerViews",set:function(e){this._set("layerViews",Object(f.b)(e,this._get("layerViews")))}},{key:"isUpdating",value:function(){return this.layerViews.some((function(e){return e.updating}))}},{key:"_hasLayerViewVisibleOverrides",value:function(){return this.layerViews.some((function(e){return e._isOverridden("visible")}))}},{key:"_findLayerViewForLayer",value:function(e){return e&&this.layerViews.find((function(t){return t.layer===e}))}},{key:"_firstVisibleOnLayerOrder",value:function(){var e=this,t=this.layer.layers.find((function(t){var i=e._findLayerViewForLayer(t);return i&&i.visible}));return t&&this._findLayerViewForLayer(t)}},{key:"_enforceExclusiveVisibility",value:function(e){this._hasLayerViewVisibleOverrides()&&(e||!(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.getItemAt(0))),this.layerViews.forEach((function(t){t.visible=t===e})))}},{key:"_layerViewsChangeHandler",value:function(e){var t=this;this.handles.remove("grouplayerview:visible"),this.handles.add(this.layerViews.map((function(e){return e.watch("visible",(function(i){return t._layerViewVisibleHandler(i,e)}),!0)})).toArray(),"grouplayerview:visible");var i=e.added[e.added.length-1],r=null;i&&i.visible&&(r=i),this._enforceVisibility(r)}},{key:"_layerViewsAfterChangesHandler",value:function(){var e=this;this.handles.remove("grouplayerview:updating"),this.handles.add(this.layerViews.map((function(t){return t.watch("updating",(function(){return e._updateUpdating()}),!0)})).toArray(),"grouplayerview:updating"),this._updateUpdating()}},{key:"_enforceVisibility",value:function(e){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case"inherited":var t=this.visible;this.layerViews.forEach((function(e){e.visible=t}));break;case"exclusive":this._enforceExclusiveVisibility(e)}}},{key:"_visibilityModeHandler",value:function(){this._enforceVisibility()}},{key:"_layerViewVisibleHandler",value:function(e,t){if(this._hasLayerViewVisibleOverrides())switch(this.layer.visibilityMode){case"inherited":e!==this.visible&&(t.visible=this.visible);break;case"exclusive":this._enforceExclusiveVisibility(e&&t)}}},{key:"_visibleHandler",value:function(){var e;this._hasLayerViewVisibleOverrides()&&"inherited"===(null==(e=this.layer)?void 0:e.visibilityMode)&&this._enforceVisibility()}},{key:"_updateUpdating",value:function(){this.notifyChange("updating")}}]),i}(n("NloG").a);Object(o.a)([Object(c.b)({cast:f.a})],v.prototype,"layerViews",null),Object(o.a)([Object(c.b)()],v.prototype,"view",void 0);var b=v=Object(o.a)([Object(h.a)("esri.views.layers.GroupLayerView")],v),g=n("Vm2Q"),O=(n("OKTS"),n("n4uK"),n("GVa1"),n("0meK")),w=function(e){u(n,e);var i=d(n);function n(){var e;return s(this,n),(e=i.apply(this,arguments))._lastWidth=0,e._lastHeight=0,e.requiresDedicatedFBO=!1,e}return l(n,[{key:"dispose",value:function(){this._renderTarget&&(this._renderTarget.dispose(),this._renderTarget=null)}},{key:"doRender",value:function(e){var t=this.createRenderParams(e),i=t.context,n=t.painter,a=t.profiler;this._prevFBO=i.getBoundFramebufferObject(),a.recordContainerStart(this.name);var s=this._getFbo(t),o=n.getRenderTarget();i.bindFramebuffer(s),n.setRenderTarget(s),i.setDepthWriteEnabled(!0),i.setColorMask(!0,!0,!0,!0),i.setClearColor(0,0,0,0),i.setClearDepth(1),i.clear(i.gl.COLOR_BUFFER_BIT|i.gl.DEPTH_BUFFER_BIT),i.setDepthWriteEnabled(!1);var l,u=r(this.children);try{for(u.s();!(l=u.n()).done;){l.value.beforeRender(e)}}catch(p){u.e(p)}finally{u.f()}var c,d=r(this.children);try{for(d.s();!(c=d.n()).done;){c.value.processRender(t)}}catch(p){d.e(p)}finally{d.f()}var h,y=r(this.children);try{for(y.s();!(h=y.n()).done;){h.value.afterRender(e)}}catch(p){y.e(p)}finally{y.f()}n.setRenderTarget(o),i.bindFramebuffer(this._prevFBO),n.beforeRenderLayer(t,this._clippingInfos?255:0,this.computedOpacity),i.setStencilTestEnabled(!1),i.setStencilWriteMask(0),n.blitTexture(i,s.colorTexture,9728),n.compositeLayer(t,this.computedOpacity),a.recordContainerEnd()}},{key:"createRenderParams",value:function(e){return t(t({},a(y(n.prototype),"createRenderParams",this).call(this,e)),{},{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1})}},{key:"_getFbo",value:function(e){var t=e.context,i=e.painter,r=t.getViewport(),n=r.width,a=r.height;if(n!==this._lastWidth||a!==this._lastHeight)if(this._lastWidth=n,this._lastHeight=a,this._renderTarget)this._renderTarget.resize(n,a);else{var s={target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:n,height:a},o=i.getSharedStencilBuffer();this._renderTarget=new O.a(t,{colorTarget:0,depthStencilTarget:3},s,o)}return this._renderTarget}}]),n}(n("mgI5").a),j=function(e){u(i,e);var t=d(i);function i(){var e;return s(this,i),(e=t.apply(this,arguments)).container=new w,e}return l(i,[{key:"attach",value:function(){var e=this;this._updateStageChildren(),this.handles.add(this.layerViews.on("after-changes",(function(){return e._updateStageChildren()})),"grouplayerview2d")}},{key:"detach",value:function(){this.handles.remove("grouplayerview2d"),this.container.removeAllChildren()}},{key:"hitTest",value:function(e,t){return null}},{key:"update",value:function(e){}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){}},{key:"_updateStageChildren",value:function(){var e=this;this.container.removeAllChildren(),this.layerViews.forEach((function(t,i){return e.container.addChildAt(t.container,i)}))}}]),i}(Object(g.a)(b));j=Object(o.a)([Object(h.a)("esri.views.2d.layers.GroupLayerView2D")],j),i.default=j},NloG:function(e,t,i){"use strict";var r=i("pO5D"),n=(i("wSAH"),i("6S2I")),a=(i("zqDF"),i("WbKI")),o=i("04ZG"),c=(i("4EHJ"),i("ju1D"),i("9AIY"),i("/CmD")),h=i("zm0L"),y=i("pdg3"),p=i("+rMe"),f=i("kJYu"),v=function(e){u(i,e);var t=d(i);function i(e){var r;return s(this,i),(r=t.call(this,e)).layer=null,r.parent=null,r}return l(i,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){if("layerview:create-error"!==t.name){var i=e.layer&&e.layer.id||"no id",r=e.layer&&e.layer.title||"no title";throw n.a.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '".concat(r,"', id: '").concat(i,"')"),t),t}}))}},{key:"fullOpacity",get:function(){var e=function(e){return null==e?1:e};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}},{key:"visible",get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}},{key:"canResume",value:function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1}},{key:"getSuspendInfo",value:function(){var e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}},{key:"isUpdating",value:function(){return!1}}]),i}(Object(f.b)(Object(y.a)(Object(p.b)(h.a.EventedMixin(c.a)))));Object(r.a)([Object(a.b)()],v.prototype,"fullOpacity",null),Object(r.a)([Object(a.b)()],v.prototype,"layer",void 0),Object(r.a)([Object(a.b)()],v.prototype,"parent",void 0),Object(r.a)([Object(a.b)({readOnly:!0})],v.prototype,"suspended",null),Object(r.a)([Object(a.b)({readOnly:!0})],v.prototype,"suspendInfo",null),Object(r.a)([Object(a.b)({readOnly:!0})],v.prototype,"legendEnabled",null),Object(r.a)([Object(a.b)({type:Boolean,readOnly:!0})],v.prototype,"updating",null),Object(r.a)([Object(a.b)()],v.prototype,"visible",null),v=Object(r.a)([Object(o.a)("esri.views.layers.LayerView")],v),t.a=v},Vm2Q:function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var r,n=i("pO5D"),o=(i("wSAH"),i("6S2I"),i("zqDF"),i("WbKI")),c=i("04ZG"),h=(i("4EHJ"),i("ju1D"),i("9AIY"),i("LE9a")),p=i("fX31"),f=i("N5XI"),v=i("ZuQG"),b=i("L1EH"),g=i("AMBt"),O=i("N2DF"),w=i("OvF4"),j=i("Ehki"),_=i("qatw");i("4GrV");var m={base:O.a,key:"type",typeMap:{extent:w.a,polygon:j.a}},V=r=function(e){u(i,e);var t=d(i);function i(){var e;return s(this,i),(e=t.apply(this,arguments)).type="geometry",e.geometry=null,e}return l(i,[{key:"version",get:function(){return(this._get("version")||0)+1}},{key:"clone",value:function(){return new r({geometry:this.geometry.clone()})}}]),i}(v.a);Object(n.a)([Object(o.b)({types:m,json:{read:_.a,write:!0}})],V.prototype,"geometry",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],V.prototype,"version",null);var k=V=r=Object(n.a)([Object(c.a)("esri.views.layers.support.Geometry")],V),R=function(e){u(i,e);var t=d(i);function i(){var e;return s(this,i),(e=t.apply(this,arguments)).type="path",e.path=[],e}return l(i,[{key:"version",get:function(){return(this._get("version")||0)+1}}]),i}(v.a);Object(n.a)([Object(o.b)({type:[[[Number]]],json:{write:!0}})],R.prototype,"path",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],R.prototype,"version",null),R=Object(n.a)([Object(c.a)("esri.views.layers.support.Path")],R);var E=h.a.ofType({key:"type",base:v.a,typeMap:{rect:b.a,path:R,geometry:k}}),S=function(e){var t=function(e){u(i,e);var t=d(i);function i(){var e;return s(this,i),(e=t.apply(this,arguments)).clips=new E,e.moving=!1,e.attached=!1,e.lastUpdateId=-1,e.updateRequested=!1,e}return l(i,[{key:"initialize",value:function(){var e,t=this;this.container||(this.container=new g.a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([Object(f.init)(this,"suspended",(function(e){t.container&&(t.container.visible=!e),t.view&&!e&&t.updateRequested&&t.view.requestUpdate()}),!0),Object(f.init)(this,["layer.opacity","container"],(function(){var e,i;t.container&&(t.container.opacity=null!=(e=null==(i=t.layer)?void 0:i.opacity)?e:1)}),!0),Object(f.init)(this,["layer.blendMode"],(function(e){t.container&&(t.container.blendMode=e)}),!0),Object(f.init)(this,["layer.effect"],(function(e){t.container&&(t.container.effect=e)}),!0),this.clips.on("change",(function(){t.container.clips=t.clips,t.notifyChange("clips")}))]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then((function(e){e!==t||t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){})):this.when().then((function(){t.attached||t.destroyed||(t.attach(),t.requestUpdate(),t.attached=!0)}),(function(){}))}},{key:"destroy",value:function(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove("initialize"),this.updateRequested=!1}},{key:"updating",get:function(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}},{key:"isVisibleAtScale",value:function(e){var t=!0,i=this.layer,r=i.minScale,n=i.maxScale;if(null!=r&&null!=n){var a=!r,s=!n;!a&&e<=r&&(a=!0),!s&&e>=n&&(s=!0),t=a&&s}return t}},{key:"requestUpdate",value:function(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}},{key:"processUpdate",value:function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}},{key:"isUpdating",value:function(){return!1}},{key:"isRendering",value:function(){return!1}},{key:"canResume",value:function(){return!!a(y(i.prototype),"canResume",this).call(this)&&this.isVisibleAtScale(this.view.scale)}}]),i}(e);return Object(n.a)([Object(o.b)({type:E,set:function(e){var t=Object(p.b)(e,this._get("clips"),E);this._set("clips",t)}})],t.prototype,"clips",void 0),Object(n.a)([Object(o.b)()],t.prototype,"moving",void 0),Object(n.a)([Object(o.b)()],t.prototype,"attached",void 0),Object(n.a)([Object(o.b)()],t.prototype,"container",void 0),Object(n.a)([Object(o.b)()],t.prototype,"suspended",void 0),Object(n.a)([Object(o.b)({readOnly:!0})],t.prototype,"updateParameters",void 0),Object(n.a)([Object(o.b)()],t.prototype,"updateRequested",void 0),Object(n.a)([Object(o.b)()],t.prototype,"updating",null),Object(n.a)([Object(o.b)()],t.prototype,"view",void 0),t=Object(n.a)([Object(c.a)("esri.views.2d.layers.LayerView2D")],t)}}}])}();