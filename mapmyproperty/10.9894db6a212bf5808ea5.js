(function(){var t={"esri/views/2d/engine/webgl/Geometry":"6+ni","arcgis-js-api/views/2d/engine/webgl/mesh/templates/util":"8Lwu","esri/views/2d/engine/webgl/mesh/templates/util":"8Lwu","esri/views/2d/engine/webgl/TileClipper":"GDRe","esri/views/2d/engine/webgl/TurboLine":"tBzM"},i=this||window,e=i.webpackJsonp=i.webpackJsonp||[];e.registerAbsMids?e.registerAbsMids(t):(e.absMidsWaiting=e.absMidsWaiting||[]).push(t)})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"6+ni":function(t,i,e){var n,r;n=[e.dj.c(t.i),i],void 0===(r=(function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Point=void 0;var e=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(t,i){return t===this.x&&i===this.y},t.prototype.isEqual=function(t){return t.x===this.x&&t.y===this.y},t.prototype.setCoords=function(t,i){this.x=t,this.y=i},t.prototype.normalize=function(){var t=this.x,i=this.y,e=Math.sqrt(t*t+i*i);this.x/=e,this.y/=e},t.prototype.rightPerpendicular=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.move=function(t,i){this.x+=t,this.y+=i},t.prototype.assign=function(t){this.x=t.x,this.y=t.y},t.prototype.assignAdd=function(t,i){this.x=t.x+i.x,this.y=t.y+i.y},t.prototype.assignSub=function(t,i){this.x=t.x-i.x,this.y=t.y-i.y},t.prototype.rotate=function(t,i){var e=this.x,n=this.y;this.x=e*t-n*i,this.y=e*i+n*t},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.length=function(){var t=this.x,i=this.y;return Math.sqrt(t*t+i*i)},t.distance=function(t,i){var e=i.x-t.x,n=i.y-t.y;return Math.sqrt(e*e+n*n)},t.add=function(i,e){return new t(i.x+e.x,i.y+e.y)},t.sub=function(i,e){return new t(i.x-e.x,i.y-e.y)},t}();i.Point=e}).apply(null,n))||(t.exports=r)},"8Lwu":function(t,i,e){var n,r;n=[e.dj.c(t.i),i],void 0===(r=(function(t,i){"use strict";function e(t,i){return Math.sqrt(t*t+i*i)}Object.defineProperty(i,"__esModule",{value:!0}),i.isPolygon=i.isPolyline=i.isPoint=i.isMultipoint=i.isExtent=i.getLimitCosine=i.isFunction=i.dist=i.normalize=i.len=i.sub=void 0,i.sub=function(t,i,e){return t[0]=i[0]-e[0],t[1]=i[1]-e[1],t},i.len=e,i.normalize=function(t){var i=e(t[0],t[1]);t[0]/=i,t[1]/=i},i.dist=function(t,i){return e(t[0]-i[0],t[1]-i[1])},i.isFunction=function(t){return"function"==typeof t},i.getLimitCosine=function(t){return 1/Math.max(t,1)},i.isExtent=function(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax},i.isMultipoint=function(t){return void 0!==t.points},i.isPoint=function(t){return void 0!==t.x&&void 0!==t.y},i.isPolyline=function(t){return void 0!==t.paths},i.isPolygon=function(t){return void 0!==t.rings}}).apply(null,n))||(t.exports=r)},GDRe:function(t,i,e){var n,r;n=[e.dj.c(t.i),i,e("tI6k"),e("6+ni"),e("VY6u")],void 0===(r=(function(t,i,e,n,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SimpleBuilder=i.TileClipper=void 0;var s=function(t,i,e){this.ratio=t,this.x=i,this.y=e},o=function(){function t(t,i,n,r,s){void 0===r&&(r=8),void 0===s&&(s=8),this.lines=[],this.starts=[],this.pixelRatio=r,this.pixelMargin=s,this.tileSize=e.TILE_SIZE*r,this.dz=t,this.yPos=i,this.xPos=n}return t.prototype.setExtent=function(t){this.finalRatio=this.tileSize/t*(1<<this.dz);var i=this.pixelRatio*this.pixelMargin,e=t>>this.dz;(i/=this.finalRatio)>e&&(i=e),this.margin=i,this.xmin=e*this.xPos-i,this.ymin=e*this.yPos-i,this.xmax=this.xmin+e+2*i,this.ymax=this.ymin+e+2*i},t.prototype.reset=function(t){this.type=t,this.lines=[],this.starts=[],this.line=null,this.start=0},t.prototype.moveTo=function(t,i){this._pushLine(),this._prevIsIn=this._isIn(t,i),this._moveTo(t,i,this._prevIsIn),this._prevPt=new n.Point(t,i),this._firstPt=new n.Point(t,i),this._dist=0},t.prototype.lineTo=function(t,i){var e,r,o,x,h,l,u,a,y=this._isIn(t,i),c=new n.Point(t,i),p=n.Point.distance(this._prevPt,c);if(y)this._prevIsIn?this._lineTo(t,i,!0):(o=this._intersect(r=c,e=this._prevPt),this.start=this._dist+p*(1-this._r),this._lineTo(o.x,o.y,!0),this._lineTo(r.x,r.y,!0));else if(this._prevIsIn)o=this._intersect(r=this._prevPt,e=c),this._lineTo(o.x,o.y,!0),this._lineTo(e.x,e.y,!1);else{var d=this._prevPt,f=c;if(d.x<=this.xmin&&f.x<=this.xmin||d.x>=this.xmax&&f.x>=this.xmax||d.y<=this.ymin&&f.y<=this.ymin||d.y>=this.ymax&&f.y>=this.ymax)this._lineTo(f.x,f.y,!1);else{var m=[];if((d.x<this.xmin&&f.x>this.xmin||d.x>this.xmin&&f.x<this.xmin)&&((a=d.y+(x=(this.xmin-d.x)/(f.x-d.x))*(f.y-d.y))<=this.ymin?l=!1:a>=this.ymax?l=!0:m.push(new s(x,this.xmin,a))),(d.x<this.xmax&&f.x>this.xmax||d.x>this.xmax&&f.x<this.xmax)&&((a=d.y+(x=(this.xmax-d.x)/(f.x-d.x))*(f.y-d.y))<=this.ymin?l=!1:a>=this.ymax?l=!0:m.push(new s(x,this.xmax,a))),(d.y<this.ymin&&f.y>this.ymin||d.y>this.ymin&&f.y<this.ymin)&&((u=d.x+(x=(this.ymin-d.y)/(f.y-d.y))*(f.x-d.x))<=this.xmin?h=!1:u>=this.xmax?h=!0:m.push(new s(x,u,this.ymin))),(d.y<this.ymax&&f.y>this.ymax||d.y>this.ymax&&f.y<this.ymax)&&((u=d.x+(x=(this.ymax-d.y)/(f.y-d.y))*(f.x-d.x))<=this.xmin?h=!1:u>=this.xmax?h=!0:m.push(new s(x,u,this.ymax))),0===m.length)this._lineTo(h?this.xmax:this.xmin,l?this.ymax:this.ymin,!0);else if(m.length>1&&m[0].ratio>m[1].ratio)this.start=this._dist+p*m[1].ratio,this._lineTo(m[1].x,m[1].y,!0),this._lineTo(m[0].x,m[0].y,!0);else{this.start=this._dist+p*m[0].ratio;for(var g=0;g<m.length;g++)this._lineTo(m[g].x,m[g].y,!0)}this._lineTo(f.x,f.y,!1)}}this._dist+=p,this._prevIsIn=y,this._prevPt=c},t.prototype.close=function(){if(this.line.length>2){var t=this._firstPt,i=this._prevPt;t.x===i.x&&t.y===i.y||this.lineTo(t.x,t.y);for(var e=this.line,n=e.length;n>=4&&(e[0].x===e[1].x&&e[0].x===e[n-2].x||e[0].y===e[1].y&&e[0].y===e[n-2].y);)e.pop(),e[0].x=e[n-2].x,e[0].y=e[n-2].y,--n}},t.prototype.result=function(t){return void 0===t&&(t=!0),this._pushLine(),0===this.lines.length?null:(3===this.type&&t&&h.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)},t.prototype.resultWithStarts=function(){if(2!==this.type)throw new Error("Only valid for lines");this._pushLine();var t=this.lines,i=t.length;if(0===i)return null;for(var e=[],n=0;n<i;n++)e.push({line:t[n],start:this.starts[n]||0});return e},t.prototype._isIn=function(t,i){return t>=this.xmin&&t<=this.xmax&&i>=this.ymin&&i<=this.ymax},t.prototype._intersect=function(t,i){var e,r,s;if(i.x>=this.xmin&&i.x<=this.xmax)s=((r=i.y<=this.ymin?this.ymin:this.ymax)-t.y)/(i.y-t.y),e=t.x+s*(i.x-t.x);else if(i.y>=this.ymin&&i.y<=this.ymax)s=((e=i.x<=this.xmin?this.xmin:this.xmax)-t.x)/(i.x-t.x),r=t.y+s*(i.y-t.y);else{var o=((e=i.x<=this.xmin?this.xmin:this.xmax)-t.x)/(i.x-t.x),x=((r=i.y<=this.ymin?this.ymin:this.ymax)-t.y)/(i.y-t.y);o<x?(s=o,r=t.y+o*(i.y-t.y)):(s=x,e=t.x+x*(i.x-t.x))}return this._r=s,new n.Point(e,r)},t.prototype._pushLine=function(){this.line&&(1===this.type?this.line.length>0&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?this.line.length>1&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&this.line.length>3&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0},t.prototype._moveTo=function(t,i,e){3!==this.type?e&&(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),i=Math.round((i-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(t,i))):(e||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),i<this.ymin&&(i=this.ymin),i>this.ymax&&(i=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),i=Math.round((i-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(t,i)),this._is_h=!1,this._is_v=!1)},t.prototype._lineTo=function(t,i,e){var r,s;if(3!==this.type)if(e){if(t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),i=Math.round((i-(this.ymin+this.margin))*this.finalRatio),this.line.length>0&&(r=this.line[this.line.length-1]).equals(t,i))return;this.line.push(new n.Point(t,i))}else this.line&&this.line.length>0&&this._pushLine();else if(e||(t<this.xmin&&(t=this.xmin),t>this.xmax&&(t=this.xmax),i<this.ymin&&(i=this.ymin),i>this.ymax&&(i=this.ymax)),t=Math.round((t-(this.xmin+this.margin))*this.finalRatio),i=Math.round((i-(this.ymin+this.margin))*this.finalRatio),this.line&&this.line.length>0){var o=(r=this.line[this.line.length-1]).x===t,x=r.y===i;if(o&&x)return;this._is_h&&o||this._is_v&&x?(r.x=t,r.y=i,(s=this.line[this.line.length-2]).x===t&&s.y===i?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(this._is_h=(s=this.line[this.line.length-2]).x===t,this._is_v=s.y===i)):(this._is_h=s.x===t,this._is_v=s.y===i)):(this.line.push(new n.Point(t,i)),this._is_h=o,this._is_v=x)}else this.line.push(new n.Point(t,i))},t}();i.TileClipper=o;var x=function(){function t(){}return t.prototype.setExtent=function(t){this._ratio=4096===t?1:4096/t},t.prototype.reset=function(t){this.type=t,this.lines=[],this.line=null},t.prototype.moveTo=function(t,i){this.line&&this.lines.push(this.line),this.line=[];var e=this._ratio;this.line.push(new n.Point(Math.round(t*e),Math.round(i*e)))},t.prototype.lineTo=function(t,i){var e=this._ratio;this.line.push(new n.Point(Math.round(t*e),Math.round(i*e)))},t.prototype.close=function(){var t=this.line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])},t.prototype.result=function(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:(3===this.type&&1!==this._ratio&&h.simplify(4096,64,this.lines),this.lines)},t}();i.SimpleBuilder=x;var h=function(){function t(){}return t.simplify=function(i,e,n){if(n){for(var r=-e,s=i+e,o=-e,x=i+e,h=[],l=[],u=n.length,a=0;a<u;++a){var y=n[a];if(y&&!(y.length<2))for(var c=y[0],p=void 0,d=y.length,f=1;f<d;++f)c.x===(p=y[f]).x&&(c.x<=r&&(c.y>p.y?(h.push(a),h.push(f),h.push(0),h.push(-1)):(l.push(a),l.push(f),l.push(0),l.push(-1))),c.x>=s&&(c.y<p.y?(h.push(a),h.push(f),h.push(1),h.push(-1)):(l.push(a),l.push(f),l.push(1),l.push(-1)))),c.y===p.y&&(c.y<=o&&(c.x<p.x?(h.push(a),h.push(f),h.push(2),h.push(-1)):(l.push(a),l.push(f),l.push(2),l.push(-1))),c.y>=x&&(c.x>p.x?(h.push(a),h.push(f),h.push(3),h.push(-1)):(l.push(a),l.push(f),l.push(3),l.push(-1)))),c=p}if(0!==h.length&&0!==l.length){t.fillParent(n,l,h),t.fillParent(n,h,l);var m=[];t.calcDeltas(m,l,h),t.calcDeltas(m,h,l),t.addDeltas(m,n)}}},t.fillParent=function(t,i,e){for(var n=e.length,s=i.length,o=0;o<s;o+=4){for(var x=i[o],h=i[o+1],l=i[o+2],u=t[x][h-1],a=t[x][h],y=8092,c=-1,p=0;p<n;p+=4)if(e[p+2]===l){var d=e[p],f=e[p+1],m=t[d][f-1],g=t[d][f];switch(l){case 0:case 1:r.between(u.y,m.y,g.y)&&r.between(a.y,m.y,g.y)&&(v=Math.abs(g.y-m.y))<y&&(y=v,c=p);break;case 2:case 3:var v;r.between(u.x,m.x,g.x)&&r.between(a.x,m.x,g.x)&&(v=Math.abs(g.x-m.x))<y&&(y=v,c=p)}}i[o+3]=c}},t.calcDeltas=function(i,e,n){for(var r=e.length,s=0;s<r;s+=4){var o=t.calcDelta(s,e,n,[]);i.push(e[s]),i.push(e[s+1]),i.push(e[s+2]),i.push(o)}},t.calcDelta=function(i,e,n,r){var s=e[i+3];if(-1===s)return 0;var o=r.length;return o>1&&r[o-2]===s?0:(r.push(s),t.calcDelta(s,n,e,r)+1)},t.addDeltas=function(t,i){for(var e=t.length,n=0,r=0;r<e;r+=4)(x=t[r+3])>n&&(n=x);for(r=0;r<e;r+=4){var s=i[t[r]],o=t[r+1],x=n-t[r+3];switch(t[r+2]){case 0:s[o-1].x-=x,s[o].x-=x,1===o&&(s[s.length-1].x-=x),o===s.length-1&&(s[0].x-=x);break;case 1:s[o-1].x+=x,s[o].x+=x,1===o&&(s[s.length-1].x+=x),o===s.length-1&&(s[0].x+=x);break;case 2:s[o-1].y-=x,s[o].y-=x,1===o&&(s[s.length-1].y-=x),o===s.length-1&&(s[0].y-=x);break;case 3:s[o-1].y+=x,s[o].y+=x,1===o&&(s[s.length-1].y+=x),o===s.length-1&&(s[0].y+=x)}}},t}()}).apply(null,n))||(t.exports=r)},tBzM:function(t,i,e){var n,r;n=[e.dj.c(t.i),i,e("8Lwu")],void 0===(r=(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ThinTessellationCallbacks=i.StandardTessellationCallbacks=i.splitVertex=i.cleanup=i.tessellate=i.TessellationState=void 0;var n,r=function(){this.closed=void 0,this.isFirstVertex=void 0,this.isLastVertex=void 0,this.isCap=void 0,this.currentVertex={x:void 0,y:void 0},this.inbound={x:void 0,y:void 0},this.outbound={x:void 0,y:void 0},this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.bisector={x:void 0,y:void 0},this.leftInner={x:void 0,y:void 0},this.rightInner={x:void 0,y:void 0},this.leftOuter={x:void 0,y:void 0},this.rightOuter={x:void 0,y:void 0}};function s(){if(p.cosine<y.innerBisectorAutoSplitThreshold){p.splitInner=!0,p.gapInner=!0;var t=Math.max(y.innerBisectorAutoSplitThreshold,p.cosine),i=Math.sqrt(1-t*t)/t;p.leftInner.x=p.nextNormal.x+p.sign*i*p.outbound.x,p.leftInner.y=p.nextNormal.y+p.sign*i*p.outbound.y,p.rightInner.x=p.prevNormal.x-p.sign*i*p.inbound.x,p.rightInner.y=p.prevNormal.y-p.sign*i*p.inbound.y}else y.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);p.cosine<y.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,t=Math.max(y.outerBisectorAutoSplitThreshold,p.cosine),i=Math.sqrt(1-t*t)/t,p.leftOuter.x=p.prevNormal.x-p.sign*i*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*i*p.inbound.y,p.rightOuter.x=p.nextNormal.x+p.sign*i*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*i*p.outbound.y):y.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}i.TessellationState=r,i.tessellate=function(t,i,e){y.trackDistance=null!=i.trackDistance&&i.trackDistance,y.wrapDistance=null!=i.wrapDistance?i.wrapDistance:65535,y.thin=null!=i.thin&&i.thin,y.initialDistance=null!=i.initialDistance?i.initialDistance:0,y.enableOuterBisectorSplit=null!=i.enableOuterBisectorSplit&&i.enableOuterBisectorSplit,y.outerBisectorAutoSplitThreshold=null!=i.outerBisectorAutoSplitThreshold?i.outerBisectorAutoSplitThreshold:0,y.enableInnerBisectorSplit=null!=i.enableOuterBisectorSplit&&i.enableOuterBisectorSplit,y.innerBisectorAutoSplitThreshold=null!=i.innerBisectorAutoSplitThreshold?i.innerBisectorAutoSplitThreshold:0,n=t,o=e,c=0,x=0,h=0,l=!1,u=null,a=null,p.currentVertex.x=null,p.currentVertex.y=null,p.distance=y.initialDistance;var r=n[0],s=n[n.length-1];p.canSplit=!1,p.closed=r.x===s.x&&r.y===s.y,n.length<2||2===n.length&&p.closed||(y.thin?y.trackDistance?function(){for(d(),f(),v(1);x-h>y.wrapDistance||c<n.length;)d(),f(),v(2),o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2}():function(){for(;c<n.length;){if(c>0&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),c<n.length-1){p.outbound.x=n[c+1].x-n[c].x,p.outbound.y=n[c+1].y-n[c].y;var t=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y);p.distance+=t,p.outbound.x/=t,p.outbound.y/=t}else p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y;0===c&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=n[c].x,p.currentVertex.y=n[c].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===c?(o.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(o.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2),++c}}():y.enableOuterBisectorSplit||y.outerBisectorAutoSplitThreshold>0||y.enableInnerBisectorSplit||y.innerBisectorAutoSplitThreshold>0?(p.canSplit=!0,function(){for(d(),m(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,g(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;x-h>y.wrapDistance||c<n.length-1||c<n.length&&(!p.closed||y.trackDistance);)d(),m(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,g(2),o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!y.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}()):function(){for(d(),m(),g(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;x-h>y.wrapDistance||c<n.length-1||c<n.length&&(!p.closed||y.trackDistance);)d(),m(),g(2),o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!y.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,o.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}())},i.cleanup=function(){n=null,o=null},i.splitVertex=s;var o,x,h,l,u,a,y={},c=void 0,p=new r;function d(){if(l)return p.distance=0,p.isCap=p.isFirstVertex=p.isLastVertex=!1,void(l=!1);if(0===x)if(p.isFirstVertex=0===c,a=n[c],0===c){if(x=0,p.closed){p.inbound.x=a.x-n[n.length-2].x,p.inbound.y=a.y-n[n.length-2].y;var t=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=t,p.inbound.y/=t}}else p.inbound.x=a.x-u.x,p.inbound.y=a.y-u.y,x=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=x,p.inbound.y/=x;if(p.distance+x-h<=y.wrapDistance){if(c<n.length-1){p.outbound.x=n[c+1].x-a.x,p.outbound.y=n[c+1].y-a.y;var i=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y);p.outbound.x/=i,p.outbound.y/=i}else p.closed?(p.outbound.x=n[1].x-a.x,p.outbound.y=n[1].y-a.y,i=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=i,p.outbound.y/=i):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y);return 0!==c||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++c,p.isLastVertex=c===n.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=x-h,l=p.distance+(x=0)-(h=0)===y.wrapDistance,p.currentVertex.x=a.x,p.currentVertex.y=a.y,u=a,void(a=null)}p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,h+=y.wrapDistance-p.distance,p.distance=y.wrapDistance,l=!0;var e=h/x;p.currentVertex.x=(1-e)*u.x+e*a.x,p.currentVertex.y=(1-e)*u.y+e*a.y}function f(){p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x}function m(){f(),p.bisector.x=p.prevNormal.x+p.nextNormal.x,p.bisector.y=p.prevNormal.y+p.nextNormal.y;var t=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);if(t<.001)return p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,void(p.sign=void 0);p.bisector.x/=t,p.bisector.y/=t,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*p.nextNormal.y,p.sign=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x>=0?1:-1}function g(t){o.vertex(p),1===t?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===t&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function v(t){o.vertex(p),1===t?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):2===t&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}var b=function(){function t(t,i){this.writeVertex=t,this.writeTriangle=i,this.capType=0,this.joinType=2,this.miterLimitCosine=e.getLimitCosine(2),this.roundLimitCosine=Math.cos(23*Math.PI/180),this.almostParallelCosine=.97,this.radsPerSlice=.8,this.textured=!1,this.joinOnUTurn=!1}return t.prototype.vertex=function(t){var i,e=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,n=t.isCap&&0!==this.capType,r=!1;if(t.cosine>this.almostParallelCosine?(t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):t.cosine<1-this.almostParallelCosine?(r=!t.isCap&&this.joinOnUTurn,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.canSplit?(s(),t.sign>0?(t.splitInner?(t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,t.leftInner.x,t.leftInner.y,0,-1,t.distance),t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.rightInner.x,t.rightInner.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.cosine<e?(r=!t.isCap,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.splitOuter?(r=r||t.gapOuter,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,-t.leftOuter.x,-t.leftOuter.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,-t.rightOuter.x,-t.rightOuter.y,0,1,t.distance)):t.entry2=t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):(t.splitInner?(t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,-t.leftInner.x,-t.leftInner.y,0,1,t.distance),t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,-t.rightInner.x,-t.rightInner.y,0,1,t.distance)):t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance),t.cosine<e?(r=!t.isCap,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance)):t.splitOuter?(r=r||t.gapOuter,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.leftOuter.x,t.leftOuter.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.outbound.x,t.outbound.y,t.rightOuter.x,t.rightOuter.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance))):t.sign>0?(t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,t.inbound.x,t.inbound.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance),t.cosine<e?(r=!t.isCap,t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)):t.entry2=t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance)):(t.exit2=t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance),t.cosine<e?(r=!t.isCap,t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance)):t.exit0=t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance)),i=t.entry1=t.exit1=t.canSplit&&(t.splitInner||t.splitOuter)||r||n?this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,0,0,0,0,t.distance):null,r&&1!==this.joinType)this.writeTriangle(i,t.sign>0?t.exit2:t.entry0,t.sign>0?t.entry2:t.exit0);else if(n&&1===this.capType||r&&1===this.joinType){var o,x=void 0,h=void 0,l=void 0,u=void 0,a=void 0,y=void 0;t.isCap?(y=(o=Math.PI)/(a=Math.ceil(o/this.radsPerSlice)),t.isFirstVertex?(x=t.prevNormal.x,h=t.prevNormal.y,l=t.entry0,u=t.entry2):t.isLastVertex&&(x=-t.nextNormal.x,h=-t.nextNormal.y,l=t.exit2,u=t.exit0)):(y=(o=2*Math.acos(t.cosine))/(a=Math.ceil(o/this.radsPerSlice)),x=t.sign>0?-t.prevNormal.x:t.nextNormal.x,h=t.sign>0?-t.prevNormal.y:t.nextNormal.y,l=t.sign>0?t.entry2:t.exit0,u=t.sign>0?t.exit2:t.entry0);var c,p=Math.cos(y),d=Math.sin(y),f=d*x+p*h;x=p*x-d*h,h=f;for(var m=void 0,g=0;g<a;++g){c=m,g<a-1&&(m=t.isCap?this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,x,h,t.isFirstVertex?-1:1,0,t.distance):this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,x,h,0,t.sign,t.distance)),this.writeTriangle(0===g?l:c,i,g===a-1?u:m);var v=d*x+p*h;x=p*x-d*h,h=v}}else if(n&&2===this.capType){var b=t.isFirstVertex?1:-1,V=void 0,w=void 0;this.textured?(V=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x-b*t.inbound.x,t.prevNormal.y-b*t.inbound.y,-b,-1,t.distance),w=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x-b*t.inbound.x,-t.prevNormal.y-b*t.inbound.y,-b,1,t.distance)):(V=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x-b*t.inbound.x,t.prevNormal.y-b*t.inbound.y,0,-1,t.distance),w=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x-b*t.inbound.x,-t.prevNormal.y-b*t.inbound.y,0,1,t.distance)),b>0?(this.writeTriangle(i,t.entry2,w),this.writeTriangle(i,w,V),this.writeTriangle(i,V,t.entry0)):(this.writeTriangle(i,w,t.exit2),this.writeTriangle(i,V,w),this.writeTriangle(i,t.exit0,V))}},t.prototype.bridge=function(t){this.writeTriangle(t.leftExit0,t.rightEntry0,null!=t.leftExit1?t.leftExit1:t.leftExit2),this.writeTriangle(t.rightEntry0,null!=t.rightEntry1?t.rightEntry1:t.rightEntry2,null!=t.leftExit1?t.leftExit1:t.leftExit2),null!=t.leftExit1&&null!=t.rightEntry1?(this.writeTriangle(t.leftExit1,t.rightEntry1,t.leftExit2),this.writeTriangle(t.rightEntry1,t.rightEntry2,t.leftExit2)):null!=t.leftExit1?this.writeTriangle(t.leftExit1,t.rightEntry2,t.leftExit2):null!=t.rightEntry1&&this.writeTriangle(t.rightEntry1,t.rightEntry2,t.leftExit2)},t}();i.StandardTessellationCallbacks=b;var V=function(){function t(t,i){this.writeVertex=t,this.writeTriangle=i}return t.prototype.vertex=function(t){t.entry0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance),t.entry2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance),t.exit0=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance),t.exit2=this.writeVertex(t.currentVertex.x,t.currentVertex.y,0,0,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance)},t.prototype.bridge=function(t){this.writeTriangle(t.leftExit0,t.rightEntry0,t.leftExit2),this.writeTriangle(t.rightEntry0,t.rightEntry2,t.leftExit2)},t}();i.ThinTessellationCallbacks=V}).apply(null,n))||(t.exports=r)}}]);