(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/mixins/ArcGISService":"2fnV","esri/symbols/support/defaultsJSON":"35hF","esri/layers/support/LabelClass":"5WBt","esri/layers/support/FieldsIndex":"I90O","esri/layers/support/labelUtils":"L924","esri/layers/support/TimeInfo":"N6pD","esri/layers/support/FeatureReductionCluster":"Nskv","esri/renderers":"OXG3","esri/renderers/support/styleUtils":"PhdM","esri/layers/mixins/PortalLayer":"QJ8R","esri/layers/StreamLayer":"QiYT","esri/layers/support/labelingInfo":"UN5d","esri/layers/mixins/RefreshableLayer":"WaJo","esri/layers/support/PurgeOptions":"X9V+","esri/layers/support/featureReductionUtils":"Zb3b","esri/layers/support/FeatureReduction":"aWt5","esri/support/popupUtils":"begh","esri/layers/mixins/TemporalLayer":"c/mu","arcgis-js-api/symbols/support/defaults":"dXKx","esri/symbols/support/defaults":"dXKx","esri/layers/support/FeatureReductionSelection":"fQaS","esri/layers/support/TimeReference":"gRHS","esri/TimeInterval":"kKuP","esri/layers/support/LabelExpressionInfo":"nsnX"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[22,17,29,34,82,92,93,94,95,96,97,98,99,109,110],{"2fnV":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("qsST"),r("Vx27"),r("8CIp")],void 0===(i=(function(e,t,r,n,i,o,l){Object.defineProperty(t,"__esModule",{value:!0}),t.ArcGISService=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"title",{get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=l.parse(this.url);if(e&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{set:function(e){this._set("url",l.sanitizeUrl(e,i.getLogger(this.declaredClass)))},enumerable:!0,configurable:!0}),n([o.property({dependsOn:["url"]})],t.prototype,"title",null),n([o.property({type:String})],t.prototype,"url",null),n([o.subclass("esri.layers.mixins.ArcGISService")],t)}(o.declared(e))}}).apply(null,n))||(e.exports=i)},"35hF":function(e,t,r){var n,i;n=[r.dj.c(e.i),t],void 0===(i=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultColor=[252,146,31,255],t.defaultOutlineColor=[153,153,153,255],t.defaultPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",size:6,color:t.defaultColor,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},t.defaultPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",width:.75,color:t.defaultColor},t.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},t.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},t.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},t.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},t.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}).apply(null,n))||(e.exports=i)},"5WBt":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qKT0"),r("9opi"),r("Q2wQ"),r("HZ3d"),r("+AWJ"),r("ImIS"),r("ycL1"),r("rg9i"),r("Vx27"),r("nsnX"),r("L924"),r("5Lc7"),r("dXKx"),r("HqJa")],void 0===(i=(function(e,t,r,n,i,o,l,a,s,p,u,d,c,y,f,m){var v=new a.default({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function b(e){return!e||"service"!==e.origin&&(!e.layer||!y.isOfType(e.layer,"map-image"))}return function(e){function t(t){var r=e.call(this,t)||this;return r.name=null,r.labelExpression=null,r.labelExpressionInfo=null,r.labelPlacement=null,r.maxScale=0,r.minScale=0,r.symbol=f.defaultTextSymbol2D,r.useCodedValues=void 0,r.where=null,r}var i;return n(t,e),i=t,t.evaluateWhere=function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return r(t[n[0]],n[1],n[2]);if(7===n.length){var i=r(t[n[0]],n[1],n[2]),o=n[3],l=r(t[n[4]],n[5],n[6]);switch(o){case"AND":return i&&l;case"OR":return i||l}}return!1}catch(t){console.log("Error.: can't parse = "+e)}},t.prototype.readLabelExpression=function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e},t.prototype.writeLabelExpression=function(e,t,r,n){if(this.labelExpressionInfo&&(b(n)||n&&"service"===n.origin))if(null!=this.labelExpressionInfo.value)e=this.labelExpressionInfo.value.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]");else if(null!=this.labelExpressionInfo.expression){var i=c.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}null!=e&&(t[r]=e)},t.prototype.writeLabelExpressionInfo=function(e,t,r,n){if(null==e&&null!=this.labelExpression&&b(n))e=new d({expression:this.getLabelExpressionArcade()});else if(!e)return;var i=e.toJSON(n);i.expression&&(t[r]=i)},t.prototype.writeMaxScale=function(e,t){(e||this.minScale)&&(t.maxScale=e)},t.prototype.writeMinScale=function(e,t){(e||this.maxScale)&&(t.minScale=e)},t.prototype.getLabelExpression=function(){var e={expression:"",type:"none"};return this.labelExpressionInfo?this.labelExpressionInfo.value?(e.expression=this.labelExpressionInfo.value,e.type="conventional"):this.labelExpressionInfo.expression&&(e.expression=this.labelExpressionInfo.expression,e.type="arcade"):null!=this.labelExpression&&(e.expression=this.labelExpression.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}"),e.type="conventional"),e},t.prototype.getLabelExpressionArcade=function(){var e=this.getLabelExpression();if(!e)return null;switch(e.type){case"conventional":return c.convertTemplatedStringToArcade(e.expression);case"arcade":return e.expression}return null},t.prototype.getLabelExpressionSingleField=function(){var e=this.getLabelExpression();if(!e)return null;switch(e.type){case"conventional":return c.getSingleFieldTemplatedString(e.expression);case"arcade":return c.getSingleFieldArcadeExpression(e.expression)}return null},t.prototype.clone=function(){return new i({labelExpression:this.labelExpression,labelExpressionInfo:p.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:p.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})},r([u.property({type:String,json:{write:!0}})],t.prototype,"name",void 0),r([u.property({type:String,json:{write:{allowNull:!0}}})],t.prototype,"labelExpression",void 0),r([u.reader("labelExpression")],t.prototype,"readLabelExpression",null),r([u.writer("labelExpression")],t.prototype,"writeLabelExpression",null),r([u.property({type:d,json:{write:{overridePolicy:function(e,t,r){return b(r)?{allowNull:!0}:{enabled:!1}}}}})],t.prototype,"labelExpressionInfo",void 0),r([u.writer("labelExpressionInfo")],t.prototype,"writeLabelExpressionInfo",null),r([u.property({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],t.prototype,"labelPlacement",void 0),r([u.property({type:Number})],t.prototype,"maxScale",void 0),r([u.writer("maxScale")],t.prototype,"writeMaxScale",null),r([u.property({type:Number})],t.prototype,"minScale",void 0),r([u.writer("minScale")],t.prototype,"writeMinScale",null),r([u.property({types:l.symbolTypesLabel,json:{origins:{"web-scene":{types:l.symbolTypesLabel3D,read:m.read,write:m.writeTarget,default:null}},read:m.read,write:m.writeTarget,default:null}})],t.prototype,"symbol",void 0),r([u.property({type:Boolean,json:{write:!0}})],t.prototype,"useCodedValues",void 0),r([u.property({type:String,json:{write:!0}})],t.prototype,"where",void 0),i=r([u.subclass("esri.layers.support.LabelClass")],t)}(u.declared(s.JSONSupport))}).apply(null,n))||(e.exports=i)},I90O:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("xhoE")],void 0===(i=(function(e,t,r){function n(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function i(e){return e.toLowerCase().trim()}return function(){function e(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],e){for(var t=[],r=0,o=e;r<o.length;r++){var l=o[r],a=l&&l.name;if(a){var s=i(a);this._fieldsMap.set(a,l),this._fieldsMap.set(s,l),t.push(s),n(l)&&(this.dateFields.push(l),this._dateFieldsSet.add(l))}}t.sort(),this.uid=t.join(",")}}return e.prototype.destroy=function(){this._fieldsMap.clear()},e.prototype.has=function(e){return null!=this.get(e)},e.prototype.get=function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0},e.prototype.isDateField=function(e){return this._dateFieldsSet.has(this.get(e))},e.prototype.normalizeFieldName=function(e){var t=this.get(e);if(t)return t.name},e}()}).apply(null,n))||(e.exports=i)},L924:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("nRUF")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("__begin__","ig"),i=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),l=new RegExp("__end__$","i");t.convertTemplatedStringToArcade=function(e){var t;return e?(t=r.replace(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),t=o.test(t)?t.replace(o,""):'"'+t,t=(t=l.test(t)?t.replace(l,""):t+'"').replace(n,'" + ').replace(i,' + "')):t='""',t};var a=/^\s*\{([^}]+)\}\s*$/i;t.getSingleFieldTemplatedString=function(e){var t=e.match(a);return t&&t[1].trim()||null};var s=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,u=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;t.getSingleFieldArcadeExpression=function(e){if(!e)return null;var t=s.exec(e)||p.exec(e);return t?t[1]||t[3]:(t=u.exec(e))?t[2]:null}}).apply(null,n))||(e.exports=i)},N6pD:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("9gfz"),r("kKuP"),r("ycL1"),r("rg9i"),r("Vx27"),r("gRHS"),r("ml7j")],void 0===(i=(function(e,t,r,n,i,o,l,a,s,p,u){return function(e){function t(t){var r=e.call(this,t)||this;return r.cumulative=!1,r.endField=null,r.fullTimeExtent=null,r.hasLiveData=!1,r.interval=null,r.startField=null,r.timeReference=null,r.trackIdField=null,r.useTime=!0,r}var l;return r(t,e),l=t,t.prototype.readFullTimeExtent=function(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?new i({start:t.timeExtent[0],end:t.timeExtent[1]}):null},t.prototype.writeFullTimeExtent=function(e,t){t.timeExtent=e&&e.start&&e.end?[e.start.getTime(),e.end.getTime()]:null},t.prototype.readInterval=function(e,t){return t.timeInterval&&t.timeIntervalUnits?new o({value:t.timeInterval,unit:u.timeUnitKebabDictionary.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new o({value:t.defaultTimeInterval,unit:u.timeUnitKebabDictionary.fromJSON(t.defaultTimeIntervalUnits)}):null},t.prototype.writeInterval=function(e,t){if(e){var r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null},t.prototype.clone=function(){var e=this,t=e.fullTimeExtent,r=e.trackIdField,n=e.useTime;return new l({cumulative:e.cumulative,endField:e.endField,hasLiveData:e.hasLiveData,interval:e.interval,startField:e.startField,timeReference:a.clone(e.timeReference),fullTimeExtent:a.clone(t),trackIdField:r,useTime:n})},n([s.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],t.prototype,"cumulative",void 0),n([s.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],t.prototype,"endField",void 0),n([s.property({type:i,json:{write:{enabled:!0,allowNull:!0}}})],t.prototype,"fullTimeExtent",void 0),n([s.reader("fullTimeExtent",["timeExtent"])],t.prototype,"readFullTimeExtent",null),n([s.writer("fullTimeExtent")],t.prototype,"writeFullTimeExtent",null),n([s.property({type:Boolean,json:{write:!0}})],t.prototype,"hasLiveData",void 0),n([s.property({type:o,json:{write:{enabled:!0,allowNull:!0}}})],t.prototype,"interval",void 0),n([s.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],t.prototype,"readInterval",null),n([s.writer("interval")],t.prototype,"writeInterval",null),n([s.property({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],t.prototype,"startField",void 0),n([s.property({type:p,json:{write:{enabled:!0,allowNull:!0}}})],t.prototype,"timeReference",void 0),n([s.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],t.prototype,"trackIdField",void 0),n([s.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],t.prototype,"useTime",void 0),l=n([s.subclass("esri.layers.support.TimeInfo")],t)}(s.declared(l.JSONSupport))}).apply(null,n))||(e.exports=i)},Nskv:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ifLZ"),r("ycL1"),r("jBNx"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o,l,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=e.call(this,t)||this;return r.type="cluster",r.clusterRadius=l.toPt("80px"),r.popupTemplate=null,r}return r(t,e),n([a.property({type:["cluster"],readOnly:!0,json:{write:!0}})],t.prototype,"type",void 0),n([a.property({type:Number,cast:function(e){return"auto"===e?e:l.toPt(e)},json:{write:!0}})],t.prototype,"clusterRadius",void 0),n([a.property({type:i,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],t.prototype,"popupTemplate",void 0),n([a.subclass("esri.layers.support.FeatureReductionCluster")],t)}(a.declared(o.JSONSupport));t.FeatureReductionCluster=s,t.default=s}).apply(null,n))||(e.exports=i)},OXG3:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("Z/W+"),r("Vtuk"),r("PHoo"),r("fU8o"),r("mLnd"),r("osTG"),r("nHUP"),r("hz/Y")],void 0===(i=(function(e,t,r,n,i,o,l,a,s,p){Object.defineProperty(t,"__esModule",{value:!0}),t.ClassBreaksRenderer=r,t.DictionaryRenderer=n,t.DotDensityRenderer=i,t.HeatmapRenderer=o,t.BaseRenderer=l,t.SimpleRenderer=a,t.UniqueValueRenderer=s,t.isRenderer=function(e){return e instanceof l},t.read=p.read,t.write=p.write,t.fromJSON=p.fromJSON,t.rendererTypes={key:"type",base:l,typeMap:{heatmap:o,simple:a,"unique-value":s,"class-breaks":r,"dot-density":i,dictionary:n}},t.webSceneRendererTypes={key:"type",base:l,typeMap:{simple:a,"unique-value":s,"class-breaks":r}}}).apply(null,n))||(e.exports=i)},PhdM:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("Q2wQ"),r("HZ3d"),r("WYKK"),r("qMld"),r("V2ZO")],void 0===(i=(function(e,t,r,n,i,o,l){Object.defineProperty(t,"__esModule",{value:!0}),t.loadStyleRenderer=function(e,t,a){return n(this,void 0,void 0,(function(){var n,s,p;return r(this,(function(r){switch(r.label){case 0:return(n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin))&&"unique-value"===n.type&&n.styleOrigin?[4,i.result(n.populateFromStyle())]:[3,2];case 1:s=r.sent(),o.throwIfAborted(a),!1===s.ok&&(p=s.error,t&&t.messages&&t.messages.push(new l("renderer:style-reference","Failed to create unique value renderer from style reference: "+p.message,{error:p,context:t})),e.clear("renderer",t.origin)),r.label=2;case 2:return[2]}}))}))}}).apply(null,n))||(e.exports=i)},QJ8R:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Q2wQ"),r("HZ3d"),r("ma1f"),r("qsST"),r("qMld"),r("jfWY"),r("Vx27"),r("Qwus"),r("QmTF")],void 0===(i=(function(e,t,n,i,o,l,a,s,p,u,d,c,y){Object.defineProperty(t,"__esModule",{value:!0});var f=s.getLogger("esri.layers.mixins.PortalLayer");t.PortalLayer=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),Object.defineProperty(t.prototype,"portalItem",{set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))},enumerable:!0,configurable:!0}),t.prototype.readPortalItem=function(e,t,r){if(t.itemId)return new y({id:t.itemId,portal:r&&r.portal})},t.prototype.writePortalItem=function(e,t){e&&e.id&&(t.itemId=e.id)},t.prototype.loadFromPortal=function(e,t){return l(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:if(!this.portalItem||!this.portalItem.id)return[2];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,p.create((function(e){return Promise.all([r.e(0),r.e(87)]).then((function(){var t=[r("6hwa")];e.apply(null,t)}).bind(this)).catch(r.oe)}))];case 2:return n=o.sent(),p.throwIfAborted(t),[4,n.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},t)];case 3:return[2,o.sent()];case 4:throw i=o.sent(),f.warn("Failed to load layer ("+this.title+", "+this.id+") portal item ("+this.portalItem.id+")\n  "+i),i;case 5:return[2]}}))}))},t.prototype.read=function(e,t){var r=arguments;t&&(t.layer=this),this.inherited(r)},t.prototype.write=function(e,t){var r=t&&t.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||c.getDefault());return r&&n&&!u.hasSamePortal(n.restUrl,r.restUrl)?(t.messages&&t.messages.push(new a("layer:cross-portal","The layer '"+this.title+" ("+this.id+")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer",{layer:this})),null):this.inherited(arguments)},i([d.property({type:y})],t.prototype,"portalItem",null),i([d.reader("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),i([d.writer("portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),i([d.subclass("esri.layers.mixins.PortalLayer")],t)}(d.declared(e))}}).apply(null,n))||(e.exports=i)},QiYT:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("Q2wQ"),r("qKT0"),r("HZ3d"),r("9opi"),r("2Atf"),r("TMur"),r("ifLZ"),r("OXG3"),r("zp6E"),r("+AWJ"),r("7bfM"),r("ma1f"),r("J3YA"),r("ImIS"),r("qsST"),r("LxLY"),r("EUqE"),r("qMld"),r("Vx27"),r("1dvD"),r("0RER"),r("2fnV"),r("FEX1"),r("QJ8R"),r("WaJo"),r("OXmT"),r("c/mu"),r("EtsK"),r("Zb3b"),r("KQcO"),r("I90O"),r("k7g7"),r("k7g7"),r("5WBt"),r("UN5d"),r("X9V+"),r("hz/Y"),r("PhdM"),r("begh"),r("5ldw"),r("HqJa"),r("IpeC")],void 0===(i=(function(e,t,r,n,i,o,l,a,s,p,u,d,c,y,f,m,v,b,S,g,h,w,x,I,P,T,O,L,E,j,F,R,N,_,D,J,C,A,M,k,V,U,K,q){var B=v.getLogger("esri.layers.StreamLayer"),W=new m.default({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});return function(e){function t(t){var r=e.call(this,t)||this;return r.copyright=null,r.definitionExpression=null,r.displayField=null,r.elevationInfo=null,r.featureReduction=null,r.fields=null,r.geometryDefinition=null,r.geometryType=null,r.labelsVisible=!0,r.labelingInfo=null,r.legendEnabled=!0,r.objectIdField=null,r.operationalLayerType="ArcGISStreamLayer",r.popupEnabled=!0,r.popupTemplate=null,r.purgeOptions=new A,r.screenSizePerspectiveEnabled=!0,r.sourceJSON=null,r.spatialReference=a.SpatialReference.WGS84,r.type="stream",r.url=null,r}return o(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?l({url:e},t):e},t.prototype.load=function(e){var t=this;"WebSocket"in f||g.reject(new y("stream-layer:websocket-unsupported","WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service."));var r=b.isSome(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Stream Service"]},e).catch((function(e){return e})).then((function(){return t._fetchService(r)}))),g.resolve(this)},Object.defineProperty(t.prototype,"defaultPopupTemplate",{get:function(){return this.createPopupTemplate()},enumerable:!0,configurable:!0}),t.prototype.readFeatureReduction=function(e,t){return F.read(e,t)},t.prototype.writeWebSceneFeatureReduction=function(e,t,r,n){F.writeTarget(e,t,"layerDefinition.featureReduction",n)},Object.defineProperty(t.prototype,"fieldsIndex",{get:function(){return new N(this.fields)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumTrackPoints",{get:function(){return c.deprecatedProperty(B,"maximumTrackPoints",{replacement:"purgeOptions.maxObservations",version:"4.15"}),this.purgeOptions.maxObservations},set:function(e){c.deprecatedProperty(B,"maximumTrackPoints",{replacement:"purgeOptions.maxObservations",version:"4.15"});var t=this.purgeOptions.clone();t.maxObservations=e,this.purgeOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{set:function(e){_.fixRendererFields(e,this.fields),this._set("renderer",e)},enumerable:!0,configurable:!0}),t.prototype.readRenderer=function(e,t,r){var n,i,o=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(o)(n=M.read(o,t,r)||void 0)||B.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r});else if(t.defaultSymbol)K.read(t.defaultSymbol,t,r),t.types&&t.types.length?(n=new p.UniqueValueRenderer({defaultSymbol:i,field:t.typeIdField}),t.types.forEach((function(e){o.addUniqueValueInfo(e.id,K.read(e.symbol,e,r))}))):n=new p.SimpleRenderer({symbol:i});else if("Table"!==t.type){switch(t.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":i=new d.SimpleMarkerSymbol;break;case"esriGeometryPolyline":i=new d.SimpleLineSymbol;break;case"esriGeometryPolygon":i=new d.SimpleFillSymbol}n=i&&new p.SimpleRenderer({symbol:i})}return n},t.prototype.writeRenderer=function(e,t,r,n){M.writeTarget(e,t,r,n)},t.prototype.writeWebSceneRenderer=function(e,t,r,n){M.writeTarget(e,t,"layerDefinition.drawingInfo.renderer",n)},t.prototype.createPopupTemplate=function(e){return V.createPopupTemplate(this,e)},t.prototype.createQuery=function(){var e=new q;return e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1",e},t.prototype.getFieldDomain=function(e,t){if(!this.fields)return null;var r=null;return this.fields.some((function(t){return t.name===e&&(r=t.domain),!!r})),r},t.prototype.getField=function(e){return this.fieldsIndex.get(e)},t.prototype._fetchService=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:return this.sourceJSON?[3,2]:[4,u(this.parsedUrl.path,{query:l({f:"json"},this.parsedUrl.query),responseType:"json",signal:e})];case 1:t=r.sent().data,this.sourceJSON=l({},t,{objectIdField:"__esri_stream_id__"}),r.label=2;case 2:return this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}),D.fixRendererFields(this.renderer,this.fields),D.fixTimeInfoFields(this.timeInfo,this.fields),[2,k.loadStyleRenderer(this,{origin:"service"})]}}))}))},n([h.property({type:String})],t.prototype,"copyright",void 0),n([h.property({readOnly:!0,dependsOn:["fields","title"]})],t.prototype,"defaultPopupTemplate",null),n([h.property({type:String})],t.prototype,"definitionExpression",void 0),n([h.property({type:String})],t.prototype,"displayField",void 0),n([h.property({type:U})],t.prototype,"elevationInfo",void 0),n([h.reader("featureReduction",["layerDefinition.featureReduction"])],t.prototype,"readFeatureReduction",null),n([h.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:F.webSceneFeatureReductionTypes}})],t.prototype,"writeWebSceneFeatureReduction",null),n([h.property({type:[R]})],t.prototype,"fields",void 0),n([h.property({readOnly:!0,dependsOn:["fields"]})],t.prototype,"fieldsIndex",null),n([h.property({type:a.Extent})],t.prototype,"geometryDefinition",void 0),n([h.property({type:["point","polygon","polyline","multipoint"],json:{read:{reader:W.read}}})],t.prototype,"geometryType",void 0),n([h.property(j.labelsVisible)],t.prototype,"labelsVisible",void 0),n([h.property({type:[J],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:C.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],t.prototype,"labelingInfo",void 0),n([h.property(j.legendEnabled)],t.prototype,"legendEnabled",void 0),n([h.property({type:["show","hide"]})],t.prototype,"listMode",void 0),n([h.property({type:w.Integer})],t.prototype,"maximumTrackPoints",null),n([h.property({type:String})],t.prototype,"objectIdField",void 0),n([h.property({value:"ArcGISStreamLayer",type:["ArcGISStreamLayer"]})],t.prototype,"operationalLayerType",void 0),n([h.property(j.popupEnabled)],t.prototype,"popupEnabled",void 0),n([h.property({type:s,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],t.prototype,"popupTemplate",void 0),n([h.property({type:A})],t.prototype,"purgeOptions",void 0),n([h.property({types:p.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],t.prototype,"renderer",null),n([h.reader("service","renderer",["drawingInfo.renderer","defaultSymbol","type"]),h.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol","layerDefinition.type"])],t.prototype,"readRenderer",null),n([h.writer("renderer")],t.prototype,"writeRenderer",null),n([h.writer("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:p.webSceneRendererTypes}})],t.prototype,"writeWebSceneRenderer",null),n([h.property(j.screenSizePerspectiveEnabled)],t.prototype,"screenSizePerspectiveEnabled",void 0),n([h.property({type:a.SpatialReference,json:{origins:{service:{read:{source:"spatialReference"}}}}})],t.prototype,"spatialReference",void 0),n([h.property({json:{read:!1}})],t.prototype,"type",void 0),n([h.property(j.url)],t.prototype,"url",void 0),n([h.subclass("esri.layers.StreamLayer")],t)}(h.declared(E.TemporalLayer(L.ScaleRangeLayer(O.RefreshableLayer(I.ArcGISService(P.OperationalLayer(T.PortalLayer(S.MultiOriginJSONMixin(x)))))))))}).apply(null,n))||(e.exports=i)},UN5d:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("5WBt")],void 0===(i=(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=/\[([^\[\]]+)\]/gi;t.reader=function(e,t,i){var o=this;return e?e.map((function(e){var l=new r;if(l.read(e,i),l.labelExpression){var a=t.fields||t.layerDefinition&&t.layerDefinition.fields||o.fields;l.labelExpression=l.labelExpression.replace(n,(function(e,t){return"["+function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var i=t[n].name;if(i.toLowerCase()===r)return i}return e}(t,a)+"]"}))}return l})):null}}).apply(null,n))||(e.exports=i)},WaJo:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Vx27")],void 0===(i=(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshableLayer=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshInterval=0,t}return r(t,e),t.prototype.refresh=function(){this.emit("refresh")},n([i.property({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),n([i.subclass("esri.layers.mixins.RefreshableLayer")],t)}(i.declared(e))}}).apply(null,n))||(e.exports=i)},"X9V+":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("qKT0"),r("9opi"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.age=null,t.displayCount=null,t.maxObservations=1,t}var i;return n(t,e),i=t,t.prototype.clone=function(){return new i({age:this.age,displayCount:this.displayCount,maxObservations:this.maxObservations})},r([o.property({type:Number,json:{write:!0}})],t.prototype,"age",void 0),r([o.property({type:Number,json:{write:!0}})],t.prototype,"displayCount",void 0),r([o.property({type:Number,json:{write:!0}})],t.prototype,"maxObservations",void 0),i=r([o.subclass("esri.layers.support.PurgeOptions")],t)}(o.declared(i.JSONSupport))}).apply(null,n))||(e.exports=i)},Zb3b:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("ma1f"),r("TTKK"),r("aWt5"),r("Nskv"),r("fQaS")],void 0===(i=(function(e,t,r,n,i,o,l){function a(e,t,n){return e?"selection"!==e.type?(n.messages&&n.messages.push(new r("featureReduction:unsupported","FeatureReduction of type '"+e.declaredClass+"' are not supported in scenes.",{featureReduction:e,context:n})),null):e.write(t,n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.webSceneFeatureReductionTypes={key:"type",base:i.default,typeMap:{selection:l.default}},t.read=function(e,t){var r=(t=t.layerDefinition||t).featureReduction;if(r)switch(r.type){case"selection":return l.default.fromJSON(r);case"cluster":return o.default.fromJSON(r)}return null},t.writeTarget=function(e,t,r,i){var o=a(e,{},i);o&&n.setDeepValue(r,o,t)},t.write=a}).apply(null,n))||(e.exports=i)},aWt5:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=null,t}return r(t,e),n([o.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],t.prototype,"type",void 0),n([o.subclass("esri.layers.support.FeatureReduction")],t)}(o.declared(i.JSONSupport));t.FeatureReduction=l,t.default=l}).apply(null,n))||(e.exports=i)},begh:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("2Atf"),r("ifLZ"),r("k7g7"),r("O4In"),r("Ctes"),r("BwRt")],void 0===(i=(function(e,t,r,n,i,o,l,a){Object.defineProperty(t,"__esModule",{value:!0});var s=["oid","global-id","guid"];function p(e,t){return"oid"===e.type?-1:"oid"===t.type?1:c(e)?-1:c(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function u(e,t){return e.editable&&-1===s.indexOf(e.type)&&!function(e,t){if(!e||!t)return!1;var r=t.creationDateField,n=t.creatorField,i=t.editDateField,o=t.editorField;return-1!==[r&&r.toLowerCase(),n&&n.toLowerCase(),i&&i.toLowerCase(),o&&o.toLowerCase()].indexOf(e.toLowerCase())}(e.name,t)}function d(e){switch(e.type){case"small-integer":case"integer":case"single":return new a({digitSeparator:!0,places:0});case"double":return new a({digitSeparator:!0,places:2});case"date":return new a({dateFormat:"long-month-day-year"});default:return null}}function c(e){return"name"===(e.name&&e.name.toLowerCase())||"name"===(e.alias&&e.alias.toLowerCase())||void 0}t.createPopupTemplate=function(e,t){var a=e.displayField,s=e.fields,c=e.title,f=e.visibleFieldNames,m=e.editFieldsInfo;if(!s)return null;var v=function(e,t){var r=e;return t.ignoreFieldTypes&&(e=e.filter((function(e){return-1===t.ignoreFieldTypes.indexOf(e.type)}))),0===e.length?null:(e===r&&(e=e.slice()),e.sort(p),{fields:e})}(s,r({},y,t));if(!v)return null;var b=function(e){var t=i.getDisplayFieldName(e),r=e.titleBase;return t?r+": {"+t.trim()+"}":r}({titleBase:c,fields:v.fields,displayField:a}),S=[new o.FieldsContent,new o.AttachmentsContent],g=function(e){var t=e.visibleFieldNames,r=e.editFieldsInfo;return e.fields.map((function(e){return new l({fieldName:e.name,isEditable:u(e,r),label:e.alias,format:d(e),visible:!t||t.has(e.name)})}))}({fields:v.fields,visibleFieldNames:f,editFieldsInfo:m});return new n({title:b,content:S,fieldInfos:g})};var y={ignoreFieldTypes:["geometry","blob","raster","guid","xml"]}}).apply(null,n))||(e.exports=i)},"c/mu":function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("9gfz"),r("kKuP"),r("Vx27"),r("N6pD"),r("k7g7"),r("ml7j")],void 0===(i=(function(e,t,r,n,i,o,l,a,s,p){Object.defineProperty(t,"__esModule",{value:!0}),t.TemporalLayer=function(e){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeExtent=null,t.timeOffset=null,t.useViewTime=!0,t}return r(t,e),t.prototype.readOffset=function(e,t){var r=t.timeInfo.exportOptions;if(!r)return null;var n=r.timeOffset,i=p.timeUnitKebabDictionary.fromJSON(r.timeOffsetUnits);return n&&i?new o({value:n,unit:i}):null},Object.defineProperty(t.prototype,"timeInfo",{set:function(e){s.fixTimeInfoFields(e,this.fields),this._set("timeInfo",e)},enumerable:!0,configurable:!0}),n([l.property({type:i,json:{write:!1}})],t.prototype,"timeExtent",void 0),n([l.property({type:o})],t.prototype,"timeOffset",void 0),n([l.reader("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),n([l.property({value:null,type:a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),n([l.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),n([l.subclass("esri.layers.mixins.TemporalLayer")],t)}(l.declared(e))}}).apply(null,n))||(e.exports=i)},dXKx:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("pcDC"),r("LxLY"),r("x7Wq"),r("CF4u"),r("NsXp"),r("Z91k"),r("35hF")],void 0===(i=(function(e,t,r,n,i,o,l,a,s){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPointSymbol2D=l.fromJSON(s.defaultPointSymbolJSON),t.defaultPolylineSymbol2D=o.fromJSON(s.defaultPolylineSymbolJSON),t.defaultPolygonSymbol2D=i.fromJSON(s.defaultPolygonSymbolJSON),t.defaultTextSymbol2D=a.fromJSON(s.defaultTextSymbolJSON),t.getDefaultSymbol2D=function(e){if(n.isNone(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return t.defaultPointSymbol2D;case"polyline":return t.defaultPolylineSymbol2D;case"polygon":case"extent":return t.defaultPolygonSymbol2D;default:r.neverReached(e)}return null},t.errorPointSymbol2D=l.fromJSON(s.errorPointSymbolJSON),t.errorPolylineSymbol2D=o.fromJSON(s.errorPolylineSymbolJSON),t.errorPolygonSymbol2D=i.fromJSON(s.errorPolygonSymbolJSON)}).apply(null,n))||(e.exports=i)},fQaS:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("Vx27"),r("aWt5")],void 0===(i=(function(e,t,r,n,i,o){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var r=e.call(this,t)||this;return r.type="selection",r}return r(t,e),n([i.property({type:["selection"]})],t.prototype,"type",void 0),n([i.subclass("esri.layers.support.FeatureReductionSelection")],t)}(i.declared(o.default));t.FeatureReductionSelection=l,t.default=l}).apply(null,n))||(e.exports=i)},gRHS:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27")],void 0===(i=(function(e,t,r,n,i,o){return function(e){function t(t){var r=e.call(this,t)||this;return r.respectsDaylightSaving=!1,r.timezone=null,r}var i;return r(t,e),i=t,t.prototype.readRespectsDaylightSaving=function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving},t.prototype.clone=function(){return new i({respectsDaylightSaving:this.respectsDaylightSaving,timezone:this.timezone})},n([o.property({type:Boolean,json:{write:!0}})],t.prototype,"respectsDaylightSaving",void 0),n([o.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],t.prototype,"readRespectsDaylightSaving",null),n([o.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],t.prototype,"timezone",void 0),i=n([o.subclass("esri.layers.support.TimeReference")],t)}(o.declared(i.JSONSupport))}).apply(null,n))||(e.exports=i)},kKuP:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27"),r("ml7j")],void 0===(i=(function(e,t,r,n,i,o,l){return function(e){function t(t){var r=e.call(this,t)||this;return r.value=0,r.unit="milliseconds",r}var i;return r(t,e),i=t,t.prototype.toMilliseconds=function(){return this.value*l.millisecondsPerTimeUnit[this.unit]},t.prototype.clone=function(){return new i({value:this.value,unit:this.unit})},n([o.property({type:Number,json:{write:!0},nonNullable:!0})],t.prototype,"value",void 0),n([o.property({type:l.timeUnitKebabDictionary.apiValues,json:{type:l.timeUnitKebabDictionary.jsonValues,read:l.timeUnitKebabDictionary.read,write:l.timeUnitKebabDictionary.write},nonNullable:!0})],t.prototype,"unit",void 0),i=n([o.subclass("esri.TimeInterval")],t)}(o.declared(i.JSONSupport))}).apply(null,n))||(e.exports=i)},nsnX:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r("9opi"),r("qKT0"),r("ycL1"),r("Vx27"),r("L924")],void 0===(i=(function(e,t,r,n,i,o,l){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.expression=null,t}var i;return r(t,e),i=t,t.prototype.readExpression=function(e,t){return t.value?l.convertTemplatedStringToArcade(t.value):e},t.prototype.writeExpression=function(e,t,r){null!=this.value&&(e=l.convertTemplatedStringToArcade(this.value)),t[r]=e},t.prototype.clone=function(){return new i({value:this.value,expression:this.expression})},n([o.property({json:{read:!1,write:!1}})],t.prototype,"value",void 0),n([o.property({type:String,json:{write:{allowNull:!0}}})],t.prototype,"expression",void 0),n([o.reader("expression",["expression","value"])],t.prototype,"readExpression",null),n([o.writer("expression")],t.prototype,"writeExpression",null),i=n([o.subclass("esri.layers.support.LabelExpressionInfo")],t)}(o.declared(i.JSONSupport))}).apply(null,n))||(e.exports=i)}}]);