!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,s,"next",e)}function s(e){o(a,r,i,u,s,"throw",e)}u(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"+yyC":function(e,t,n){"use strict";function r(e,t,n){var r,a,u,s,c,l=t&&t.length,f=l?t[0]*n:e.length,h=i(e,0,f,n,!0),y=new Array;if(!h||h.next===h.prev)return y;if(l&&(h=v(e,t,h,n)),e.length>80*n){r=u=e[0],a=s=e[1];for(var p=n;p<f;p+=n){var d=e[p],x=e[p+1];r=Math.min(r,d),a=Math.min(a,x),u=Math.max(u,d),s=Math.max(s,x)}c=0!==(c=Math.max(u-r,s-a))?1/c:0}return o(h,y,n,r,a,c),y}function i(e,t,n,r,i){var a;if(i===b(e,t,n,r)>0)for(var o=t;o<n;o+=r)a=c(o,e[o],e[o+1],a);else for(var u=n-r;u>=t;u-=r)a=c(u,e[u],e[u+1],a);return a&&O(a,a.next)&&(l(a),a=a.next),a}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!e)return e;var n,r=e;do{if(n=!1,r.steiner||!O(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(l(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function o(e,t,n,r,i,c){var f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(e){!f&&c&&(e=y(e,r,i,c));for(var v=e;e.prev!==e.next;){var h=e.prev,p=e.next;if(c?s(e,r,i,c):u(e))t.push(h.index/n),t.push(e.index/n),t.push(p.index/n),l(e),e=p.next,v=p.next;else if((e=p)===v){f?1===f?o(e=V(e,t,n),t,n,r,i,c,2):2===f&&_(e,t,n,r,i,c):o(a(e),t,n,r,i,c,1);break}}}}function u(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;for(var i=e.next.next,a=i,o=0;i!==e.prev&&(0===o||i!==a);){if(o++,m(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(e,t,n,r){var i=e.prev,a=e,o=e.next;if(x(i,a,o)>=0)return!1;for(var u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,s=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,c=k(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),l=k(u,s,t,n,r),f=e.prevZ,v=e.nextZ;f&&f.z>=c&&v&&v.z<=l;){if(f!==e.prev&&f!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,v!==e.prev&&v!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,v.x,v.y)&&x(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;f&&f.z>=c;){if(f!==e.prev&&f!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;v&&v.z<=l;){if(v!==e.prev&&v!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,v.x,v.y)&&x(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function c(e,t,n,r){var i=new j(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function l(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function f(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function v(e,t,n,r){for(var o=new Array,u=0,s=t.length;u<s;u++){var c=i(e,t[u]*r,u<s-1?t[u+1]*r:e.length,r,!1);c===c.next&&(c.steiner=!0),o.push(f(c))}o.sort(w);for(var l=0,v=o;l<v.length;l++){h(v[l],n),n=a(n,n.next)}return n}function h(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var u=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=i&&u>o){if(o=u,u===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var s,c=n,l=n.x,f=n.y,v=1/0;for(r=n.next;r!==c;)i>=r.x&&r.x>=l&&i!==r.x&&m(a<f?i:o,a,l,f,a<f?o:i,a,r.x,r.y)&&(((s=Math.abs(a-r.y)/(i-r.x))<v||s===v&&r.x>n.x)&&S(r,e)&&(n=r,v=s)),r=r.next;return n}(e,t)){var n=M(t,e);a(n,n.next)}}function y(e,t,n,r){for(var i;i!==e;i=i.next){if(null===(i=i||e).z&&(i.z=k(i.x,i.y,t,n,r)),i.prev.next!==i||i.next.prev!==i)return i.prev.next=i,i.next.prev=i,y(e,t,n,r);i.prevZ=i.prev,i.nextZ=i.next}return e.prevZ.nextZ=null,e.prevZ=null,function(e){for(var t,n=1;;){var r=void 0,i=e;e=null,t=null;for(var a=0;i;){a++,r=i;for(var o=0;o<n&&r;o++)r=r.nextZ;for(var u=n;o>0||u>0&&r;){var s=void 0;0===o?(s=r,r=r.nextZ,u--):0!==u&&r?i.z<=r.z?(s=i,i=i.nextZ,o--):(s=r,r=r.nextZ,u--):(s=i,i=i.nextZ,o--),t?t.nextZ=s:e=s,s.prevZ=t,t=s}i=r}if(t.nextZ=null,n*=2,a<2)return e}}(e)}function d(e,t,n,r){var i=t&&t.length,a=Math.abs(b(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,u=t.length;o<u;o++)a-=Math.abs(b(e,t[o]*n,o<u-1?t[o+1]*n:e.length,n));for(var s=0,c=0;c<r.length;c+=3){var l=r[c]*n,f=r[c+1]*n,v=r[c+2]*n;s+=Math.abs((e[l]-e[v])*(e[f+1]-e[l+1])-(e[l]-e[f])*(e[v+1]-e[l+1]))}return 0===a&&0===s?0:Math.abs((s-a)/a)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function g(e,t,n,r){return!!(O(e,t)&&O(n,r)||O(e,r)&&O(n,t))||x(e,t,n)>0!=x(e,t,r)>0&&x(n,r,e)>0!=x(n,r,t)>0}function b(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function m(e,t,n,r,i,a,o,u){return(i-o)*(t-u)-(e-o)*(a-u)>=0&&(e-o)*(r-u)-(n-o)*(t-u)>=0&&(n-o)*(a-u)-(i-o)*(r-u)>=0}function S(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function k(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function O(e,t){return e.x===t.x&&e.y===t.y}function w(e,t){return e.x-t.x}function V(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!O(i,a)&&g(i,r,r.next,a)&&S(i,a)&&S(a,i)&&(t.push(i.index/n),t.push(r.index/n),t.push(a.index/n),l(r),l(r.next),r=e=a),r=r.next}while(r!==e);return r}function _(e,t,n,r,i,u){var s=e;do{for(var c=s.next.next;c!==s.prev;){if(s.index!==c.index&&T(s,c)){var l=M(s,c);return s=a(s,s.next),l=a(l,l.next),o(s,t,n,r,i,u),void o(l,t,n,r,i,u)}c=c.next}s=s.next}while(s!==e)}function T(e,t){return e.next.index!==t.index&&e.prev.index!==t.index&&!function(e,t){var n=e;do{if(n.index!==e.index&&n.next.index!==e.index&&n.index!==t.index&&n.next.index!==t.index&&g(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&S(e,t)&&S(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function M(e,t){var n=new j(e.index,e.x,e.y),r=new j(t.index,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return r});var j=function e(t,n,r){p(this,e),this.index=t,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}},DsOJ:function(e,t,n){"use strict";n.r(t);var r=n("pO5D"),a=n("wSAH"),o=n("srIe"),s=n("6S2I"),f=(n("zqDF"),n("WbKI"),n("04ZG")),h=(n("zlDU"),n("4EHJ"),n("ju1D"),n("9AIY"),n("9MzC")),y=n("WZb1"),d=n("DxxZ"),x=n("jIHu"),g=n("t7mB"),b=n("1agI"),m=n("yN2G"),S=n("n21L"),k=n("2AbE"),O=n("acOm"),w=n("Bcjy"),V=n("MrbB"),_=n("Dw8i"),T=n("J3nV"),M=n("ukaK");function j(e){var t=e.message,n={message:{data:{},tileKey:t.tileKey},transferList:new Array};for(var r in t.data){var i=t.data[r];if(n.message.data[r]=null,Object(o.k)(i)){var a=i.stride,u=i.indices.slice(0),s=i.vertices.slice(0),c=i.records.slice(0),l={stride:a,indices:u,vertices:s,records:c,metrics:Object(o.b)(i.metrics,function(e){return e.slice(0)})};n.transferList.push(u,s,c),n.message.data[r]=l}}return n}s.a.getLogger("esri.views.2d.layers.features.processors.SymbolProcessor");var z=function(e){l(M,e);var t,n,r,s,f=v(M);function M(){var e;return p(this,M),(e=f.apply(this,arguments)).type="symbol",e._matchers={feature:null,aggregate:null},e._bufferData=new Map,e}return c(M,[{key:"initialize",value:function(){this.handles.add([this.tileStore.on("update",this.onTileUpdate.bind(this))])}},{key:"destroy",value:function(){}},{key:"supportsTileUpdates",get:function(){return!0}},{key:"update",value:(s=u(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("symbol"===(r=n.schema.processors[0]).type){e.next=3;break}return e.abrupt("return");case 3:i=Object(d.a)(this._schema,r),Object(d.b)(i,"mesh")&&(Object(a.a)("esri-2d-update-debug")&&console.debug("Applying Update - Processor:",i),t.mesh=!0,t.why.mesh.push("Symbology changed"),this._schema=r,this._factory=this._createFactory(r),this._factory.update(r,this.tileStore.tileScheme.tileInfo));case 5:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"onTileMessage",value:function(e,t,n,r){return Object(h.u)(r),this._onTileData(e,t,n,r)}},{key:"onTileClear",value:function(e){return this._bufferData.delete(e.key.id),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:{clear:!0}})}},{key:"onTileError",value:function(e,t,n){return this.remoteClient.invoke("tileRenderer.onTileError",{tileKey:e.id,error:t},{signal:n.signal})}},{key:"onTileUpdate",value:function(e){var t,n=this,r=i(e.removed);try{for(r.s();!(t=r.n()).done;){var a=t.value;this._bufferData.has(a.key.id)&&(this._bufferData.get(a.key.id).forEach(function(e){var t=new Set;return Object(m.g)(function(n){var r=e.message.data[n];if(Object(o.k)(r))for(var i=S.a.from(r.records).getCursor();i.next();)t.add(i.id)}),n.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.message.tileKey,data:{type:"update",addOrUpdate:null}})}),this._bufferData.delete(a.key.id))}}catch(l){r.e(l)}finally{r.f()}var u,s=i(e.added);try{var c=function(){var e=u.value;n._bufferData.forEach(function(t){var r,a=i(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.message.tileKey===e.id&&n._updateTileMesh("append",e,j(o),[],!1,!1,null)}}catch(l){a.e(l)}finally{a.f()}})};for(s.s();!(u=s.n()).done;)c()}catch(l){s.e(l)}finally{s.f()}}},{key:"_addBufferData",value:function(e,t){this._bufferData.has(e)||this._bufferData.set(e,[]),this._bufferData.get(e).push(j(t))}},{key:"_createFactory",value:function(e){var t=this,n=this.service,r=n.geometryType,i=n.objectIdField,a={geometryType:r,fields:n.fields,spatialReference:y.a.fromJSON(this.spatialReference)},u=new _.a(function(e,n){return t.remoteClient.invoke("tileRenderer.getMaterialItems",e,n)},!1),s=e.mesh,c=s.matcher,l=s.aggregateMatcher;return this._store=u,this._matchers.feature=Object(w.a)(c,u,a),this._matchers.aggregate=Object(o.b)(l,function(e){return Object(w.a)(e,u,a)}),new T.a(r,i,u)}},{key:"_onTileData",value:(r=u(regeneratorRuntime.mark(function e(t,n,r,a){var u,s,c,l,f,v,y,p,d,x=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.type,s=n.addOrUpdate,c=n.remove,l=n.end,s){e.next=3;break}return e.abrupt("return",this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:t.id,data:{type:u,addOrUpdate:null,remove:c,clear:!1,end:l}},a));case 3:return f=this._processFeatures(t,s,r,a),e.prev=4,e.next=7,f;case 7:if(v=e.sent,!Object(o.j)(v)){e.next=10;break}return e.abrupt("return",this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:t.id,data:{type:u,addOrUpdate:null,remove:c,clear:!1,end:l}},a));case 10:y=i(v);try{for(y.s();!(p=y.n()).done;)d=p.value,t.key.id!==d.message.tileKey&&this._addBufferData(t.key.id,d)}catch(g){y.e(g)}finally{y.f()}return e.next=14,Object(h.b)(v.map(function(e){var r=t.key.id===e.message.tileKey;return x._updateTileMesh(u,t,e,r?n.remove:[],r&&n.end,n.clear,a.signal)}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),this._handleError(t,e.t0,a);case 19:case"end":return e.stop()}},e,this,[[4,16]])})),function(e,t,n,i){return r.apply(this,arguments)})},{key:"_updateTileMesh",value:(n=u(regeneratorRuntime.mark(function e(t,n,r,i,a,u,s){var c,l,f,v,y,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t,(l=r.message.tileKey)!==n.key.id&&(a=!1),f=Object(o.b)(r,function(e){return e.message}),v=Object(o.b)(r,function(e){return e.transferList})||[],y={type:c,addOrUpdate:f,remove:i,clear:!1,end:a},p={transferList:Object(o.q)(v)||[],signal:s},e.abrupt("return",(Object(h.u)(p),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:l,data:y},p)));case 4:case"end":return e.stop()}},e,this)})),function(e,t,r,i,a,o,u){return n.apply(this,arguments)})},{key:"_processFeatures",value:(t=u(regeneratorRuntime.mark(function e(t,n,r,i){var a,u,s,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(o.j)(n)&&n.hasFeatures){e.next=2;break}return e.abrupt("return",null);case 2:return a={transform:t.transform,hasZ:!1,hasM:!1},u=this._factory,s={viewingMode:"",scale:t.scale},e.next=7,this._matchers.feature;case 7:return c=e.sent,e.next=10,this._matchers.aggregate;case 10:return l=e.sent,Object(h.u)(i),f=this._getLabelInfos(t,n),e.next=15,u.analyze(n.getCursor(),c,l,a,s);case 15:return Object(h.u)(i),e.abrupt("return",this._writeFeatureSet(t,n,a,f,u,r));case 17:case"end":return e.stop()}},e,this)})),function(e,n,r,i){return t.apply(this,arguments)})},{key:"_writeFeatureSet",value:function(e,t,n,r,i,a){for(var u=t.getApproximateSize(),s=new O.a(e.key.id,{features:u,records:u,metrics:0},"simple"===this._schema.mesh.matcher.type&&this._schema.mesh.matcher.isDotDensity,a,!0),c={viewingMode:"",scale:e.scale},l=t.getCursor();l.next();)try{var f=l.getDisplayId(),v=Object(o.k)(r)?r.get(f):null;i.writeCursor(s,l,n,c,e.level,v)}catch(h){}return s.serialize(e.tileInfoView.tileInfo.isWrappable)}},{key:"_handleError",value:function(e,t,n){if(!Object(h.m)(t))return this.remoteClient.invoke("tileRenderer.onTileError",{tileKey:e.id,error:t.message},{signal:n.signal})}},{key:"_getLabelInfos",value:function(e,t){var n=this,r=this._schema.mesh.labels,a=Object(o.b)(r,function(t){return t.filter(function(t){return function(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}(t,e.scale)})});if(Object(o.j)(a)||0===a.length)return null;for(var u=new Map,s=(new b.b(x.e),t.getCursor()),c=function(){var e,t=s.getDisplayId(),r=[],o=Object(k.c)(t),c=o&&1!==s.readAttribute("cluster_count")?"aggregate":"feature",l=i(a);try{var f=function(){var i=e.value;if(i.target!==c)return"continue";var a=s.getStorage().getComputedStringAtIndex(o&&"feature"===c?s.readAttribute("referenceId"):t,i.fieldIndex);if(!a)return"continue";var u=Object(g.a)(a.toString()),l=u[0],f=u[1];n._store.getMosaicItem(i.symbol,Object(V.a)(l)).then(function(e){r[i.index]={glyphs:e.glyphMosaicItems,rtl:f,index:i.index}})};for(l.s();!(e=l.n()).done;)f()}catch(v){l.e(v)}finally{l.f()}u.set(t,r)};s.next();)c();return u}},{key:"_shouldDiscard",value:function(e,t){switch(this.service.geometryType){case"esriGeometryPoint":var n=t.readLegacyPointGeometry();return!n||e.checkOverlap(n.x,n.y);case"esriGeometryPolygon":var r=t.readLegacyCentroid();return!r||e.checkOverlap(r.x,r.y);default:return!1}}},{key:"_markUsed",value:function(e,t){switch(this.service.geometryType){case"esriGeometryPoint":var n=t.readLegacyPointGeometry(),r=n.x,i=n.y;return e.markUsed(r,i);case"esriGeometryPolygon":var a=t.readLegacyCentroid(),o=a.x,u=a.y;return e.markUsed(o,u)}}}]),M}(M.a);z=Object(r.a)([Object(f.a)("esri.views.2d.layers.features.processors.SymbolProcessor")],z),t.default=z},GMaR:function(e,n,i){"use strict";i.d(n,"a",function(){return m}),i.d(n,"b",function(){return w}),i.d(n,"c",function(){return k}),i.d(n,"d",function(){return S}),i.d(n,"e",function(){return h}),i.d(n,"f",function(){return O}),i.d(n,"g",function(){return s}),i.d(n,"h",function(){return f});var a=i("zlDU"),o=i("yE7X"),u=i("m3fN");function s(e,t,n,r,i){switch(e){case o.d.FILL:return m.from(t,r);case o.d.LINE:return k.from(t,n);case o.d.MARKER:return S.from(t);case o.d.TEXT:return O.from(t);case o.d.LABEL:return w.from(t,i);default:throw new Error("Unable to createMaterialKey for unknown geometryType ".concat(e))}}function f(e){switch(h.load(e).geometryType){case o.d.MARKER:return new S(e);case o.d.FILL:return new m(e);case o.d.LINE:return new k(e);case o.d.TEXT:return new O(e);case o.d.LABEL:return new w(e)}}var h=function(){function e(t){p(this,e),this._data=0,this._data=t}return c(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)}},{key:"sdf",get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,e)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case o.d.FILL:return"fill";case o.d.MARKER:return"marker";case o.d.LINE:return"line";case o.d.TEXT:return"text";case o.d.LABEL:return"label";default:throw new a.a("Unable to handle unknown geometryType: ".concat(this.geometryType))}}},{key:"setBit",value:function(e,t){var n=1<<e;t?this._data|=n:this._data&=~n}},{key:"bit",value:function(e){return(this._data&1<<e)>>e}},{key:"setBits",value:function(e,t,n){for(var r=t,i=0;r<n;r++,i++)this.setBit(r,0!=(e&1<<i))}},{key:"bits",value:function(e,t){for(var n=0,r=e,i=0;r<t;r++,i++)n|=this.bit(r)<<i;return n}},{key:"hasVV",value:function(){return!1}},{key:"setVV",value:function(e,t){}},{key:"getVariation",value:function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf}}},{key:"getVariationHash",value:function(){return this._data&~(7&this.textureBinding)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}}]),e}();h.shared=new h(0);var d=function(e){return function(e){l(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return c(n,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)}},{key:"hasVV",value:function(){return r(y(n.prototype),"hasVV",this).call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}},{key:"setVV",value:function(e,t){r(y(n.prototype),"setVV",this).call(this,e,t);var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o.e.SIZE_FIELD_STOPS|o.e.SIZE_MINMAX_VALUE|o.e.SIZE_SCALE_STOPS|o.e.SIZE_UNIT_VALUE,r=(e&(o.f.FIELD_TARGETS_OUTLINE|o.f.MINMAX_TARGETS_OUTLINE|o.f.SCALE_TARGETS_OUTLINE|o.f.UNIT_TARGETS_OUTLINE))>>>4;return t?n&r:n&~r}(e,t)&e;this.vvSizeMinMaxValue=!!(i&o.e.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&o.e.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&o.e.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&o.e.SIZE_SCALE_STOPS)}}]),n}(e)},x=function(e){return function(e){l(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return c(n,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)}},{key:"hasVV",value:function(){return r(y(n.prototype),"hasVV",this).call(this)||this.vvRotation}},{key:"setVV",value:function(e,t){r(y(n.prototype),"setVV",this).call(this,e,t),this.vvRotation=!t&&!!(e&o.e.ROTATION)}}]),n}(e)},g=function(e){return function(e){l(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return c(n,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)}},{key:"hasVV",value:function(){return r(y(n.prototype),"hasVV",this).call(this)||this.vvColor}},{key:"setVV",value:function(e,t){r(y(n.prototype),"setVV",this).call(this,e,t),this.vvColor=!t&&!!(e&o.e.COLOR)}}]),n}(e)},b=function(e){return function(e){l(n,e);var t=v(n);function n(){return p(this,n),t.apply(this,arguments)}return c(n,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)}},{key:"hasVV",value:function(){return r(y(n.prototype),"hasVV",this).call(this)||this.vvOpacity}},{key:"setVV",value:function(e,t){r(y(n.prototype),"setVV",this).call(this,e,t),this.vvOpacity=!t&&!!(e&o.e.OPACITY)}}]),n}(e)},m=function(e){l(i,e);var n=v(i);function i(){return p(this,i),n.apply(this,arguments)}return c(i,[{key:"getVariation",value:function(){return t(t({},r(y(i.prototype),"getVariation",this).call(this)),{},{dotDensity:this.dotDensity,vvColor:this.vvColor,vvOpacity:this.vvOpacity})}},{key:"dotDensity",get:function(){return!!this.bit(15)},set:function(e){this.setBit(15,e)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var n=this.load(0);return n.geometryType=o.d.FILL,t?n.dotDensity=!0:n.setVV(e,!1),n.data}}]),i}(g(b(h)));m.shared=new m(0);var S=function(e){l(i,e);var n=v(i);function i(){return p(this,i),n.apply(this,arguments)}return c(i,[{key:"getVariation",value:function(){return t(t({},r(y(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=o.d.MARKER,t.setVV(e,!1),t.data}}]),i}(g(b(x(d(h)))));S.shared=new S(0);var k=function(e){l(i,e);var n=v(i);function i(){return p(this,i),n.apply(this,arguments)}return c(i,[{key:"getVariation",value:function(){return t(t({},r(y(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var n=this.load(0);return n.geometryType=o.d.LINE,n.setVV(e,t),n.data}}]),i}(g(b(d(h))));k.shared=new k(0);var O=function(e){l(i,e);var n=v(i);function i(){return p(this,i),n.apply(this,arguments)}return c(i,[{key:"getVariation",value:function(){return t(t({},r(y(i.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(e);return t.geometryType=o.d.TEXT,t.setVV(e,!1),t.data}}]),i}(g(b(x(d(h)))));O.shared=new O(0);var w=function(e){l(i,e);var n=v(i);function i(){return p(this,i),n.apply(this,arguments)}return c(i,[{key:"getVariation",value:function(){return t(t({},r(y(i.prototype),"getVariation",this).call(this)),{},{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e,t){var n=this.load(0);return n.geometryType=o.d.LABEL,n.setVV(e,!1),n.mapAligned=!!Object(u.a)(t),n.data}}]),i}(d(h));w.shared=new w(0)},HQFP:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o});var r=128/Math.PI,i=1/Math.LN2;function a(e,t){return(e%=t)>=0?e:e+t}function o(e){return a(e*r,256)}function u(e){return a(.7111111111111111*e,256)}function s(e){return Math.log(e)*i}function c(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}},m3fN:function(e,t,n){"use strict";function r(e){switch(e){case"above-along":case"below-along":case"center-along":return 1;default:return 0}}n.d(t,"a",function(){return r})}}])}();