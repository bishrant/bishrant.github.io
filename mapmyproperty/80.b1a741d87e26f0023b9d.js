(function(){(this||window).webpackJsonp.registerAbsMids({"arcgis-js-api/layers/support/LabelClass":"5WBt","arcgis-js-api/layers/support/FieldsIndex":"I90O","arcgis-js-api/layers/support/labelUtils":"L924","arcgis-js-api/views/2d/layers/features/processors/SymbolProcessor":"dh9Z","arcgis-js-api/layers/support/LabelExpressionInfo":"nsnX","arcgis-js-api/layers/support/labelFormatUtils":"y/j/"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"5WBt":function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("qKT0"),t("9opi"),t("Q2wQ"),t("HZ3d"),t("+AWJ"),t("ImIS"),t("ycL1"),t("rg9i"),t("Vx27"),t("nsnX"),t("L924"),t("5Lc7"),t("dXKx"),t("HqJa")],void 0===(i=(function(e,r,t,n,i,o,a,s,l,u,p,c,f,d,y,h){var v=new s.default({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function g(e){return!e||"service"!==e.origin&&(!e.layer||!d.isOfType(e.layer,"map-image"))}return function(e){function r(r){var t=e.call(this,r)||this;return t.name=null,t.labelExpression=null,t.labelExpressionInfo=null,t.labelPlacement=null,t.maxScale=0,t.minScale=0,t.symbol=y.defaultTextSymbol2D,t.useCodedValues=void 0,t.where=null,t}var i;return n(r,e),i=r,r.evaluateWhere=function(e,r){var t=function(e,r,t){switch(r){case"=":return e==t;case"<>":return e!=t;case">":return e>t;case">=":return e>=t;case"<":return e<t;case"<=":return e<=t}return!1};try{if(null==e)return!0;var n=e.split(" ");if(3===n.length)return t(r[n[0]],n[1],n[2]);if(7===n.length){var i=t(r[n[0]],n[1],n[2]),o=n[3],a=t(r[n[4]],n[5],n[6]);switch(o){case"AND":return i&&a;case"OR":return i||a}}return!1}catch(r){console.log("Error.: can't parse = "+e)}},r.prototype.readLabelExpression=function(e,r){var t=r.labelExpressionInfo;if(!t||!t.value&&!t.expression)return e},r.prototype.writeLabelExpression=function(e,r,t,n){if(this.labelExpressionInfo&&(g(n)||n&&"service"===n.origin))if(null!=this.labelExpressionInfo.value)e=this.labelExpressionInfo.value.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]");else if(null!=this.labelExpressionInfo.expression){var i=f.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);i&&(e="["+i+"]")}null!=e&&(r[t]=e)},r.prototype.writeLabelExpressionInfo=function(e,r,t,n){if(null==e&&null!=this.labelExpression&&g(n))e=new c({expression:this.getLabelExpressionArcade()});else if(!e)return;var i=e.toJSON(n);i.expression&&(r[t]=i)},r.prototype.writeMaxScale=function(e,r){(e||this.minScale)&&(r.maxScale=e)},r.prototype.writeMinScale=function(e,r){(e||this.maxScale)&&(r.minScale=e)},r.prototype.getLabelExpression=function(){var e={expression:"",type:"none"};return this.labelExpressionInfo?this.labelExpressionInfo.value?(e.expression=this.labelExpressionInfo.value,e.type="conventional"):this.labelExpressionInfo.expression&&(e.expression=this.labelExpressionInfo.expression,e.type="arcade"):null!=this.labelExpression&&(e.expression=this.labelExpression.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}"),e.type="conventional"),e},r.prototype.getLabelExpressionArcade=function(){var e=this.getLabelExpression();if(!e)return null;switch(e.type){case"conventional":return f.convertTemplatedStringToArcade(e.expression);case"arcade":return e.expression}return null},r.prototype.getLabelExpressionSingleField=function(){var e=this.getLabelExpression();if(!e)return null;switch(e.type){case"conventional":return f.getSingleFieldTemplatedString(e.expression);case"arcade":return f.getSingleFieldArcadeExpression(e.expression)}return null},r.prototype.clone=function(){return new i({labelExpression:this.labelExpression,labelExpressionInfo:u.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:u.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})},t([p.property({type:String,json:{write:!0}})],r.prototype,"name",void 0),t([p.property({type:String,json:{write:{allowNull:!0}}})],r.prototype,"labelExpression",void 0),t([p.reader("labelExpression")],r.prototype,"readLabelExpression",null),t([p.writer("labelExpression")],r.prototype,"writeLabelExpression",null),t([p.property({type:c,json:{write:{overridePolicy:function(e,r,t){return g(t)?{allowNull:!0}:{enabled:!1}}}}})],r.prototype,"labelExpressionInfo",void 0),t([p.writer("labelExpressionInfo")],r.prototype,"writeLabelExpressionInfo",null),t([p.property({type:v.apiValues,json:{type:v.jsonValues,read:v.read,write:v.write}})],r.prototype,"labelPlacement",void 0),t([p.property({type:Number})],r.prototype,"maxScale",void 0),t([p.writer("maxScale")],r.prototype,"writeMaxScale",null),t([p.property({type:Number})],r.prototype,"minScale",void 0),t([p.writer("minScale")],r.prototype,"writeMinScale",null),t([p.property({types:a.symbolTypesLabel,json:{origins:{"web-scene":{types:a.symbolTypesLabel3D,read:h.read,write:h.writeTarget,default:null}},read:h.read,write:h.writeTarget,default:null}})],r.prototype,"symbol",void 0),t([p.property({type:Boolean,json:{write:!0}})],r.prototype,"useCodedValues",void 0),t([p.property({type:String,json:{write:!0}})],r.prototype,"where",void 0),i=t([p.subclass("esri.layers.support.LabelClass")],r)}(p.declared(l.JSONSupport))}).apply(null,n))||(e.exports=i)},I90O:function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("xhoE")],void 0===(i=(function(e,r,t){function n(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function i(e){return e.toLowerCase().trim()}return function(){function e(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],e){for(var r=[],t=0,o=e;t<o.length;t++){var a=o[t],s=a&&a.name;if(s){var l=i(s);this._fieldsMap.set(s,a),this._fieldsMap.set(l,a),r.push(l),n(a)&&(this.dateFields.push(a),this._dateFieldsSet.add(a))}}r.sort(),this.uid=r.join(",")}}return e.prototype.destroy=function(){this._fieldsMap.clear()},e.prototype.has=function(e){return null!=this.get(e)},e.prototype.get=function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0},e.prototype.isDateField=function(e){return this._dateFieldsSet.has(this.get(e))},e.prototype.normalizeFieldName=function(e){var r=this.get(e);if(r)return r.name},e}()}).apply(null,n))||(e.exports=i)},L924:function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("nRUF")],void 0===(i=(function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0});var n=new RegExp("__begin__","ig"),i=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),a=new RegExp("__end__$","i");r.convertTemplatedStringToArcade=function(e){var r;return e?(r=t.replace(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),r=o.test(r)?r.replace(o,""):'"'+r,r=(r=a.test(r)?r.replace(a,""):r+'"').replace(n,'" + ').replace(i,' + "')):r='""',r};var s=/^\s*\{([^}]+)\}\s*$/i;r.getSingleFieldTemplatedString=function(e){var r=e.match(s);return r&&r[1].trim()||null};var l=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,u=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,p=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;r.getSingleFieldArcadeExpression=function(e){if(!e)return null;var r=l.exec(e)||u.exec(e);return r?r[1]||r[3]:(r=p.exec(e))?r[2]:null}}).apply(null,n))||(e.exports=i)},dh9Z:function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("9opi"),t("qKT0"),t("2Atf"),t("Q2wQ"),t("HZ3d"),t("ma1f"),t("H1tY"),t("qsST"),t("LxLY"),t("qMld"),t("Vx27"),t("Z4y+"),t("5WBt"),t("y/j/"),t("hz/Y"),t("YaB4"),t("WEAo"),t("MtZC"),t("rAGl"),t("68TM")],void 0===(i=(function(e,r,t,n,i,o,a,s,l,u,p,c,f,d,y,h,v,g,b,m,w,x){Object.defineProperty(r,"__esModule",{value:!0});var S=u.getLogger("esri.views.2d.layers.features.processors.SymbolProcessor"),_=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._symbolToMosaicItemMap=new Map,r._visualSetPromises=new Map,r.type="symbol",r}return t(r,e),r.prototype.initialize=function(){this._factory=this._createFactory()},r.prototype.destroy=function(){this._visualSetPromises.clear(),this._symbolToMosaicItemMap.clear(),this.notifyChange("updating")},Object.defineProperty(r.prototype,"supportsTileUpdates",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelingInfo",{get:function(){return!this.config||p.isNone(this.config.labelingInfo)?null:this.config.labelingInfo.map((function(e){return y.fromJSON(e)}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelClassInfos",{get:function(){var e=this;if(!this.labelingInfo)return c.resolve();var r=function(r){return a(e,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:e=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h.createLabelFunction(r,this.service.fields,this.spatialReference)];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),S.error(new s("mapview-labeling","Failed to evaluate "+(r.where?"where":"arcade")+" expression",{labelClass:r,error:t})),[3,4];case 4:return[2,e]}}))}))};return c.all(this.labelingInfo.map((function(t,n){return a(e,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return e=p.andThen,[4,r(t)];case 1:return[2,e.apply(void 0,[i.sent(),function(e){return{index:n,minScale:t.minScale,maxScale:t.maxScale,builder:e,symbol:t.symbol,symbolJSON:t.symbol.toJSON()}}])]}}))}))}))).then((function(e){return e.filter((function(e){return e}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hydrate",{get:function(){return b.createHydrateFactory(this.service.geometryType)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderer",{get:function(){return this.config?v.fromJSON(this.config.renderer):(l("esri-2d-debug")&&console.debug("Unable to create renderer for undefined configuration"),null)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"updating",{get:function(){return this._visualSetPromises.size>0},enumerable:!0,configurable:!0}),r.prototype.update=function(e){return a(this,void 0,void 0,(function(){var r;return o(this,(function(t){return r=this._getMeshHash(),this._set("config",e),r!==this._getMeshHash()?this._factory=this._createFactory():this._factory.update(this.labelingInfo,this.renderer,this.tileStore.tileScheme.tileInfo),[2]}))}))},r.prototype.onTileData=function(e,r,t){var n=this,i=this._onTileData(e,r,t);return this._visualSetPromises.set(e,i),c.always(i,(function(){return n._cleanPromise(e)})),this.notifyChange("updating"),i},r.prototype.onTileError=function(e,r,t){var n=this,i=this.remoteClient.invoke("tileRenderer.onTileError",{tileKey:e.id,error:r},{signal:t.signal});return this._visualSetPromises.set(e,i),c.always(i,(function(){return n._cleanPromise(e)})),this.notifyChange("updating"),i},r.prototype._getMeshHash=function(){var e=m.getVVFlags("visualVariables"in this.renderer&&this.renderer.visualVariables||[]);return this.renderer.getMeshHash()+"."+e},r.prototype._createFactory=function(){var e=this,r=this.service,t=r.geometryType,n=r.objectIdField,i={geometryType:t,fields:r.fields,spatialReference:d.fromJSON(this.spatialReference)},o=new g.WGLTemplateStore((function(r,t){return e.remoteClient.invoke("tileRenderer.getMaterialItems",r,t)}),!1),a=this.tileStore.tileScheme.tileInfo;return this._store=o,this._matcher=g.createMatcher(o,i,this.renderer),new g.WGLMeshFactory(t,n,this.renderer,o,this.labelingInfo,a)},r.prototype._cleanPromise=function(e){this._visualSetPromises.delete(e),this.notifyChange("updating")},r.prototype._onTileData=function(e,r,t){return a(this,void 0,void 0,(function(){var n,i,a,s,l,u,c,f,d,y;return o(this,(function(o){switch(o.label){case 0:n=r.remove,i=r.clear,a=this._processFeatures(e,r.addOrUpdate,r.transformParams),s=t.signal,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,a];case 2:return l=o.sent(),u=p.andThen(l,(function(e){return e.message})),c=p.andThen(l,(function(e){return e.transferList}))||[],f={addOrUpdate:u,remove:n,clear:i},d={transferList:p.unwrap(c)||[],signal:s},[2,this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:f},d)];case 3:return y=o.sent(),this._handleError(e,y,t),[3,4];case 4:return[2]}}))}))},r.prototype._processFeatures=function(e,r,t){return a(this,void 0,void 0,(function(){var n,i,a,s,l;return o(this,(function(o){switch(o.label){case 0:return r&&r.length?(n=this._factory,i={viewingMode:"",scale:e.scale},[4,this._matcher]):[2,null];case 1:return a=o.sent(),[4,this._getLabelInfos(e,r,t)];case 2:return s=o.sent(),[4,n.analyze(r,a,t,i)];case 3:return l=o.sent(),[2,this._writeFeatures(e,l,t,s,n)]}}))}))},r.prototype._writeFeatures=function(e,r,t,n,i){for(var o=i.createMeshData(r.length),a={viewingMode:"",scale:e.scale},u=0,c=r;u<c.length;u++){var f=c[u];try{var d=p.isSome(n)?n.get(f.localId):null;i.write(o,f,t,a,e.level,d)}catch(e){l("esri-2d-debug")&&S.error(new s("mapview-mesh-factory","Failed to write feature",{error:e,feature:f}))}}return this._encodeDisplayData(o)},r.prototype._encodeDisplayData=function(e){var r={},t=new Array;return e.encode(r,t),{message:r,transferList:t}},r.prototype._handleError=function(e,r,t){if(!c.isAbortError(r))return this.remoteClient.invoke("tileRenderer.onTileError",{tileKey:e.id,error:r.message},{signal:t.signal})},r.prototype._getLabelClassInfosForScale=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this.labelClassInfos];case 1:return[2,r.sent().filter((function(r){var t=r.minScale,n=r.maxScale;return(!t||t>=e||0===t)&&(!n||n<=e||0===n)}))]}}))}))},r.prototype._shouldDiscard=function(e,r){switch(this.service.geometryType){case"esriGeometryPoint":var t=r.geometry,n=t.x,i=t.y;return e.checkOverlap(n,i);case"esriGeometryPolygon":var o=r.centroid;return e.checkOverlap(n=o.x,i=o.y);default:return!1}},r.prototype._markUsed=function(e,r){switch(this.service.geometryType){case"esriGeometryPoint":var t=r.geometry,n=t.x,i=t.y;return e.markUsed(n,i);case"esriGeometryPolygon":var o=r.centroid;return e.markUsed(n=o.x,i=o.y)}},r.prototype._getLabelInfos=function(e,r,t){return a(this,void 0,void 0,(function(){var n,a,s,l,u,c,f,y;return o(this,(function(o){switch(o.label){case 0:return this.labelingInfo&&r&&0!==r.length?[4,this._getLabelClassInfosForScale(e.scale)]:[2,null];case 1:if(0===(n=o.sent()).length)return[2,null];for(a=new Map,s=new g.CollisionGrid(g.definitions.COLLISION_EARLY_REJECT_BUCKET_SIZE),l=function(e){var r=e.localId;if(u._shouldDiscard(s,e))return a.set(r,null),"continue";for(var o=function(e,r){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=null;return t}(n.length),l=!1,c=function(r){var a=n[r],s=a.index,c=a.builder,f=a.symbolJSON;if(!t)return S.error("mapview-labeling","Tried to evaluate geometry expression but no transformation found"),{value:void 0};var y=u.hydrate(e.geometry,t.transform,t.hasZ,t.hasM),h=i({},e,{geometry:y});y.spatialReference=d.fromJSON(u.spatialReference);var v=c.evaluate(h);if(p.isNone(v)||""===v)return"continue";var b=g.bidiText(v),m=b[1];l=!0,u._store.getMosaicItem(f,!1,w.codepoints(b[0])).then((function(e){o[s]={glyphs:e.glyphMosaicItems,rtl:m,classIndex:s}}))},f=0;f<n.length;f++){var y=c(f);if("object"==typeof y)return y}a.set(r,o),l&&u._markUsed(s,e)},u=this,c=0,f=r;c<f.length;c++)if("object"==typeof(y=l(f[c])))return[2,y.value];return[2,a]}}))}))},n([f.property({readOnly:!0})],r.prototype,"supportsTileUpdates",null),n([f.property()],r.prototype,"config",void 0),n([f.property({dependsOn:["config"]})],r.prototype,"labelingInfo",null),n([f.property({dependsOn:["labelingInfo","service","spatialReference"]})],r.prototype,"labelClassInfos",null),n([f.property({dependsOn:["service"]})],r.prototype,"hydrate",null),n([f.property({dependsOn:["config"],readOnly:!0})],r.prototype,"renderer",null),n([f.property({readOnly:!0})],r.prototype,"updating",null),n([f.subclass("esri.views.2d.layers.features.processors.SymbolProcessor")],r)}(f.declared(x.default));r.default=_}).apply(null,n))||(e.exports=i)},nsnX:function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("9opi"),t("qKT0"),t("ycL1"),t("Vx27"),t("L924")],void 0===(i=(function(e,r,t,n,i,o,a){return function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.value=null,r.expression=null,r}var i;return t(r,e),i=r,r.prototype.readExpression=function(e,r){return r.value?a.convertTemplatedStringToArcade(r.value):e},r.prototype.writeExpression=function(e,r,t){null!=this.value&&(e=a.convertTemplatedStringToArcade(this.value)),r[t]=e},r.prototype.clone=function(){return new i({value:this.value,expression:this.expression})},n([o.property({json:{read:!1,write:!1}})],r.prototype,"value",void 0),n([o.property({type:String,json:{write:{allowNull:!0}}})],r.prototype,"expression",void 0),n([o.reader("expression",["expression","value"])],r.prototype,"readExpression",null),n([o.writer("expression")],r.prototype,"writeExpression",null),i=n([o.subclass("esri.layers.support.LabelExpressionInfo")],r)}(o.declared(i.JSONSupport))}).apply(null,n))||(e.exports=i)},"y/j/":function(e,r,t){var n,i;n=[t.dj.c(e.i),r,t("qKT0"),t("9opi"),t("Q2wQ"),t("HZ3d"),t("ma1f"),t("qsST"),t("qMld"),t("hCwm"),t("ICCr"),t("I90O"),t("k7g7"),t("L924"),t("sCbS")],void 0===(i=(function(e,r,n,i,o,a,s,l,u,p,c,f,d,y,h){Object.defineProperty(r,"__esModule",{value:!0});var v=l.getLogger("esri.layers.support.labelFormatUtils"),g={type:"simple",evaluate:function(){return null}};function b(){return a(this,void 0,void 0,(function(){return o(this,(function(e){return[2,u.create((function(e){t.e(6).then((function(){var r=[t("1eyA")];e.apply(null,r)}).bind(this)).catch(t.oe)}))]}))}))}function m(e,r,t,n){var i=d.getField(n,e);if(!i)return r;if(null==t[i.name])return"";var o=i.domain;if(o)if("codedValue"===o.type||"coded-value"===o.type)for(var a=t[i.name],s=0,l=o.codedValues;s<l.length;s++){var u=l[s];if(u.code===a)return u.name}else if("range"===o.type){var f=+t[i.name];if(("range"in o?o.range[0]:o.minValue)<=f&&f<=("range"in o?o.range[1]:o.maxValue))return o.name}var y=t[i.name];return"date"===i.type||"esriFieldTypeDate"===i.type?y=p.formatDate(y,p.convertDateFormatToIntlOptions("short-date")):d.isNumericField(i)&&(y=c.formatNumber(+y)),y||""}r.createLabelFunction=function(e,r,t){return a(this,void 0,void 0,(function(){var n,i,a,l,u,p,c,d;return o(this,(function(o){switch(o.label){case 0:return e&&e.symbol?(n=e.where,i=e.getLabelExpression(),n?[4,b()]:[3,2]):[2,g];case 1:return l=o.sent(),[3,3];case 2:l=null,o.label=3;case 3:return a=l,"arcade"!==i.type?[3,5]:[4,h.createLabelExpression(i.expression,t,r)];case 4:return p=o.sent(),u={type:"arcade",evaluate:function(e){try{var r=p.evaluate({$feature:p.repurposeFeature(e)});if(null!=r)return r.toString()}catch(r){v.error(new s("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:i}))}return null},needsHydrationToEvaluate:function(){return null==y.getSingleFieldArcadeExpression(i.expression)}},[3,6];case 5:u={type:"simple",evaluate:function(e){var t=e&&e.attributes;return t?i.expression.replace(/{[^}]*}/g,(function(e){return m(e.slice(1,-1),e,t,r)})):null}},o.label=6;case 6:if(n){try{c=a.WhereClause.create(n,new f(r))}catch(e){return[2,g]}d=u.evaluate,u.evaluate=function(e){return c.testFeature(e)?d(e):null}}return[2,u]}}))}))},r.formatField=m}).apply(null,n))||(e.exports=i)}}]);