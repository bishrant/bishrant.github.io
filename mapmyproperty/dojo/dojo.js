!function(e,t){var r,n=function(){return void 0!==g&&"function"!=typeof g?g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}(),i=function(){},o=function(e){for(var t in e)return 0;return 1},a={}.toString,s=function(e){return"[object Function]"==a.call(e)},u=function(e){return"[object String]"==a.call(e)},l=function(e){return"[object Array]"==a.call(e)},c=function(e,t){if(e)for(var r=0;r<e.length;)t(e[r++])},f=function(e,t){for(var r in t)e[r]=t[r];return e},p=function(e,t){return f(Error(e),{src:"dojoLoader",info:t})},h=1,d=function(){return"_"+h++},y=function(e,t,r){return Z(e,t,r,0,y)},g=n,m=g.document,v=m&&m.createElement("DiV"),x=y.has=function(e){return s(_[e])?_[e]=_[e](g,m,v):_[e]},_=x.cache=t.hasCache;for(var b in s(e)&&(e=e(n)),x.add=function(e,t,r,n){return(void 0===_[e]||n)&&(_[e]=t),r&&x(e)},x.add("host-webworker","undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope),x("host-webworker")&&(f(t.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),t.loaderPatch={injectUrl:function(e,t){try{importScripts(e),t()}catch(r){console.info("failed to load resource ("+e+")"),console.error(r)}}}),e.has)x.add(b,e.has[b],0,1);y.async=1;var w=x("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");y.eval=function(e,t){return w(e+"\r\n//# sourceURL="+t)};var T={},E=y.signal=function(e,t){c((e=T[e])&&e.slice(0),(function(e){e.apply(null,l(t)?t:[t])}))};b=y.on=function(e,t){var r=T[e]||(T[e]=[]);return r.push(t),{remove:function(){for(var e=0;e<r.length;e++)if(r[e]===t){r.splice(e,1);break}}}};var S=[],P={},A=[],O={},I=y.map={},M=[],N={},C="",R={},D={},L=(n={},0);if(!x("foreign-loader"))var k=function(e,t){var r,n,i,o;for(r in t=!1!==t,D)n=D[r],(i=r.match(/^url\:(.+)/))?R["url:"+fe(i[1],e)]=n:"*now"==r?o=n:"*noref"!=r&&(i=ae(r,e,!0),R[i.mid]=R["url:"+i.url]=n);o&&o(X(e)),t&&(D={})};var B=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,(function(e){return"\\"+e}))},V=function(e,t){for(var r in t.splice(0,t.length),e)t.push([r,e[r],new RegExp("^"+B(r)+"(/|$)"),r.length]);return t.sort((function(e,t){return t[3]-e[3]})),t},j=function(e){var t=e.name;t||(e={name:t=e}),(e=f({main:"main"},e)).location=e.location?e.location:t,e.packageMap&&(I[t]=e.packageMap),e.main.indexOf("./")||(e.main=e.main.substring(2)),O[t]=e},U=[],F=function(e,t,r){for(var n in e)"waitSeconds"==n&&(y.waitms=1e3*(e[n]||0)),"cacheBust"==n&&(C=e[n]?u(e[n])?e[n]:(new Date).getTime()+"":""),"baseUrl"!=n&&"combo"!=n||(y[n]=e[n]),e[n]!==_&&(y.rawConfig[n]=e[n],"has"!=n&&x.add("config-"+n,e[n],0,t));for(n in y.baseUrl||(y.baseUrl="./"),/\/$/.test(y.baseUrl)||(y.baseUrl+="/"),e.has)x.add(n,e.has[n],0,t);for(var i in c(e.packages,j),e.packagePaths)c(e.packagePaths[i],(function(e){var t=i+"/"+e;u(e)&&(e={name:e}),e.location=t,j(e)}));if(V(f(I,e.map),M),c(M,(function(e){e[1]=V(e[1],[]),"*"==e[0]&&(M.star=e)})),V(f(P,e.paths),A),function(e,t){c(e,(function(e){t.push([u(e[0])?new RegExp("^"+B(e[0])+"$"):e[0],e[1]])}))}(e.aliases,S),!x("foreign-loader")){if(t)U.push({config:e.config});else for(n in e.config)(t=le(n,r)).config=f(t.config||{},e.config[n]);e.cache&&(k(),D=e.cache,k(0,!!e.cache["*noref"]))}E("config",[e,y.rawConfig])};if(x("dojo-cdn")){var q,G,z,W,H=m.getElementsByTagName("script");for(r=0;r<H.length;)(z=(q=H[r++]).getAttribute("src"))&&(W=z.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(G=W[3]||"",t.baseUrl=t.baseUrl||G,L=q),(z=q.getAttribute("data-dojo-config")||q.getAttribute("djConfig"))&&(n=y.eval("({ "+z+" })","data-dojo-config"),L=q)}if(y.rawConfig={},F(t,1),x("dojo-cdn")&&((O.dojo.location=G)&&(G+="/"),O.dijit.location=G+"../dijit/",O.dojox.location=G+"../dojox/"),F(e,1),F(n,1),!x("foreign-loader"))var J=function(e){Te((function(){c(e.deps,Oe)}))},Z=function(e,t,r,n,o){var a;if(u(e)){if((a=le(e,n,!0))&&a.executed)return a.result;throw p("undefinedModule",e)}if(l(e)||(F(e,0,n),e=t,t=r),l(e))if(e.length){r="require*"+d();for(var s,c=[],h=0;h<e.length;)s=e[h++],c.push(le(s,n));a=f(ie("",r,0,""),{injected:2,deps:c,def:t||i,require:n?n.require:y,gc:1}),N[a.mid]=a,J(a);var g=we&&!0;Te((function(){be(a,g)})),a.executed||Y.push(a),Ee()}else t&&t();return o},X=function(e){if(!e)return y;var t=e.require;return t||(e.require=f(t=function(r,n,i){return Z(r,n,i,e,t)},y),t.module=e,t.toUrl=function(t){return fe(t,e)},t.toAbsMid=function(t){return ce(t,e)}),t},Y=[],Q=[],K={},$=function(e){e.injected=1,K[e.mid]=1,e.url&&(K[e.url]=e.pack||1),Ce()},ee=function(e){e.injected=2,delete K[e.mid],e.url&&delete K[e.url],o(K)&&Ne()},te=y.idle=function(){return!Q.length&&o(K)&&!Y.length&&!we};var re=function(e,t){if(t)for(var r=0;r<t.length;r++)if(t[r][2].test(e))return t[r];return 0},ne=function(e){var t,r,n=[];for(e=e.replace(/\\/g,"/").split("/");e.length;)".."==(t=e.shift())&&n.length&&".."!=r?(n.pop(),r=n[n.length-1]):"."!=t&&n.push(r=t);return n.join("/")},ie=function(e,t,r,n){return{pid:e,mid:t,pack:r,url:n,executed:0,def:0}},oe=function(e,t,r,n,i,o,a,u,l,f){var h,d,y,g;if(g=/^\./.test(e),/(^\/)|(\:)|(\.js$)/.test(e)||g&&!t)return ie(0,e,0,e);if(e=ne(g?t.mid+"/../"+e:e),/^\./.test(e))throw p("irrationalPath",e);f||g||!o.star||(y=re(e,o.star[1])),!y&&t&&(y=(y=re(t.mid,o))&&re(e,y[1])),y&&(e=y[1]+e.substring(y[3])),(h=r[t=(W=e.match(/^([^\/]+)(\/(.+))?$/))?W[1]:""])?e=t+"/"+(d=W[3]||h.main):t="";var m=0;return c(u,(function(t){var r=e.match(t[0]);r&&0<r.length&&(m=s(t[1])?e.replace(t[0],t[1]):t[1])})),m?oe(m,0,r,n,i,o,a,u,l):(r=n[e])?l?ie(r.pid,r.mid,r.pack,r.url):n[e]:(n=(y=re(e,a))?y[1]+e.substring(y[3]):t?("/"===h.location.slice(-1)?h.location.slice(0,-1):h.location)+"/"+d:e,/(^\/)|(\:)/.test(n)||(n=i+n),ie(t,e,h,ne(n+".js")))},ae=function(e,t,r){return oe(e,t,O,N,y.baseUrl,M,A,S,void 0,r)};if(!x("foreign-loader"))var se=function(e,t,r){return e.normalize?e.normalize(t,(function(e){return ce(e,r)})):ce(t,r)},ue=0,le=function(e,t,r){var n,i;return(n=e.match(/^(.+?)\!(.*)$/))?(5!==(i=le(n[1],t,r)).executed||i.load||ve(i),i.load?(n=se(i,n[2],t),e=i.mid+"!"+(i.dynamic?++ue+"!":"")+n):(n=n[2],e=i.mid+"!"+ ++ue+"!waitingForPlugin"),e={plugin:i,mid:e,req:X(t),prid:n}):e=ae(e,t),N[e.mid]||!r&&(N[e.mid]=e)};var ce=y.toAbsMid=function(e,t){return ae(e,t).mid},fe=y.toUrl=function(e,t){var r=(t=ae(e+"/x",t)).url;return Se(0===t.pid?e:r.substring(0,r.length-5))};if(!x("foreign-loader"))var pe={injected:2,executed:5,def:3,result:3},he=(G=function(e){return N[e]=f({mid:e},pe)})("require"),de=G("exports"),ye=G("module"),ge={},me=0,ve=function(e){var t=e.result;return e.dynamic=t.dynamic,e.normalize=t.normalize,e.load=t.load,e},xe=function(e){for(y.trace("loader-finish-exec",[e.mid]),e.executed=5,e.defOrder=me++,e.loadQ&&(ve(e),function(e){var t={};c(e.loadQ,(function(r){var n=se(e,r.prid,r.req.module),i=e.dynamic?r.mid.replace(/waitingForPlugin$/,n):e.mid+"!"+n;n=f(f({},r),{mid:i,prid:n,injected:0}),N[i]&&N[i].injected||Pe(N[i]=n),t[r.mid]=N[i],ee(r),delete N[r.mid]})),e.loadQ=0;var r,n=function(e){for(var r=e.deps||[],n=0;n<r.length;n++)(e=t[r[n].mid])&&(r[n]=e)};for(r in N)n(N[r]);c(Y,n)}(e)),r=0;r<Y.length;)Y[r]===e?Y.splice(r,1):r++;/^require\*/.test(e.mid)&&delete N[e.mid]},_e=[],be=function(e,t){if(4===e.executed)return y.trace("loader-circular-dependency",[_e.concat(e.mid).join("->")]),!e.def||t?ge:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return ge;var r,n=e.mid,i=e.deps||[],o=[],a=0;for(e.executed=4;r=i[a++];){if((r=r===he?X(e):r===de?e.cjs.exports:r===ye?e.cjs:be(r,t))===ge)return e.executed=0,y.trace("loader-exec-module",["abort",n]),ge;o.push(r)}y.trace("loader-run-factory",[e.mid]),o=s(t=e.def)?t.apply(null,o):t,e.result=void 0===o&&e.cjs?e.cjs.exports:o,xe(e)}return e.result},we=0,Te=function(e){try{we++,e()}catch(t){throw t}finally{we--}te()&&E("idle",[])},Ee=function(){we||Te((function(){for(var e,t=0;t<Y.length;)e=me,be(Y[t]),e!=me?t=0:t++}))};var Se="function"==typeof e.fixupUrl?e.fixupUrl:function(e){return(e+="")+(C?(/\?/.test(e)?"&":"?")+C:"")};void 0===x("dojo-loader-eval-hint-url")&&x.add("dojo-loader-eval-hint-url",1);var Pe=function(e){var t=e.plugin;5!==t.executed||t.load||ve(t),t.load?t.load(e.prid,e.req,(function(t){e.result=t,ee(e),xe(e),Ee()})):t.loadQ?t.loadQ.push(e):(t.loadQ=[e],Y.unshift(t),Oe(t))},Ae=0,Oe=function(e){var t=e.mid,r=e.url;if(!(e.executed||e.injected||K[t]||e.url&&(e.pack&&K[e.url]===e.pack||1==K[e.url])))if($(e),e.plugin)Pe(e);else{var n=function(){if(Me(e),2!==e.injected){if(x("dojo-enforceDefine"))return void E("error",p("noDefine",e));ee(e),f(e,pe),y.trace("loader-define-nonmodule",[e.url])}Ee()};(Ae=R[t]||R["url:"+e.url])?(y.trace("loader-inject",["cache",e.mid,r]),function(e,t){x("config-stripStrict")&&(e=e.replace(/(["'])use strict\1/g,"")),e===Ae?Ae.call(null):y.eval(e,x("dojo-loader-eval-hint-url")?t.url:t.mid)}(Ae,e),n()):(y.trace("loader-inject",["script",e.mid,r]),y.injectUrl(Se(r),n,e))}},Ie=function(e,t,r){if(y.trace("loader-define-module",[e.mid,t]),2===e.injected)return E("error",p("multipleDefine",e)),e;f(e,{deps:t,def:r,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(t){e.cjs.exports=t},config:function(){return e.config}}});for(var n=0;t[n];n++)t[n]=le(t[n],e);return ee(e),s(r)||t.length||(e.result=r,xe(e)),e},Me=function(e,t){for(var r,n,i=[];Q.length;)n=Q.shift(),t&&(n[0]=t.shift()),r=n[0]&&le(n[0])||e,i.push([r,n[1],n[2]]);k(e),c(i,(function(e){J(Ie.apply(null,e))}))},Ne=i,Ce=i;if(x("dom"),x("dom")){var Re=function(e,t,r,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},De=Re(window,"load",0,(function(){y.pageLoaded=1;try{"complete"!=m.readyState&&(m.readyState="complete")}catch(e){}De()}));for(H=m.getElementsByTagName("script"),r=0;!L;)/^dojo/.test((q=H[r++])&&q.type)||(L=q);y.injectUrl=function(e,t,r){r=r.node=m.createElement("script");var n=Re(r,"load",0,(function(e){("load"===(e=e||window.event).type||/complete|loaded/.test((e.target||e.srcElement).readyState))&&(n(),i(),t&&t())})),i=Re(r,"error",0,(function(t){n(),i(),E("error",p("scriptError: "+e,[e,t]))}));return r.type="text/javascript",r.charset="utf-8",r.src=e,L.parentNode.insertBefore(r,L),r}}y.log=i,y.trace=i,x("foreign-loader")?q=i:(q=function(e,t,r){var n=arguments.length,i=["require","exports","module"],o=[0,e,t];1==n?o=[0,s(e)?i:[],e]:2==n&&u(e)?o=[e,s(t)?i:[],t]:3==n&&(o=[e,t,r]),y.trace("loader-define",o.slice(0,2)),(n=o[0]&&le(o[0]))&&!K[n.mid]?J(Ie(n,o[1],o[2])):Q.push(o)}).amd={vendor:"dojotoolkit.org"},f(f(y,t.loaderPatch),e.loaderPatch),b("error",(function(e){try{if(console.error(e),e instanceof Error){for(var t in e)console.log(t+":",e[t]);console.log(".")}}catch(r){}})),f(y,{uid:d,cache:R,packs:O}),g.define||(g.define=q,g.require=y,x("foreign-loader")||(c(U,(function(e){F(e)})),q=n.deps||e.deps||t.deps,e=n.callback||e.callback||t.callback,y.boot=q||e?[q||[],e]:0))}((function(e){return e.dojoConfig||e.djConfig||e.require||{}}),{async:1,baseUrl:"dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]}),require({cache:{"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],(function(e,t,r,n,i){return r.add("postmessage",!1,!0),e={applicationUrl:n.location&&n.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}},n.esriConfig&&i.deepMerge(e,n.esriConfig,!0),e.request.corsEnabledServers=[],e.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0},e}))},"@dojo/framework/has/has":function(){var e;e=function(e,t){function r(e){return!!((e=e.toLowerCase())in u||e in t.testCache||t.testFunctions[e])}function n(e,n,i){void 0===i&&(i=!1);var o=e.toLowerCase();if(r(o)&&!i&&!(o in u))throw new TypeError('Feature "'+e+'" exists and overwrite not true.');"function"==typeof n?t.testFunctions[o]=n:(t.testCache[o]=n,delete t.testFunctions[o])}function i(e){var r=e.toLowerCase();if(r in u)e=u[r];else if(t.testFunctions[r])e=t.testCache[r]=t.testFunctions[r].call(null),delete t.testFunctions[r];else{if(!(r in t.testCache))throw new TypeError('Attempt to detect unregistered has feature "'+e+'"');e=t.testCache[r]}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=e("tslib"),a=e("../shim/global");t.testCache={},t.testFunctions={},e=(a.default.DojoHasEnvironment||{}).staticFeatures,"DojoHasEnvironment"in a.default&&delete a.default.DojoHasEnvironment;var s,u=e?"function"==typeof e?e.apply(a.default):e:{};t.load=function(e,t,r,n){e?t([e],r):r()},t.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g)||[],n=0;return(e=function e(t){var o=r[n++];return":"===o?null:"?"===r[n++]?!t&&i(o)?e():(e(!0),e(t)):o}())&&t(e)},t.exists=r,t.add=n,t.default=i,n("public-path",void 0),n("dojo-debug",!1),n("host-browser","undefined"!=typeof document&&"undefined"!=typeof location),n("host-node",(function(){if("object"==typeof process&&process.versions&&process.versions.node)return process.versions.node})),n("fetch","fetch"in a.default&&"function"==typeof a.default.fetch,!0),n("es6-array",(function(){return["from","of"].every((function(e){return e in a.default.Array}))&&["findIndex","find","copyWithin"].every((function(e){return e in a.default.Array.prototype}))}),!0),n("es6-array-fill",(function(){return"fill"in a.default.Array.prototype&&1===[1].fill(9,Number.POSITIVE_INFINITY)[0]}),!0),n("es7-array",(function(){return"includes"in a.default.Array.prototype}),!0),n("es6-map",(function(){if("function"==typeof a.default.Map)try{var e=new a.default.Map([[0,1]]);return e.has(0)&&"function"==typeof e.keys&&i("es6-symbol")&&"function"==typeof e.values&&"function"==typeof e.entries}catch(t){}return!1}),!0),n("es6-math",(function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every((function(e){return"function"==typeof a.default.Math[e]}))}),!0),n("es6-math-imul",(function(){return"imul"in a.default.Math&&-5===Math.imul(4294967295,5)}),!0),n("es6-object",(function(){return i("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every((function(e){return"function"==typeof a.default.Object[e]}))}),!0),n("es2017-object",(function(){return["values","entries","getOwnPropertyDescriptors"].every((function(e){return"function"==typeof a.default.Object[e]}))}),!0),n("es-observable",(function(){return void 0!==a.default.Observable}),!0),n("es6-promise",(function(){return void 0!==a.default.Promise&&i("es6-symbol")}),!0),n("es2018-promise-finally",(function(){return i("es6-promise")&&void 0!==a.default.Promise.prototype.finally}),!0),n("es6-set",(function(){if("function"==typeof a.default.Set){var e=new a.default.Set([1]);return e.has(1)&&"keys"in e&&"function"==typeof e.keys&&i("es6-symbol")}return!1}),!0),n("es6-string",(function(){return["fromCodePoint"].every((function(e){return"function"==typeof a.default.String[e]}))&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every((function(e){return"function"==typeof a.default.String.prototype[e]}))}),!0),n("es6-string-raw",(function(){if("raw"in a.default.String){var e=function(e){for(var t=1;t<arguments.length;t++);return(t=o.__spread(e)).raw=e.raw,t}(s||(s=o.__makeTemplateObject(["a\n",""],["a\\n",""])),1);return e.raw=["a\\n"],"a\\n"===a.default.String.raw(e,42)}return!1}),!0),n("es2017-string",(function(){return["padStart","padEnd"].every((function(e){return"function"==typeof a.default.String.prototype[e]}))}),!0),n("es6-symbol",(function(){return void 0!==a.default.Symbol&&"symbol"==typeof Symbol()}),!0),n("es6-weakmap",(function(){if(void 0!==a.default.WeakMap){var e={},t=new a.default.WeakMap([[e,1]]);return Object.freeze(e),1===t.get(e)&&t.set({},2)===t&&i("es6-symbol")}return!1}),!0),n("microtasks",(function(){return i("es6-promise")||i("dom-mutationobserver")}),!0),n("postmessage",(function(){return void 0!==a.default.window&&"function"==typeof a.default.postMessage}),!0),n("raf",(function(){return"function"==typeof a.default.requestAnimationFrame}),!0),n("setimmediate",(function(){return void 0!==a.default.setImmediate}),!0),n("dom-mutationobserver",(function(){if(i("host-browser")&&(a.default.MutationObserver||a.default.WebKitMutationObserver)){var e=document.createElement("div"),t=new(a.default.MutationObserver||a.default.WebKitMutationObserver)((function(){}));return t.observe(e,{attributes:!0}),e.style.setProperty("display","block"),!!t.takeRecords().length}return!1}),!0),n("dom-webanimation",(function(){return i("host-browser")&&void 0!==a.default.Animation&&void 0!==a.default.KeyframeEffect}),!0),n("abort-controller",(function(){return void 0!==a.default.AbortController})),n("abort-signal",(function(){return void 0!==a.default.AbortSignal})),n("dom-intersection-observer",(function(){return i("host-browser")&&void 0!==a.default.IntersectionObserver}),!0),n("dom-resize-observer",(function(){return i("host-browser")&&void 0!==a.default.ResizeObserver}),!0),n("dom-pointer-events",(function(){return i("host-browser")&&void 0!==a.default.onpointerdown}),!0),n("build-elide",!1)},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],e)},"tslib/tslib":function(){var e,t,r,n,i,o,a,s,u,l,c,f,p,h,d,y,g,m,v,x,_,b,w;!function(e){function t(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],(function(n){e(t(r,t(n)))})):"object"==typeof module&&"object"==typeof module.exports?e(t(r,t(module.exports))):e(t(r))}((function(T){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};e=function(e,t){function r(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r=function(e,t){var r,n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},n=function(e,t,r,n){var i,o=arguments.length,a=3>o?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(3>o?i(a):3<o?i(t,r,a):i(t,r))||a);return 3<o&&a&&Object.defineProperty(t,r,a),a},i=function(e,t){return function(r,n){t(r,n,e)}},o=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))},s=function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!((a=0<(a=u.trys).length&&a[a.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3]))u.label=r[1];else if(6===r[0]&&u.label<a[1])u.label=a[1],a=r;else{if(!(a&&u.label<a[2])){a[2]&&u.ops.pop(),u.trys.pop();continue}u.label=a[2],u.ops.push(r)}}r=t.call(e,u)}catch(n){r=[6,n],o=0}finally{i=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},w=function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},u=function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;e=r.call(e);var n,i,o=[];try{for(;(void 0===t||0<t--)&&!(n=e.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return o},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},p=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;e=Array(e);var n=0;for(t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,n++)e[n]=i[o];return e},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},d=function(e,t,r){function n(e){l[e]&&(u[e]=function(t){return new Promise((function(r,n){1<c.push([e,t,r,n])||i(e,t)}))})}function i(e,t){try{var r=l[e](t);r.value instanceof h?Promise.resolve(r.value.v).then(o,a):s(c[0][2],r)}catch(n){s(c[0][3],n)}}function o(e){i("next",e)}function a(e){i("throw",e)}function s(e,t){e(t),c.shift(),c.length&&i(c[0][0],c[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,l=r.apply(e,t||[]),c=[];return u={},n("next"),n("throw"),n("return"),u[Symbol.asyncIterator]=function(){return this},u},y=function(e){function t(t,i){r[t]=e[t]?function(r){return(n=!n)?{value:h(e[t](r)),done:"return"===t}:i?i(r):r}:i}var r,n;return r={},t("next"),t("throw",(function(e){throw e})),t("return"),r[Symbol.iterator]=function(){return this},r},g=function(e){function t(t){r[t]=e[t]&&function(r){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(r=e[t](r)).done,r.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e[Symbol.asyncIterator];return n?n.call(e):(e=l(e),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r)},m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},x=function(e){return e&&e.__esModule?e:{default:e}},_=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},b=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},T("__extends",e),T("__assign",t),T("__rest",r),T("__decorate",n),T("__param",i),T("__metadata",o),T("__awaiter",a),T("__generator",s),T("__exportStar",u),T("__createBinding",w),T("__values",l),T("__read",c),T("__spread",f),T("__spreadArrays",p),T("__await",h),T("__asyncGenerator",d),T("__asyncDelegator",y),T("__asyncValues",g),T("__makeTemplateObject",m),T("__importStar",v),T("__importDefault",x),T("__classPrivateFieldGet",_),T("__classPrivateFieldSet",b)}))},"@dojo/framework/shim/global":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0,t.default=e},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports"],e)},"esri/core/global":function(){define(["require","exports"],(function(e,t){var r;if(null===(r=null==(e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0)?void 0:e.performance)||void 0===r||!r.now){var n=e.performance=e.performance||{};if(n.webkitNow)n.now=function(){return n.webkitNow()};else if(n.mozNow)n.now=function(){return n.mozNow()};else if(n.msNow)n.now=function(){return n.msNow()};else if(n.oNow)n.now=function(){return n.oNow()};else{var i;i=n.timing&&n.timing.navigationStart?n.timing.navigationStart:Date.now(),n.now=function(){return Date.now()-i}}}return e}))},"esri/core/object":function(){define(["require","exports","./lang"],(function(e,t,r){function n(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(null==r)return;if(!(i in r)){if(!t)return;r[i]={}}r=r[i]}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.setDeepValue=t.getDeepValue=t.deepMerge=void 0,t.deepMerge=function(e,t,n){return void 0===n&&(n=!1),function e(t,n,i){return n?Object.keys(n).reduce((function(t,o){var a=t[o],s=n[o];return a===s?t:void 0===a?(t[o]=r.clone(s),t):(Array.isArray(s)||Array.isArray(t)?(a=t[o]=a?Array.isArray(a)?a.concat():[a]:[],s&&(Array.isArray(s)||(s=[s]),i?s.forEach((function(e){-1===a.indexOf(e)&&a.push(e)})):t[o]=s.concat())):s&&"object"==typeof s?t[o]=e(a,s,i):t.hasOwnProperty(o)&&!n.hasOwnProperty(o)||(t[o]=s),t)}),t||{}):t}(e,t,n)},t.getDeepValue=function(e,t){if(null!=t)return t[e]||n(e.split("."),!1,t)},t.setDeepValue=function(e,t,r){var i=e.split(".");e=i.pop(),(r=n(i,!0,r))&&e&&(r[e]=t)}}))},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],(function(e,t,r){function n(e,t,r){var n,i,o={};for(n in t)i=t[n],(!(n in e)||e[n]!==i&&(!(n in o)||o[n]!==i))&&(e[n]=r?r(i):i);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=t.equals=t.clone=t.fixJson=void 0,t.fixJson=function e(t,r){var n;if(r)for(n in t)t.hasOwnProperty(n)&&(void 0===t[n]?delete t[n]:t[n]instanceof Object&&e(t[n],!0));else for(n in t)t.hasOwnProperty(n)&&void 0===t[n]&&delete t[n];return t},t.clone=function e(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;if(r.isInt8Array(t)||r.isUint8Array(t)||r.isUint8ClampedArray(t)||r.isInt16Array(t)||r.isUint16Array(t)||r.isInt32Array(t)||r.isUint32Array(t)||r.isFloat32Array(t)||r.isFloat64Array(t))return r.slice(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){var i=new Map;return t.forEach((function(t,r){i.set(r,e(t))})),i}if(t instanceof Set){var o=new Set;return t.forEach((function(t){o.add(e(t))})),o}return"function"==typeof t.clone?t.clone():"function"==typeof t.map&&"function"==typeof t.forEach?t.map(e):"function"==typeof t.notifyChange&&"function"==typeof t.watch?t.clone():n({},t,e)},t.equals=function(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1},t.mixin=function(e){void 0===e&&(e={});for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(r=0;r<t.length;r++)n(e,t[r]);return e}}))},"esri/core/typedArrayUtil":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.estimateSize=t.toArray=t.isFloat64Array=t.isFloat32Array=t.isUint32Array=t.isInt32Array=t.isUint16Array=t.isInt16Array=t.isUint8ClampedArray=t.isUint8Array=t.isInt8Array=t.isArrayBuffer=t.slice=t.forEach=void 0,t.forEach=function(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r,e)},t.slice=function(e,t,r){if(e.slice)return e.slice(t,r);void 0===t?t=0:(0>t&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),void 0===r?r=e.length:(0>r&&(r+=e.length),r=Math.min(e.length,Math.max(0,r))),r=Math.max(0,r-t);for(var n=new e.constructor(r),i=0;i<r;i++)n[i]=e[t+i];return n},t.isArrayBuffer=function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name},t.isInt8Array=function(e){return e instanceof Int8Array||e&&e.constructor&&"Int8Array"===e.constructor.name},t.isUint8Array=function(e){return e instanceof Uint8Array||e&&e.constructor&&"Uint8Array"===e.constructor.name},t.isUint8ClampedArray=function(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&"Uint8ClampedArray"===e.constructor.name},t.isInt16Array=function(e){return e instanceof Int16Array||e&&e.constructor&&"Int16Array"===e.constructor.name},t.isUint16Array=function(e){return e instanceof Uint16Array||e&&e.constructor&&"Uint16Array"===e.constructor.name},t.isInt32Array=function(e){return e instanceof Int32Array||e&&e.constructor&&"Int32Array"===e.constructor.name},t.isUint32Array=function(e){return e instanceof Uint32Array||e&&e.constructor&&"Uint32Array"===e.constructor.name},t.isFloat32Array=function(e){return e instanceof Float32Array||e&&e.constructor&&"Float32Array"===e.constructor.name},t.isFloat64Array=function(e){return e instanceof Float64Array||e&&e.constructor&&"Float64Array"===e.constructor.name},t.toArray=function(e){for(var t=Array(e.length),r=0;r<e.length;r++)t[r]=e[r];return t},t.estimateSize=function(e){return e?128+e.buffer.byteLength+64:0}}))},"esri/kernel":function(){define(["require","exports","./core/has","./support/revision","@dojo/framework/shim/Promise"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setId=t.id=t.revision=t.workerMessages=t.version=void 0,Object.defineProperty(t,"revision",{enumerable:!0,get:function(){return n.commitHash}}),t.version="4.17",t.workerMessages={request:function(t,r){return new Promise((function(t,r){e(["./request"],t,r)})).then((function(e){var n=t.options||{};return n.responseType="array-buffer",n.signal=null==r?void 0:r.signal,e(t.url,n)})).then((function(e){return{result:{data:e.data,ssl:e.ssl},transferList:[e.data]}}))}},t.setId=function(e){t.id=e},r("host-webworker")||(console.debug("Using ArcGIS API for JavaScript "+t.version+" [Date: "+n.buildDate+", Revision: "+n.commitHash.slice(0,8)+"]"),(r("edge")||r("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))}))},"esri/core/has":function(){define("require exports tslib ../config ./global ../views/webgl/context-util".split(" "),(function(e,t,r,n,i,o){function a(e){return"function"==typeof c[e]?c[e]=c[e](i):c[e]}function s(){if(f)return f;f={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var e=document.createElement("canvas");if(!e)return f;var t=o.createContext(e,{failIfMajorPerformanceCaveat:!0},"webgl");return!t&&(t=o.createContext(e,{},"webgl"))&&(f.majorPerformanceCaveat=!0),t&&(e=t.getParameter(t.VERSION))?((e=e.match(/^WebGL\s+([\d.]*)/))&&(f.version=parseFloat(e[1]),f.available=.94<=f.version,(e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT))&&(f.supportsHighPrecisionFragment=0<e.precision),f.supportsVertexShaderSamplers=0<t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f.supportsElementIndexUint=null!==t.getExtension("OES_element_index_uint"),f.supportsStandardDerivatives=null!==t.getExtension("OES_standard_derivatives"),f.supportsInstancedArrays=null!==t.getExtension("ANGLE_instanced_arrays"),f.supportsTextureFloat=null!==t.getExtension("OES_texture_float"),f.supportsColorBufferFloat=null!==t.getExtension("WEBGL_color_buffer_float")),f.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),f):f}var u,l,c;n.has||null!==(u=i.dojoConfig)&&void 0!==u&&u.has?(c=r.__assign(r.__assign({},null===(l=i.dojoConfig)||void 0===l?void 0:l.has),n.has),delete n.has):c={},a.add=function(e,t,r,n){return(n||void 0===c[e])&&(c[e]=t),r&&a(e)},a.cache=c,function(){a.add("host-webworker",void 0!==i.WorkerGlobalScope&&self instanceof i.WorkerGlobalScope);var e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(a.add("host-browser",e),a.add("dom",e),a("host-browser")){e=(t=navigator).userAgent;var t=t.appVersion,r=parseFloat(t);if(a.add("edge",parseFloat(e.split("Edge/")[1])||void 0),a.add("webkit",!a("edge")&&parseFloat(e.split("WebKit/")[1])||void 0),a.add("chrome",!a("edge")&&parseFloat(e.split("Chrome/")[1])||void 0),a.add("safari",0<=t.indexOf("Safari")&&!a("chrome")&&!a("edge")?parseFloat(t.split("Version/")[1]):void 0),a.add("mac",0<=t.indexOf("Macintosh")),e.match(/(iPhone|iPod|iPad)/)){var n=RegExp.$1.replace(/P/,"p"),o=e.match(/OS ([\d_]+)/)?RegExp.$1:"1";o=parseFloat(o.replace(/_/,".").replace(/_/g,"")),a.add(n,o),a.add("ios",o)}a.add("trident",parseFloat(t.split("Trident/")[1])||void 0),a("webkit")||(0<=e.indexOf("Opera")&&a.add("opera",9.8<=r&&parseFloat(e.split("Version/")[1])||r),0<=e.indexOf("Gecko")&&!a("trident")&&!a("edge")&&a.add("mozilla",r),a("mozilla")&&a.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0))}}(),a.add("esri-deprecation-warnings",!0),function(){if(i.navigator){var e=(t=navigator.userAgent).match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),t=t.match(/iPhone/i);e&&a.add("esri-mobile",e),t&&a.add("esri-iPhone",t),a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-canvas-svg-support",!a("trident")),a.add("esri-secure-context",(function(){return"isSecureContext"in i?i.isSecureContext:i.location&&i.location.origin?0===i.location.origin.indexOf("https:"):void 0})),a.add("esri-wasm","WebAssembly"in i),a.add("esri-shared-array-buffer",(function(){return"SharedArrayBuffer"in i&&!(!1===i.crossOriginIsolated)})),a.add("esri-atomics","Atomics"in i),a.add("esri-workers","Worker"in i),a.add("esri-text-decoder","TextDecoder"in i),a.add("esri-text-encoder","TextEncoder"in i),a.add("featurelayer-advanced-symbols",!1),a.add("featurelayer-pbf",!1),a.add("feature-layers-workers",!0),a.add("mapview-transitions-duration",200),a("host-webworker")||(a.add("esri-abortable-fetch","fetch"in i&&"signal"in new Request("https://www.arcgis.com")),a.add("csp-restrictions",(function(){try{new Function}catch(e){return!0}return!1})),a.add("esri-image-decode",(function(){if(!("decode"in new Image))return!1;var e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',e.decode().then((function(){a.add("esri-image-decode",!0,!0,!0)})).catch((function(){a.add("esri-image-decode",!1,!0,!0)}))})),a.add("esri-url-encodes-apostrophe",(function(){var e=i.document.createElement("a");return e.href="?'",-1<e.href.indexOf("?%27")})),a.add("esri-webgl",(function(){return s().available})),a.add("esri-webgl-high-precision-fragment",(function(){return s().supportsHighPrecisionFragment})),a.add("esri-webgl-vertex-shader-samplers",(function(){return s().supportsVertexShaderSamplers})),a.add("esri-webgl-element-index-uint",(function(){return s().supportsElementIndexUint})),a.add("esri-webgl-standard-derivatives",(function(){return s().supportsStandardDerivatives})),a.add("esri-webgl-texture-float",(function(){return s().supportsTextureFloat})),a.add("esri-webgl-color-buffer-float",(function(){return s().supportsColorBufferFloat})),a.add("esri-webgl-instanced-arrays",(function(){return s().supportsInstancedArrays})),a.add("esri-webgl-major-performance-caveat",(function(){return s().majorPerformanceCaveat})),a.add("esri-featurelayer-webgl",!0),a.add("esri-featurelayer-webgl-labeling",!0),a.add("esri-webgl2",(function(){return function(){if(p)return p;p={available:!1,version:0};var e=document.createElement("canvas");return e&&(e=o.createContext(e,{},"webgl2"))?(p.available=!0,(e=e.getParameter(e.VERSION))?((e=e.match(/^WebGL\s+([\d.]*)/))&&(p.version=parseFloat(e[1])),p):p):p}().available})),a.add("esri-webgl-max-texture-size",(function(){return s().maxTextureSize})))}();var f=null,p=null;return a}))},"esri/views/webgl/context-util":function(){define(["require","exports"],(function(e,t){function r(e,t,r){var n;switch(void 0===t&&(t={}),r){case"webgl":n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":n=["webgl2"];break;default:n=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}r=null;for(var i=0;i<n.length;i++){var o=n[i];try{r=e.getContext(o,t)}catch(a){}if(r)break}return r}function n(e,t){(e=e.parentNode)&&(e.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}Object.defineProperty(t,"__esModule",{value:!0}),t.createContext=t.createContextOrErrorHTML=void 0,t.createContextOrErrorHTML=function(e,t,a){return void 0===t&&(t={}),window.WebGLRenderingContext?(t=r(e,t,a))||(n(e,o),null):(n(e,i),null)},t.createContext=r;var i='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',o='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>'}))},"esri/support/revision":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.commitHash=t.buildDate=void 0,t.buildDate="20201008",t.commitHash="3b15977c78c9617adfbfc855fb83fd0578fc4149"}))},"@dojo/framework/shim/Promise":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=e("tslib"),i=e("./global"),o=e("./support/queue");e("./Symbol"),e=e("../has/has"),t.ShimPromise=i.default.Promise,t.isThenable=function(e){return e&&"function"==typeof e.then},e.default("es6-promise")||(i.default.Promise=t.ShimPromise=((r=function(){function e(r){var n=this;this.state=1,this[Symbol.toStringTag]="Promise";var i=!1,a=[],s=function(e){a&&a.push(e)},u=function(e,t){1===n.state&&(n.state=e,n.resolvedValue=t,s=o.queueMicroTask,a&&0<a.length&&o.queueMicroTask((function(){if(a){for(var e=a.length,t=0;t<e;++t)a[t].call(null);a=null}})))},l=function(e,r){1!==n.state||i||(t.isThenable(r)?(r.then(u.bind(null,0),u.bind(null,2)),i=!0):u(e,r))};this.then=function(t,r){return new e((function(e,i){s((function(){var o=2===n.state?r:t;if("function"==typeof o)try{e(o(n.resolvedValue))}catch(a){i(a)}else 2===n.state?i(n.resolvedValue):e(n.resolvedValue)}))}))};try{r(l.bind(null,0),l.bind(null,2))}catch(c){u(2,c)}}return e.all=function(r){return new this((function(i,o){function a(e,t){c[e]=t,++f,h||f<p||i(c)}function s(r,n){++p,t.isThenable(n)?n.then(a.bind(null,r),o):e.resolve(n).then(a.bind(null,r))}var u,l,c=[],f=0,p=0,h=!0,d=0;try{for(var y=n.__values(r),g=y.next();!g.done;g=y.next())s(d,g.value),d++}catch(m){u={error:m}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}h=!1,f<p||i(c)}))},e.race=function(t){return new this((function(r,i){try{for(var o=n.__values(t),a=o.next();!a.done;a=o.next()){var s=a.value;s instanceof e?s.then(r,i):e.resolve(s).then(r)}}catch(c){u={error:c}}finally{try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}var u,l}))},e.reject=function(e){return new this((function(t,r){r(e)}))},e.resolve=function(e){return new this((function(t){t(e)}))},e.prototype.catch=function(e){return this.then(void 0,e)},e}())[Symbol.species]=t.ShimPromise,r)),e.default("es2018-promise-finally")||(i.default.Promise.prototype.finally=function(e){return this.then(e&&function(t){return Promise.resolve(e()).then((function(){return t}))},e&&function(t){return Promise.resolve(e()).then((function(){throw t}))})}),t.default=t.ShimPromise},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),e)},"@dojo/framework/shim/support/queue":function(){var e;e=function(e,t){function r(e){e&&e.isActive&&e.callback&&e.callback()}function n(e,t){return{destroy:function(){this.destroy=function(){},e.isActive=!1,e.callback=null,t&&t()}}}Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=e("../global"),s=e("../../has/has");if(t.queueTask=function(){function e(e){var r=o(e={isActive:!0,callback:e});return n(e,t&&function(){t(r)})}var t,o;if(s.default("postmessage")){var u=[];a.default.addEventListener("message",(function(e){e.source===a.default&&"dojo-queue-message"===e.data&&(e.stopPropagation(),u.length&&r(u.shift()))})),o=function(e){u.push(e),a.default.postMessage("dojo-queue-message","*")}}else s.default("setimmediate")?(t=a.default.clearImmediate,o=function(e){return setImmediate(r.bind(null,e))}):(t=a.default.clearTimeout,o=function(e){return setTimeout(r.bind(null,e),0)});return s.default("microtasks")?e:function(t){return i(),e(t)}}(),!s.default("microtasks")){var u=!1;o=[],i=function(){u||(u=!0,t.queueTask((function(){if(u=!1,o.length)for(var e=void 0;e=o.shift();)r(e)})))}}t.queueAnimationTask=function(){function e(e){e={isActive:!0,callback:e};var t=requestAnimationFrame(r.bind(null,e));return n(e,(function(){cancelAnimationFrame(t)}))}return s.default("raf")?s.default("microtasks")?e:function(t){return i(),e(t)}:t.queueTask}(),t.queueMicroTask=function(){var e;if(s.default("host-node"))e=function(e){a.default.process.nextTick(r.bind(null,e))};else if(s.default("es6-promise"))e=function(e){a.default.Promise.resolve(e).then(r)};else if(s.default("dom-mutationobserver")){var t=a.default.MutationObserver||a.default.WebKitMutationObserver,u=document.createElement("div"),l=[];new t((function(){for(;0<l.length;){var e=l.shift();e&&e.isActive&&e.callback&&e.callback()}})).observe(u,{attributes:!0}),e=function(e){l.push(e),u.setAttribute("queueStatus","1")}}else e=function(e){i(),o.push(e)};return function(t){return e(t={isActive:!0,callback:t}),n(t)}}()},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],e)},"@dojo/framework/shim/Symbol":function(){var e;e=function(e,t){function r(e){return e&&("symbol"==typeof e||"Symbol"===e["@@toStringTag"])||!1}Object.defineProperty(t,"__esModule",{value:!0});var n=e("../has/has"),i=e("./global"),o=e("./support/util");if(t.Symbol=i.default.Symbol,!n.default("es6-symbol")){var a=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e},s=Object.defineProperties,u=Object.defineProperty,l=Object.create,c=Object.prototype,f={},p=function(){var e=l(null);return function(t){for(var r,n=0;e[String(t)+(n||"")];)++n;return t+=String(n||""),e[t]=!0,r="@@"+t,Object.getOwnPropertyDescriptor(c,r)||u(c,r,{set:function(e){u(this,r,o.getValueDescriptor(e))}}),r}}(),h=function e(t){if(this instanceof h)throw new TypeError("TypeError: Symbol is not a constructor");return e(t)};t.Symbol=i.default.Symbol=function e(t){if(this instanceof e)throw new TypeError("TypeError: Symbol is not a constructor");var r=Object.create(h.prototype);return t=void 0===t?"":String(t),s(r,{__description__:o.getValueDescriptor(t),__name__:o.getValueDescriptor(p(t))})},u(t.Symbol,"for",o.getValueDescriptor((function(e){return f[e]?f[e]:f[e]=t.Symbol(String(e))}))),s(t.Symbol,{keyFor:o.getValueDescriptor((function(e){var t;for(t in a(e),f)if(f[t]===e)return t})),hasInstance:o.getValueDescriptor(t.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:o.getValueDescriptor(t.Symbol.for("isConcatSpreadable"),!1,!1),iterator:o.getValueDescriptor(t.Symbol.for("iterator"),!1,!1),match:o.getValueDescriptor(t.Symbol.for("match"),!1,!1),observable:o.getValueDescriptor(t.Symbol.for("observable"),!1,!1),replace:o.getValueDescriptor(t.Symbol.for("replace"),!1,!1),search:o.getValueDescriptor(t.Symbol.for("search"),!1,!1),species:o.getValueDescriptor(t.Symbol.for("species"),!1,!1),split:o.getValueDescriptor(t.Symbol.for("split"),!1,!1),toPrimitive:o.getValueDescriptor(t.Symbol.for("toPrimitive"),!1,!1),toStringTag:o.getValueDescriptor(t.Symbol.for("toStringTag"),!1,!1),unscopables:o.getValueDescriptor(t.Symbol.for("unscopables"),!1,!1)}),s(h.prototype,{constructor:o.getValueDescriptor(t.Symbol),toString:o.getValueDescriptor((function(){return this.__name__}),!1,!1)}),s(t.Symbol.prototype,{toString:o.getValueDescriptor((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:o.getValueDescriptor((function(){return a(this)}))}),u(t.Symbol.prototype,t.Symbol.toPrimitive,o.getValueDescriptor((function(){return a(this)}))),u(t.Symbol.prototype,t.Symbol.toStringTag,o.getValueDescriptor("Symbol",!1,!1,!0)),u(h.prototype,t.Symbol.toPrimitive,o.getValueDescriptor(t.Symbol.prototype[t.Symbol.toPrimitive],!1,!1,!0)),u(h.prototype,t.Symbol.toStringTag,o.getValueDescriptor(t.Symbol.prototype[t.Symbol.toStringTag],!1,!1,!0))}t.isSymbol=r,"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach((function(e){t.Symbol[e]||Object.defineProperty(t.Symbol,e,o.getValueDescriptor(t.Symbol.for(e),!1,!1))})),t.default=t.Symbol},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],e)},"@dojo/framework/shim/support/util":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getValueDescriptor=function(e,t,r,n){return void 0===t&&(t=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),{value:e,enumerable:t,writable:r,configurable:n}},t.wrapNative=function(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.apply(t,r)}}},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports"],e)},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),(function(e,t,r,n,i,o,a,s){var u=a.MessageType.CLOSE,l=a.MessageType.ABORT,c=a.MessageType.INVOKE,f=a.MessageType.RESPONSE,p=a.MessageType.OPEN_PORT,h=a.MessageType.ON,d=function(){function e(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}return e.prototype.push=function(e){e.type===a.MessageType.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))},e.prototype.clear=function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null},e.prototype._process=function(){this._timer=null;for(var e=0,t=this._invokeMessages;e<t.length;e++){var r=t[e];this._cancelledJobIds.has(r.jobId)||this._invoke(r)}this._cancelledJobIds.clear(),this._invokeMessages.length=0},e}();return function(){function e(e,t){var r=this;this._port=e,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new d((function(e){return r._onInvokeMessage(e)})),this._responseQueue=[],this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,t.scheduler&&(this._frameTask=t.scheduler.registerTask(s.Task.REMOTE_CLIENT,(function(e){return r._update(e)}),(function(){return 0<r._responseQueue.length}))),this._port.addEventListener("message",this._onMessage),this._port.start()}return e.connect=function(t){var r=new MessageChannel;t="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var n=new e(r.port1,{channel:r,client:t});return"object"==typeof t&&"remoteClient"in t&&(t.remoteClient=n),e.clients.set(n,t),r.port2},e.loadWorker=function(e){return(e=o.registry[e])?e():i.resolve(null)},e.prototype.close=function(){this._post({type:u}),this._close()},e.prototype.isBusy=function(){return 0<this._outJobs.size},e.prototype.invoke=function(e,t,n){var o=this,s=n&&n.signal,u=n&&n.transferList;if(!this._port)return i.reject(new r("worker:port-closed","Cannot call invoke('"+e+"'), port is closed",{methodName:e,data:t}));var f=a.newJobId();return i.create((function(r,n){var a=i.onAbortOrThrow(s,(function(){var e,t=o._outJobs.get(f);t&&(o._outJobs.delete(f),null===(e=t.abortHandle)||void 0===e||e.remove(),o._post({type:l,jobId:f}),n(i.createAbortError()))}));o._outJobs.set(f,{resolve:r,reject:n,abortHandle:a,debugInfo:e}),o._post({type:c,jobId:f,methodName:e,abortable:null!=s},t,u)}))},e.prototype.on=function(e,t){function r(e){t(e.data)}var n=new MessageChannel;return this._port.postMessage({type:a.MessageType.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove:function(){n.port1.postMessage({type:a.MessageType.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}},e.prototype.openPort=function(){var e=new MessageChannel;return this._post({type:p,port:e.port2}),e.port1},e.prototype._close=function(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){var t;null===(t=e.abortHandle)||void 0===t||t.remove(),e.reject(i.createAbortError("Worker closing, aborting job calling '"+e.debugInfo+"'"))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=null,this._frameTask&&this._frameTask.remove(),this._responseQueue=this._frameTask=null},e.prototype._onMessage=function(e){if(e=a.receiveMessage(e))switch(e.type){case f:this._onResponseMessage(e);break;case c:this._invokeQueue.push(e);break;case l:this._onAbortMessage(e);break;case u:this._onCloseMessage();break;case p:this._onOpenPortMessage(e);break;case h:this._onOnMessage(e)}},e.prototype._onAbortMessage=function(e){var t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))},e.prototype._onCloseMessage=function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)},e.prototype._onInvokeMessage=function(e){var t=this,r=e.methodName,n=e.jobId,o=e.data;e=e.abortable?i.createAbortController():null;var s,u=this._inJobs,l=this._client,c=l[r];try{if(!c&&r&&-1!==r.indexOf("."))for(var p=r.split("."),h=0;h<p.length-1;h++)c=(l=l[p[h]])[p[h+1]];if("function"!=typeof c)throw new TypeError(r+" is not a function");s=c.call(l,o,{client:this,signal:e?e.signal:null})}catch(d){return void this._post({type:f,jobId:n,error:a.toInvokeError(d)})}i.isPromiseLike(s)?(u.set(n,{controller:e,promise:s}),s.then((function(e){u.has(n)&&(u.delete(n),t._post({type:f,jobId:n},e))}),(function(e){u.has(n)&&(u.delete(n),i.isAbortError(e)||t._post({type:f,jobId:n,error:a.toInvokeError(e||{message:"Error encountered at method "+r})}))}))):this._post({type:f,jobId:n},s)},e.prototype._onOpenPortMessage=function(t){new e(t.port,{client:this._client})},e.prototype._onOnMessage=function(e){var t=e.port,r=this._client.on(e.eventType,(function(e){t.postMessage(e)})),i=n.on(e.port,"message",(function(e){a.receiveMessage(e).type===a.MessageType.CLOSE&&(i.remove(),r.remove(),t.close())}))},e.prototype._onResponseMessage=function(e){this._frameTask?this._responseQueue.push(e):this._handleResponse(e)},e.prototype._update=function(e){for(;!e.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),e.madeProgress()},e.prototype._handleResponse=function(e){var t,n=e.jobId,i=e.error;e=e.data;var o=this._outJobs;if(o.has(n)){var a=o.get(n);o.delete(n),null===(t=a.abortHandle)||void 0===t||t.remove(),i?a.reject(r.fromJSON(JSON.parse(i))):a.resolve(e)}},e.prototype._post=function(e,t,r){return a.postMessage(this._port,e,t,r)},e.clients=new Map,e}()}))},"esri/core/Error":function(){define("require exports tslib ./lang ./Logger ./Message".split(" "),(function(e,t,r,n,i,o){return(e=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o instanceof t?o:new t(r,n,i)}return r.__extends(t,e),t.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(function(e,t){if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return n.clone(t)}catch(r){return"[object]"}})))}}catch(e){throw i.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}},t.fromJSON=function(e){return new t(e.name,e.message,e.details)},t}(o)).prototype.type="error",e}))},"esri/core/Logger":function(){define("require exports tslib ../config ./has ./maybe ./string @dojo/framework/shim/Promise".split(" "),(function(e,t,r,n,i,o,a){var s={info:0,warn:1,error:2,none:3};return function(){function e(t){this.level=null,this._module="",this.writer=this._parent=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,e._loggers[this.module]=this,-1!==(t=this.module.lastIndexOf("."))&&(this._parent=e.getLogger(this.module.slice(0,t)))}return Object.defineProperty(e.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["error","always"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["warn","always"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["info","always"],e))},e.prototype.errorOnce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["error","once"],e))},e.prototype.warnOnce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["warn","once"],e))},e.prototype.infoOnce=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["info","once"],e))},e.prototype.errorOncePerTick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["error","oncePerTick"],e))},e.prototype.warnOncePerTick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["warn","oncePerTick"],e))},e.prototype.infoOncePerTick=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,r.__spreadArrays(["info","oncePerTick"],e))},Object.defineProperty(e,"test",{get:function(){return{resetLoggers:function(t){void 0===t&&(t={});var r=e._loggers;return e._loggers=t,r},set throttlingDisabled(t){e._throttlingDisabled=t}}},enumerable:!1,configurable:!0}),e.getLogger=function(t){var r=e._loggers[t];return r||(r=new e({module:t})),r},e.prototype._log=function(t,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(this._matchLevel(t)){if("always"!==i&&!e._throttlingDisabled){a=this._argsToKey(o);var s=this._loggedMessages[t].get(a);if("once"===i&&null!=s||"oncePerTick"===i&&s&&s>=e._tickCounter)return;this._loggedMessages[t].set(a,e._tickCounter),e._scheduleTickCounterIncrement()}for(a=0,s=n.log.interceptors;a<s.length;a++)if(s[a].apply(void 0,r.__spreadArrays([t,this.module],o)))return;this._inheritedWriter().apply(void 0,r.__spreadArrays([t,this.module],o))}},e.prototype._parentWithMember=function(e,t){for(var r=this;o.isSome(r);){var n=r[e];if(o.isSome(n))return n;r=r.parent}return t},e.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)},e.prototype._consoleWriter=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];console[e].apply(console,r.__spreadArrays(["["+t+"]"],n))},e.prototype._matchLevel=function(e){return s[this._parentWithMember("level",n.log.level?n.log.level:"warn")]<=s[e]},e.prototype._argsToKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.numericHash(JSON.stringify(e,(function(e,t){return"object"!=typeof t||Array.isArray(t)?t:"[Object]"})))},e._scheduleTickCounterIncrement=function(){e._tickCounterScheduled||(e._tickCounterScheduled=!0,Promise.resolve().then((function(){e._tickCounter++,e._tickCounterScheduled=!1})))},e._loggers={},e._tickCounter=0,e._tickCounterScheduled=!1,e._throttlingDisabled=!1,e}()}))},"esri/core/maybe":function(){define(["require","exports"],(function(e,t){function r(e,t,r){return null!=e?r(e):t}Object.defineProperty(t,"__esModule",{value:!0}),t.assumeNonNull=t.get=t.mapSomeFirst=t.andThen=t.mapOr=t.forEachSome=t.mapMany=t.mapSome=t.nullifyNonnullableForDispose=t.removeMaybe=t.disposeMaybe=t.destroyMaybe=t.unwrapOr=t.unwrap=t.applySome=t.isUndefined=t.isNone=t.isSome=t.none=void 0,t.none=null,t.isSome=function(e){return null!=e},t.isNone=function(e){return null==e},t.isUndefined=function(e){return void 0===e},t.applySome=function(e,t){return null!=e?t(e):null},t.unwrap=function(e){return e},t.unwrapOr=function(e,t){return null!=e?e:"function"==typeof t?t():t},t.destroyMaybe=function(e){return null!=e&&e.destroy(),null},t.disposeMaybe=function(e){return null!=e&&e.dispose(),null},t.removeMaybe=function(e){return null!=e&&e.remove(),null},t.nullifyNonnullableForDispose=function(e){return null},t.mapSome=function(e,t){var r=[];return e.forEach((function(e){null!=(e=t(e))&&r.push(e)})),r},t.mapMany=function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(r(e[i],null,t));return n},t.forEachSome=function(e,t){for(var n=0;n<e.length;n++)r(e[n],null,t)},t.mapOr=r,t.andThen=function(e,t){return null!=e?t(e):null},t.mapSomeFirst=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r]);if(null!=n)return n}return null},t.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];r=e;for(var n=0;n<t.length&&r;)r=r[t[n++]];return r},t.assumeNonNull=function(e){return e}}))},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],(function(e,t,r,n){function i(e){return null==e?"":e}Object.defineProperty(t,"__esModule",{value:!0}),t.numericHash=t.escapeRegExpString=t.replace=void 0;var o=/\{([^\}]+)\}/g;Object.defineProperty(t,"endsWith",{enumerable:!0,get:function(){return n.endsWith}}),Object.defineProperty(t,"startsWith",{enumerable:!0,get:function(){return n.startsWith}}),Object.defineProperty(t,"padEnd",{enumerable:!0,get:function(){return n.padEnd}}),Object.defineProperty(t,"padStart",{enumerable:!0,get:function(){return n.padStart}}),Object.defineProperty(t,"includes",{enumerable:!0,get:function(){return n.includes}}),t.replace=function(e,t){return e.replace(o,"object"==typeof t?function(e,n){return i(r.getDeepValue(n,t))}:function(e,r){return i(t(r))})},t.escapeRegExpString=function(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(function(e){return t&&-1!==t.indexOf(e)?e:"\\"+e}))},t.numericHash=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}}))},"@dojo/framework/shim/string":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=e("tslib"),n=e("./global"),i=e("../has/has");if(e=e("./support/util"),t.HIGH_SURROGATE_MIN=55296,t.HIGH_SURROGATE_MAX=56319,t.LOW_SURROGATE_MIN=56320,t.LOW_SURROGATE_MAX=57343,i.default("es6-string")&&i.default("es6-string-raw"))t.fromCodePoint=n.default.String.fromCodePoint,t.raw=n.default.String.raw,t.codePointAt=e.wrapNative(n.default.String.prototype.codePointAt),t.endsWith=e.wrapNative(n.default.String.prototype.endsWith),t.includes=e.wrapNative(n.default.String.prototype.includes),t.normalize=e.wrapNative(n.default.String.prototype.normalize),t.repeat=e.wrapNative(n.default.String.prototype.repeat),t.startsWith=e.wrapNative(n.default.String.prototype.startsWith);else{var o=function(e,t,r,n,i){if(void 0===i&&(i=!1),null==t)throw new TypeError("string."+e+" requires a valid string to search against.");return e=t.length,[t,String(r),Math.min(Math.max(n!=n?i?e:0:n,0),e)]};t.fromCodePoint=function(){for(var e=0;e<arguments.length;e++);if(!(e=arguments.length))return"";for(var r=String.fromCharCode,n=[],i=-1,o="";++i<e;){var a=Number(arguments[i]);if(!(isFinite(a)&&Math.floor(a)===a&&0<=a&&1114111>=a))throw RangeError("string.fromCodePoint: Invalid code point "+a);65535>=a?n.push(a):n.push(((a-=65536)>>10)+t.HIGH_SURROGATE_MIN,a%1024+t.LOW_SURROGATE_MIN),(i+1===e||16384<n.length)&&(o+=r.apply(null,n),n.length=0)}return o},t.raw=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];r=e.raw;var n="",i=t.length;if(null==e||null==e.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var o=0,a=r.length;o<a;o++)n+=r[o]+(o<i&&o<a-1?t[o]:"");return n},t.codePointAt=function(e,r){if(void 0===r&&(r=0),null==e)throw new TypeError("string.codePointAt requries a valid string.");var n=e.length;if(r!=r&&(r=0),!(0>r||r>=n)){var i=e.charCodeAt(r);return i>=t.HIGH_SURROGATE_MIN&&i<=t.HIGH_SURROGATE_MAX&&n>r+1&&(e=e.charCodeAt(r+1))>=t.LOW_SURROGATE_MIN&&e<=t.LOW_SURROGATE_MAX?1024*(i-t.HIGH_SURROGATE_MIN)+e-t.LOW_SURROGATE_MIN+65536:i}},t.endsWith=function(e,t,n){if(""===t)return!0;if(void 0===n)n=e.length;else if(null===n||isNaN(n))return!1;e=(n=r.__read(o("endsWith",e,t,n,!0),3))[0],t=n[1];var i=(n=n[2])-t.length;return!(0>i)&&e.slice(i,n)===t},t.includes=function(e,t,n){return void 0===n&&(n=0),-1!==(e=(n=r.__read(o("includes",e,t,n),3))[0]).indexOf(t=n[1],n=n[2])},t.repeat=function(e,t){if(void 0===t&&(t=0),null==e)throw new TypeError("string.repeat requires a valid string.");if(t!=t&&(t=0),0>t||1/0===t)throw new RangeError("string.repeat requires a non-negative finite count.");for(var r="";t;)t%2&&(r+=e),1<t&&(e+=e),t>>=1;return r},t.startsWith=function(e,t,n){void 0===n&&(n=0),t=String(t),e=(n=r.__read(o("startsWith",e,t,n),3))[0],t=n[1];var i=(n=n[2])+t.length;return!(i>e.length)&&e.slice(n,i)===t}}i.default("es2017-string")?(t.padEnd=e.wrapNative(n.default.String.prototype.padEnd),t.padStart=e.wrapNative(n.default.String.prototype.padStart)):(t.padEnd=function(e,r,n){if(void 0===n&&(n=" "),null==e)throw new TypeError("string.repeat requires a valid string.");if(1/0===r)throw new RangeError("string.padEnd requires a non-negative finite count.");return(null==r||0>r)&&(r=0),0<(r-=(e=String(e)).length)&&(e+=t.repeat(n,Math.floor(r/n.length))+n.slice(0,r%n.length)),e},t.padStart=function(e,r,n){if(void 0===n&&(n=" "),null==e)throw new TypeError("string.repeat requires a valid string.");if(1/0===r)throw new RangeError("string.padStart requires a non-negative finite count.");return(null==r||0>r)&&(r=0),0<(r-=(e=String(e)).length)&&(e=t.repeat(n,Math.floor(r/n.length))+n.slice(0,r%n.length)+e),e})},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),e)},"esri/core/Message":function(){define(["require","exports","./object"],(function(e,t,r){return function(){function e(t,n,i){this.name=t,this.details=i,this.message=void 0,this instanceof e&&(this.message=n&&function(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(e,n){if(""===n)return"$";if(void 0===(e=null==(e=r.getDeepValue(n,t))?"":e))throw Error('could not find key "'+n+'" in template');return e.toString()}))}(n,i)||"")}return e.prototype.toString=function(){return"["+this.name+"]: "+this.message},e}()}))},"esri/core/events":function(){define(["require","exports"],(function(e,t){function r(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function n(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,n);if(Array.isArray(t)){for(var i=t.slice(),o=0;o<i.length;o++)e.addEventListener(i[o],n);return{remove:function(){for(var t=0;t<i.length;t++)e.removeEventListener(i[t],n)}}}return e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventKey=t.ieKeyNormalizationMap=t.pausable=t.once=t.on=t.isEventTarget=void 0,t.isEventTarget=r,t.on=n,t.once=function(e,t,i){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);var o=n(e,t,(function(t){o.remove(),i.call(e,t)}));return{remove:function(){o.remove()}}},t.pausable=function(e,t,r){var i=!1,o=n(e,t,(function(t){i||r.call(e,t)}));return{resume:function(){i=!1},pause:function(){i=!0},remove:function(){o.remove()}}},t.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"},t.eventKey=function(e){return t.ieKeyNormalizationMap[e=e.key]||e}}))},"esri/core/promiseUtils":function(){define("require exports tslib @dojo/framework/shim/AbortController ./clock ./Error ./events ./Logger ./maybe @dojo/framework/shim/Promise".split(" "),(function(e,t,r,n,i,o,a,s,u){function l(e){return Promise.all(e)}function c(e){return new Promise((function(t,r){try{e(t,r)}catch(n){Promise.resolve().then((function(){return r(n)}))}}))}function f(e){return void 0===e&&(e="Aborted"),new o("AbortError",e)}function p(){return new n.default}function h(e){if(y(e))throw f()}function d(e){return u.isSome(e)?"aborted"in e?e:e.signal:e}function y(e){return e=d(e),u.isSome(e)&&e.aborted}function g(e,t){if(e=d(e),!u.isNone(e)){if(!e.aborted)return a.once(e,"abort",(function(){return t()}));t()}}function m(e){return e&&"AbortError"===e.name}function v(){var e=null,t=c((function(t,r){e={promise:void 0,resolve:t,reject:r}}));return e.promise=t,e}function x(e){if(e){if("function"!=typeof e.forEach){var t=Object.keys(e);return x(t.map((function(t){return e[t]}))).then((function(e){var r={};return t.forEach((function(t,n){return r[t]=e[n]})),r}))}var r=_;return c((function(t){var n=[],i=e.length;0===i&&t(n),e.forEach((function(e){var o={promise:e||r(e)};n.push(o),o.promise.then((function(e){o.value=e})).catch((function(e){o.error=e})).then((function(){0==--i&&t(n)}))}))}))}}function _(e){return void 0===e&&(e=void 0),Promise.resolve(e)}function b(e,t,r){void 0===t&&(t=void 0);var n=p();return g(r,(function(){return n.abort()})),c((function(r,i){var o=setTimeout((function(){o=0,r(t)}),e);g(n,(function(){o&&(clearTimeout(o),i(f()))}))}))}function w(e){return e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then?e:_(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.always=t.createResolver=t.debounce=t.when=t.isPromiseLike=t.timeout=t.after=t.resolve=t.reject=t.first=t.eachAlwaysValues=t.isThenable=t.eachAlways=t.createDeferred=t.logOnError=t.ignoreAbortErrors=t.isAbortError=t.onAbortOrThrow=t.onAbort=t.throwIfNotAbortError=t.throwIfAbortError=t.isAborted=t.throwIfAborted=t.createAbortController=t.createAbortError=t.create=t.filter=t.all=void 0;var T=s.getLogger("esri");t.all=l,t.filter=function(e,t){var r=e.slice();return l(e.map((function(e,r){return t(e,r)}))).then((function(e){return r.filter((function(t,r){return e[r]}))}))},t.create=c,t.createAbortError=f,t.createAbortController=p,t.throwIfAborted=h,t.isAborted=y,t.throwIfAbortError=function(e){if(m(e))throw e},t.throwIfNotAbortError=function(e){if(!m(e))throw e},t.onAbort=g,t.onAbortOrThrow=function(e,t){if(e=d(e),!u.isNone(e))return h(e),a.once(e,"abort",(function(){return t(f())}))},t.isAbortError=m,t.ignoreAbortErrors=function(e){return e.catch((function(e){if(!m(e))throw e}))},t.logOnError=function(e,t){return e.catch((function(e){m(e)||(t=u.isSome(t)?t:T).error(e)}))},t.createDeferred=v,t.eachAlways=x,t.isThenable=function(e){return e&&"function"==typeof e.then},t.eachAlwaysValues=function(e){return x(e).then((function(e){return e.filter((function(e){return!!e.value})).map((function(e){return e.value}))}))},t.first=function(e){return e&&e.length?c((function(t,r){for(var n=0;n<e.length;n++)e[n].then(t,r)})):_()},t.reject=function(e){return Promise.reject(e)},t.resolve=_,t.after=b,t.timeout=function(e,t,r,n){var i=r&&"abort"in r?r:null;null!=n||i||(n=r);var a=setTimeout((function(){a=0,i&&i.abort()}),t),s=function(){throw n||new o("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms")};return e.then((function(e){if(0===a)throw s();return clearTimeout(a),e}),(function(e){throw clearTimeout(a),0===a?s():e}))},t.isPromiseLike=function(e){return e&&"function"==typeof e.then},t.when=w,t.debounce=function(e,t){void 0===t&&(t=-1);var n,i,o,a,s=null,l=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];if(n)return i=c,a&&a.reject(f()),a=v(),c=u.assumeNonNull(a.promise),s&&(h=s,s=null,h.abort()),c;if(o=a||v(),a=null,0<t){var d=p(),y=n=w(e.apply(void 0,r.__spreadArrays(c,[d.signal])));b(t).then((function(){n===y&&(a?d.abort():s=d)}))}else n=1,n=w(e.apply(void 0,c));c=function(){var e=i;i=o=n=s=null,null!=e&&l.apply(void 0,e)};var g=o;return(h=n).then(c,c),h.then(g.resolve,g.reject),u.assumeNonNull(g.promise)};return l},t.createResolver=function(){var e,t,r=c((function(r,n){e=r,t=n})),n=function(t){e(t)};return n.resolve=function(t){return e(t)},n.reject=function(e){return t(e)},n.timeout=function(e,t){return i.default.setTimeout((function(){return n.reject(t)}),e)},n.promise=r,n},t.always=function(e,t){return e.then(t,t)}}))},"@dojo/framework/shim/AbortController":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=e("./global"),n=e("../has/has"),i=e("./array");t.ShimAbortSignal=r.default.AbortSignal,n.default("abort-signal")||(r.default.AbortSignal=t.ShimAbortSignal=function(){function e(){this._aborted=!1,this.listeners={}}return Object.defineProperty(e.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners){var r=i.findIndex(this.listeners[e],(function(e){return e===t}));0<=r&&this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var t=this,r=e.type;return"abort"===r&&(this._aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),r in this.listeners&&(this.listeners[r].forEach((function(r){setTimeout((function(){return r.call(t,e)}),0)})),!e.preventDefault)},e}()),t.ShimAbortController=r.default.AbortController,n.default("abort-controller")||(r.default.AbortController=t.ShimAbortController=function(){function e(){this.signal=new t.ShimAbortSignal}return e.prototype.abort=function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?(e=document.createEvent("Event")).initEvent("abort",!1,!1):e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)},e}()),t.default=t.ShimAbortController},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],e)},"@dojo/framework/shim/array":function(){var e;e=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=e("tslib"),n=e("./global"),i=e("./iterator"),o=e("./number"),a=e("../has/has");if(e=e("./support/util"),a.default("es6-array")&&a.default("es6-array-fill"))t.from=n.default.Array.from,t.of=n.default.Array.of,t.copyWithin=e.wrapNative(n.default.Array.prototype.copyWithin),t.fill=e.wrapNative(n.default.Array.prototype.fill),t.find=e.wrapNative(n.default.Array.prototype.find),t.findIndex=e.wrapNative(n.default.Array.prototype.findIndex);else{var s=function(e){return isNaN(e)?0:(e=Number(e),isFinite(e)&&(e=Math.floor(e)),Math.min(Math.max(e,0),o.MAX_SAFE_INTEGER))},u=function(e){return e=Number(e),isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e},l=function(e,t){return 0>e?Math.max(t+e,0):Math.min(e,t)};t.from=function(e,t,n){if(null==e)throw new TypeError("from: requires an array-like object");t&&n&&(t=t.bind(n)),n=s(e.length);var o,a,u="function"==typeof this?Object(new this(n)):Array(n);if(!i.isArrayLike(e)&&!i.isIterable(e))return u;if(i.isArrayLike(e)){if(0===n)return[];for(var l=0;l<e.length;l++)u[l]=t?t(e[l],l):e[l]}else{l=0;try{for(var c=r.__values(e),f=c.next();!f.done;f=c.next()){var p=f.value;u[l]=t?t(p,l):p,l++}}catch(h){o={error:h}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}}return void 0!==e.length&&(u.length=n),u},t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.slice.call(e)},t.copyWithin=function(e,t,r,n){if(null==e)throw new TypeError("copyWithin: target must be an array-like object");var i=s(e.length);for(t=l(u(t),i),r=l(u(r),i),n=l(void 0===n?i:u(n),i),n=Math.min(n-r,i-t),i=1,t>r&&t<r+n&&(i=-1,r+=n-1,t+=n-1);0<n;)r in e?e[t]=e[r]:delete e[t],t+=i,r+=i,n--;return e},t.fill=function(e,t,r,n){var i=s(e.length);for(r=l(u(r),i),n=l(void 0===n?i:u(n),i);r<n;)e[r++]=t;return e},t.find=function(e,r,n){return-1!==(r=t.findIndex(e,r,n))?e[r]:void 0},t.findIndex=function(e,t,r){var n=s(e.length);if(!t)throw new TypeError("find: second argument must be a function");for(r&&(t=t.bind(r)),r=0;r<n;r++)if(t(e[r],r,e))return r;return-1}}t.includes=a.default("es7-array")?e.wrapNative(n.default.Array.prototype.includes):function(e,t,r){var n;for(void 0===r&&(r=0),n=e.length,n=Number(n),isNaN(n)?n=0:(isFinite(n)&&(n=Math.floor(n)),n=Math.min(Math.max(n,0),o.MAX_SAFE_INTEGER));r<n;++r){var i=e[r];if(t===i||t!=t&&i!=i)return!0}return!1}},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),e)},"@dojo/framework/shim/iterator":function(){var e;e=function(e,t){function r(e){return e&&"function"==typeof e[Symbol.iterator]}function n(e){return e&&"number"==typeof e.length}function i(e){return r(e)?e[Symbol.iterator]():n(e)?new s(e):void 0}Object.defineProperty(t,"__esModule",{value:!0}),e("./Symbol");var o=e("./string"),a={done:!0,value:void 0},s=function(){function e(e){this._nextIndex=-1,r(e)?this._nativeIterator=e[Symbol.iterator]():this._list=e}return e.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list&&++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:a},e.prototype[Symbol.iterator]=function(){return this},e}();t.ShimIterator=s,t.isIterable=r,t.isArrayLike=n,t.get=i,t.forOf=function(e,t,r){function a(){s=!0}var s=!1;if(n(e)&&"string"==typeof e)for(var u=e.length,l=0;l<u;++l){var c=e[l];if(l+1<u){var f=c.charCodeAt(0);f>=o.HIGH_SURROGATE_MIN&&f<=o.HIGH_SURROGATE_MAX&&(c+=e[++l])}if(t.call(r,c,e,a),s)break}else if(u=i(e))for(l=u.next();!l.done&&(t.call(r,l.value,e,a),!s);)l=u.next()}},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],e)},"@dojo/framework/shim/number":function(){var e;e=function(e,t){function r(e){return"number"==typeof e&&i.default.isFinite(e)}function n(e){return r(e)&&Math.floor(e)===e}Object.defineProperty(t,"__esModule",{value:!0});var i=e("./global");t.EPSILON=1,t.MAX_SAFE_INTEGER=Math.pow(2,53)-1,t.MIN_SAFE_INTEGER=-t.MAX_SAFE_INTEGER,t.isNaN=function(e){return"number"==typeof e&&i.default.isNaN(e)},t.isFinite=r,t.isInteger=n,t.isSafeInteger=function(e){return n(e)&&Math.abs(e)<=t.MAX_SAFE_INTEGER}},"object"==typeof module&&"object"==typeof module.exports?void 0!==(e=e(require,exports))&&(module.exports=e):"function"==typeof define&&define.amd&&define(["require","exports","./global"],e)},"esri/core/clock":function(){define(["require","exports","./global"],(function(e,t,r){function n(e){return{setTimeout:function(t,r){var n=e.setTimeout(t,r);return{remove:function(){return e.clearTimeout(n)}}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.wrap=void 0,t.wrap=n,t.default=n(r)}))},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.registry=void 0,t.registry={geometryEngineWorker:function(){return new Promise((function(t,r){e(["../../geometry/geometryEngineWorker"],t,r)}))},CSVSourceWorker:function(){return new Promise((function(t,r){e(["../../layers/graphics/sources/support/CSVSourceWorker"],t,r)}))},EdgeProcessingWorker:function(){return new Promise((function(t,r){e(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],t,r)}))},ElevationSamplerWorker:function(){return new Promise((function(t,r){e(["../../geometry/support/meshUtils/ElevationSamplerWorker"],t,r)}))},GeoJSONSourceWorker:function(){return new Promise((function(t,r){e(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],t,r)}))},LercWorker:function(){return new Promise((function(t,r){e(["../../layers/support/LercWorker"],t,r)}))},MemorySourceWorker:function(){return new Promise((function(t,r){e(["../../layers/graphics/sources/support/MemorySourceWorker"],t,r)}))},PBFDecoderWorker:function(){return new Promise((function(t,r){e(["../../views/3d/support/PBFDecoderWorker"],t,r)}))},Pipeline:function(){return new Promise((function(t,r){e(["../../views/2d/layers/features/Pipeline"],t,r)}))},PointCloudWorker:function(){return new Promise((function(t,r){e(["../../views/3d/layers/PointCloudWorker"],t,r)}))},RasterWorker:function(){return new Promise((function(t,r){e(["../../layers/support/RasterWorker"],t,r)}))},SceneLayerWorker:function(){return new Promise((function(t,r){e(["../../views/3d/layers/SceneLayerWorker"],t,r)}))},WorkerTileHandler:function(){return new Promise((function(t,r){e(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],t,r)}))}}}))},"esri/core/workers/utils":function(){define(["require","exports","../has"],(function(e,t,r){function n(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}function i(e){return e&&e.length&&(r("esri-workers-arraybuffer-transfer")||(e=e.filter((function(e){return!(e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name)}))).length)?e:null}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.receiveMessage=t.postMessage=t.toInvokeError=t.isTranferableResult=t.newJobId=t.MessageType=void 0,function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.CONFIGURE=1]="CONFIGURE",e[e.CONFIGURED=2]="CONFIGURED",e[e.OPEN=3]="OPEN",e[e.OPENED=4]="OPENED",e[e.RESPONSE=5]="RESPONSE",e[e.INVOKE=6]="INVOKE",e[e.ABORT=7]="ABORT",e[e.CLOSE=8]="CLOSE",e[e.OPEN_PORT=9]="OPEN_PORT",e[e.ON=10]="ON"}(o=t.MessageType||(t.MessageType={}));var a=0;t.newJobId=function(){return a++},t.isTranferableResult=n,t.toInvokeError=function(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null},t.postMessage=function(e,t,r,a){t.type===o.OPEN_PORT?e.postMessage(t,[t.port]):t.type!==o.INVOKE&&t.type!==o.RESPONSE?e.postMessage(t):(n(r)?(a=i(r.transferList),t.data=r.result):(a=i(a),t.data=r),a?e.postMessage(t,a):e.postMessage(t))},t.receiveMessage=function(e){return e&&(e=e.data)?"string"==typeof e?JSON.parse(e):e:null}}))},"esri/views/support/Scheduler":function(){define("require exports tslib @dojo/framework/shim/number ../../core/Accessor ../../core/Logger ../../core/maybe ../../core/PooledArray ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/support/PromiseQueue ./debugFlags".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p){function h(e){return e in t.taskPriorities?t.taskPriorities[e]:"number"==typeof e?e:1}var d;Object.defineProperty(t,"__esModule",{value:!0}),t.noBudget=t.TaskState=t.TestTaskHandle=t.getTaskPriority=t.taskPriorities=t.Task=t.newScheduler=void 0;var y=o.getLogger("esri.views.support.Scheduler");t.newScheduler=function(e){return new g.Scheduler(e)},function(e){e.REMOTE_CLIENT="remote client",e.STREAM_DATA_LOADER="stream data loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain surface",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.I3S_CONTROLLER="I3S controller",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.FEATURE_FETCH_QUEUE="feature fetch queue",e.GRAPHICS_CORE="Graphics3D",e.LABELER="labeler",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.FEATURE_QUERY_ENGINE="feature query",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.OVERLAY_MANAGER="overlay manager",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e[e.TEST_PRIO=1]="TEST_PRIO"}(e=t.Task||(t.Task={})),t.taskPriorities=((d={})[e.REMOTE_CLIENT]=1,d[e.STREAM_DATA_LOADER]=1,d[e.FEATURE_FETCH_QUEUE]=1,d[e.ELEVATION_QUERY]=1,d[e.TERRAIN_SURFACE]=2,d[e.SURFACE_GEOMETRY_UPDATES]=2,d[e.I3S_CONTROLLER]=4,d[e.POINT_CLOUD_LAYER]=4,d[e.FEATURE_TILE_FETCHER]=4,d[e.GRAPHICS_CORE]=6,d[e.LABELER]=6,d[e.GRAPHICS_DECONFLICTOR]=6,d[e.FILTER_VISIBILITY]=8,d[e.FEATURE_QUERY_ENGINE]=8,d[e.SCALE_VISIBILITY]=8,d[e.FRUSTUM_VISIBILITY]=8,d[e.POINT_OF_INTEREST_FREQUENT]=6,d[e.POINT_OF_INTEREST_INFREQUENT]=30,d[e.FEATURE_TILE_TREE]=16,d[e.FEATURE_TILE_TREE_ACTIVE]=1,d[e.ELEVATION_ALIGNMENT]=12,d[e.TEXT_TEXTURE_ATLAS]=12,d[e.TEXTURE_UNLOAD]=12,d[e.OVERLAY_MANAGER]=12,d[e.LINE_OF_SIGHT_TOOL]=16,d[e.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,d),t.getTaskPriority=h,d=function(){function e(){}return e.prototype.remove=function(){},e.prototype.schedule=function(e){return u.when(e())},e.prototype.reschedule=function(e){return u.when(e())},e}(),t.TestTaskHandle=d;var g,m,v=1e3/30;!function(e){var n=function(){function e(e){var t=this;this._now=e,this._budget=null,this._state=1,this._tasks=new s,this._runQueue=new s,this._load=0,this._idleStateCallbacks=new s,this._idleUpdatesStartFired=!1,this._maxReschedule=x,this._forceTask=!1,this._safetyBudget=0,this._debug=!1,this._debugHandle=l.init(p,"SCHEDULER_LOG_SLOW_TASKS",(function(e){return t._debug=e})),this._budget=new d(e);var r,n=this;this._test={get state(){return a.isNone(r)?n._state:r},set state(e){r=e},FRAME_SAFETY_BUDGET:5,INTERACTING_BUDGET:v,IDLE_BUDGET:100,get budget(){return n._budget.budget},usedBudget:0,startTime:0,updateTask:function(e){return t._updateTask(e)},getState:function(e){return t._getState(e)},getRuntime:function(e){return t._getRuntime(e)}}}return e.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()},e.prototype.registerTask=function(e,t,r){var n=h(e);return e=new o(this,e,t,r,n),this._tasks.push(e),e},e.prototype.registerIdleStateCallbacks=function(e,t){var r=this,n={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(n),2===this.state&&this._idleUpdatesStartFired&&n.idleBegin();var i=this;return{remove:function(){return r._removeIdleStateCallbacks(n)},set idleBegin(e){i._idleUpdatesStartFired&&(n.idleEnd(),2===i._state&&e()),n.idleBegin=e},set idleEnd(e){n.idleEnd=e}}},Object.defineProperty(e.prototype,"now",{get:function(){return this._now()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"load",{get:function(){return this._load},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return a.isNone(this._test.state)?this._state:this._test.state},set:function(e){this._state!==e&&(this._state=e,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEachSimple((function(e){return e.idleEnd()}))))},enumerable:!1,configurable:!0}),e.prototype.updateBudget=function(e){this._test.usedBudget=0,this._test.startTime=e.elapsedFrameTime,this._safetyBudget=5;var t=e.frameDuration,r=1;switch(this.state){case 2:this._safetyBudget=0,t=Math.max(100,e.frameDuration),r=30;break;case 1:t=Math.max(v,e.frameDuration)}return t-=e.elapsedFrameTime+this._safetyBudget,2!==this.state&&0>t&&!this._forceTask?(this._forceTask=!0,!1):(t=Math.max(t,r),this._budget.reset(t,this.state),this._maxReschedule=x,this._updateLoad(),this._schedule())},e.prototype.frame=function(){switch(this._forceTask=!1,this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEachSimple((function(e){return e.idleBegin()}))),this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed},e.prototype._removeIdleStateCallbacks=function(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)},e.prototype.removeTask=function(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e)},e.prototype._updateTask=function(e){this._tasks.forEachSimple((function(t){t.name===e&&t.setPriority(e)}))},e.prototype._getState=function(e){if(this._runQueue.some((function(t){return t.name===e})))return m.SCHEDULED;var t=m.IDLE;return this._tasks.forEachSimple((function(r){r.name===e&&r.needsUpdate&&(1>=r.schedulePriority?t=m.READY:t!==m.READY&&(t=m.WAITING))})),t},e.prototype._getRuntime=function(e){var t=0;return this._tasks.forEachSimple((function(r){r.name===e&&(t+=r.runtime)})),t},e.prototype._runIdle=function(){this._run()},e.prototype._runInteracting=function(){this._run()},e.prototype._runAnimating=function(){this._run()},e.prototype._updateLoad=function(){var e=this._tasks.reduce((function(e,t){return t.needsUpdate?++e:e}),0);this._load=.9*this._load+e*(1-.9)},e.prototype._schedule=function(){var e=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace((function(e){return!!e.needsUpdate||(e.schedulePriority=e.priority,!1)}));for(var t=function(){var t=!1,n=0;if(r._tasks.forEachSimple((function(r){if(0!==r.schedulePriority&&r.needsUpdate)switch(t=!0,n=Math.max(n,r.priority),r.schedulePriority){case 1:r.schedulePriority=0,e._runQueue.push(r);break;default:--r.schedulePriority}})),!t)return{value:!1};r._maxReschedule===x&&(r._maxReschedule=n),--r._maxReschedule},r=this;0===this._runQueue.length;){var n=t();if("object"==typeof n)return n.value}return!0},e.prototype._run=function(){do{for(;0<this._runQueue.length;){var e=this._runQueue.pop();this._budget.resetProgress();var t=this._budget.now();try{e.processQueue(this._budget),!this._budget.done&&e.needsUpdate&&e.update(this._budget)}catch(r){y.error('Exception in task "'+e.name+'"',r)}if(e.schedulePriority=e.priority,e.runtime+=this._budget.now()-t,this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",e.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),0>=this._budget.remaining)return}}while(this._schedule())},Object.defineProperty(e.prototype,"test",{get:function(){return this._test},enumerable:!1,configurable:!0}),e}();e.Scheduler=n;var o=function(e){function n(t,r,n,i,o){var a=e.call(this,{})||this;return a._scheduler=t,a.name=r,a.update=n,a._needsUpdateCB=i,a._priority=o,a.runtime=0,a._queue=new f.default,a.updating=!1,a.schedulePriority=a._priority,a}return r.__extends(n,e),n.prototype.normalizeCtorArgs=function(){return{}},n.prototype.remove=function(){this.processQueue(t.noBudget),this._scheduler.removeTask(this)},Object.defineProperty(n.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),n.prototype.setPriority=function(e){this.name=e,this._priority=h(e),0!==this.schedulePriority&&(this.schedulePriority=this._priority)},Object.defineProperty(n.prototype,"task",{get:function(){return this.name},set:function(e){this.setPriority(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"needsUpdate",{get:function(){return 0<this._queue.length||this._needsUpdateCB()},enumerable:!1,configurable:!0}),n.prototype.schedule=function(e,t){return this.updating=!0,this._queue.push((function(){return u.throwIfAborted(t),e()}))},n.prototype.reschedule=function(e,t){return this.updating=!0,this._queue.unshift((function(){return u.throwIfAborted(t),e()}))},n.prototype.processQueue=function(e){for(;!e.done&&this._queue.process();)e.madeProgress();0===this._queue.length&&(this.updating=!1)},r.__decorate([c.property()],n.prototype,"updating",void 0),r.__decorate([c.subclass("esri.views.support.SchedulerTask")],n)}(i),d=function(){function e(e){this.now=e,this._budget=this._begin=0,this._state=2,this._didWork=!1,this._enabled=!0}return e.prototype.run=function(e){return!this.done&&(!0===e()&&(this._didWork=!0),!0)},Object.defineProperty(e.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"budget",{get:function(){return this._budget},enumerable:!1,configurable:!0}),e.prototype.madeProgress=function(){this._didWork=!0},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(e,t){this._begin=this.now(),this._budget=e,this._state=t,this._didWork=!1},Object.defineProperty(e.prototype,"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!1,configurable:!0}),e.prototype.resetProgress=function(){this._didWork=!1},Object.defineProperty(e.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!1,configurable:!0}),e}();e.Budget=d}(g||(g={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(m=t.TaskState||(t.TaskState={})),t.noBudget=function(){var e=new g.Budget((function(){return performance.now()}));return e.enabled=!1,e}();var x=n.MAX_SAFE_INTEGER}))},"esri/core/Accessor":function(){define("require exports tslib ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p){function h(e){var t=typeof e;return null==e?{value:e}:Array.isArray(e)?{type:[e[0]],value:null}:"object"===t?e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e:"boolean"===t?{type:Boolean,value:e}:"string"===t?{type:String,value:e}:"number"===t?{type:Number,value:e}:"function"===t?{type:e,value:null}:void 0}return function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.constructor===e)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new s.default(this)}),0<t.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t)),l.interceptor&&l.interceptor.onInstanceConstruct(this)}return e.createSubclass=function(e){if(void 0===e&&(e={}),Array.isArray(e))throw Error("Multi-inheritance unsupported since 4.16");var t=e.properties,n=e.declaredClass,i=e.constructor;delete e.declaredClass,delete e.properties,delete e.constructor;var o=this,s=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(r=e.apply(this,t)||this).inherited=null,i&&i.apply(r,t),r}return r.__extends(t,e),t}(o);a.getOwnClassMetadata(s.prototype);var u,l=function(t){var r=e[t];s.prototype[t]="function"==typeof r?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];n=this.inherited,this.inherited=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(o.prototype[t])return o.prototype[t].apply(this,e)};var i=void 0;try{i=r.apply(this,e)}catch(a){throw this.inherited=n,a}return this.inherited=n,i}:e[t]};for(u in e)l(u);for(u in t)l=h(t[u]),f.property(l)(s.prototype,u);return p.subclass(n)(s)},e.prototype.postscript=function(e){var t=this.__accessor__;e=t.ctorArgs||e,t.initialize(),e&&(this.set(e),t.ctorArgs=null),t.constructed(),this.initialize()},e.prototype.initialize=function(){},e.prototype.destroy=function(){!this.destroyed&&(c.removeTarget(this),this.__accessor__.destroy(),l.interceptor)&&l.interceptor.onInstanceDestroy(this)},Object.defineProperty(e.prototype,"initialized",{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constructed",{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return o.default(this,e)},e.prototype.hasOwnProperty=function(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)},e.prototype.isInstanceOf=function(e){return n.deprecatedFunction(i.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof e},e.prototype.keys=function(){return this.__accessor__?this.__accessor__.keys():[]},e.prototype.set=function(e,t){return u.default(this,e,t),this},e.prototype.watch=function(e,t,r){return c.default(this,e,t,r)},e.prototype._clearOverride=function(e){return this.__accessor__.clearOverride(e)},e.prototype._override=function(e,t){return this.__accessor__.override(e,t)},e.prototype._isOverridden=function(e){return this.__accessor__.isOverridden(e)},e.prototype.notifyChange=function(e){this.__accessor__.propertyInvalidated(e)},e.prototype._get=function(e){return this.__accessor__.internalGet(e)},e.prototype._set=function(e,t){return this.__accessor__.internalSet(e,t),this},e}()}))},"esri/core/deprecate":function(){define(["require","exports","./has"],(function(e,t,r){function n(e,t,n){if(void 0===n&&(n={}),r("esri-deprecation-warnings")){var o=n.replacement,a=n.version,s=n.see;o&&(t+="\n\t\ud83d\udee0\ufe0f Replacement: "+o),a&&(t+="\n\t\u2699\ufe0f Version: "+a),s&&(t+="\n\t\ud83d\udd17 See "+s+" for more details."),o=t,void 0===(a=n=n.warnOnce)&&(a=!1),a&&i.has(o)||(a&&i.add(o),e.warn("\ud83d\uded1 DEPRECATED - "+o))}}Object.defineProperty(t,"__esModule",{value:!0}),t.deprecated=t.deprecatedProperty=t.deprecatedFunction=t.deprecatedModule=void 0;var i=new Set;t.deprecatedModule=function(e,t,i){void 0===i&&(i={}),r("esri-deprecation-warnings")&&n(e,"Module: "+t,i)},t.deprecatedFunction=function(e,t,i){if(void 0===i&&(i={}),r("esri-deprecation-warnings")){var o=i.moduleName;n(e,"Function: "+(o?o+"::":"")+t+"()",i)}},t.deprecatedProperty=function(e,t,i){if(void 0===i&&(i={}),r("esri-deprecation-warnings")){var o=i.moduleName;n(e,"Property: "+(o?o+"::":"")+t,i)}},t.deprecated=n}))},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],(function(e,t,r){function n(e,t,n){if(e="?"===e[e.length-1]?e.slice(0,-1):e,null!=n.getItemAt||Array.isArray(n)){var i=parseInt(e,10);if(!isNaN(i))return Array.isArray(n)?n[i]:n.getItemAt(i)}return i=r.getProperties(n),t?r.isPropertyDeclared(i,e)?i.get(e):n[e]:r.isPropertyDeclared(i,e)?i.internalGet(e):n[e]}function i(e,t,i,o){return void 0===i&&(i=!1),void 0===o&&(o=0),"string"==typeof t&&-1===t.indexOf(".")?n(t,i,e):function e(t,r,i,o){return null==t?t:!(t=n(r[o],i,t))&&o<r.length-1?void 0:o===r.length-1?t:e(t,r,i,o+1)}(e,r.pathToArray(t),i,o)}function o(e,t){return i(e,t,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.exists=t.get=t.valueOf=void 0,t.valueOf=i,t.get=o,t.exists=function(e,t){return void 0!==i(t,e,!0)},t.default=o}))},"esri/core/accessorSupport/utils":function(){define(["require","exports","../handleUtils","../lang","../maybe"],(function(e,t,r,n,i){function o(e){return Array.isArray(e)?e:e.split(".")}function a(e){if(Array.isArray(e)||-1<e.indexOf(",")){e=Array.isArray(e)?e:e.split(",");for(var t=0;t<e.length;t++)e[t]=e[t].trim();return 1===e.length?e[0]:e}return e.trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.parse=t.parseConditionalPath=t.splitPath=t.pathToArray=t.pathToStringOrArray=t.merge=t.isPropertyDeclared=t.getProperties=void 0,t.getProperties=function(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null},t.isPropertyDeclared=function(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]},t.merge=function(e,t,r){return function e(t,r,o){return r?Object.keys(r).reduce((function(t,a){var s=null,u="merge";if(o&&(u=o.policy(s=o.path?o.path+"."+a:a)),"replace"===u)return t[a]=r[a],t;if(void 0===t[a])return t[a]=n.clone(r[a]),t;var l=t[a];if(l===(u=r[a]))return t;if(Array.isArray(u)||Array.isArray(t))l=t[a]=l?Array.isArray(l)?l.concat():[l]:[],u&&(Array.isArray(u)||(u=[u]),u.forEach((function(e){-1===l.indexOf(e)&&l.push(e)})));else if(u&&"object"==typeof u)if(o){var c=o.path;o.path=i.assumeNonNull(s),t[a]=e(l,u,o),o.path=c}else t[a]=e(l,u,null);else t.hasOwnProperty(a)&&!r.hasOwnProperty(a)||(t[a]=u);return t}),t||{}):t}(e,t,r?{policy:r,path:""}:null)},t.pathToStringOrArray=function(e){return!e||"string"==typeof e&&-1===e.indexOf(".")?e:o(e)},t.pathToArray=o,t.splitPath=a,t.parseConditionalPath=function(e){if(-1===e.indexOf("?"))return null;e=o(e);for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];t[r]="?"===n[n.length-1],t[r]&&(e[r]=n.slice(0,-1))}return{fullPath:e.join("."),conditional:t}},t.parse=function(e,t,n,i){return t=a(t),Array.isArray(t)?(t=t.map((function(t){return i(e,t.trim(),n)})),r.handlesGroup(t)):i(e,t.trim(),n)},t.once=function(e){var t=!1;return function(){t||(t=!0,e())}}}))},"esri/core/handleUtils":function(){define(["require","exports","./maybe"],(function(e,t,r){function n(e){return{remove:function(){e&&(e(),e=void 0)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutHandle=t.destroyHandle=t.refHandle=t.makeHandle=t.handlesGroup=void 0,t.handlesGroup=function(e){return n((function(){return e.forEach((function(e){return r.isSome(e)&&e.remove()}))}))},t.makeHandle=n,t.refHandle=function(e){return n((function(){var t=e();r.isSome(t)&&t.remove()}))},t.destroyHandle=function(e){return n((function(){return e.destroy()}))},t.timeoutHandle=function(e,t){var r=setTimeout(e,t);return{remove:function(){return clearTimeout(r)}}}}))},"esri/core/accessorSupport/metadata":function(){define(["require","exports","../lang","../maybe","./utils"],(function(e,t,r,n,i){function o(e){var t=e.constructor.__accessorMetadata__,i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){i=Object.create(t.properties);var o,a=t.autoDestroy;for(o in i)i[o]=r.clone(i[o]);(t=new l(i)).autoDestroy=a,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new l({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return n.assumeNonNull(e.constructor.__accessorMetadata__)}function a(e){return o(e).properties}function s(e){return c.test(e)?"replace":"merge"}function u(e){return f.test(e)?s(e.slice(11)):"merge"}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeProperty=t.merge=t.setPropertyMetadata=t.getOwnPropertyMetadata=t.getOwnPropertiesMetadata=t.getOwnClassMetadata=t.ClassMetadata=void 0;var l=function(e){this.autoDestroy=!1,this.properties=e};t.ClassMetadata=l,t.getOwnClassMetadata=o,t.getOwnPropertiesMetadata=a,t.getOwnPropertyMetadata=function(e,t){var r=(e=a(e))[t];return r||(r=e[t]={}),r},t.setPropertyMetadata=function(e,t,r){a(e)[t]=r},t.merge=function(e,t){return i.merge(e,t,u)},t.mergeProperty=function(e,t){return i.merge(e,t,s)};var c=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,f=/^properties\./}))},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),(function(e,t,r,n,i,o,a,s,u){Object.defineProperty(t,"__esModule",{value:!0}),i.getLogger("esri.core.accessorSupport.Properties"),e=function(){function e(e){this.host=e,this._origin=6,this.ctorArgs=this.cursors=null,this.destroyed=!1,this.dirties={},this.lifecycle=0,this.overridden=null,this.store=new u.Store,this.metadatas=(e=this.host.constructor.__accessorMetadata__).properties,this.autoDestroy=e.autoDestroy}return e.prototype.initialize=function(){this.lifecycle=1,a.instanceCreated(this.host,this.metadatas)},e.prototype.constructed=function(){this.lifecycle=2},e.prototype.destroy=function(){this.destroyed=!0;var e=this.cursors;if(e)for(var t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++){var n=r[t],i=e[n];if(i){for(;0<i.length;)i.pop().propertyDestroyed(this,n);e[n]=null}}if(this.autoDestroy)for(n in this.metadatas)(e=this.internalGet(n))&&e&&"function"==typeof e.destroy&&(e.destroy(),this.metadatas[n].nonNullable||this.internalSet(n,null))},Object.defineProperty(e.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!1,configurable:!0}),e.prototype.clearOverride=function(e){this.isOverridden(e)&&(this.overridden[e]=!1,this.propertyInvalidated(e))},e.prototype.get=function(e){var t=this.metadatas[e],r=t.get;return!this.store.has(e)||r&&this.dirties[e]?r?(t=r.call(this.host),this.store.set(e,t,1),this.propertyCommitted(e),t):t.value:this.store.get(e)},e.prototype.getterComputed=function(e,t){var r;return this.store.has(e)&&!this.dirties[e]?this.store.get(e):(t=null===(r=t.get)||void 0===r?void 0:r.call(this.host),this.store.set(e,t,1),this.propertyCommitted(e),t)},e.prototype.originOf=function(e){var t=this.store.originOf(e);return void 0===t&&(e=this.metadatas[e])&&e.hasOwnProperty("value")?"defaults":s.idToName(t)},e.prototype.has=function(e){return!!this.metadatas[e]&&this.store.has(e)},e.prototype.internalGet=function(e){if(this.metadatas[e]){var t=this.store;return t.has(e)?t.get(e):this.metadatas[e].value}},e.prototype.internalSet=function(e,t){return this.setAtOrigin(e,t,this.initialized?this._origin:0)},e.prototype.setAtOrigin=function(e,t,r){if(this.metadatas[e]){var i=this.store.get(e);n.equals(t,i)&&r===this.store.originOf(e)&&this.store.has(e,r)&&!this.isOverridden(e)||(this.propertyInvalidated(e),this.store.set(e,t,r),this.propertyCommitted(e))}},e.prototype.isOverridden=function(e){return null!=this.overridden&&!0===this.overridden[e]},e.prototype.keys=function(){return Object.keys(this.metadatas)},e.prototype.override=function(e,t){if(this.metadatas[e]&&(this.overridden||(this.overridden={}),!(r=this.metadatas[e]).nonNullable||null!=t)){if(r=r.cast){var r=(t=this.cast(r,t)).valid,n=t.value;if(l.release(t),!r)return;t=n}this.overridden[e]=!0,this.internalSet(e,t)}},e.prototype.set=function(e,t){if(this.metadatas[e]&&(!(n=this.metadatas[e]).nonNullable||null!=t)){var r=n.set;if(n=n.cast){var n=(t=this.cast(n,t)).valid,i=t.value;if(l.release(t),!n)return;t=i}r?r.call(this.host,t):this.internalSet(e,t)}},e.prototype.setDefaultOrigin=function(e){this._origin=s.nameToId(e)},e.prototype.getDefaultOrigin=function(){return s.idToName(this._origin)},e.prototype.propertyInvalidated=function(e){var t=this.dirties;if(this.isOverridden(e)||(t[e]=!0),t=this.cursors&&this.cursors[e])for(var r=0;r<t.length;r++)t[r].propertyInvalidated(this,e)},e.prototype.propertyCommitted=function(e){var t=this.cursors&&this.cursors[e];if(this.dirties[e]=!1,t)for(var r=0;r<t.length;r++)t[r].propertyCommitted(this,e)},e.prototype.addCursor=function(e,t){this.cursors||(this.cursors={});var r=this.cursors[e];r||(this.cursors[e]=r=[]),r.push(t)},e.prototype.removeCursor=function(e,t){var r=this.cursors;if(r){var n=r[e];n&&(n.splice(n.indexOf(t),1),0===n.length&&(r[e]=null))}},e.prototype.cast=function(e,t){var r=l.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r},e}();var l=new o(function(){function e(){this.value=null,this.valid=!0}return e.prototype.acquire=function(){this.valid=!0},e.prototype.release=function(){this.value=null},e}());t.default=e}))},"esri/core/ObjectPool":function(){define(["require","exports","tslib"],(function(e,t,r){return function(){function e(e,t,r,n,i){if(void 0===n&&(n=1),void 0===i&&(i=0),this.ctor=e,this.acquireFunction=t,this.releaseFunction=r,this.allocationSize=n,this._pool=Array(i),this._initialSize=i,this.ctor)for(e=0;e<i;e++)this._pool[e]=new this.ctor;this.allocationSize=Math.max(n,1)}return e.prototype.destroy=function(){this.prune(0)},e.prototype.acquire=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(n=this.ctor,e.test.disabled)n=new n;else{if(0===this._pool.length)for(var i=this.allocationSize,o=0;o<i;o++)this._pool[o]=new n;n=this._pool.pop()}return this.acquireFunction?this.acquireFunction.apply(this,r.__spreadArrays([n],t)):n&&n.acquire&&"function"==typeof n.acquire&&n.acquire.apply(n,t),n},e.prototype.release=function(t){t&&!e.test.disabled&&(this.releaseFunction?this.releaseFunction(t):t&&t.release&&"function"==typeof t.release&&t.release(),this._pool.push(t))},e.prototype.prune=function(e){if(void 0===e&&(e=this._initialSize),!(e>=this._pool.length)){for(var t=e;t<this._pool.length;++t)this._dispose(this._pool[t]);this._pool.length=e}},e.prototype._dispose=function(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()},e.test={disabled:!1},e}()}))},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/computedProperty","./extensions/serializableProperty"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.instanceCreated=t.processClassMetadatas=t.processPrototypeMetadatas=void 0;var i=[r.default,n.default];t.processPrototypeMetadatas=function(e,t){for(var r=0;r<i.length;r++){var n=i[r];if(n.processPrototypePropertyMetadata)for(var o in e)n.processPrototypePropertyMetadata(o,e[o],e,t)}},t.processClassMetadatas=function(e,t){for(var r=0;r<i.length;r++){var n=i[r];if(n.processClassPropertyMetadata)for(var o in e)n.processClassPropertyMetadata(o,e[o],e,t)}},t.instanceCreated=function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var o=i[n];o.instanceCreated&&o.instanceCreated(e,t,r)}}}))},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),(function(e,t,r,n,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ComputedPropertyExtension=void 0,n.getLogger("esri.core.accessorSupport.extensions.computedProperty"),t.ComputedPropertyExtension={processClassPropertyMetadata:function(e,t,r,n){t.dependsOn&&t.dependsOn.length&&(t.wire=o.create(t.dependsOn,(function(t){var r;return null===(r=i.getProperties(t))||void 0===r?void 0:r.propertyInvalidated(e)})))},instanceCreated:function(e,t,r){for(var n=0;n<r.length;n++){var i=t[r[n]];i.wire&&i.wire(e)}}},t.default=t.ComputedPropertyExtension}))},"esri/core/accessorSupport/wire":function(){define(["require","exports","../maybe","./utils"],(function(e,t,r,n){function i(e,t,r){if(t=n.splitPath(t),Array.isArray(t)){for(var i=[],a=0;a<t.length;a++)i.push(new o(t[a],r).install(e));return new u(i)}return e=new o(t,r).install(e),new l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.wire=t.create=void 0;var o=function(){function e(e,t){return this.path=e,this.callback=t,this.conditional=this.chain=null,-1<e.indexOf(".")?((e=n.parseConditionalPath(e))&&(this.path=e.fullPath,this.conditional=e.conditional),this.chain=n.pathToArray(this.path)):"?"===e[e.length-1]&&(this.path=e.slice(0,e.length-1),this.conditional=[!0],this.chain=[this.path]),this.callback=t,this}return e.prototype.install=function(e){return this.chain?new s(this,e):new a(this,e)},e.prototype.notify=function(e){this.callback(e,this.path)},e}(),a=function(){function e(e,t){var r;this.binding=e,this.target=t,null===(r=n.getProperties(t))||void 0===r||r.addCursor(this.binding.path,this)}return e.prototype.destroy=function(){var e;this.target&&(null===(e=n.getProperties(this.target))||void 0===e||e.removeCursor(this.binding.path,this),this.target=this.binding=null)},e.prototype.propertyDestroyed=function(e,t){var r;null===(r=n.getProperties(this.target))||void 0===r||r.removeCursor(t,this)},e.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)},e.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)},e}(),s=function(){function e(e,t){return this.binding=e,this.target=t,this.stack=[],this.properties=r.assumeNonNull(n.getProperties(t)),this.stack.push({properties:this.properties,propertyName:e=e.chain[0]}),this.properties.addCursor(e,this),this.moveForward(),this}return e.prototype.destroy=function(){for(;;){var e=this.stack.pop();if(null==e)break;e.properties.removeCursor(e.propertyName,this)}this.target=this.binding=null},e.prototype.propertyDestroyed=function(e,t){this.moveBackward(e,t)},e.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)},e.prototype.propertyCommitted=function(e,t){this.binding&&(this.moveBackward(e,t),this.moveForward(),this.binding.notify(this.target))},e.prototype.moveBackward=function(e,t){for(var r=this.stack,n=r[r.length-1];n.properties!==e&&n.propertyName!==t;)n.properties.removeCursor(n.propertyName,this),r.pop(),n=r[r.length-1]},e.prototype.moveForward=function(){var e=this.stack,t=e[e.length-1];if((1!==e.length||!this.binding.conditional||!this.binding.conditional[e.length-1]||t.properties.metadatas[t.propertyName])&&(t=t.properties.internalGet(t.propertyName),(t=n.getProperties(t))&&this.binding.chain&&e.length<this.binding.chain.length)){var r=this.binding.chain[e.length];this.binding.conditional&&this.binding.conditional[e.length]&&!t.metadatas[r]||(this.stack.push({properties:t,propertyName:r}),t.addCursor(r,this),this.moveForward())}},e}(),u=function(){function e(e){this.cursors=e}return e.prototype.remove=function(){for(var e=this.cursors;0<e.length;)e.pop().destroy();this.cursors=null},e}(),l=function(){function e(e){this.cursor=e}return e.prototype.remove=function(){this.cursor=r.destroyMaybe(this.cursor)},e}();t.create=function(e,t){if(e=n.splitPath(e),Array.isArray(e)){for(var r=[],i=0;i<e.length;i++)r.push(new o(e[i],t));return function(e){for(var t=[],n=0;n<r.length;n++)t[n]=r[n].install(e);return new u(t)}}var a=new o(e,t);return function(e){return new l(a.install(e))}},t.wire=i,t.default=i}))},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),(function(e,t,r,n,i,o,a){function s(e,t,r){var n=e&&e.json;return e&&e.json&&e.json.origins&&r&&(e=e.json.origins[r.origin])&&("any"===t||t in e)&&(n=e),n}Object.defineProperty(t,"__esModule",{value:!0}),t.SerializablePropertyExtension=t.originSpecificPropertyDefinition=t.originSpecificWritePropertyDefinition=t.originSpecificReadPropertyDefinition=void 0,t.originSpecificReadPropertyDefinition=function(e,t){return s(e,"read",t)},t.originSpecificWritePropertyDefinition=function(e,t){return s(e,"write",t)},t.originSpecificPropertyDefinition=s,t.SerializablePropertyExtension={processPrototypePropertyMetadata:function(e,t){if(o.process(t)){if(n.process(t),t.type)if(t.type){e=0;for(var s=t.type;Array.isArray(s)&&!r.isOneOf(s);)s=s[0],e++;e={type:s,ndimArray:e}}else e=void 0;else if(t.types){for(e=0,s=t.types;Array.isArray(s);)s=s[0],e++;e={types:s,ndimArray:e}}else e=void 0;if(t.json.origins)for(var u in t.json.origins)i.create(e,s=t.json.origins[u],!1),a.create(e,s);i.create(e,t.json,!0),a.create(e,t.json)}}},t.default=t.SerializablePropertyExtension}))},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],(function(e,t,r,n){function i(e){return null==e?e:new Date(e)}function o(e){return null==e?e:!!e}function a(e){return null==e?e:e.toString()}function s(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function l(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function c(e,t){return null!=t&&e&&!(t instanceof e)}function f(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function p(e,t){return!!l(t)&&(_.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+d(e)+"'"),!0)}function h(e,t){return null==t?t:e&&"isCollection"in e?function(e,t){var r;if((r=!t||!t.constructor)||(r=!((r=t.constructor)&&"isCollection"in r)),r)return p(e,t)?t:new e(t);r=f(e.prototype.itemType);var n=f(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(p(e,t),t):new e(t):t}(e,t):c(e,t)?p(e,t)?t:new e(t):t}function d(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}function y(e){switch(e){case Number:return s;case b:return u;case Boolean:return o;case String:return a;case Date:return i;default:return h.bind(null,e)}}function g(e,t){var r=y(e);return 1===arguments.length?r:r(t)}function m(e,t,r){return 1===arguments.length?m.bind(null,e):t?Array.isArray(t)?t.map((function(t){return e(t,r)})):[e(t,r)]:t}function v(e,t,r){return 0!==t&&Array.isArray(r)?r.map((function(r){return v(e,t-1,r)})):e(r)}function x(e,t,r){if(2===arguments.length)return x.bind(null,e,t);if(!r)return r;for(var n=t,i=r=v(e,t,r);0<n&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(i=0;i<n;i++)r=[r];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureLongFormType=t.isLongFormType=t.types=t.Integer=t.ensureOneOfType=t.ensureOneOf=t.isOneOf=t.ensureNArray=t.ensureNArrayTyped=t.ensureArray=t.ensureArrayTyped=t.ensureType=t.ensureClass=t.requiresType=t.isClassedType=t.ensureInteger=t.ensureNumber=t.ensureString=t.ensureBoolean=t.ensureDate=void 0;var _=n.getLogger("esri.core.Accessor");t.ensureDate=i,t.ensureBoolean=o,t.ensureString=a,t.ensureNumber=s,t.ensureInteger=u,t.isClassedType=l,t.requiresType=c,t.ensureClass=h,t.ensureType=g,t.ensureArrayTyped=m,t.ensureArray=function(e,t){return 1===arguments.length?m(g.bind(null,e)):m(g.bind(null,e),t)},t.ensureNArrayTyped=x,t.ensureNArray=function(e,t,r){return 2===arguments.length?x(g.bind(null,e),t):x(g.bind(null,e),t,r)},t.isOneOf=function(e){return!!Array.isArray(e)&&!e.some((function(t){return!("string"==(t=typeof t)||"number"===t||"function"===t&&1<e.length)}))},t.ensureOneOf=function e(t,r){if(2===arguments.length)return e(t).call(null,r);for(var n=new Set,i=t.filter((function(e){return"function"!=typeof e})),o=t.filter((function(e){return"function"==typeof e})),a=0;a<t.length;a++){var s=t[a];"string"!=typeof s&&"number"!=typeof s||n.add(s)}var u=null,l=null;return function(e,t){if(null==e)return e;var r=typeof e,a="string"===r||"number"===r;return a&&(n.has(e)||o.some((function(e){return"string"===r&&e===String||"number"===r&&e===Number})))||"object"===r&&o.some((function(t){return!c(e,t)}))?e:(a&&i.length?(u||(u=i.map((function(e){return"string"==typeof e?"'"+e+"'":""+e})).join(", ")),_.error("Accessor#set","'"+e+"' is not a valid value for this property, only the following values are valid: "+u)):"object"==typeof e&&o.length?(l||(l=o.map((function(e){return d(e)})).join(", ")),_.error("Accessor#set","'"+e+"' is not a valid value for this property, value must be one of "+l)):_.error("Accessor#set","'"+e+"' is not a valid value for this property"),t&&(t.valid=!1),null)}},t.ensureOneOfType=function e(t,r){if(2===arguments.length)return e(t).call(null,r);var n,i={},o=[],a=[];for(n in t.typeMap){var s=t.typeMap[n];i[n]=g(s),o.push(d(s)),a.push(n)}var u="string"==typeof t.key?function(e){return e[t.key]}:t.key;return function(e){if(t.base&&!c(t.base,e)||null==e)return e;var r=u(e)||t.defaultKeyValue,n=i[r];if(!n)return _.error("Accessor#set","Invalid property value, value needs to be one of '"+o.join("', '")+"', or a plain object that can autocast (having .type = '"+a.join("', '")+"')"),null;if(!c(t.typeMap[r],e))return e;if("string"==typeof t.key&&!l(e)){var s;for(s in r={},e)s!==t.key&&(r[s]=e[s]);return n(r)}return n(e)}};var b=function(){};t.Integer=b,t.types={native:function(e){return{type:"native",value:e}},array:function(e){return{type:"array",value:e}},oneOf:function(e){return{type:"one-of",values:e}}},t.isLongFormType=function(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0;default:r.neverReachedSilent(e)}return!1},t.ensureLongFormType=function e(t){switch(t.type){case"native":return g(t.value);case"array":return m(e(t.value));case"one-of":return function(e){var t=null;return function(n,i){return function e(t,r){if(null==t)return!0;switch(r.type){case"native":switch(r.value){case Number:case b:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof r.value;case"array":return!!Array.isArray(t)&&!t.some((function(t){return!e(t,r.value)}));case"one-of":return r.values.some((function(r){return e(t,r)}))}}(n,e)?n:(null==t&&(t=function e(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case b:return"integer";case Date:return"date";default:return d(t.value)}case"array":return"array of "+e(t.value);case"one-of":return"one of "+(t=t.values.map((function(t){return e(t)}))).slice(0,t.length-1)+" or "+t[t.length-1];default:r.neverReached(t)}return"unknown"}(e)),_.error("Accessor#set","Invalid property value, value needs to be of type "+t),i&&(i.valid=!1),null)}}(t);default:return r.neverReached(t),null}},t.default=g}))},"esri/core/compilerUtils":function(){define(["require","exports","./has"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.tuple=t.typeCast=t.neverReachedSilent=t.neverReached=void 0,t.neverReached=function(e){},t.neverReachedSilent=function(e){},t.typeCast=function(e){return function(){return e}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}}))},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.process=void 0,t.process=function(e){if(e.json&&e.json.origins){var t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(var n in e=function(e){if(t[e]){var n=t[e];r[e].forEach((function(e){t[e]=n})),delete t[e]}},r)e(n)}}}))},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("require exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),(function(e,t,r,n,i,o,a){function s(e){var t,r,n,i=null!==(t=e.ndimArray)&&void 0!==t?t:0;if(1<i)return c(e);if(1===i)return f(e);if("type"in e&&p(e.type)){var o=f("function"==typeof(t=null===(n=null===(r=e.type.prototype)||void 0===r?void 0:r.itemType)||void 0===n?void 0:n.Type)?{type:t}:{types:t});return function(t,r,n){return(t=o(t,r,n))?new e.type(t):t}}return u(e)}function u(e){return"type"in e?function(e){return e.prototype.read?function(t,r,n){return null==t?t:"object"==(r=typeof t)?((r=new e).read(t,n),r):void y.error("Expected JSON value of type 'object' to deserialize type '"+e.prototype.declaredClass+"', but got '"+r+"'")}:e.fromJSON}(e.type):function(e){var t,r=null,n=null!==(t=e.errorContext)&&void 0!==t?t:"type";return function(t,a,s){if(null==t)return t;if("object"!=(a=typeof t))y.error("Expected JSON value of type 'object' to deserialize, but got '"+a+"'");else{if(!r){var u,l;for(var c in a={},e.typeMap){var f=e.typeMap[c],p=o.getOwnClassMetadata(f.prototype);if("function"!=typeof e.key&&(p=p.properties[e.key]))if((null===(u=p.json)||void 0===u?0:u.type)&&Array.isArray(p.json.type)&&1===p.json.type.length&&"string"==typeof p.json.type[0]&&(a[p.json.type[0]]=f),(p=null===(l=p.json)||void 0===l?void 0:l.write)&&p.writer){var h,d={};p.writer(c,d,h="string"==typeof(h=p.target)?h:e.key),d[h]&&(a[d[h]]=f)}else a[c]=f}r=a}if("string"==typeof(u=e.key)){if(l=(u=t[u])?r[u]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0)return(u=new l).read(t,s),u;u="Type '"+(u||"unknown")+"' is not supported",s&&s.messages&&t&&s.messages.push(new i(n+":unsupported",u,{definition:t,context:s})),y.error(u)}}}}(e.types)}function l(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map((function(t){return l(e,t,r,n-1)})):e(t,void 0,r)}function c(e){var t,r=u(e),n=l.bind(null,r),i=null!==(t=e.ndimArray)&&void 0!==t?t:0;return function(e,t,r){if(null==e)return e;for(e=n(e,r,i),t=i,r=e;0<t&&Array.isArray(r);)t--,r=r[0];if(void 0!==r)for(r=0;r<t;r++)e=[e];return e}}function f(e){var t=u(e);return function(e,r,n){if(null==e)return e;if(Array.isArray(e)){r=[];for(var i=0;i<e.length;i++){var o=t(e[i],void 0,n);void 0!==o&&r.push(o)}return r}return void 0!==(e=t(e,void 0,n))?[e]:void 0}}function p(e){return!!a.isCollection(e)&&!(!(e=e.prototype.itemType)||!e.Type)&&("function"==typeof e.Type?h(e.Type):d(e.Type))}function h(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||p(e))}function d(e){for(var t in e.typeMap)if(!h(e.typeMap[t]))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.createTypeReader=t.create=void 0;var y=r.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");t.create=function(e,t,r){var i,o;!e||!r&&!t.read||null!==(i=t.read)&&void 0!==i&&i.reader||!1===(null===(o=t.read)||void 0===o?void 0:o.enabled)||(r="types"in e?d(e.types):h(e.type))&&n.setDeepValue("read.reader",s(e),t)},t.createTypeReader=s}))},"esri/core/Warning":function(){define(["require","exports","tslib","./Message"],(function(e,t,r,n){return(e=function(e){function t(r,n,i){var o=e.call(this,r,n,i)||this;return o instanceof t?o:new t(r,n,i)}return r.__extends(t,e),t}(n)).prototype.type="warning",e}))},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCollection=void 0,t.isCollection=function(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}}))},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],(function(e,t){function r(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function n(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function i(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.process=void 0,t.process=function(e){if(e.json||(e.json={}),n(e.json),i(e.json),r(e.json),e.json.origins)for(var t in e.json.origins)n(e.json.origins[t]),i(e.json.origins[t]),r(e.json.origins[t]);return!0}}))},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],(function(e,t,r,n){function i(e,t,n,i){r.setDeepValue(n,o(e,i),t)}function o(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?a(e):e}function a(e){return-1/0===e?-Number.MAX_VALUE:1/0===e?Number.MAX_VALUE:isNaN(e)?null:e}function s(e,t,n,i){null===e?e=null:e&&"function"==typeof e.map?"function"==typeof(e=e.map((function(e){return o(e,i)}))).toArray&&(e=e.toArray()):e=[o(e,i)],r.setDeepValue(n,e,t)}function u(e,t,r){return 0!==r&&Array.isArray(e)?e.map((function(e){return u(e,t,r-1)})):o(e,t)}function l(e){return function(t,n,i,o){if(null===t)t=null;else{t=u(t,o,e),o=e;for(var a=t;0<o&&Array.isArray(a);)o--,a=a[0];if(void 0!==a)for(a=0;a<o;a++)t=[t]}r.setDeepValue(i,t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.numberToJSON=t.create=void 0,t.create=function(e,t){var r;if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var o=null!==(r=null==e?void 0:e.ndimArray)&&void 0!==r?r:0;t.write.writer=e&&(1===o||"type"in e&&n.isCollection(e.type))?s:1<o?l(o):i}},t.numberToJSON=a}))},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports","../maybe"],(function(e,t,r){function n(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"user":return 6}}function i(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return r.assumeNonNull(void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.idToWritableName=t.writableNameToId=t.idToReadableName=t.readableNameToId=t.idToName=t.nameToId=t.OriginIdNum=void 0,t.OriginIdNum=7,t.nameToId=n,t.idToName=i,t.readableNameToId=function(e){return n(e)},t.idToReadableName=function(e){return i(e)},t.writableNameToId=function(e){return n(e)},t.idToWritableName=function(e){return i(e)}}))},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0,e=function(){function e(){this._values=new Map}return e.prototype.clone=function(t){var r=new e;return this._values.forEach((function(e,i){t&&t.has(i)||r.set(i,n.clone(e))})),r},e.prototype.get=function(e){return this._values.get(e)},e.prototype.originOf=function(){return 6},e.prototype.keys=function(){return r.keysOfMap(this._values)},e.prototype.set=function(e,t){this._values.set(e,t)},e.prototype.delete=function(e){this._values.delete(e)},e.prototype.has=function(e){return this._values.has(e)},e.prototype.forEach=function(e){this._values.forEach(e)},e}(),t.Store=e}))},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],(function(e,t,r,n){function i(e){return e}function o(e,t){if(void 0===t&&(t=i),e&&0!==e.length){for(var r=e[0],n=t(r),o=1;o<e.length;++o){var a=e[o],s=Number(t(a));s>n&&(n=s,r=a)}return r}}function a(e,t,r,n){n=n||p;for(var i=Math.max(0,n.last-10),o=i;o<r;++o)if(e[o]===t)return n.last=o;for(r=Math.min(i,r),o=0;o<r;++o)if(e[o]===t)return n.last=o;return-1}function s(e){return e?(d.seed=e,function(){return d.getFloat()}):Math.random}function u(e,t){return-1===e.indexOf(t)}function l(e,t,r){return!e.some(t.bind(null,r))}function c(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.fromMapValues=t.keysOfSet=t.keysOfMap=t.shuffle=t.pickRandom=t.removeUnorderedMany=t.removeUnordered=t.indexOf=t.PositionHint=t.flatten=t.binaryFindClosest=t.binaryIndexOf=t.range=t.constant=t.splitIntoChunks=t.intersect=t.difference=t.equals=t.unique=t.min=t.max=t.last=t.first=t.includes=t.from=t.findIndex=t.find=void 0,Object.defineProperty(t,"find",{enumerable:!0,get:function(){return r.find}}),Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return r.findIndex}}),Object.defineProperty(t,"from",{enumerable:!0,get:function(){return r.from}}),Object.defineProperty(t,"includes",{enumerable:!0,get:function(){return r.includes}}),t.first=function(e){if(e)return 0<e.length?e[0]:void 0},t.last=function(e){if(e){var t=e.length;return 0<t?e[t-1]:void 0}},t.max=o,t.min=function(e,t){return void 0===t&&(t=i),o(e,(function(e){return-t(e)}))},t.unique=function(e,t){return e.filter(t?function(e,n,i){return r.findIndex(i,t.bind(null,e))===n}:function(e,t,r){return r.indexOf(e)===t})},t.equals=function(e,t,r){if(!e&&!t)return!0;if(!e||!t||e.length!==t.length)return!1;if(r){for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.difference=function(e,t,r){var n;return r?(n=t.filter(l.bind(null,e,r)),e=e.filter(l.bind(null,t,r))):(n=t.filter(u.bind(null,e)),e=e.filter(u.bind(null,t))),{added:n,removed:e}},t.intersect=function(e,t,n){return e&&t?e.filter(n?function(e){return-1<r.findIndex(t,(function(t){return n(e,t)}))}:function(e){return-1<t.indexOf(e)}):[]},t.splitIntoChunks=function(e,t){var r=e.length;if(0===r)return[];for(var n=[],i=0;i<r;i+=t)n.push(e.slice(i,i+t));return n};var f=!!Array.prototype.fill;t.constant=function(e,t){if(f)return Array(e).fill(t);for(var r=Array(e),n=0;n<e;n++)r[n]=t;return r},t.range=function(e,t){void 0===t&&(t=e,e=0);for(var r=Array(t-e),n=e;n<t;n++)r[n-e]=n;return r},t.binaryIndexOf=function(e,t,r){for(var n=e.length,i=0,o=n-1;i<o;){var a=i+Math.floor((o-i)/2);t>e[a]?i=a+1:o=a}return o=e[i],r?t>=e[n-1]?-1:o===t?i:i-1:o===t?i:-1},t.binaryFindClosest=function(e,t,r){if(e&&0!==e.length){var n=e.length-1;if(t<=r(o=e[0]))return o;if(t>=r(o=e[n]))return o;for(var i=0,o=0,a=n;i<a;){var s=e[o=i+Math.floor((a-i)/2)],u=r(s);if(u===t)return s;if(t<u){if(0<o){var l=r(a=e[o-1]);if(t>l)return t-l>=u-t?s:a}a=o}else{if(o<n&&t<(l=r(i=e[o+1])))return t-u>=l-t?i:s;i=o+1}}return e[o]}},t.flatten=function(e){return e.reduce((function(e,t){return e.concat(t||[])}),[])},t.PositionHint=e=function(){this.last=0};var p=new e;t.indexOf=a,t.removeUnordered=function(e,t,r,n){var i=null==r?e.length:r;if(-1!==(n=a(e,t,i,n)))return e[n]=e[i-1],null==r&&e.pop(),t};var h=new Set;t.removeUnorderedMany=function(e,t,r,n,i,o){if(void 0===r&&(r=e.length),void 0===n&&(n=t.length),0===n||0===r)return r;h.clear();for(var a=0;a<n;++a)h.add(t[a]);for(i=i||p,a=t=Math.max(0,i.last-10);a<r;++a)if(h.has(e[a])&&(o&&o.push(e[a]),h.delete(e[a]),e[a]=e[r-1],--r,--a,0===h.size||0===r))return h.clear(),r;for(a=0;a<t;++a)if(h.has(e[a])&&(o&&o.push(e[a]),h.delete(e[a]),e[a]=e[r-1],--r,--a,0===h.size||0===r))return h.clear(),r;return h.clear(),r},t.pickRandom=function(e,t,r){var n=e.length;if(t>=n)return e.slice(0);r=s(r);for(var i=new Set,o=[];o.length<t;){var a=Math.floor(r()*n);i.has(a)||(i.add(a),o.push(e[a]))}return o},t.shuffle=function(e,t){t=s(t);for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}return e};var d=new n;t.keysOfMap=function(e){var t=Array(e.size),r=0;return e.forEach((function(e,n){return t[r++]=n})),t},t.keysOfSet=function(e,t){void 0===t&&(t=c);var r=Array(e.size),n=0;return e.forEach((function(e){return r[n++]=t(e)})),r},t.fromMapValues=function(e){if(Array.from)return Array.from(e.values());var t=Array(e.size),r=0;return e.forEach((function(e){return t[r++]=e})),t},t.remove=function(e,t){var r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null}}))},"esri/core/RandomLCG":function(){define(["require","exports"],(function(e,t){return function(){function e(e){void 0===e&&(e=1),this._seed=e}return Object.defineProperty(e.prototype,"seed",{set:function(t){this._seed=null==t?Math.random()*e._m:t},enumerable:!1,configurable:!0}),e.prototype.getInt=function(){return this._seed=(e._a*this._seed+e._c)%e._m},e.prototype.getFloat=function(){return this.getInt()/(e._m-1)},e.prototype.getIntRange=function(e,t){return Math.round(this.getFloatRange(e,t))},e.prototype.getFloatRange=function(t,r){r-=t;var n=this.getInt()/e._m;return t+Math.floor(n*r)},e._m=2147483647,e._a=48271,e._c=0,e}()}))},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],(function(e,t,r,n,i){function o(e,t,r){if(e&&t)if("object"==typeof t){r=0;for(var n=Object.getOwnPropertyNames(t);r<n.length;r++){var a=n[r];o(e,a,t[a])}}else-1!==t.indexOf(".")?(a=(t=t.split(".")).splice(t.length-1,1)[0],o(i.default(e,t),a,r)):e[t]=r}Object.defineProperty(t,"__esModule",{value:!0}),t.set=void 0,n.getLogger("esri.core.accessorSupport.set"),t.set=o,t.default=o}))},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.interceptor=void 0,t.interceptor=null}))},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),(function(e,t,r,n,i,o,a,s,u){function l(e){v.has(e)?x.splice(x.indexOf(e),1):v.add(e),x.push(e),y||(y=o.schedule(f))}function c(e){if(!e.removed){var t=e.callback,r=e.path,i=e.oldValue,o=e.target,s=a.valueOf(o,e.propertyPath,!0);n.equals(i,s)||(e.oldValue=s,t.call(o,s,i,r,o))}}function f(){for(var e=10;y&&e--;){y=null;var t=x;x=m.acquire(),v.clear();for(var r=m.acquire(),n=0,i=t;n<i.length;n++){var o=i[n],a=o.uid;c(o),a===o.uid&&o.removed&&r.push(o)}for(n=0;n<x.length;n++)(o=x[n]).removed&&(r.push(o),v.delete(o),x.splice(n,1),--n);for(n=0;n<r.length;n++)g.pool.release(r[n]);m.release(t),m.release(r),_.forEach((function(e){return e()}))}}function p(e,t,r){var n=s.parse(e,t,r,(function(e,t,r){var i,o,c=a.valueOf(e,t,!0),f=u.wire(e,t,(function(e,t){e.__accessor__.destroyed||i&&i.uid!==o?n.remove():(i||(i=g.pool.acquire(e,t,c,r),o=i.uid,c=null),l(i))}));return{remove:s.once((function(){f.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,l(i)),i=null),n=f=c=null}))}}));return n}function h(e,t,r){var i=s.parse(e,t,r,(function(e,t,r){var o=a.valueOf(e,t,!0),s=!1;return u.wire(e,t,(function(e,t){if(!e||e.__accessor__.destroyed)i.remove();else if(!s&&t){s=!0;var u=a.valueOf(e,t,!0);n.equals(o,u)||r.call(e,u,o,t,e),o=a.valueOf(e,t,!0),s=!1}}))}));return i}function d(e,t,r,n){return void 0===n&&(n=!1),!e.__accessor__||e.__accessor__.destroyed?{remove:function(){}}:n?h(e,t,r):p(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.isValueInUse=t.watch=t.afterDispatch=t.dispatch=t.removeTarget=t.dispatchTarget=void 0;var y,g=function(){function e(){this.uid=0,this.callback=this.oldValue=this.path=this.target=null,this.removed=!1,this.propertyPath=null}return e.prototype.acquire=function(t,r,n,i){this.target=t,this.path=r,this.oldValue=n,this.callback=i,this.propertyPath=s.pathToStringOrArray(r),this.uid=++e.uid,this.removed=!1},e.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null,this.uid=++e.uid,this.removed=!0},e.pool=new i.ReentrantObjectPool(e),e.uid=0,e}(),m=new r,v=new Set,x=m.acquire();t.dispatchTarget=function(e){for(var t=m.copy(x),r=0;r<t.length;r++){var n=t[r];n.target===e&&(c(n),v.delete(n),x.splice(x.indexOf(n),1))}},t.removeTarget=function(e){for(var t=0;t<x.length;t++){var r=x[t];r.target===e&&(r.removed=!0)}},t.dispatch=f;var _=new Set;t.afterDispatch=function(e){return _.add(e),{remove:function(){_.delete(e)}}},t.watch=d,t.isValueInUse=function(e){return x.some((function(t){return t.oldValue===e}))},t.default=d}))},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],(function(e,t,r){function n(e){e.length=0}var i=Array.prototype.splice,o=new(e=function(){function e(e,t){void 0===e&&(e=50),void 0===t&&(t=50),this._pool=new r(Array,void 0,n,t,e)}return e.prototype.acquire=function(){return this._pool.acquire()},e.prototype.copy=function(e){var t=this.acquire();return e.unshift(0,0),i.apply(t,e),e.splice(0,2),t},e.prototype.release=function(e){this._pool.release(e)},e.prototype.prune=function(){this._pool.prune(0)},e.acquire=function(){return o.acquire()},e.copy=function(e){return o.copy(e)},e.release=function(e){return o.release(e)},e.prune=function(){o.prune()},e}())(100);return e}))},"esri/core/ReentrantObjectPool":function(){define(["require","exports","tslib","./maybe","./ObjectPool"],(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.ReentrantObjectPool=void 0,e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._set=new Set,t}return r.__extends(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this._set=n.nullifyNonnullableForDispose(this._set)},t.prototype.acquire=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t=e.prototype.acquire.apply(this,t),this._set.delete(t),t},t.prototype.release=function(t){t&&!this._set.has(t)&&(e.prototype.release.call(this,t),this._set.add(t))},t.prototype._dispose=function(t){this._set.delete(t),e.prototype._dispose.call(this,t)},t}(i),t.ReentrantObjectPool=e}))},"esri/core/scheduling":function(){define("require exports ./maybe ./nextTick ./PooledArray ./promiseUtils".split(" "),(function(e,t,r,n,i,o){function a(e){void 0===e&&(e=performance.now()),t.debug.rafId=null,0<v.length&&(t.debug.rafId=s()),t.debug.executeFrameTasks(e)}function s(){return t.debug.requestNextFrame?t.debug.requestNextFrame(c):c()}function u(){v.forEachSimple((function(e){e.removed&&_.push(e)})),v.removeUnorderedMany(_.data,_.length),_.clear()}function l(){for(;m.length;){var e=r.assumeNonNull(m.shift());e.isActive&&e.callback()}t.debug.willDispatch=!1}function c(){return requestAnimationFrame(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.waitTicks=t.requestNextFrame=t.setFrameDuration=t.addFrameTask=t.schedule=t.debug=t.FrameTaskHandle=void 0;var f=function(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1},p=function(){function e(e){this.callback=e,this.isActive=!0}return e.prototype.remove=function(){this.isActive=!1},e}(),h=-1,d=0,y={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},g=["prepare","preRender","render","postRender","update"],m=[],v=new i,x=function(){function e(e){this._task=e}return e.prototype.remove=function(){this._task.removed=!0},e.prototype.pause=function(){this._task.paused=!0},e.prototype.resume=function(){this._task.paused=!1},e}();t.FrameTaskHandle=x,t.debug={frameTasks:v,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(e){void 0===e&&(e=!1),v.forEachSimple((function(e){e.removed=!0})),e&&u()},dispatch:l,executeFrameTasks:function(e){void 0===e&&(e=performance.now()),0>h&&(h=e);var t=e-h,r=0<d?d:1e3/60,n=Math.max(0,t-r);h=e;for(var i=function(i){var o=g[i];v.forEachSimple((function(a){var s;a.paused||a.removed||(0===i&&a.ticks++,a.phases[o]&&(y.time=e,y.deltaTime=0===a.ticks?0:t,y.elapsedFrameTime=performance.now()-e,y.frameDuration=r-n,null===(s=a.phases[o])||void 0===s||s.call(a,y)))}))},o=0;o<g.length;o++)i(o);u()}},t.schedule=function(e){return e=new p(e),m.push(e),t.debug.willDispatch||(t.debug.willDispatch=!0,n(l)),e},t.addFrameTask=function(e){return e=new f(e),v.push(e),t.debug.rafId||(h=-1,t.debug.rafId=s()),new x(e)},t.setFrameDuration=function(e){d=Math.max(0,e)},t.requestNextFrame=s;var _=new i;t.waitTicks=function(e,t){void 0===e&&(e=1);var r=o.createResolver(),i=function(){o.isAborted(t)?r.reject(o.createAbortError()):0===e?r():(--e,n((function(){return i()})))};return i(),r.promise}}))},"esri/core/nextTick":function(){define(["require","exports","./global","@dojo/framework/shim/Promise"],(function(e,t,r){function n(e){o.push(e),1===o.length&&i((function(){for(var e=0,t=a;e<t.length;e++)(0,t[e])();for(e=o.slice(),t=o.length=0;t<e.length;t++)(0,e[t])()}))}var i=r.queueMicrotask?r.queueMicrotask:function(e){r.Promise.resolve().then(e)},o=[],a=[];return function(e){e.before=function(e){return a.push(e),{remove:function(){a=a.filter((function(t){return t!==e}))}}}}(n||(n={})),n}))},"esri/core/PooledArray":function(){define(["require","exports","tslib","./arrayUtils","./HeapSort"],(function(e,t,r,n,i){return function(){function e(e){var t=this;this.data=[],this._length=0,this._allocator=void 0,this._deallocator=function(){return null},this._shrink=function(){},this._hint=new n.PositionHint,e&&(e.initialSize&&(this.data=Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=function(){t.data.length>1.5*t.length&&(t.data.length=Math.floor(1.1*t.length))}))}return e.prototype.toArray=function(){return this.data.slice(0,this.length)},e.prototype.getItemAt=function(e){if(!(0>e||e>=this._length))return this.data[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)if(this._allocator)for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=e;else{if(this._deallocator)for(var t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.length=0},e.prototype.prune=function(){this.clear(),this.data=[]},e.prototype.push=function(e){this.data[this._length++]=e},e.prototype.pushArray=function(e,t){void 0===t&&(t=e.length);for(var r=0;r<t;r++)this.data[this._length++]=e[r]},e.prototype.fill=function(e,t){for(var r=0;r<t;r++)this.data[this._length++]=e},e.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));var e=this.data[this._length];return++this._length,e},e.prototype.pop=function(){if(0!==this.length){var e=this.data[this.length-1];return--this.length,this._shrink(),e}},e.prototype.iterableRemoveMany=function(e){var t,i;return r.__generator(this,(function(r){switch(r.label){case 0:t=[],i=0,r.label=1;case 1:return!(i<this.length)||i>=this.length?[3,4]:(0>n.indexOf(e.data,this.data[i],e.length,e._hint)&&t.push(this.data[i]),[4]);case 2:r.sent(),r.label=3;case 3:return++i,[3,1];case 4:return this.data=t,this._length=this.data.length,[2]}}))},e.prototype.remove=function(e){var t=n.indexOf(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),--this.length,e},e.prototype.removeUnordered=function(e){return void 0!==(e=n.removeUnordered(this.data,e,this.length,this._hint))&&--this.length,e},e.prototype.removeUnorderedIndex=function(e){if(!(e>=this.length||0>e))return this.swapElements(e,this.length-1),this.pop()},e.prototype.removeUnorderedMany=function(e,t,r){void 0===t&&(t=e.length),this.length=n.removeUnorderedMany(this.data,e,this.length,t,this._hint,r)},e.prototype.front=function(){if(0!==this.length)return this.data[0]},e.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]},e.prototype.swapElements=function(e,t){var r;e>=this.length||t>=this.length||e===t||(this.data[e]=(r=[this.data[t],this.data[e]])[0],this.data[t]=r[1])},e.prototype.sort=function(e){i.sort(this.data,0,this.length,e)},e.prototype.iterableSort=function(e){return i.iterableSort(this.data,0,this.length,e)},e.prototype.some=function(e,t){for(var r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1},e.prototype.filterInPlace=function(e,t){for(var r=0,n=0;n<this._length;++n){var i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this},e.prototype.forEachSimple=function(e,t){for(var r=this.length,n=this.data,i=0;i<r;++i)e.call(t,n[i],i,n)},e.prototype.iterableForEach=function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.length?[4,this.data[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return++e,[3,1];case 4:return[2]}}))},e.prototype.map=function(e,t){for(var r=Array(this.length),n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r},e.prototype.reduce=function(e,t){for(var r=0;r<this.length;++r)t=e(t,this.data[r],r,this.data);return t},e}()}))},"esri/core/HeapSort":function(){define(["require","exports","tslib"],(function(e,t,r){var n;return function(e){function t(e,t,r,n){for(var i=t,o=r>>>1,a=e[i-1];t<=o;){(t=i<<1)<r&&0>n(e[t-1],e[t])&&++t;var s=e[t-1];if(0>=n(s,a))break;e[i-1]=s,i=t}e[i-1]=a}function n(e,t){return e<t?-1:e>t?1:0}e.sort=function(e,r,i,o){void 0===r&&(r=0),void 0===i&&(i=e.length),void 0===o&&(o=n);for(var a=i>>>1;a>r;a--)t(e,a,i,o);var s=r+1;for(a=i-1;a>r;a--)i=e[r],e[r]=e[a],e[a]=i,t(e,s,a,o)},e.iterableSort=function(e,i,o,a){var s,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:void 0===i&&(i=0),void 0===o&&(o=e.length),void 0===a&&(a=n),s=o>>>1,r.label=1;case 1:return s>i?(t(e,s,o,a),[4]):[3,4];case 2:r.sent(),r.label=3;case 3:return s--,[3,1];case 4:u=i+1,s=o-1,r.label=5;case 5:return s>i?(l=e[i],e[i]=e[s],e[s]=l,t(e,u,s,a),[4]):[3,8];case 6:r.sent(),r.label=7;case 7:return s--,[3,5];case 8:return[2]}}))}}(n||(n={})),n}))},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),(function(e,t,r,n,i,o,a){function s(e,t){return function(r){return r=+e(r),null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureRange=t.propertyJSONMeta=t.property=void 0;var u=r.getLogger("esri.core.accessorSupport.decorators.property");t.property=function(e){return void 0===e&&(e={}),function(t,r,l){if(t===Function.prototype)throw Error("Inappropriate use of @property() on a static field: "+t.name+"."+r+". Accessor does not support static properties.");var c=o.getOwnPropertyMetadata(t,r);if(l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&u.warn('@property() will redefine the value of "'+r+'" on "'+t.constructor.name+'" already defined in the metadata',e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly),t=e.aliasOf){var f,p="string"==typeof t?t:t.source;t="string"==typeof t?null:!0===t.overridable,c.dependsOn=[p],c.get=function(){var e=i.default(this,p);if("function"==typeof e){f||(f=p.split(".").slice(0,-1).join("."));var t=i.default(this,f);t&&(e=e.bind(t))}return e},c.readOnly||(c.set=t?function(e){void 0!==e?this._override(r,e):this._clearOverride(r)}:function(e){a.default(this,p,e)})}t=e.type,l=e.types,c.cast||(t?c.cast=function(e){var t=0,r=e;if(n.isLongFormType(e))return n.ensureLongFormType(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;return n.isOneOf(r)?0===t?n.ensureOneOf(r):n.ensureNArrayTyped(n.ensureOneOf(r),t):1===t?n.ensureArray(r):1<t?n.ensureNArray(r,t):e.from?e.from:n.default(e)}(t):l&&(c.cast=Array.isArray(l)?n.ensureArrayTyped(n.ensureOneOfType(l[0])):n.ensureOneOfType(l))),e.range&&(c.cast=s(c.cast,e.range)),o.mergeProperty(c,e)}},t.propertyJSONMeta=function(e,t,r){return(e=o.getOwnPropertyMetadata(e,r)).json||(e.json={}),e=e.json,void 0!==t&&(e.origins||(e.origins={}),e.origins[t]||(e.origins[t]={}),e=e.origins[t]),e},t.ensureRange=s}))},"esri/core/accessorSupport/decorators/subclass":function(){define("require exports tslib ../../has ../extensions ../metadata".split(" "),(function(e,t,r,n,i,o){function a(e,t){return null==t.get?void 0===t.value?function(){return this.__accessor__.store.get(e)}:function(){var r=this.__accessor__.store;return r.has(e)?r.get(e):t.value}:function(){return this.__accessor__.getterComputed(e,t)}}function s(e){var t=(s=e.prototype).declaredClass,r=o.getOwnClassMetadata(s).properties;i.processClassMetadatas(r,t);for(var n={},s=function(e){var t=r[e];n[e]={enumerable:!0,configurable:!0,get:a(e,t),set:function(r){var n=this.__accessor__;if(void 0===n)Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r});else if(!Object.isFrozen(this)){if(n.initialized&&t.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+e+"' of "+this.declaredClass);if(2===n.lifecycle&&t.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+e+"' of "+this.declaredClass);n.set(e,r)}}}},u=(t=0,Object.getOwnPropertyNames(r));t<u.length;t++)s(u[t]);Object.defineProperties(e.prototype,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.processClass=t.subclass=void 0;var u=new Set,l=new Set;t.subclass=function(e){return function(t){t.prototype.declaredClass=e,i.processPrototypeMetadatas(o.getOwnClassMetadata(t.prototype).properties,e),s(t);for(var n=[],a=[],c=t.prototype;c;)c.hasOwnProperty("initialize")&&!u.has(c.initialize)&&(u.add(c.initialize),n.push(c.initialize)),c.hasOwnProperty("destroy")&&!l.has(c.destroy)&&(l.add(c.destroy),a.push(c.destroy)),c=Object.getPrototypeOf(c);return u.clear(),l.clear(),(c=function(e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if((i=e.apply(this,r)||this).constructor===t&&"function"==typeof i.postscript){if(n.length&&Object.defineProperty(i,"initialize",{enumerable:!1,configurable:!0,value:function(){for(var e=n.length-1;0<=e;e--)n[e].call(this)}}),a.length){var o=!1;Object.defineProperty(i,"destroy",{enumerable:!1,configurable:!0,value:function(){if(!o){o=!0;for(var e=0;e<a.length;e++)a[e].call(this)}}})}i.postscript.apply(i,r)}return i}return r.__extends(t,e),t}(t)).__accessorMetadata__=o.getOwnClassMetadata(t.prototype),c.prototype.declaredClass=e,c}},t.processClass=s}))},"esri/core/watchUtils":function(){define(["require","exports","./events","./lang","./promiseUtils"],(function(e,t,r,n,i){function o(e,t,r,n,i){if(i=e.watch(t,(function(t,i,o,a){r&&!r(t)||null==n||n.call(e,t,i,o,a)}),i),Array.isArray(t))for(var o=0;o<t.length;o++){var a=e.get(t[o]);r&&r(a)&&(null==n||n.call(e,a,a,t,e))}else a=e.get(t),r&&r(a)&&(null==n||n.call(e,a,a,t,e));return i}function a(e,t,r,n,a){function s(){c&&(c.remove(),c=null)}var u="function"==typeof n?n:null,l="object"==typeof n?n:null;"boolean"==typeof n&&(a=n);var c,f=!1,p=i.createDeferred();return i.onAbort(l,(function(){s(),p.reject(i.createAbortError())})),n={then:p.promise.then.bind(p.promise),catch:p.promise.catch.bind(p.promise),remove:s},Object.freeze(n),c=o(e,t,r,(function(t,r,n,i){f=!0,s(),u&&u.call(e,t,r,n,i),p.resolve({value:t,oldValue:r,propertyName:n,target:i})}),a),f&&s(),n}function s(e){return!!e}function u(e){return!e}function l(e){return!0===e}function c(e){return!1===e}function f(e){return void 0!==e}function p(e){return void 0===e}function h(e,t,r,n){var i=Array.isArray(t)?t:-1<t.indexOf(",")?t.split(","):[t];for(t=e.watch(t,r,n),n=0;n<i.length;n++){var o=i[n].trim().replace(d,"$1"),a=e.get(o);r.call(e,a,a,o,e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.on=t.pausable=t.whenEqualOnce=t.whenEqual=t.whenUndefinedOnce=t.whenUndefined=t.whenDefinedOnce=t.whenDefined=t.whenFalseOnce=t.whenFalse=t.whenTrueOnce=t.whenTrue=t.whenNotOnce=t.whenNot=t.whenOnce=t.when=t.once=t.watch=t.init=t.whenValidOnce=void 0,t.whenValidOnce=a;var d=/\?(\.|$)/g;t.init=h,t.watch=function(e,t,r,n){return e.watch(t,r,n)},t.once=function(e,t,r,n){return a(e,t,null,r,n)},t.when=function(e,t,r,n){return o(e,t,s,r,n)},t.whenOnce=function(e,t,r,n){return a(e,t,s,r,n)},t.whenNot=function(e,t,r,n){return o(e,t,u,r,n)},t.whenNotOnce=function(e,t,r,n){return a(e,t,u,r,n)},t.whenTrue=function(e,t,r,n){return o(e,t,l,r,n)},t.whenTrueOnce=function(e,t,r,n){return a(e,t,l,r,n)},t.whenFalse=function(e,t,r,n){return o(e,t,c,r,n)},t.whenFalseOnce=function(e,t,r,n){return a(e,t,c,r,n)},t.whenDefined=function(e,t,r,n){return o(e,t,f,r,n)},t.whenDefinedOnce=function(e,t,r,n){return a(e,t,f,r,n)},t.whenUndefined=function(e,t,r,n){return o(e,t,p,r,n)},t.whenUndefinedOnce=function(e,t,r,n){return a(e,t,p,r,n)},t.whenEqual=function(e,t,r,i,a){return o(e,t,(function(e){return n.equals(r,e)}),i,a)},t.whenEqualOnce=function(e,t,r,i,o){return a(e,t,(function(e){return n.equals(r,e)}),i,o)},t.pausable=function(e,t,r,n){var i=!1,o=e.watch(t,(function(t,n,o,a){i||r.call(e,t,n,o,a)}),n);return{remove:function(){o.remove()},pause:function(){i=!0},resume:function(){i=!1}}},t.on=function(e,t,n,i,o,a,s){function u(t){var r=l[t];r&&(a&&a(r.target,t,e,n),r.handle.remove(),delete l[t])}var l={},c=h(e,t,(function(t,a,s){u(s),r.isEventTarget(t)&&(l[s]={handle:r.on(t,n,i),target:t},o&&o(t,s,e,n))}),s);return{remove:function(){for(var e in c.remove(),l)u(e)}}}}))},"esri/core/accessorSupport/decorators":function(){define("require exports tslib ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer ./decorators/persistable".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p,h){Object.defineProperty(t,"__esModule",{value:!0}),r.__exportStar(n,t),r.__exportStar(i,t),r.__exportStar(o,t),r.__exportStar(a,t),r.__exportStar(s,t),r.__exportStar(u,t),r.__exportStar(l,t),r.__exportStar(c,t),r.__exportStar(f,t),r.__exportStar(p,t),r.__exportStar(h,t)}))},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","tslib","./property"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.aliasOf=void 0,t.aliasOf=function(e,t){return e=t?r.__assign(r.__assign({},t),{source:e}):e,n.property({aliasOf:e})}}))},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.autoDestroy=void 0,t.autoDestroy=function(){return function(e,t){return r.getOwnClassMetadata(e).autoDestroy=!0,e[t]}}}))},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],(function(e,t,r,n){function i(e){var t="__accessorMetadata__"in e?r.ensureType(e):e;return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.push(t),"number"==typeof e[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return o.apply(this,e)}}function o(e,t,r,i){n.getOwnPropertyMetadata(e,t).cast=i}function a(e){return function(t,r){n.getOwnPropertyMetadata(t,e).cast=t[r]}}Object.defineProperty(t,"__esModule",{value:!0}),t.cast=void 0;var s=Object.prototype.toString;t.cast=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(3!==e.length||"string"!=typeof e[1]){if(1===e.length&&"[object Function]"===s.call(e[0]))return i(e[0]);if(1===e.length&&"string"==typeof e[0])return a(e[0])}}}))},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../deprecate","../../has","../../Logger"],(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.declared=void 0,t.declared=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(0<t.length)throw Error("Multi-inheritance unsupported since 4.16");return n("esri-deprecation-warnings")&&r.deprecated(i.getLogger("esri.core.accessorSupport.decorators"),"'extends declared(superclass)' syntax",{version:"4.16",see:"https://arcg.is/T8fr4"}),e}}))},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../jsonMap","./property"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.enumeration=void 0,t.enumeration=function(e,t){return void 0===t&&(t={ignoreUnknown:!0}),e=e instanceof r.JSONMap?e:new r.JSONMap(e,t),n.property({type:null!=t&&t.ignoreUnknown?e.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:e.jsonValues,read:(null==t||!t.readOnly)&&{reader:e.read},write:{writer:e.write}}})}}))},"esri/core/jsonMap":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.strict=t.JSONMap=void 0;var r=function(){function e(e,t){var r=this;void 0===t&&(t={ignoreUnknown:!1}),this.jsonToAPI=e,this.options=t,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this.invertMap(e),this.apiValues=this.getKeysSorted(this.apiToJSON),this.jsonValues=this.getKeysSorted(this.jsonToAPI),this.read=function(e){return r.fromJSON(e)},this.write=function(e,t,n){void 0!==(e=r.toJSON(e))&&(t[n]=e)},this.write.isJSONMapWriter=!0}return e.prototype.toJSON=function(e){return this.apiToJSON.hasOwnProperty(e)?this.apiToJSON[e]:this.options.ignoreUnknown?void 0:e},e.prototype.fromJSON=function(e){return this.jsonToAPI.hasOwnProperty(e)?this.jsonToAPI[e]:this.options.ignoreUnknown?void 0:e},e.prototype.invertMap=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},e.prototype.getKeysSorted=function(e){var t,r=[];for(t in e)r.push(t);return r.sort(),r},e}();t.JSONMap=r,t.strict=function(){return function(e){return new r(e,{ignoreUnknown:!0})}},t.default=r}))},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.reader=void 0,t.reader=function(e,t,i){var o,a;return void 0===t||Array.isArray(t)?(a=e,i=t,o=[void 0]):(a=t,o=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;o.forEach((function(o){(o=n.propertyJSONMeta(e,o,a)).read&&"object"!=typeof o.read&&(o.read={}),r.setDeepValue("read.reader",s[t],o),i&&(o.read.source=(o.read.source||[]).concat(i))}))}}}))},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.shared=void 0,t.shared=function(e){return function(t,r){t[r]=e}}}))},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.writer=void 0,t.writer=function(e,t,i){var o,a;return void 0===t?(a=e,o=[void 0]):"string"!=typeof t?(a=e,o=[void 0],i=t):(a=t,o=Array.isArray(e)?e:[e]),function(e,t){var s=e.constructor.prototype;o.forEach((function(o){(o=n.propertyJSONMeta(e,o,a)).write&&"object"!=typeof o.write&&(o.write={}),i&&r.setDeepValue("write.target",i,o),r.setDeepValue("write.writer",s[t],o)}))}}}))},"esri/core/accessorSupport/decorators/persistable":function(){define("require exports tslib ../../maybe ../../multiOriginJSONSupportUtils ../../urlUtils ../../uuid ../metadata ../PropertyOrigin ./property ../../../portal/support/resourceUtils ../../../support/persistableUrlUtils @dojo/framework/shim/Promise".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f){function p(e,t,a){var l=s.getOwnPropertyMetadata(t,a);return{type:String,read:function(e,t,r){return e=f.read(e,t,r),l.type===String?e:"function"==typeof l.type?new l.type({url:e}):void 0},write:{writer:function(t,s,p,g){if(g&&g.resources){var m;m=(m=n.isNone(t)?null:"string"==typeof t?t:t.url)?f.toJSON(m,r.__assign(r.__assign({},g),{verifyItemRelativeUrls:g&&g.verifyItemRelativeUrls?{writtenUrls:g.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null})):null;var v=l.type!==String&&(!i.isMultiOriginJSONMixin(this)||g&&g.origin&&this.originIdOf(a)>u.nameToId(g.origin));if(g&&g.portalItem&&n.isSome(m)&&!o.isAbsolute(m))if(v){v=g.portalItem.resourceFromPath(m);var x=y(t,m,g);c.resourceContentExtension(x)!==o.getPathExtension(v.path)?h(this,a,t,m,s,p,g,e):(d(this,a,v,x,g.resources.toUpdate),s[p]=m)}else g.resources.toKeep.push({resource:g.portalItem.resourceFromPath(m)}),s[p]=m;else g&&g.portalItem&&(n.isNone(m)||n.isSome(f.itemIdFromResourceUrl(m))||o.isBlobProtocol(m)||v)?h(this,a,t,m,s,p,g,e):s[p]=m}else s[p]="string"==typeof t?f.toJSON(t,g):t.write({},g)}}}}function h(e,t,r,i,s,u,l,f){var p=a.generateUUID();r=y(r,i,l);var h=o.join(n.get(f,"prefix"),p);f=h+"."+c.resourceContentExtension(r);var m=l.portalItem.resourceFromPath(f);o.isBlobProtocol(i)&&l.resources.pendingOperations.push(g(i).then((function(e){m.path=h+"."+c.resourceContentExtension(e),s[u]=m.itemRelativeUrl})).catch((function(){}))),d(e,t,m,r,l.resources.toAdd),s[u]=m.itemRelativeUrl}function d(e,t,r,n,i){i.push({resource:r,content:n,finish:function(r){"string"==typeof e[t]?e[t]=r.url:e[t].url=r.url}})}function y(e,t,r){return"string"==typeof e?{url:t}:new Blob([JSON.stringify(e.toJSON(r))],{type:"application/json"})}function g(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(t,r){e(["../../../request"],t,r)}))];case 1:return[4,r.sent()(t,{responseType:"blob"})];case 2:return[2,r.sent().data]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.persistable=void 0,t.persistable=function(e){var t=n.isSome(e)&&e.origins?e.origins:[void 0];return function(r,i){var o;e:if(n.isSome(e)&&"resource"===e.type)o=p(e,r,i);else{switch(n.isSome(e)&&e.type?e.type:"other"){case"other":o={read:!0,write:!0};break e;case"url":o={read:f.read,write:f.write};break e}o=void 0}for(var a=0;a<t.length;a++){var s,u=l.propertyJSONMeta(r,t[a],i);for(s in o)u[s]=o[s]}}}}))},"esri/core/multiOriginJSONSupportUtils":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMultiOriginJSONMixin=void 0,t.isMultiOriginJSONMixin=function(e){return e&&"getAtOrigin"in e&&"originOf"in e}}))},"esri/core/urlUtils":function(){define("require exports tslib ../config ./Error ./global ./Logger ./maybe ./string".split(" "),(function(e,t,r,n,i,o,a,s,u){function l(e){var t={path:null,query:null},r=new W(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,n),t.query=c(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function c(e){var t={},r=0;for(e=e.split("&");r<e.length;r++){var n=e[r];if(n){var i=n.indexOf("="),o=void 0,a=void 0;0>i?(o=decodeURIComponent(n),a=""):(o=decodeURIComponent(n.slice(0,i)),a=decodeURIComponent(n.slice(i+1))),"string"==typeof(n=t[o])&&(n=t[o]=[n]),Array.isArray(n)?n.push(a):t[o]=a}}return t}function f(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function p(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((function(r){return encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))})).join("&"):Object.keys(e).map((function(r){var n=e[r];if(null==n)return"";var i=encodeURIComponent(r)+"=";return(r=t&&t[r])?i+encodeURIComponent(r(n)):Array.isArray(n)?n.map((function(e){return f(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)})).join("&"):f(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)})).filter((function(e){return e})).join("&"):""}function h(e){var t=e.indexOf("?");return-1!==t?(H.path=e.slice(0,t),H.query=e.slice(t+1)):(H.path=e,H.query=null),H}function d(e){return(e=h(e).path)&&"/"===e[e.length-1]||(e+="/"),(e=C(e,!0)).toLowerCase()}function y(e){var t=k.proxyRules;e=d(e);for(var r=0;r<t.length;r++)if(0===e.indexOf(t[r].urlPrefix))return t[r]}function g(e){var t=(e=x(e)).indexOf("/sharing");return 0<t?e.substring(0,t):e.replace(/\/+$/,"")}function m(e,t,r){return void 0===r&&(r=!1),e=D(e),t=D(t),!(!r&&e.scheme!==t.scheme||null==e.host||null==t.host)&&e.host.toLowerCase()===t.host.toLowerCase()&&e.port===t.port}function v(e,r,n){return void 0===r&&(r=t.appBaseUrl),O(e)?n&&n.preserveProtocolRelative?e:"http"===t.appUrl.scheme&&t.appUrl.authority===b(e).slice(2)?"http:"+e:"https:"+e:I(e)?e:s.assumeNonNull(_("/"===e[0]?function(e){var t=e.indexOf("//");return-1===(t=e.indexOf("/",t+2))?e:e.slice(0,t)}(r):r,e))}function x(e){if(e=v(e=e.trim()),/^https?:\/\//i.test(e)){var t=h(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+="?"+t.query)}return R(e=e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2"))}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if((t=e.filter(s.isSome))&&t.length){if(e=[],w(t[0])){var r=t[0],n=r.indexOf("//");-1!==n&&(e.push(r.slice(0,n+1)),U.test(t[0])&&(e[0]+="/"),t[0]=r.slice(n+2))}else"/"===t[0][0]&&e.push("");for(t=t.reduce((function(e,t){return t?e.concat(t.split("/")):e}),[]),r=0;r<t.length;r++)".."===(n=t[r])&&0<e.length&&".."!==e[e.length-1]?e.pop():(!n&&r===t.length-1||n&&("."!==n||0===e.length))&&e.push(n);return e.join("/")}}function b(e,t){if(void 0===t&&(t=!1),T(e)||E(e))return null;var r=e.indexOf("://");if(-1===r&&O(e))r=2;else{if(-1===r)return null;r+=3}return-1!==(r=e.indexOf("/",r))&&(e=e.slice(0,r)),t&&(e=C(e,!0)),e}function w(e){return O(e)||I(e)}function T(e){return null!=e&&"blob:"===e.slice(0,5)}function E(e){return"data:"===e.slice(0,5)}function S(e){if(!(e=P(e))||!e.isBase64)return null;e=atob(e.data);for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}function P(e){return(e=e.match(J))?{mediaType:e[1],isBase64:!!e[2],data:e[3]}:null}function A(e){var t=S(e);return t?(e=P(e),new Blob([t],{type:e.mediaType})):null}function O(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function I(e){return B.test(e)}function M(e){return O(e)?"https:"+e:e.replace(V,"https:")}function N(){return"https"===t.appUrl.scheme}function C(e,t){return void 0===t&&(t=!1),O(e)?e.slice(2):(e=e.replace(B,""),t&&1<e.length&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function R(e){var r=k.httpsDomains;if(!function(e){return V.test(e)||"http"===t.appUrl.scheme&&O(e)}(e))return e;var n,i=e.indexOf("/",7);if(n=(n=-1===i?e:e.slice(0,i)).toLowerCase().slice(7),F.test(n)){if(!u.endsWith(n,":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"!==t.appUrl.scheme||n!==t.appUrl.authority||q.test(e)?((N()&&n===t.appUrl.authority||r&&r.some((function(e){return n===e||u.endsWith(n,"."+e)}))||N()&&!y(e))&&(e=M(e)),e):e}function D(e){return"string"==typeof e?new W(v(e)):(e.scheme||(e.scheme=t.appUrl.scheme),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getPathExtension=t.removeQueryParameter=t.addQueryParameters=t.addQueryParameter=t.removeQueryParameters=t.isSVG=t.changeDomain=t.removeTrailingSlash=t.removeFile=t.isAppHTTPS=t.toHTTPS=t.toHTTP=t.hasProtocol=t.isProtocolRelative=t.downloadDataAsFile=t.dataToBlob=t.makeData=t.dataComponents=t.dataToArrayBuffer=t.isDataProtocol=t.isBlobProtocol=t.isAbsolute=t.getOrigin=t.join=t.normalize=t.makeRelative=t.makeAbsolute=t.isTrustedServer=t.hasSameOrigin=t.getInterceptor=t.hasSamePortal=t.getProxyRule=t.addProxyRule=t.addProxy=t.getProxyUrl=t.objectToQuery=t.queryToObject=t.urlToObject=t.appBaseUrl=t.trustedServersUrlCache=t.appUrl=t.Url=void 0;var L=a.getLogger("esri.core.urlUtils"),k=n.request,B=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,V=/^\s*http:/i,j=/^\s*https:/i,U=/^\s*file:/i,F=/:\d+$/,q=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,G=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,z=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,W=function(){function e(e){void 0===e&&(e=""),this.uri=e,this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null,e=s.assumeNonNull(this.uri.match(G)),this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),null!=this.authority&&(e=s.assumeNonNull(this.authority.match(z)),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}return e.prototype.toString=function(){return this.uri},e}();t.Url=W,t.appUrl=new W(n.applicationUrl),t.trustedServersUrlCache={},t.appBaseUrl=function(){var e=(e=s.assumeNonNull(t.appUrl.path)).substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return t.appUrl.scheme+"://"+t.appUrl.host+(null!=t.appUrl.port?":"+t.appUrl.port:"")+e}(),t.urlToObject=l,t.queryToObject=c,t.objectToQuery=p,t.getProxyUrl=function(e){void 0===e&&(e=!1);var r,n=k.proxyUrl;if("string"==typeof e?(r=j.test(r=e)||"https"===t.appUrl.scheme&&O(r),(e=y(e))&&(n=e.proxyUrl)):r=!!e,!n)throw L.warn("esri/config: esriConfig.request.proxyUrl is not set."),new i("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");return r&&N()&&(n=M(n)),l(n)},t.addProxy=function(e){var t,n=y(e),i=void 0;return n&&(i=(t=h(n.proxyUrl)).path,t=t.query?c(t.query):null),i&&(e=i+"?"+(n=l(e)).path,(i=p(r.__assign(r.__assign({},t),n.query)))&&(e=e+"?"+i)),e};var H={path:"",query:""};t.addProxyRule=function(e){e={proxyUrl:e.proxyUrl,urlPrefix:d(e.urlPrefix)};for(var t=k.proxyRules,r=e.urlPrefix,n=t.length,i=0;i<t.length;i++){var o=t[i].urlPrefix;if(0===r.indexOf(o)){if(r.length===o.length)return-1;n=i;break}0===o.indexOf(r)&&(n=i+1)}return t.splice(n,0,e),n},t.getProxyRule=y,t.hasSamePortal=function(e,t){return e=g(e),t=g(t),C(e)===C(t)},t.getInterceptor=function(e){var t=function(t){return null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&u.startsWith(e,t)},r=k.interceptors;if(r)for(var n=0;n<r.length;n++){var i=r[n];if(Array.isArray(i.urls)){if(i.urls.some(t))return i}else if(t(i.urls))return i}return null},t.hasSameOrigin=m,t.isTrustedServer=function(e){if("string"==typeof e){if(!w(e))return!0;e=D(e)}if(m(e,t.appUrl))return!0;for(var r=k.trustedServers||[],n=0;n<r.length;n++){var i;t.trustedServersUrlCache[i=r[n]]||(t.trustedServersUrlCache[i]=I(i)||O(i)?[new W(v(i))]:[new W("http://"+i),new W("https://"+i)]),i=t.trustedServersUrlCache[i];for(var o=0;o<i.length;o++)if(m(e,i[o]))return!0}return!1},t.makeAbsolute=v,t.makeRelative=function(e,r,n){if(void 0===r&&(r=t.appBaseUrl),!w(e))return e;var i=x(e),o=i.toLowerCase();if(r=x(r).toLowerCase().replace(/\/+$/,""),(n=n?x(n).toLowerCase().replace(/\/+$/,""):null)&&0!==r.indexOf(n))return e;for(var a=function(e,t,r){return-1===(r=e.indexOf(t,r))?e.length:r},s=a(o,"/",o.indexOf("//")+2),u=-1;o.slice(0,s+1)===r.slice(0,s)+"/"&&(u=s+1,s!==o.length);)s=a(o,"/",s+1);if(-1===u||n&&u<n.length)return e;if(e=i.slice(u),0<(i=r.slice(u-1).replace(/[^/]+/g,"").length))for(o=0;o<i;o++)e="../"+e;else e="./"+e;return e},t.normalize=x,t.join=_,t.getOrigin=b,t.isAbsolute=w,t.isBlobProtocol=T,t.isDataProtocol=E,t.dataToArrayBuffer=S;var J=/^data:(.*?)(;base64)?,(.*)$/;t.dataComponents=P,t.makeData=function(e){return e.isBase64?"data:"+e.mediaType+";base64,"+e.data:"data:"+e.mediaType+","+e.data},t.dataToBlob=A,t.downloadDataAsFile=function(e,t){var r;e:if(r=document.createElement("a"),"download"in r){var n=null;if(o.URL&&o.URL.createObjectURL){if(!(n=A(e))){r=!1;break e}n=o.URL.createObjectURL(n)}r.download=t,r.href=n||e,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),n&&o.URL.revokeObjectURL(n),r=void 0}else r=!1;r||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(A(e),t)},t.isProtocolRelative=O,t.hasProtocol=I,t.toHTTP=function(e){return O(e)?"http:"+e:e.replace(j,"http:")},t.toHTTPS=M,t.isAppHTTPS=N,t.removeFile=function(e){var t=0;if(w(e)){var r=e.indexOf("//");-1!==r&&(t=r+2)}return(r=e.lastIndexOf("/"))<t?e:e.slice(0,r+1)},t.removeTrailingSlash=function(e){return e.replace(/\/+$/,"")},t.changeDomain=function(e,t,r){if(!(t&&r&&e&&w(e)))return e;var n=e.indexOf("//"),i=e.indexOf("/",n+2),o=e.indexOf(":",n+2);return i=Math.min(0>i?e.length:i,0>o?e.length:o),e.slice(n+2,i).toLowerCase()!==t.toLowerCase()?e:""+(t=e.slice(0,n+2))+r+(e=e.slice(i))},t.isSVG=function(e){return X.test(e)},t.removeQueryParameters=function(e,t){e=l(e);var r=Object.keys(e.query||{});return 0<r.length&&t&&t.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+r.join(", ")+"."),e.path},t.addQueryParameter=function(e,t,r){var n=(e=l(e)).query||{};return n[t]=String(r),e.path+"?"+p(n)},t.addQueryParameters=function(e,t){var r,n=(e=l(e)).query||{};for(r in t)n[r]=t[r];return(t=p(n))?e.path+"?"+t:e.path},t.removeQueryParameter=function(e,t){var r,n=(r=l(e)).path;return(r=r.query)?(delete r[t],(e=p(r))?n+"?"+e:n):e},t.getPathExtension=function(e){return s.isNone(e)?null:(e=e.match(Z))?e[1]:null};var Z=/.*?\.([^\/]*)$/,X=/(^data:image\/svg|\.svg$)/i}))},"esri/core/uuid":function(){define(["require","exports","./global"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=void 0,t.generateUUID=function(){var e=n.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var t=function(t){return e[t].toString(16)};return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)};var n=r.crypto||r.msCrypto}))},"esri/portal/support/resourceUtils":function(){define("require exports tslib ../../request ../../core/Error ../../core/maybe ../../core/urlUtils ../../core/urlUtils".split(" "),(function(e,t,r,n,i,o,a,s){function u(e){var t=e.lastIndexOf("/");return-1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function l(e){var t;return t=s.getPathExtension(e),t=o.isNone(t)?[e,""]:[e.slice(0,e.length-t.length-1),"."+t],e=t[1],[(t=u(t[0]))[0],t[1],e]}function c(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return e instanceof Blob?[2,e]:[4,n(e.url,{responseType:"blob"})];case 1:return[2,t.sent().data]}}))}))}function f(e){return e instanceof Blob?e.type:(e=s.getPathExtension(e.url),h[e]||y)}Object.defineProperty(t,"__esModule",{value:!0}),t.resourceContentExtension=t.resourceContentType=t.getSiblingOfSameTypeI=t.getSiblingOfSameType=t.contentToBlob=t.splitPrefixFileNameAndExtension=t.removeAllResources=t.removeResource=t.addOrUpdateResource=t.fetchResources=void 0,t.fetchResources=function(e,t,n){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){var i,s,u,l,c,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load(n)];case 1:return r.sent(),i=a.join(e.itemUrl,"resources"),f={query:{start:void 0===(s=t.start)?1:s,num:void 0===(u=t.num)?10:u,sortOrder:void 0===(l=t.sortOrder)?"asc":l,sortField:void 0===(c=t.sortField)?"created":c},signal:o.get(n,"signal")},[4,e.portal._request(i,f)];case 2:return[2,{total:(p=r.sent()).total,nextStart:p.nextStart,resources:p.resources.map((function(t){return{created:new Date(t.created),size:t.size,resource:e.resourceFromPath(t.resource)}}))}]}}))}))},t.addOrUpdateResource=function(e,t,n,s){return r.__awaiter(this,void 0,void 0,(function(){var l,f,p,h,d,y;return r.__generator(this,(function(r){switch(r.label){case 0:if(!e.hasPath())throw new i("portal-item-resource-"+t+":invalid-path","Resource does not have a valid path");return[4,e.portalItem.load(s)];case 1:return r.sent(),l=a.join(e.portalItem.userItemUrl,"add"===t?"addResources":"updateResources"),f=u(e.path),p=f[0],h=f[1],[4,c(n)];case 2:return d=r.sent(),y=new FormData,p&&"."!==p&&y.append("resourcesPrefix",p),y.append("fileName",h),y.append("file",d,h),y.append("f","json"),o.isSome(s)&&s.access&&y.append("access",s.access),[4,e.portalItem.portal._request(l,{method:"post",body:y,signal:o.get(s,"signal")})];case 3:return r.sent(),[2,e]}}))}))},t.removeResource=function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var s;return r.__generator(this,(function(r){switch(r.label){case 0:if(!t.hasPath())throw new i("portal-item-resources-remove:invalid-path","Resource does not have a valid path");return[4,e.load(n)];case 1:return r.sent(),s=a.join(e.userItemUrl,"removeResources"),[4,e.portal._request(s,{method:"post",query:{resource:t.path},signal:o.get(n,"signal")})];case 2:return r.sent(),t.portalItem=null,[2]}}))}))},t.removeAllResources=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.load(t)];case 1:return r.sent(),n=a.join(e.userItemUrl,"removeResources"),[2,e.portal._request(n,{method:"post",query:{deleteAll:!0},signal:o.get(t,"signal")})]}}))}))},t.splitPrefixFileNameAndExtension=l,t.contentToBlob=c,t.getSiblingOfSameType=function(e,t){if(!e.hasPath())return null;var r=l(e.path);return e.portalItem.resourceFromPath(a.join(r[0],t+r[2]))},t.getSiblingOfSameTypeI=function(e,t){if(!e.hasPath())return null;var r=l(e.path);return e.portalItem.resourceFromPath(a.join(r[0],t+r[2]))},t.resourceContentType=f,t.resourceContentExtension=function(e){return d[f(e)]||g};var p,h={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"},d={};for(p in h)d[h[p]]=p;var y="text/plain",g=d[y]}))},"esri/request":function(){define("require exports tslib ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p,h){function d(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,u,f,h;return r.__generator(this,(function(d){switch(d.label){case 0:return n=p.isDataProtocol(e),(i=p.isBlobProtocol(e))||n||(e=p.normalize(e)),o={url:e,requestOptions:r.__assign({},l.unwrap(t))},(a=p.getInterceptor(e))?[4,w(a,o)]:[3,2];case 1:if(null!=(u=d.sent()))return[2,{data:u,getHeader:R,requestOptions:o.requestOptions,url:o.url}];a.after||a.error||(a=null),d.label=2;case 2:if(e=o.url,"image"===(t=o.requestOptions).responseType){if(s("host-webworker"))throw g("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),o)}else if(n)throw g("request:invalid-parameters",Error("Data URLs are not supported for responseType = "+t.responseType),o);if("head"===t.method){if(t.body)throw g("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),o);if(n||i)throw g("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),o)}return[4,m()];case 3:return d.sent(),A?[2,A.execute(e,t)]:(f=c.createAbortController(),c.onAbort(t,(function(){return f.abort()})),[4,E({controller:f,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:o,redoRequest:!1,useIdentity:O.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1})]);case 4:return h=d.sent(),a&&a.after&&a.after(h),[2,h]}}))}))}function y(e){return!(e=p.getOrigin(e))||f.endsWith(e,".arcgis.com")||-1!==d._corsServers.indexOf(e)||p.isTrustedServer(e)}function g(e,t,r,n){var i="Error",a={url:r.url,requestOptions:r.requestOptions,getHeader:R,ssl:!1};if(t instanceof o)return t.details?(t.details=u.clone(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=a,t;if(t){r=n&&function(e){return n.headers.get(e)};var s=n&&n.status,l=t.message;l&&(i=l),r&&(a.getHeader=r),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,a.messages="string"==typeof t.details?[t.details]:t.details}return c.isAbortError(t)?c.createAbortError():new o(e,i,a)}function m(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return s("host-webworker")?A?[3,2]:[4,new Promise((function(t,r){e(["./core/workers/request"],t,r)}))]:[3,3];case 1:A=r.sent(),r.label=2;case 2:return[3,6];case 3:return d._abortableFetch?[3,6]:s("esri-abortable-fetch")?(d._abortableFetch=a.fetch.bind(a),[3,6]):[3,4];case 4:return t=d,[4,new Promise((function(t,r){e(["whatwg-fetch"],t,r)}))];case 5:t._abortableFetch=r.sent().fetch,r.label=6;case 6:return[2]}}))}))}function v(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return i.id?[3,2]:[4,new Promise((function(t,r){e(["./identity/IdentityManager"],t,r)}))];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}function x(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,s,u,l,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:return t=e.params.url,o=e.controller.signal,s=(n=e.params.requestOptions).body,f=l=u=null,I&&"HTMLFormElement"in a&&(s instanceof FormData?u=s:s instanceof HTMLFormElement&&(l=s,u=new FormData(l))),"string"==typeof s&&(f=s),e.fetchOptions={cache:n.cacheBust&&!d._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(u||f)&&(e.fetchOptions.body=u||f),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query&&n.query.token||u&&u.get&&u.get("token")||l&&l.elements.token),!e.useIdentity||e.hasToken||e.credentialToken||_(t)||c.isAborted(o)?[3,11]:(p=void 0,"immediate"!==n.authMode?[3,3]:[4,v()]);case 1:return r.sent(),[4,i.id.getCredential(t,{signal:o})];case 2:return p=r.sent(),e.credential=p,[3,10];case 3:return"no-prompt"!==n.authMode?[3,9]:[4,v()];case 4:r.sent(),r.label=5;case 5:return r.trys.push([5,7,,8]),[4,i.id.getCredential(t,{prompt:!1,signal:o})];case 6:return p=r.sent(),e.credential=p,[3,8];case 7:return r.sent(),[3,8];case 8:return[3,10];case 9:i.id&&(p=i.id.findCredential(t)),r.label=10;case 10:p&&(e.credentialToken=p.token,e.useSSL=!!p.ssl),r.label=11;case 11:return[2]}}))}))}function _(e){return C.some((function(t){return t.test(e)}))}function b(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,a,u,l,f,h,m,v,x,_,b,w,E,S,A,M,N,C,R,D;return r.__generator(this,(function(L){switch(L.label){case 0:if(n=e.params.requestOptions,o=e.fetchOptions,a=p.isBlobProtocol(t=e.params.url)||p.isDataProtocol(t),u=n.responseType||"json",l=a?0:null!=n.timeout?n.timeout:O.timeout,f=!1,!a){if(e.useSSL&&(t=p.toHTTPS(t)),n.cacheBust&&"default"===o.cache&&(t=p.addQueryParameter(t,"request.preventCache",Date.now())),h=r.__assign({},n.query),e.credentialToken&&(h.token=e.credentialToken),m=p.objectToQuery(h),s("esri-url-encodes-apostrophe")&&(m=m.replace(/'/g,"%27")),v=t.length+1+m.length,x=void 0,f="post"===n.method||!!n.body||v>O.maxUrlLength,(_=n.useProxy||!!p.getProxyRule(t))&&(b=p.getProxyUrl(t),x=b.path,!f&&x.length+1+v>O.maxUrlLength&&(f=!0),b.query&&(h=r.__assign(r.__assign({},b.query),h))),"HEAD"===o.method&&(f||_)){if(f){if(v>O.maxUrlLength)throw g("request:invalid-parameters",Error("URL exceeds maximum length"),e.params);throw g("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),e.params)}if(_)throw g("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),e.params)}f?(o.method="POST",n.body?t=p.addQueryParameters(t,h):(o.body=p.objectToQuery(h),o.headers["Content-Type"]="application/x-www-form-urlencoded")):t=p.addQueryParameters(t,h),_&&(e.useProxy=!0,t=x+"?"+t),h.token&&I&&o.body instanceof FormData&&((w=o.body).set?w.set("token",h.token):w.append("token",h.token)),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:(p.isTrustedServer(t)||i.id&&(E=i.id.findServerInfo(t))&&E.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(o.credentials="include")}S=0,A=!1,0<l&&(S=setTimeout((function(){A=!0,e.controller.abort()}),l)),L.label=1;case 1:return L.trys.push([1,18,19,20]),"image"!==n.responseType||"default"!==o.cache||"GET"!==o.method||f||function(e){if(e)for(var t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)if(e[r[t]])return!0;return!1}(n.headers)||!a&&!e.useProxy&&O.proxyUrl&&!y(t)?[3,3]:[4,P(t,e)];case 2:return N=L.sent(),[3,17];case 3:return[4,d._abortableFetch(t,o)];case 4:if(M=L.sent(),e.useProxy||function(e){p.isBlobProtocol(e)||p.isDataProtocol(e)||(e=p.getOrigin(e))&&-1===d._corsServers.indexOf(e)&&d._corsServers.push(e)}(t),!M.ok||"HEAD"===o.method)return[3,17];switch(u){case"array-buffer":return[3,5];case"blob":case"image":return[3,7]}return[3,9];case 5:return[4,M.arrayBuffer()];case 6:return N=L.sent(),[3,11];case 7:return[4,M.blob()];case 8:return N=L.sent(),[3,11];case 9:return[4,M.text()];case 10:return N=L.sent(),[3,11];case 11:if(S&&(clearTimeout(S),S=0),"json"===u||"xml"===u||"document"===u)if(N)switch(u){case"json":N=JSON.parse(N);break;case"xml":N=T(N,"application/xml");break;case"document":N=T(N,"text/html")}else N=null;if(!N)return[3,17];if("array-buffer"!==u&&"blob"!==u)return[3,15];if(C=M.headers.get("Content-Type"),!(/application\/json|text\/plain/i.test(C)&&750>=N["blob"===u?"size":"byteLength"]))return[3,15];L.label=12;case 12:return L.trys.push([12,14,,15]),[4,new Response(N).json()];case 13:return(R=L.sent()).error&&(N=R),[3,15];case 14:return L.sent(),[3,15];case 15:return"image"===u&&N instanceof Blob?[4,P(URL.createObjectURL(N),e,!0)]:[3,17];case 16:N=L.sent(),L.label=17;case 17:return[3,20];case 18:if("AbortError"===(D=L.sent()).name){if(A)throw Error("Timeout exceeded");throw c.createAbortError("Request canceled")}if(!(!M&&D instanceof TypeError&&O.proxyUrl)||n.body||"post"===n.method||"head"===n.method||e.useProxy)throw D;return e.redoRequest=!0,p.addProxyRule({proxyUrl:O.proxyUrl,urlPrefix:p.removeFile(p.urlToObject(t).path)}),[3,20];case 19:return S&&clearTimeout(S),[7];case 20:return[2,[M,N]]}}))}))}function w(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(null!=e.responseData)return[2,e.responseData];if(e.headers&&(t.requestOptions.headers=r.__assign(r.__assign({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=r.__assign(r.__assign({},t.requestOptions.query),e.query)),!e.before)return[3,5];i=n=void 0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.before(t)];case 2:return i=s.sent(),[3,4];case 3:return a=s.sent(),n=g("request:interceptor",a,t),[3,4];case 4:if((i instanceof Error||i instanceof o)&&(n=g("request:interceptor",i,t)),n)throw e.error&&e.error(n),n;return[2,i];case 5:return[2]}}))}))}function T(e,t){var r;try{r=(new DOMParser).parseFromString(e,t)}catch(n){}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}function E(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,a,s,u,l,c,f,h,d;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,x(e)];case 1:r.sent(),r.label=2;case 2:r.trys.push([2,8,,9]),r.label=3;case 3:return[4,b(e)];case 4:d=r.sent(),t=d[0],n=d[1],r.label=5;case 5:return[4,S(e,t,n)];case 6:if(!r.sent())return[3,3];r.label=7;case 7:return[3,9];case 8:throw o=r.sent(),(a=g("request:server",o,e.params,t)).details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(a),a;case 9:return/\/sharing\/rest\/(accounts|portals)\/self/i.test(s=e.params.url)&&!e.hasToken&&!e.credentialToken&&n&&n.user&&n.user.username&&!p.isTrustedServer(s)&&(u=p.getOrigin(s,!0))&&O.trustedServers.push(u),(l=e.credential)&&i.id&&(f=(c=i.id.findServerInfo(l.server))&&c.owningSystemUrl)&&(f=f.replace(/\/?$/,"/sharing"),(h=i.id.findCredential(f,l.userId))&&-1===i.id._getIdenticalSvcIdx(f,h)&&h.resources.unshift(f)),[2,{data:n,getHeader:t?function(e){return t.headers.get(e)}:R,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}]}}))}))}function S(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,l,c,f,p;return r.__generator(this,(function(r){switch(r.label){case 0:if(e.redoRequest)return e.redoRequest=!1,[2,!1];if(!t)return[2,!0];if(!t.ok)throw Error("Unable to load "+t.url+" status: "+t.status);return n&&n.error&&(o=u.mixin(Error(),n.error)),o&&(a=Number(o.code),s=o.hasOwnProperty("subcode")?Number(o.subcode):null,l=(l=o.messageCode)&&l.toUpperCase()),c=e.params.requestOptions.authMode,403===a&&(4===s||o.message&&-1<o.message.toLowerCase().indexOf("ssl")&&-1===o.message.toLowerCase().indexOf("permission"))?e.useSSL?[3,6]:(e.useSSL=!0,[2,!1]):[3,1];case 1:return!e.useIdentity||"no-prompt"===c&&498!==a||-1===M.indexOf(a)||_(e.params.url)||!(403!==a||-1===N.indexOf(l)&&(null==s||2===s&&e.credentialToken))?[3,6]:[4,v()];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.id.getCredential(e.params.url,{error:g("request:server",o,e.params),prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken})];case 4:return f=r.sent(),e.credential=f,e.credentialToken=f.token,e.useSSL=e.useSSL||f.ssl,[2,!1];case 5:return p=r.sent(),"no-prompt"===c?(e.credential=null,e.credentialToken=null,[2,!1]):(o=p,[3,6]);case 6:if(o)throw o;return[2,!0]}}))}))}function P(e,t,r){void 0===r&&(r=!1);var n=t.controller.signal,i=new Image;return i.crossOrigin=t.withCredentials?"use-credentials":"anonymous",i.alt="",i.src=e,h.loadImageAsync(i,e,r,n)}var A,O=n.request,I="FormData"in a,M=[499,498,403,401],N=["COM_0056","COM_0057","SB_0008"],C=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R=function(){return null};return d._abortableFetch=null,d._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],d}))},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],(function(e,t,r,n,i){function o(){try{return new DOMException("Aborted","AbortError")}catch(t){var e=Error();return e.name="AbortError",e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadImageAsync=void 0,t.loadImageAsync=function(e,t,a,s){return void 0===a&&(a=!1),i.create((function(u,l){if(i.isAborted(s))l(o());else{var c=function(){h(),l(Error("Unable to load "+t))},f=function(){var t=e;h(),u(t)},p=function(){if(e){var t=e;h(),t.src="",l(o())}},h=function(){r("esri-image-decode")||(e.removeEventListener("error",c),e.removeEventListener("load",f)),e=f=c=null,n.isSome(s)&&s.removeEventListener("abort",p),p=null,a&&URL.revokeObjectURL(t)};n.isSome(s)&&s.addEventListener("abort",p),r("esri-image-decode")?e.decode().then(f,c):(e.addEventListener("error",c),e.addEventListener("load",f))}}))}}))},"esri/support/persistableUrlUtils":function(){define(["require","exports","../core/maybe","../core/urlUtils"],(function(e,t,r,n){function i(e,t){var r=t&&t.url&&t.url.path;return e&&r&&(e=n.makeAbsolute(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths&&(r=n.makeRelative(e,t.portalItem.itemUrl),u.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path))),a(e,t&&t.portal)}function o(e,t){if(!e)return e;!n.isAbsolute(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);var r=n.makeAbsolute(e);if(t){var i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;i&&(i=a(i,t.portal),(r=n.makeRelative(a(r,t.portal),i,i))!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r))}return e=r,r=(t=t&&t.portal)&&!t.isPortal&&t.urlKey&&t.customBaseUrl?n.changeDomain(e,t.urlKey+"."+t.customBaseUrl,t.portalHostname):e,n.isAbsolute(r)&&(r=n.normalize(r)),r}function a(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;var r=t.urlKey+"."+t.customBaseUrl;return n.hasSameOrigin(n.appUrl,n.appUrl.scheme+"://"+r)?n.changeDomain(e,t.portalHostname,r):n.changeDomain(e,r,t.portalHostname)}Object.defineProperty(t,"__esModule",{value:!0}),t.itemIdFromResourceUrl=t.write=t.read=t.toJSON=t.fromJSON=void 0,t.fromJSON=i,t.toJSON=o,t.read=function(e,t,r){return i(e,r)},t.write=function(e,t,r,n){void 0!==(e=o(e,n))&&(t[r]=e)};var s=/\/items\/([^\/]+)\/resources\//,u=/^\.\/resources\//;t.itemIdFromResourceUrl=function(e){return e=r.isSome(e)?e.match(s):null,r.isSome(e)?e[1]:null}}))},"esri/layers/support/PromiseQueue":function(){define(["require","exports","../../core/promiseUtils"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),e=function(){function e(){this._tasks=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this._tasks.length},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this;return r.create((function(r,i){return t._tasks.push(new n(r,i,e))}))},e.prototype.unshift=function(e){var t=this;return r.create((function(r,i){return t._tasks.unshift(new n(r,i,e))}))},e.prototype.process=function(){if(0===this._tasks.length)return!1;var e=this._tasks.shift();try{var t=e.callback();t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then?t.then(e.resolve,e.reject):e.resolve(t)}catch(r){e.reject(r)}return!0},e.prototype.cancelAll=function(){for(var e=r.createAbortError(),t=0,n=this._tasks;t<n.length;t++)n[t].reject(e);this._tasks.length=0},e}(),t.default=e;var n=function(e,t,r){this.resolve=e,this.reject=t,this.callback=r}}))},"esri/views/support/debugFlags":function(){define(["require","exports","tslib","../../core/Accessor","../../core/accessorSupport/decorators"],(function(e,t,r,n,i){return new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SCHEDULER_LOG_SLOW_TASKS=!1,t}return r.__extends(t,e),r.__decorate([i.property()],t.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),r.__decorate([i.subclass("esri.views.support.DebugFlags")],t)}(n))}))},"esri/core/workers/request":function(){define(["require","exports","tslib","../Error","../global"],(function(e,t,r,n,i){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.execute=void 0,t.execute=function(e,t){void 0===t&&(t={});var a=t.responseType;a?"json"!==a&&"text"!==a&&"blob"!==a&&"array-buffer"!==a&&(a="text"):a="json";var s=t&&t.signal;return delete t.signal,i.invokeStaticMessage("request",{url:e,options:t},{signal:s}).then((function(i){var s,u,l,c=i.data;if(c&&("json"===a||"text"===a||"blob"===a)&&(s=new Blob([c]),"json"===a||"text"===a)&&(o||(o=new FileReaderSync),u=o.readAsText(s),"json"===a)){try{l=JSON.parse(u||null)}catch(f){throw i=r.__assign(r.__assign({},f),{url:e,requestOptions:t}),new n("request:server",f.message,i)}if(l.error)throw i=r.__assign(r.__assign({},l.error),{url:e,requestOptions:t}),new n("request:server",l.error.message,i)}switch(a){case"json":break;case"text":l=u;break;case"blob":l=s;break;default:l=c}return{data:l,requestOptions:t,ssl:i.ssl,url:e}}))}}))},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports tslib ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),(function(e,t,r,n,i,o){return function(){function e(){this._spriteInfo={},this._glyphInfo={}}return e.prototype.reset=function(){return this._spriteInfo={},this._glyphInfo={},n.resolve()},e.prototype.getLayers=function(){return this._layers},e.prototype.setLayers=function(e){this._layers=new o(e.style).layers},e.prototype.createTileAndParse=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,l,c,f;return r.__generator(this,(function(r){switch(r.label){case 0:for(o=e.key,a={},s=0,u=Object.keys(e.sourceName2DataAndRefKey);s<u.length;s++)a[l=u[s]]=e.sourceName2DataAndRefKey[l].refKey;c=new i(o,a,this),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.parse(e.sourceName2DataAndRefKey,t)];case 2:return[2,r.sent()];case 3:if(f=r.sent(),c.setObsolete(),c.release(),!n.isAbortError(f))throw f;return[2,null];case 4:return[2]}}))}))},e.prototype.updateStyle=function(e){this._layers=new o(e).layers},e.prototype.fetchSprites=function(e,t,r){var i=[],o=this._spriteInfo;return e.forEach((function(e){void 0===o[e]&&i.push(e)})),0===i.length?n.resolve():t.invoke("getSprites",i,{signal:r&&r.signal}).then((function(e){for(var t in e)o[t]=e[t]}))},e.prototype.getSpriteItems=function(){return this._spriteInfo},e.prototype.fetchGlyphs=function(e,t,r,i,o){var a=[],s=this._glyphInfo[t];return s?r.forEach((function(e){s[e]||a.push(e)})):(s=this._glyphInfo[t]=[],r.forEach((function(e){return a.push(e)}))),0===a.length?n.resolve():i.invoke("getGlyphs",{tileID:e,font:t,codePoints:a},o).then((function(e){for(var t=0;t<e.length;t++)e[t]&&(s[t]=e[t])}))},e.prototype.getGlyphItems=function(e){return this._glyphInfo[e]},e}()}))},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports tslib ../../../../core/maybe ./Placement ./TileParser ../../tiling/enums".split(" "),(function(e,t,r,n,i,o,a){return function(){function e(e,t,r){this.status=a.TileStatus.INITIALIZED,this.placementEngine=new i.PlacementEngine,this.tileKey=e,this.refKeys=t,this._workerTileHandler=r}return e.prototype.release=function(){this.tileKey="",this.refKeys=null,this.status=a.TileStatus.INITIALIZED,this._workerTileHandler=null},e.prototype.parse=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,u,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n.isSome(i=t&&t.signal)&&(o=function(){i.removeEventListener("abort",o),l.status=a.TileStatus.INVALID},i.addEventListener("abort",o)),[4,this._parse(e,t)];case 1:return s=r.sent(),this.status=a.TileStatus.READY,[2,{result:u={buckets:s.map((function(e){return e.serialize()}))},transferList:u.buckets}]}}))}))},e.prototype.setObsolete=function(){this.status=a.TileStatus.INVALID},e.prototype.getLayers=function(){return this._workerTileHandler.getLayers()},e.prototype.getWorkerTileHandler=function(){return this._workerTileHandler},e.prototype._parse=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return 0===Object.keys(e).length?[2,[]]:(this.status=a.TileStatus.MODIFIED,[2,new o(e,this,t.client).parse(t)])}))}))},e}()}))},"esri/views/2d/engine/vectorTiles/Placement":function(){define("require exports ./GeometryUtils ./TextShaping ./decluttering/config ../webgl/Geometry".split(" "),(function(e,t,r,n,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementEngine=t.Placement=t.PlacedSymbol=t.Anchor=t.TILE_PIXEL_RATIO=t.TILE_PIXEL_SIZE=t.TILE_COORD_SIZE=void 0,t.TILE_COORD_SIZE=4096,t.TILE_PIXEL_SIZE=512,t.TILE_PIXEL_RATIO=8,t.Anchor=function(e,t,r,n,i){void 0===r&&(r=0),void 0===n&&(n=-1),void 0===i&&(i=.5),this.x=e,this.y=t,this.angle=r,this.segment=n,this.minzoom=i};var a=function(e,t,n,i,o,a,s){void 0===a&&(a=.5),void 0===s&&(s=r.C_INFINITY),this.anchor=e,this.labelAngle=t,this.glyphAngle=n,this.page=i,this.alternateVerticalGlyph=o,this.minzoom=a,this.maxzoom=s},s=function(e,t,r,n,i,o,a,s,u,l,c,f){this.tl=e,this.tr=t,this.bl=r,this.br=n,this.mosaicRect=i,this.labelAngle=o,this.minAngle=a,this.maxAngle=s,this.anchor=u,this.minzoom=l,this.maxzoom=c,this.page=f};t.PlacedSymbol=s;var u=function(e){this.shapes=e};t.Placement=u,e=function(){function e(){}return e.prototype.getIconPlacement=function(e,t,n){var a=t.width/t.pixelRatio,l=t.height/t.pixelRatio,c=n.offset[0]-a/2,f=n.offset[1]-l/2,p=t.rect,h=2/t.pixelRatio,d=c-h,y=f-h,g=d+p.width/t.pixelRatio,m=y+p.height/t.pixelRatio;if(t=new o.Point(d,y),h=new o.Point(g,m),m=new o.Point(d,m),y=new o.Point(g,y),d=n.rotate*r.C_DEG_TO_RAD,g=1===n.rotationAlignment,0<=e.segment&&!g&&(d+=e.angle),0!==d){g=Math.cos(d);var v=Math.sin(d);t.rotate(g,v),h.rotate(g,v),m.rotate(g,v),y.rotate(g,v)}return g=new o.Point(e.x,e.y),p=new s(t,y,m,h,p,0,0,256,g,.5,r.C_INFINITY,0),p=new u([p]),n.allowOverlap&&n.ignorePlacement||!i.DECLUTTER_TILES||(p.iconColliders=[{xTile:e.x,yTile:e.y,dxPixels:c*(t=n.size)-(h=n.padding),dyPixels:f*t-h,hard:!n.optional,partIndex:0,width:a*t+2*h,height:l*t+2*h,angle:d,minLod:.5,maxLod:r.C_INFINITY}]),p},e.prototype.getTextPlacement=function(e,i,l,c){for(var f=new o.Point(e.x,e.y),p=c.rotate*r.C_DEG_TO_RAD,h=0===c.rotationAlignment,d=c.keepUpright,y=c.padding,g=.5,m=h?e.angle:0,v=0<=e.segment&&h,x=c.allowOverlap&&c.ignorePlacement?null:[],_=[],b=!v,w=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,E=w,S=T,P=(v||h)&&d,A=c.size/n.SDF_GLYPH_SIZE,O=!1,I=0;I<i.length;I++)if((R=i[I]).vertical){O=!0;break}var M=I=0;if(!v&&O)switch(R=n.TextShaping.getTextBox(i,c.lineHeight*n.SDF_GLYPH_SIZE),c.anchor){case 1:I=R.height/2,M=-R.width/2;break;case 2:I=-R.height/2,M=R.width/2;break;case 3:I=R.height/2,M=R.width/2;break;case 4:I=-R.height/2,M=-R.width/2;break;case 5:I=R.height;break;case 7:M=-R.width;break;case 6:M=R.width;break;case 8:I=-R.height}I+=c.offset[0]*n.SDF_GLYPH_SIZE,M+=c.offset[1]*n.SDF_GLYPH_SIZE;for(var N,C=0;C<i.length;C++){var R;if((F=(R=i[C]).glyphMosaicItem)&&!F.rect.isEmpty){var D=F.rect,L=F.metrics,k=F.page;if(x&&b){if(void 0!==N&&N!==R.y){var B=N=void 0,V=void 0,j=void 0;O?(N=-S+I,B=w+M,V=S-E,j=T-w):(N=w+I,B=E+M,V=T-w,j=S-E),x.push(Y={xTile:e.x,yTile:e.y,dxPixels:N*A-y,dyPixels:B*A-y,hard:!c.optional,partIndex:1,width:V*A+2*y,height:j*A+2*y,angle:p,minLod:.5,maxLod:r.C_INFINITY}),E=w=Number.POSITIVE_INFINITY,S=T=Number.NEGATIVE_INFINITY}N=R.y}var U=[];if(v){if(g=this._placeGlyph(e,g,F=(R.x+L.left-4+.5*F.metrics.width)*A*t.TILE_PIXEL_RATIO,l,e.segment,1,R.vertical,k,U),d&&(g=this._placeGlyph(e,g,F,l,e.segment,-1,R.vertical,k,U)),2<=g)break}else U.push(new a(f,m,m,k,!1)),h&&d&&U.push(new a(f,m+r.C_PI,m+r.C_PI,k,!1));V=(k=R.x+L.left)+L.width,j=(F=R.y-n.SDF_GLYPH_BASELINE-L.top)+L.height;var F,q=B=void 0,G=void 0,z=void 0;if(!v&&O)if(R.vertical){var W=(k+V)/2-L.height/2,H=(F+j)/2+L.width/2;B=new o.Point(-H-4+I,W-4+M),q=new o.Point(B.x+D.width,B.y+D.height),G=new o.Point(B.x,q.y),z=new o.Point(q.x,B.y)}else B=new o.Point(4-F+I,k-4+M),q=new o.Point(B.x-D.height,B.y+D.width),G=new o.Point(q.x,B.y),z=new o.Point(B.x,q.y);else B=new o.Point(k-4+I,F-4+M),q=new o.Point(B.x+D.width,B.y+D.height),G=new o.Point(B.x,q.y),z=new o.Point(q.x,B.y);for(var J=H=W=void 0,Z=void 0,X=0;X<U.length;X++){var Y,Q=void 0,K=void 0,$=void 0,ee=void 0;(Y=U[X]).alternateVerticalGlyph?(W||(W=new o.Point((W=(k+V)/2+I)-L.height/2-4,(H=(F+j)/2+M)+L.width/2+4),H=new o.Point(W.x+D.height,W.y-D.width),J=new o.Point(H.x,W.y),Z=new o.Point(W.x,H.y)),Q=W,K=J,$=Z,ee=H):(Q=B,K=G,$=z,ee=q);var te=F,re=j,ne=Y.glyphAngle+p;if(0!==ne){var ie=Math.cos(ne),oe=Math.sin(ne);Q=Q.clone(),K=K.clone(),$=$.clone(),ee=ee.clone(),Q.rotate(ie,oe),ee.rotate(ie,oe),K.rotate(ie,oe),$.rotate(ie,oe)}ie=0,oe=256,v&&O?R.vertical?Y.alternateVerticalGlyph?(ie=32,oe=96):(ie=224,oe=32):(ie=224,oe=96):(ie=192,oe=64),_.push(new s(Q,$,K,ee,D,Y.labelAngle,ie,oe,Y.anchor,Y.minzoom,Y.maxzoom,Y.page)),!x||P&&!this._legible(Y.labelAngle)||(b?(k<w&&(w=k),te<E&&(E=te),V>T&&(T=V),re>S&&(S=re)):2>Y.minzoom&&x.push(Y={xTile:e.x,yTile:e.y,dxPixels:(k+I)*A-y,dyPixels:(te+I)*A-y,hard:!c.optional,partIndex:1,width:(V-k)*A+2*y,height:(re-te)*A+2*y,angle:ne,minLod:Y.minzoom,maxLod:Y.maxzoom}))}}}return 2<=g?null:(x&&b&&(j=V=N=void 0,O?(N=-S+I,i=w+M,V=S-E,j=T-w):(N=w+I,i=E+M,V=T-w,j=S-E),x.push(Y={xTile:e.x,yTile:e.y,dxPixels:N*A-y,dyPixels:i*A-y,hard:!c.optional,partIndex:1,width:V*A+2*y,height:j*A+2*y,angle:p,minLod:.5,maxLod:r.C_INFINITY})),e=new u(_),x&&0<x.length&&(e.textColliders=x),e)},e.prototype._legible=function(e){return 65>(e=r.radToByte(e))||193<=e},e.prototype._placeGlyph=function(e,t,n,i,s,u,l,c,f){var p=0>u?r.positiveMod(e.angle+r.C_PI,r.C_2PI):e.angle,h=0;0>n&&(u*=-1,n*=-1,h=r.C_PI),0<u&&++s,e=new o.Point(e.x,e.y);var d=i[s],y=r.C_INFINITY;if(i.length<=s)return y;for(;;){var g=d.x-e.x,m=d.y-e.y,v=Math.sqrt(g*g+m*m),x=Math.max(n/v,t);if(g=r.positiveMod(Math.atan2(m/v,g/v)+h,r.C_2PI),f.push(new a(e,p,g,c,!1,x,y)),l&&f.push(new a(e,p,g,c,!0,x,y)),x<=t)return x;e=d.clone();do{if(i.length<=(s+=u)||0>s)return x;d=i[s]}while(e.isEqual(d));y=d.x-e.x,g=d.y-e.y,g*=v/(m=Math.sqrt(y*y+g*g)),e.x-=y*=v/m,e.y-=g,y=x}},e}(),t.PlacementEngine=e}))},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],(function(e,t){function r(e,t){return 0<=(e%=t)?e:e+t}Object.defineProperty(t,"__esModule",{value:!0}),t.between=t.interpolate=t.sqr=t.log2=t.degToByte=t.radToByte=t.positiveMod=t.C_SQRT2_INV=t.C_SQRT2=t.C_DEG_TO_RAD=t.C_DEG_TO_256=t.C_256_TO_RAD=t.C_RAD_TO_256=t.C_PI_BY_2=t.C_2PI=t.C_PI=t.C_INFINITY=void 0,t.C_INFINITY=Number.POSITIVE_INFINITY,t.C_PI=Math.PI,t.C_2PI=2*t.C_PI,t.C_PI_BY_2=t.C_PI/2,t.C_RAD_TO_256=128/t.C_PI,t.C_256_TO_RAD=t.C_PI/128,t.C_DEG_TO_256=256/360,t.C_DEG_TO_RAD=t.C_PI/180,t.C_SQRT2=1.414213562,t.C_SQRT2_INV=1/t.C_SQRT2;var n=1/Math.LN2;t.positiveMod=r,t.radToByte=function(e){return r(e*t.C_RAD_TO_256,256)},t.degToByte=function(e){return r(e*t.C_DEG_TO_256,256)},t.log2=function(e){return Math.log(e)*n},t.sqr=function(e){return e*e},t.interpolate=function(e,t,r){return e*(1-r)+t*r},t.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}}))},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["require","exports","./ScriptUtils","../webgl/Rect"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TextShaping=t.SDF_GLYPH_BASELINE=t.SDF_GLYPH_SIZE=void 0,t.SDF_GLYPH_SIZE=24,t.SDF_GLYPH_BASELINE=17,e=function(){function e(e,t,r,n,i,o,a){this._glyphItems=e,this._maxWidth=t,this._lineHeight=r,this._letterSpacing=n,this._hAnchor=i,this._vAnchor=o,this._justify=a}return e.prototype.getShaping=function(e,t,n){for(var i=this._letterSpacing,o=this._lineHeight,a=this._justify,s=this._maxWidth,u=[],l=0,c=0,f=0,p=0,h=-1,d=0,y=-1,g=e.length,m=0;m<g;m++){var v=e.charCodeAt(m),x=n&&r.hasVerticalOrientation(v);if(10===v)m!==g-1&&(h>=p&&(x=(l=u[h]).x+l.glyphMosaicItem.metrics.advance,d=Math.max(x,d),a&&this._applyJustification(u,p,h),p=u.length),c=t?c-o:c+o,l=0,++f);else{for(var _=void 0,b=0,w=this._glyphItems;b<w.length&&!(_=w[b][v]);b++);if(_){if(u.push({codePoint:v,x:l,y:c,vertical:x,glyphMosaicItem:_}),l+=_.metrics.advance+i,0<s&&l>s&&0<=y){for(x=u[_=y+1].x,d=Math.max(x,d),b=_;b<u.length;b++)u[b].y=t?u[b].y-o:u[b].y+o,u[b].x-=x;a&&this._applyJustification(u,p,y),c=t?c-o:c+o,l-=x,++f,p=_,y=-1}++h,32===v&&(y=u.length-1)}}}if(h>=p&&(l=u[h],d=Math.max(d,l.x+l.glyphMosaicItem.metrics.advance),a&&this._applyJustification(u,p,h)),0<u.length)for(e=(a-this._hAnchor)*d,n=(-this._vAnchor*(f+1)+.5)*o,t&&f&&(n+=f*o),t=0;t<u.length;t++)(o=u[t]).x+=e,o.y+=n;return u},e.getTextBox=function(e,r){if(!e.length)return null;for(var n=1/0,i=1/0,o=0,a=0,s=0;s<e.length;s++){var u=(c=e[s]).x,l=c.y-t.SDF_GLYPH_BASELINE,c=u+c.glyphMosaicItem.metrics.advance,f=l+r;n=Math.min(n,u),o=Math.max(o,c),i=Math.min(i,l),a=Math.max(a,f)}return{x:n,y:i,width:o-n,height:a-i}},e.getBox=function(e){if(!e.length)return null;for(var t=1/0,r=1/0,n=0,i=0,o=0;o<e.length;o++){var a=(s=e[o]).x,s=s.y-((l=(u=s.glyphMosaicItem.metrics).height)-Math.abs(u.top)),u=a+u.width+u.left,l=s+l;t=Math.min(t,a),n=Math.max(n,u),r=Math.min(r,s),i=Math.max(i,l)}return{x:t,y:r,width:n-t,height:i-r}},e.addDecoration=function(e,t){var r=e.length;if(0!==r){for(var i=e[0].x+e[0].glyphMosaicItem.metrics.left,o=e[0].y,a=1;a<r;a++){var s=e[a];if(s.y!==o){var u=e[a-1].x+e[a-1].glyphMosaicItem.metrics.left+e[a-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:i,y:o+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new n.default(4,0,4,8),metrics:{width:u-i,height:8,left:0,top:0,advance:0},page:0,code:0}}),o=s.y,i=s.x+s.glyphMosaicItem.metrics.left}}r=e[r-1].x+e[r-1].glyphMosaicItem.metrics.left+e[r-1].glyphMosaicItem.metrics.width,e.push({codePoint:0,x:i,y:o+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new n.default(4,0,4,8),metrics:{width:r-i,height:8,left:0,top:0,advance:0},page:0,code:0}})}},e.prototype._applyJustification=function(e,r,n){for(var i=((i=e[n]).x+(i.vertical?t.SDF_GLYPH_SIZE:i.glyphMosaicItem.metrics.advance))*this._justify;r<=n;r++)e[r].x-=i},e}(),t.TextShaping=e}))},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isWhiteSpace=t.hasVerticalOrientation=void 0,t.hasVerticalOrientation=function(e){return 746===e||747===e||!(4352>e)&&(12704<=e&&12735>=e||12544<=e&&12591>=e||65072<=e&&65103>=e&&!(65097<=e&&65103>=e)||63744<=e&&64255>=e||13056<=e&&13311>=e||11904<=e&&12031>=e||12736<=e&&12783>=e||12288<=e&&12351>=e&&!(12296<=e&&12305>=e||12308<=e&&12319>=e)&&12336!==e||13312<=e&&19903>=e||19968<=e&&40959>=e||12800<=e&&13055>=e||12592<=e&&12687>=e||43360<=e&&43391>=e||55216<=e&&55295>=e||4352<=e&&4607>=e||44032<=e&&55215>=e||12352<=e&&12447>=e||12272<=e&&12287>=e||12688<=e&&12703>=e||12032<=e&&12255>=e||12784<=e&&12799>=e||12448<=e&&12543>=e&&12540!==e||65280<=e&&65519>=e&&!(65288===e||65289===e||65293===e||65306<=e&&65310>=e||65339===e||65341===e||65343===e||65371<=e&&65503>=e||65507===e||65512<=e&&65519>=e)||65104<=e&&65135>=e&&!(65112<=e&&65118>=e||65123<=e&&65126>=e)||5120<=e&&5759>=e||6320<=e&&6399>=e||65040<=e&&65055>=e||19904<=e&&19967>=e||40960<=e&&42127>=e||42128<=e&&42191>=e)},t.isWhiteSpace=function(e){return 32===e}}))},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),e=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.width=r,this.height=n}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!1,configurable:!0}),e.prototype.union=function(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)},e}(),t.default=e}))},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FADE_DURATION=t.DECLUTTER_BUDGET=t.COLLISION_GRID_CELL_SIZE=t.DECLUTTER_TILES=void 0,t.DECLUTTER_TILES=!0,t.COLLISION_GRID_CELL_SIZE=32,t.DECLUTTER_BUDGET=1.5,t.FADE_DURATION=200}))},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0,e=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e,t){return e===this.x&&t===this.y},e.prototype.isEqual=function(e){return e.x===this.x&&e.y===this.y},e.prototype.setCoords=function(e,t){this.x=e,this.y=t},e.prototype.normalize=function(){var e=this.x,t=this.y;e=Math.sqrt(e*e+t*t),this.x/=e,this.y/=e},e.prototype.rightPerpendicular=function(){var e=this.x;this.x=this.y,this.y=-e},e.prototype.move=function(e,t){this.x+=e,this.y+=t},e.prototype.assign=function(e){this.x=e.x,this.y=e.y},e.prototype.assignAdd=function(e,t){this.x=e.x+t.x,this.y=e.y+t.y},e.prototype.assignSub=function(e,t){this.x=e.x-t.x,this.y=e.y-t.y},e.prototype.rotate=function(e,t){var r=this.x,n=this.y;this.x=r*e-n*t,this.y=r*t+n*e},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.length=function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},e.distance=function(e,t){var r=t.x-e.x;return e=t.y-e.y,Math.sqrt(r*r+e*e)},e.add=function(t,r){return new e(t.x+r.x,t.y+r.y)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y)},e}(),t.Point=e}))},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports tslib ../../../../core/pbf ../../../../core/promiseUtils ./CircleBucket ./Feature ./FillBucket ./IndexMemoryBuffer ./LineBucket ./SourceLayerData ./SymbolBucket ./VertexMemoryBuffer ../webgl/TileClipper ../../tiling/enums".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p,h,d){return function(){function e(e,t,r){this._pbfTiles={},this._tileClippers={},this._client=r,this._tile=t,this._layers=t.getLayers();var i=t.tileKey.split("/").map(parseFloat);t=i[0],r=i[1],i=i[2],this._level=t;for(var o=Math.max(8,Math.round(1*this._level)-8),a=0,s=Object.keys(e);a<s.length;a++){var u=s[a],l=e[u];if(this._pbfTiles[u]=new n(new Uint8Array(l.protobuff),new DataView(l.protobuff)),l.refKey&&0<(l=t-(l=l.refKey.split("/").map(parseFloat)[0]))){var c=(1<<l)-1;this._tileClippers[u]=new h.TileClipper(l,r&c,i&c,8,o)}this._tileClippers[u]||(this._tileClippers[u]=new h.SimpleBuilder)}}return e.prototype.parse=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,s,u,l,c,f,p,h,y,g,m,v,x,_,b,w,T,E,S,P,A,O,I,M,N,C,R,D,L,k,B,V,j,U,F,q,G,z,W,H,J,Z,X,Y,Q,K;return r.__generator(this,(function(r){for(t=e&&e.signal,n=this._parseTileData(this._pbfTiles),o=this._layers,s=this._level,l=this._tileClippers,c={},f={},p=[],h={},y=new Map,g=o.length-1;0<=g;g--)!((u=o[g]).minzoom&&s<Math.floor(u.minzoom)||u.maxzoom&&s>=u.maxzoom||u.layout&&u.layout.visibility&&"none"===u.layout.visibility||0===u.type)&&n[u.source]&&l[u.source]&&(m=l[u.source],x=n[u.source][v=u.sourceLayer])&&((_=f[u.source])||(_=f[u.source]=new Set),_.add(u.sourceLayer),u.refLayerId?y.set(g,u.refLayerId):(b=this._createBucket(u))&&(b.layerIndices=[g],b.layerExtent=x.extent,b.tileClipper=m,(w=c[u.source])||(w=c[u.source]={}),(T=w[v])||(T=w[v]=[]),T.push(b),p.push(b),h[u.id.toLowerCase()]={layer:u,bucket:b}));for(y.forEach((function(e,t){e=e.toLowerCase(),h[e]&&h[e].bucket.layerIndices.push(t)})),E=10*this._level,S=10*(this._level+1),P=new Set,A={},O=[],I=[],M=function(e){f[e].forEach((function(t){O.push(t),I.push(e)}))},N=0,C=Object.keys(f);N<C.length;N++)M(R=C[N]);for(D=0;D<O.length;D++)if(L=O[D],n[R=I[D]]&&c[R]&&(x=n[R][L],(k=(w=c[R])[L])&&0!==k.length)){if(i.isAborted(t))return[2,void 0];for(B=x.getData();B.nextTag(2);){if(V=B.getMessage(),j=new a(V,x),V.release(),U=j.values){if((F=U._minzoom)&&F>=S)continue;if((q=U._maxzoom)&&q<=E)continue}for(G=0,z=k;G<z.length;G++)(b=z[G]).pushFeature(j)}}for(W=0,H=p;W<H.length;W++)3===(b=H[W]).type&&b.getResources(b.tileClipper,P,A);if(this._tile.status===d.TileStatus.INVALID)return[2,i.resolve([])];for(Q in J=[],Z=this._tile.getWorkerTileHandler(),0<P.size&&(X=Z.fetchSprites(P,this._client,e),J.push(X)),A)0<(K=A[Q]).size&&(Y=Z.fetchGlyphs(this._tile.tileKey,Q,K,this._client,e),J.push(Y));return[2,i.all(J).then((function(){for(var e=p.filter((function(e){return e.hasFeatures()})),t=0;t<e.length;t++){var r=e[t];r.processFeatures(r.tileClipper)}return e.sort((function(e,t){return e.layerIndices[0]-t.layerIndices[0]})),e}))]}))}))},e.prototype._parseTileData=function(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){for(var i=n[r],o=e[i],a={};o.next();)switch(o.tag()){case 3:var s=o.getMessage(),u=new c(s);s.release(),a[u.name]=u;break;default:o.skip()}t[i]=a}return t},e.prototype._createBucket=function(e){switch(e.type){case 0:return null;case 1:return this._createFillBucket(e);case 2:return this._createLineBucket(e);case 4:return this._createCircleBucket(e);case 3:return this._createSymbolBucket(e)}},e.prototype._createFillBucket=function(e){return new s(e,this._level,new p.FillVertexBuffer(e.hasDataDrivenFill),new u.TriangleIndexBuffer,new p.OutlineVertexBuffer(e.hasDataDrivenOutline),new u.TriangleIndexBuffer)},e.prototype._createLineBucket=function(e){return new l(e,this._level,new p.LineVertexBuffer(e.hasDataDrivenLine),new u.TriangleIndexBuffer)},e.prototype._createCircleBucket=function(e){return new o(e,this._level,new p.CircleVertexBuffer,new u.TriangleIndexBuffer)},e.prototype._createSymbolBucket=function(e){var t=this._tile;return new f(e,this._level,new p.SymbolVertexBuffer(e.hasDataDrivenIcon),new u.TriangleIndexBuffer,new p.SymbolVertexBuffer(e.hasDataDrivenText),new u.TriangleIndexBuffer,t.placementEngine,t.getWorkerTileHandler())},e}()}))},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],(function(e,t,r,n){var i=r("esri-text-decoder")?new TextDecoder("utf-8"):null,o=r("safari")||r("ios")?6:r("ff")?12:32;return function(){function e(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=e?e.byteLength:0),this._tag=0,this._dataType=99,this.init(e,t,r,n)}return e.prototype.init=function(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n},e.prototype.clone=function(){return new e(this._data,this._dataView,this._pos,this._end)},e.prototype.pos=function(){return this._pos},e.prototype.move=function(e){this._pos=e},e.prototype.nextTag=function(e){for(;;){if(this._pos===this._end)return!1;var t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0},e.prototype.next=function(){if(this._pos===this._end)return!1;var e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0},e.prototype.empty=function(){return this._pos>=this._end},e.prototype.tag=function(){return this._tag},e.prototype.getInt32=function(){return this._decodeVarint()},e.prototype.getInt64=function(){return this._decodeVarint()},e.prototype.getUInt32=function(){var e=4294967295;return e=(127&this._data[this._pos])>>>0,128>this._data[this._pos++]?e:(e=(e|(127&this._data[this._pos])<<7)>>>0,128>this._data[this._pos++]?e:(e=(e|(127&this._data[this._pos])<<14)>>>0,128>this._data[this._pos++]?e:(e=(e|(127&this._data[this._pos])<<21)>>>0,128>this._data[this._pos++]?e:(e=(e|(15&this._data[this._pos])<<28)>>>0,128>this._data[this._pos++]?e:void 0))))},e.prototype.getUInt64=function(){return this._decodeVarint()},e.prototype.getSInt32=function(){var e=this.getUInt32();return e>>>1^-(1&e)|0},e.prototype.getSInt64=function(){return this._decodeSVarint()},e.prototype.getBool=function(){var e=0!==this._data[this._pos];return this._skip(1),e},e.prototype.getEnum=function(){return this._decodeVarint()},e.prototype.getFixed64=function(){var e=this._pos,t=(t=this._dataView).getUint32(e,!0)+4294967296*t.getUint32(e+4,!0);return this._skip(8),t},e.prototype.getSFixed64=function(){var e=this._pos,t=(t=this._dataView).getUint32(e,!0)+4294967296*t.getInt32(e+4,!0);return this._skip(8),t},e.prototype.getDouble=function(){var e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e},e.prototype.getFixed32=function(){var e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e},e.prototype.getSFixed32=function(){var e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e},e.prototype.getFloat=function(){var e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e},e.prototype.getString=function(){var e=this._getLength(),t=this._toString(this._data,t=this._pos,t+e);return this._skip(e),t},e.prototype.getBytes=function(){var e=this._getLength(),t=this._toBytes(this._data,t=this._pos,t+e);return this._skip(e),t},e.prototype.getLength=function(){return this._getLengthUnsafe()},e.prototype.processMessageWithArgs=function(e,t,r,n){var i=this.getMessage();return e=e(i,t,r,n),i.release(),e},e.prototype.processMessage=function(e){var t=this.getMessage();return e=e(t),t.release(),e},e.prototype.getMessage=function(){var t=this._getLength(),r=e.pool.acquire();return r.init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),r},e.prototype.release=function(){e.pool.release(this)},e.prototype.dataType=function(){return this._dataType},e.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!")}},e.prototype.skipLen=function(e){this._skip(e)},e.prototype._skip=function(e){if(this._pos+e>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=e},e.prototype._decodeVarint=function(){var e,t=this._data,r=this._pos,n=0;if(10<=this._end-r){if(n|=127&(e=t[r++]),0!=(128&e)&&(n|=(127&(e=t[r++]))<<7,0!=(128&e)&&(n|=(127&(e=t[r++]))<<14,0!=(128&e)&&(n|=(127&(e=t[r++]))<<21,0!=(128&e)&&(n+=268435456*(127&(e=t[r++])),0!=(128&e)&&(n+=34359738368*(127&(e=t[r++])),0!=(128&e)&&(n+=4398046511104*(127&(e=t[r++])),0!=(128&e)&&(n+=562949953421312*(127&(e=t[r++])),0!=(128&e)&&(n+=72057594037927940*(127&(e=t[r++])),0!=(128&e)&&(n+=0x8000000000000000*(127&(e=t[r++])),0!=(128&e)))))))))))throw Error("Varint too long!")}else{for(var i=1;r!==this._end&&0!=(128&(e=t[r]));)++r,n+=(127&e)*i,i*=128;if(r===this._end)throw Error("Varint overrun!");++r,n+=e*i}return this._pos=r,n},e.prototype._decodeSVarint=function(){var e=this._decodeVarint();return e%2?-(e+1)/2:e/2},e.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()},e.prototype._getLengthUnsafe=function(){return this.getUInt32()},e.prototype._toString=function(e,t,r){if((r=Math.min(this._end,r))-t>o&&i)return e=e.subarray(t,r),i.decode(e);for(var n="",a="";t<r;++t){var s=e[t];128&s?a+="%"+s.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(s),a="")}return a.length&&(n+=decodeURIComponent(a)),n},e.prototype._toBytes=function(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)},e.pool=new n(e,null,(function(e){e._data=null,e._dataView=null})),e}()}))},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","tslib","./BaseBucket"],(function(e,t,r,n){return function(e){function t(t,r,n,i){return(t=e.call(this,t,r)||this).type=4,t._circleVertexBuffer=n,t._circleIndexBuffer=i,t}return r.__extends(t,e),Object.defineProperty(t.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!1,configurable:!0}),t.prototype.processFeatures=function(e){var t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;var n=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);for(var o=1,a=[1,1,1,1],s=1,u=0,l=1,c=[1,1,1,1],f=1,p=0,h=this._features;p<h.length;p++){var d=h[p],y=d.getGeometry(e);if(y)for(n.hasDataDrivenRadius&&(o=n.getPaintValue("circle-radius",i,d)),n.hasDataDrivenColor&&(a=n.getPaintValue("circle-color",i,d)),n.hasDataDrivenOpacity&&(s=n.getPaintValue("circle-opacity",i,d)),n.hasDataDrivenStrokeWidth&&(l=n.getPaintValue("circle-stroke-width",i,d)),n.hasDataDrivenStrokeColor&&(c=n.getPaintValue("circle-stroke-color",i,d)),n.hasDataDrivenStrokeOpacity&&(f=n.getPaintValue("circle-stroke-opacity",i,d)),n.hasDataDrivenBlur&&(u=n.getPaintValue("circle-blur",i,d)),d=0;d<y.length;d++){var g=y[d];if(g)for(var m=0;m<g.length;m++){var v=g[m],x=t.index;t.add(v.x,v.y,0,0,o,a,s,u,l,c,f),t.add(v.x,v.y,0,1,o,a,s,u,l,c,f),t.add(v.x,v.y,1,0,o,a,s,u,l,c,f),t.add(v.x,v.y,1,1,o,a,s,u,l,c,f),r.add(x+0,x+1,x+2),r.add(x+1,x+2,x+3),this._circleIndexCount+=6}}}},t.prototype.serialize=function(){var e;e=6+this.layerIndices.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;var t=0;e=new Uint32Array(e);var r=new Int32Array(e.buffer);e[t++]=this.type,e[t++]=this.layerIndices.length;for(var n=0;n<this.layerIndices.length;n++)e[t++]=this.layerIndices[n];for(e[t++]=this._circleIndexStart,e[t++]=this._circleIndexCount,e[t++]=this._circleVertexBuffer.array.length,n=0;n<this._circleVertexBuffer.array.length;n++)r[t++]=this._circleVertexBuffer.array[n];for(e[t++]=this._circleIndexBuffer.array.length,r=0;r<this._circleIndexBuffer.array.length;r++)e[t++]=this._circleIndexBuffer.array[r];return e.buffer},t}(n)}))},"esri/views/2d/engine/vectorTiles/BaseBucket":function(){define(["require","exports"],(function(e,t){return function(){function e(e,t){this.layerExtent=4096,this._features=[],this.layer=e,this.zoom=t,this._filter=e.getFeatureFilter()}return e.prototype.pushFeature=function(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)},e.prototype.hasFeatures=function(){return 0<this._features.length},e}()}))},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],(function(e,t,r){return function(){function e(e,t){this.values={};var r=t.keys;for(t=t.values;e.next();)switch(e.tag()){case 1:this.id=e.getUInt64();break;case 2:for(var n=e.getMessage(),i=this.values;!n.empty();){var o=n.getUInt32(),a=n.getUInt32();i[r[o]]=t[a]}n.release();break;case 3:this.type=e.getUInt32();break;case 4:this._pbfGeometry=e.getMessage();break;default:e.skip()}}return e.prototype.getGeometry=function(e){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var t,n,i=this._pbfGeometry;this._pbfGeometry=null,e?e.reset(this.type):t=[];for(var o=1,a=0,s=0,u=0;!i.empty();)switch(0===a&&(a=i.getUInt32(),o=7&a,a>>=3),a--,o){case 1:s+=i.getSInt32(),u+=i.getSInt32(),e?e.moveTo(s,u):(n&&t.push(n),(n=[]).push(new r.Point(s,u)));break;case 2:s+=i.getSInt32(),u+=i.getSInt32(),e?e.lineTo(s,u):n.push(new r.Point(s,u));break;case 7:e?e.close():n&&!n[0].equals(s,u)&&n.push(n[0].clone());break;default:throw i.release(),Error("Invalid path operation")}return e?e=e.result():(n&&t.push(n),e=t),i.release(),this._geometry=e},e}()}))},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports tslib ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./BaseBucket ../webgl/Geometry".split(" "),(function(e,t,r,n,i,o,a){return function(e){function t(t,r,n,i,o,a){if((r=e.call(this,t,r)||this).type=1,t.hasDataDrivenFill!==n.isDataDriven())throw Error("incompatible fill buffer");if(t.hasDataDrivenOutline!==o.isDataDriven())throw Error("incompatible outline buffer");return r._fillVertexBuffer=n,r._fillIndexBuffer=i,r._outlineVertexBuffer=o,r._outlineIndexBuffer=a,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!1,configurable:!0}),t.prototype.processFeatures=function(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;var t=this.layer,r=this.zoom,n=t.hasDataDrivenFill,i=t.hasDataDrivenOutline;e&&e.setExtent(this.layerExtent);var o=t.getPaintValue("fill-pattern",r),a=t.getPaintValue("fill-antialias",r)&&void 0===o,s=[1,1,1,1],u=[1,1,1,1],l=1;if(t.outlineUsesFillColor){if(a&&!t.hasDataDrivenOpacity){var c=t.getPaintValue("fill-opacity",r),f=t.getPaintValue("fill-opacity",r+1);1>c&&1>f&&(a=!1)}a&&!t.hasDataDrivenColor&&(c=t.getPaintValue("fill-color",r),f=t.getPaintValue("fill-color",r+1),1>c[3]&&1>f[3]&&(a=!1))}for(c=0,f=this._features;c<f.length;c++){var p=f[c];!o&&t.hasDataDrivenColor&&(s=t.getPaintValue("fill-color",r,p)),t.hasDataDrivenOpacity&&(l=t.getPaintValue("fill-opacity",r,p)),!o&&t.hasDataDrivenOutlineColor&&(u=t.getPaintValue("fill-outline-color",r,p));var h=void 0;n&&(h={color:s,opacity:l});var d=void 0;i&&(d={color:t.outlineUsesFillColor?s:u,opacity:l}),p=p.getGeometry(e),this._processFeature(p,a,t.outlineUsesFillColor,h,d)}},t.prototype.serialize=function(){var e;e=12+this.layerIndices.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length;var t=0;e=new Uint32Array(e);var r=new Int32Array(e.buffer);e[t++]=this.type,e[t++]=this.layerIndices.length;for(var n=0;n<this.layerIndices.length;n++)e[t++]=this.layerIndices[n];for(e[t++]=this._fillIndexStart,e[t++]=this._fillIndexCount,e[t++]=this._outlineIndexStart,e[t++]=this._outlineIndexCount,e[t++]=this._fillVertexBuffer.isDataDriven()?1:0,e[t++]=this._outlineVertexBuffer.isDataDriven()?1:0,e[t++]=this._fillVertexBuffer.array.length,n=0;n<this._fillVertexBuffer.array.length;n++)r[t++]=this._fillVertexBuffer.array[n];for(e[t++]=this._fillIndexBuffer.array.length,n=0;n<this._fillIndexBuffer.array.length;n++)e[t++]=this._fillIndexBuffer.array[n];for(e[t++]=this._outlineVertexBuffer.array.length,n=0;n<this._outlineVertexBuffer.array.length;n++)r[t++]=this._outlineVertexBuffer.array[n];for(e[t++]=this._outlineIndexBuffer.array.length,r=0;r<this._outlineIndexBuffer.array.length;r++)e[t++]=this._outlineIndexBuffer.array[r];return e.buffer},t.prototype._processFeature=function(e,r,n,i,o){if(e){var a,s=e.length;if(r&&(!n||!o||1==o.color[3]*o.opacity))for(r=0;r<s;r++)this._processOutline(e[r],o);for(r=0;r<s;r++)128<(o=t._area(e[r]))?(void 0!==a&&this._processFill(e,a,i),a=[r]):-128>o&&void 0!==a&&a.push(r);void 0!==a&&this._processFill(e,a,i)}},t.prototype._processOutline=function(e,t){var r,n,i,o=this._outlineVertexBuffer,s=this._outlineIndexBuffer,u=s.index,l=new a.Point(0,0),c=new a.Point(0,0),f=new a.Point(0,0),p=-1,h=-1,d=-1,y=-1,g=-1,m=!1,v=e.length;if(!(2>v)){var x=e[0];for(r=e[v-1];v&&r.isEqual(x);)r=e[--v-1];if(!(2>v-0)){for(x=0;x<v;++x){0===x?(i=e[1],l.assignSub(n=e[0],r=e[v-1]),l.normalize(),l.rightPerpendicular()):(r=n,n=i,i=x!==v-1?e[x+1]:e[0],l.assign(c)),r=this._isClipEdge(r,n),-1===y&&(m=r),c.assignSub(i,n),c.normalize(),c.rightPerpendicular(),d=l.x*c.y-l.y*c.x,f.assignAdd(l,c),f.normalize();var _=-f.x*-l.x+-f.y*-l.y;8<(_=Math.abs(0!==_?1/_:1))&&(_=8),0<=d?(d=o.add(n.x,n.y,l.x,l.y,0,1,t),-1===y&&(y=d),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),h=o.add(n.x,n.y,_*-f.x,_*-f.y,0,-1,t),-1===g&&(g=h),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),p=h,h=d,d=o.add(n.x,n.y,f.x,f.y,0,1,t),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),h=o.add(n.x,n.y,c.x,c.y,0,1,t)):(d=o.add(n.x,n.y,_*f.x,_*f.y,0,1,t),-1===y&&(y=d),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),h=o.add(n.x,n.y,-l.x,-l.y,0,-1,t),-1===g&&(g=h),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),p=h,h=d,d=o.add(n.x,n.y,-f.x,-f.y,0,-1,t),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d),p=o.add(n.x,n.y,-c.x,-c.y,0,-1,t)),0<=p&&0<=h&&0<=d&&!r&&s.add(p,h,d)}0<=p&&0<=h&&0<=y&&!m&&s.add(p,h,y),0<=p&&0<=y&&0<=g&&!m&&s.add(p,g,y),this._outlineIndexCount+=3*(s.index-u)}}},t.prototype._processFill=function(e,t,r){var o;1<t.length&&(o=[]);for(var a=0,s=0;s<t.length;s++){var u=t[s];0!==a&&o.push(a),a+=e[u].length}s=2*a,a=n.acquire();for(var l=0;l<t.length;l++)for(var c=(u=e[u=t[l]]).length,f=0;f<c;++f)a.push(u[f].x),a.push(u[f].y);if(0<(t=(e=i.earcut(a,o,2)).length)){for(o=this._fillVertexBuffer.index,l=0;l<s;)this._fillVertexBuffer.add(a[l++],a[l++],r);for(r=0;r<t;)this._fillIndexBuffer.add(o+e[r++],o+e[r++],o+e[r++]);this._fillIndexCount+=t}n.release(a)},t.prototype._isClipEdge=function(e,t){return e.x===t.x?-64>=e.x||4160<=e.x:e.y===t.y&&(-64>=e.y||4160<=e.y)},t._area=function(e){for(var t=0,r=e.length-1,n=0;n<r;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return.5*(t+(e[r].x-e[0].x)*(e[r].y+e[0].y))},t}(o)}))},"esri/core/libs/earcut/earcut":function(){define(["require","exports"],(function(e,t){function r(e,t,r,n,i){var o;if(i===0<h(e,t,r,n))for(i=t;i<r;i+=n)o=a(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=a(i,e[i],e[i+1],o);return o&&m(o,o.next)&&(s(o),o=o.next),o}function n(e,t){if(void 0===t&&(t=e),!e)return e;var r;do{if(r=!1,e.steiner||!m(e,e.next)&&0!==f(e.prev,e,e.next))e=e.next;else{if(s(e),(e=t=e.prev)===e.next)break;r=!0}}while(r||e!==t);return t}function i(e,t,r,a,u,l,h){if(void 0===h&&(h=0),e){!h&&l&&(e=c(e,a,u,l));for(var g=e;e.prev!==e.next;){var v,_=e.prev,b=e.next;if(l)v=o(e,a,u,l);else e:{var w=(v=e).prev,T=v,E=v.next;if(0<=f(w,T,E))v=!1;else{for(var S=v.next.next,P=S,A=0;S!==v.prev&&(0===A||S!==P);){if(A++,d(w.x,w.y,T.x,T.y,E.x,E.y,S.x,S.y)&&0<=f(S.prev,S,S.next)){v=!1;break e}S=S.next}v=!0}}if(v)t.push(_.index/r),t.push(e.index/r),t.push(b.index/r),s(e),g=e=b.next;else if((e=b)===g){if(h){if(1===h){h=t,g=r,_=e;do{!m(b=_.prev,v=_.next.next)&&p(b,_,_.next,v)&&y(b,v)&&y(v,b)&&(h.push(b.index/g),h.push(_.index/g),h.push(v.index/g),s(_),s(_.next),_=e=v),_=_.next}while(_!==e);i(e=_,t,r,a,u,l,2)}else if(2===h)e:{h=e;do{for(g=h.next.next;g!==h.prev;){if(_=h.index!==g.index){if(v=void 0,v=(_=h).next.index!==(b=g).index&&_.prev.index!==b.index){v=void 0;t:{v=_;do{if(v.index!==_.index&&v.next.index!==_.index&&v.index!==b.index&&v.next.index!==b.index&&p(v,v.next,_,b)){v=!0;break t}v=v.next}while(v!==_);v=!1}v=!v}if(w=void 0,w=v&&y(_,b)&&y(b,_)){v=_,w=!1,T=(_.x+b.x)/2,b=(_.y+b.y)/2;do{v.y>b!=v.next.y>b&&v.next.y!==v.y&&T<(v.next.x-v.x)*(b-v.y)/(v.next.y-v.y)+v.x&&(w=!w),v=v.next}while(v!==_)}_=w}if(_){e=x(h,g),h=n(h,h.next),e=n(e,e.next),i(h,t,r,a,u,l),i(e,t,r,a,u,l);break e}g=g.next}h=h.next}while(h!==e)}}else i(n(e),t,r,a,u,l,1);break}}}}function o(e,t,r,n){var i=e.prev,o=e.next;if(0<=f(i,e,o))return!1;var a=i.x>e.x?i.x>o.x?i.x:o.x:e.x>o.x?e.x:o.x,s=i.y>e.y?i.y>o.y?i.y:o.y:e.y>o.y?e.y:o.y,u=g(i.x<e.x?i.x<o.x?i.x:o.x:e.x<o.x?e.x:o.x,i.y<e.y?i.y<o.y?i.y:o.y:e.y<o.y?e.y:o.y,t,r,n);for(t=g(a,s,t,r,n),r=e.prevZ,n=e.nextZ;r&&r.z>=u&&n&&n.z<=t;){if(r!==e.prev&&r!==e.next&&d(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=f(r.prev,r,r.next))return!1;if(r=r.prevZ,n!==e.prev&&n!==e.next&&d(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=f(n.prev,n,n.next))return!1;n=n.nextZ}for(;r&&r.z>=u;){if(r!==e.prev&&r!==e.next&&d(i.x,i.y,e.x,e.y,o.x,o.y,r.x,r.y)&&0<=f(r.prev,r,r.next))return!1;r=r.prevZ}for(;n&&n.z<=t;){if(n!==e.prev&&n!==e.next&&d(i.x,i.y,e.x,e.y,o.x,o.y,n.x,n.y)&&0<=f(n.prev,n,n.next))return!1;n=n.nextZ}return!0}function a(e,t,r,n){return e=new _(e,t,r),n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function s(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function u(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function l(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y&&(u=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y))<=i&&u>a){if(a=u,u===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r.prev;t=r;var s,u=r.x,l=r.y,c=1/0;for(n=r.next;n!==t;)i>=n.x&&n.x>=u&&i!==n.x&&d(o<l?i:a,o,u,l,o<l?a:i,o,n.x,n.y)&&((s=Math.abs(o-n.y)/(i-n.x))<c||s===c&&n.x>r.x)&&y(n,e)&&(r=n,c=s),n=n.next;return r}function c(e,t,r,n){for(var i=void 0;i!==e;i=i.next){if(null===(i=i||e).z&&(i.z=g(i.x,i.y,t,r,n)),i.prev.next!==i||i.next.prev!==i)return i.prev.next=i,i.next.prev=i,c(e,t,r,n);i.prevZ=i.prev,i.nextZ=i.next}e.prevZ.nextZ=null,e.prevZ=null;e:for(r=1;;){n=e,i=void 0,t=e=null;for(var o=0;n;){o++,i=n;for(var a=0;a<r&&i;a++)i=i.nextZ;for(var s=r;0<a||0<s&&i;){var u=void 0;0===a?(u=i,i=i.nextZ,s--):0!==s&&i?n.z<=i.z?(u=n,n=n.nextZ,a--):(u=i,i=i.nextZ,s--):(u=n,n=n.nextZ,a--),t?t.nextZ=u:e=u,u.prevZ=t,t=u}n=i}if(t.nextZ=null,r*=2,2>o)break e}return e}function f(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function p(e,t,r,n){return!!(m(e,t)&&m(r,n)||m(e,n)&&m(r,t))||0<f(e,t,r)!=0<f(e,t,n)&&0<f(r,n,e)!=0<f(r,n,t)}function h(e,t,r,n){for(var i=0,o=r-n;t<r;t+=n)i+=(e[o]-e[t])*(e[t+1]+e[o+1]),o=t;return i}function d(e,t,r,n,i,o,a,s){return 0<=(i-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(n-s)-(r-a)*(t-s)&&0<=(r-a)*(o-s)-(i-a)*(n-s)}function y(e,t){return 0>f(e.prev,e,e.next)?0<=f(e,t,e.next)&&0<=f(e,e.prev,t):0>f(e,t,e.prev)||0>f(e,e.next,t)}function g(e,t,r,n,i){return 1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1)|(1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e,t){return e.x===t.x&&e.y===t.y}function v(e,t){return e.x-t.x}function x(e,t){var r=new _(e.index,e.x,e.y),n=new _(t.index,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}Object.defineProperty(t,"__esModule",{value:!0}),t.deviation=t.earcut=void 0,t.earcut=function(e,t,o){var a,s,c,f=(d=t&&t.length)?t[0]*o:e.length,p=r(e,0,f,o,!0),h=[];if(!p||p.next===p.prev)return h;if(d){for(var d=[],y=0,g=t.length;y<g;y++){var m=r(e,t[y]*o,y<g-1?t[y+1]*o:e.length,o,!1);m===m.next&&(m.steiner=!0),d.push(u(m))}for(d.sort(v),t=0;t<d.length;t++)(g=l(y=d[t],g=p))&&n(y=x(g,y),y.next),p=n(p,p.next)}if(e.length>80*o){for(a=c=e[0],s=d=e[1],t=o;t<f;t+=o)y=e[t],g=e[t+1],a=Math.min(a,y),s=Math.min(s,g),c=Math.max(c,y),d=Math.max(d,g);c=0!==(c=Math.max(c-a,d-s))?1/c:0}return i(p,h,o,a,s,c),h},t.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(h(e,0,i?t[0]*r:e.length,r));if(i){i=0;for(var a=t.length;i<a;i++)o-=Math.abs(h(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r))}for(i=t=0;i<n.length;i+=3){a=n[i]*r;var s=n[i+1]*r,u=n[i+2]*r;t+=Math.abs((e[a]-e[u])*(e[s+1]-e[a+1])-(e[a]-e[s])*(e[u+1]-e[a+1]))}return 0===o&&0===t?0:Math.abs((t-o)/o)};var _=function(e,t,r){this.index=e,this.x=t,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}}))},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","tslib","./MemoryBuffer"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PointElementMemoryBuffer=t.TriangleIndexBuffer=void 0,e=function(e){function t(){return e.call(this,12)||this}return r.__extends(t,e),t.prototype.add=function(e,t,r){var n=this.array;n.push(e),n.push(t),n.push(r)},t}(n),t.TriangleIndexBuffer=e,n=function(e){function t(){return e.call(this,4)||this}return r.__extends(t,e),t.prototype.add=function(e){this.array.push(e)},t}(n),t.PointElementMemoryBuffer=n}))},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],(function(e,t){return function(){function e(e){this._array=[],0>=e&&console.error("strideInBytes must be positive!"),this._stride=e}return Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemSize",{get:function(){return this._stride},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.array.length=0},e.prototype.toBuffer=function(){return new Uint32Array(this._array).buffer},e.i1616to32=function(e,t){return 65535&e|t<<16},e.i8888to32=function(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24},e.i8816to32=function(e,t,r){return 255&e|(255&t)<<8|r<<16},e}()}))},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports tslib ../../../../core/has ./BaseBucket ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),(function(e,t,r,n,i,o,a){var s=1/3.8,u=function(e){return function(t){t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)}},l=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,t.rightEntry2,t.leftExit2)}},c=function(e){return function(t){var r=2===e._joinType?e._miterLimitCosine:e._roundLimitCosine,n=t.isCap&&0!==e._capType,i=!1;if(.97<t.cosine?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)):t.cosine<1-.97?(t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.canSplit?(o.splitVertex(),0<t.sign?(t.splitInner?(t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftInner.x,t.leftInner.y,0,-1,t.distance,e._ddValues),t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightInner.x,t.rightInner.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)),t.cosine<r?(i=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):t.splitOuter?(i=i||t.gapOuter,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftOuter.x,-t.leftOuter.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightOuter.x,-t.rightOuter.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.splitInner?(t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.leftInner.x,-t.leftInner.y,0,1,t.distance,e._ddValues),t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.rightInner.x,-t.rightInner.y,0,1,t.distance,e._ddValues)):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues)),t.cosine<r?(i=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):t.splitOuter?(i=i||t.gapOuter,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.leftOuter.x,t.leftOuter.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.rightOuter.x,t.rightOuter.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues)))):0<t.sign?(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues),t.cosine<r?(i=!t.isCap,t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x,-t.prevNormal.y,0,1,t.distance,e._ddValues),t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.nextNormal.x,-t.nextNormal.y,0,1,t.distance,e._ddValues)):(t.entry2=t.exit2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues))):(t.exit2=t.entry2=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.bisector.x/t.cosine,-t.bisector.y/t.cosine,0,1,t.distance,e._ddValues),t.cosine<r?(i=!t.isCap,t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x,t.prevNormal.y,0,-1,t.distance,e._ddValues),t.exit0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.nextNormal.x,t.nextNormal.y,0,-1,t.distance,e._ddValues)):(t.exit0=t.entry0=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.bisector.x/t.cosine,t.bisector.y/t.cosine,0,-1,t.distance,e._ddValues))),t.canSplit&&(t.splitInner||t.splitOuter)||i||n?(r=t.entry1=t.exit1=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,0,0,0,0,t.distance,e._ddValues)):r=t.entry1=t.exit1=null,i&&1!==e._joinType)e._lineIndexBuffer.add(r,0<t.sign?t.exit2:t.entry0,0<t.sign?t.entry2:t.exit0);else if(n&&1===e._capType||i&&1===e._joinType){var a=i=n=void 0,s=void 0,u=void 0,l=void 0;t.isCap?(l=(c=Math.PI)/(u=Math.ceil(c/.8)),t.isFirstVertex?(n=t.prevNormal.x,i=t.prevNormal.y,a=t.entry0,s=t.entry2):t.isLastVertex&&(n=-t.nextNormal.x,i=-t.nextNormal.y,a=t.exit2,s=t.exit0)):(l=(c=2*Math.acos(t.cosine))/(u=Math.ceil(c/.8)),n=0<t.sign?-t.prevNormal.x:t.nextNormal.x,i=0<t.sign?-t.prevNormal.y:t.nextNormal.y,a=0<t.sign?t.entry2:t.exit0,s=0<t.sign?t.exit2:t.entry0);for(var c=Math.cos(l),f=(l=Math.sin(l))*n+c*i,p=(n=c*n-l*i,void(i=f)),h=(f=void 0,0);h<u;++h)p=f,h<u-1&&(t.isCap?(f=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,n,i,t.isFirstVertex?-1:1,0,t.distance,e._ddValues)):(f=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,n,i,0,t.sign,t.distance,e._ddValues))),e._lineIndexBuffer.add(0===h?a:p,r,h===u-1?s:f),p=l*n+c*i,n=c*n-l*i,i=p}else n&&2===e._capType&&(n=t.isFirstVertex?1:-1,a=i=void 0,e._hasPattern?(i=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-n*t.inbound.x,t.prevNormal.y-n*t.inbound.y,-n,-1,t.distance,e._ddValues),a=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-n*t.inbound.x,-t.prevNormal.y-n*t.inbound.y,-n,1,t.distance,e._ddValues)):(i=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,t.prevNormal.x-n*t.inbound.x,t.prevNormal.y-n*t.inbound.y,0,-1,t.distance,e._ddValues),a=e._lineVertexBuffer.index,e._lineVertexBuffer.add(t.currentVertex.x,t.currentVertex.y,-t.prevNormal.x-n*t.inbound.x,-t.prevNormal.y-n*t.inbound.y,0,1,t.distance,e._ddValues)),0<n?(e._lineIndexBuffer.add(r,t.entry2,a),e._lineIndexBuffer.add(r,a,i),e._lineIndexBuffer.add(r,i,t.entry0)):(e._lineIndexBuffer.add(r,a,t.exit2),e._lineIndexBuffer.add(r,i,a),e._lineIndexBuffer.add(r,t.exit0,i)))}},f=function(e){return function(t){e._lineIndexBuffer.add(t.leftExit0,t.rightEntry0,null!=t.leftExit1?t.leftExit1:t.leftExit2),e._lineIndexBuffer.add(t.rightEntry0,null!=t.rightEntry1?t.rightEntry1:t.rightEntry2,null!=t.leftExit1?t.leftExit1:t.leftExit2),null!=t.leftExit1&&null!=t.rightEntry1?(e._lineIndexBuffer.add(t.leftExit1,t.rightEntry1,t.leftExit2),e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)):null!=t.leftExit1?e._lineIndexBuffer.add(t.leftExit1,t.rightEntry2,t.leftExit2):null!=t.rightEntry1&&e._lineIndexBuffer.add(t.rightEntry1,t.rightEntry2,t.leftExit2)}};return function(e){function t(t,r,n,i){if((r=e.call(this,t,r)||this).type=2,r._tessellationOptions={},r.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null},t.hasDataDrivenLine!==n.isDataDriven())throw Error("incompatible line buffer");return r.tessellationProperties._lineVertexBuffer=n,r.tessellationProperties._lineIndexBuffer=i,r.tessellationProperties._hasPattern=t.getPaintValue("line-pattern",r.zoom)||0<t.getPaintValue("line-dasharray",r.zoom).length,r._isThinLine=t.isThinLine,r._tessellationCallbacks=r._isThinLine?{vertex:u(r.tessellationProperties),bridge:l(r.tessellationProperties)}:{vertex:c(r.tessellationProperties),bridge:f(r.tessellationProperties)},r}return r.__extends(t,e),Object.defineProperty(t.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!1,configurable:!0}),t.prototype.processFeatures=function(e){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;var t=this.layer,r=this.zoom,n=t.hasDataDrivenLine;e&&e.setExtent(this.layerExtent);for(var i=[1,1,1,1],s=1,u=1,l=0,c=this._features;l<c.length;l++){var f=c[l];!this.tessellationProperties._hasPattern&&t.hasDataDrivenColor&&(i=t.getPaintValue("line-color",r,f)),t.hasDataDrivenOpacity&&(s=t.getPaintValue("line-opacity",r,f)),t.hasDataDrivenWidth&&(u=t.getPaintValue("line-width",r,f));var p=void 0;n&&(0>=(p={color:i,opacity:s,size:Math.max(Math.min(u,256),0)}).size||0>=p.opacity||0>=p.color[3])||(this.tessellationProperties._capType=t.getLayoutValue("line-cap",r,f),this.tessellationProperties._joinType=t.getLayoutValue("line-join",r,f),this.tessellationProperties._miterLimitCosine=a.getLimitCosine(t.getLayoutValue("line-miter-limit",r,f)),this.tessellationProperties._roundLimitCosine=a.getLimitCosine(t.getLayoutValue("line-round-limit",r,f)),f=f.getGeometry(e),this._processFeature(f,p))}o.cleanup()},t.prototype.serialize=function(){var e;e=7+this.layerIndices.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length;var t=0;e=new Uint32Array(e);var r=new Int32Array(e.buffer);e[t++]=this.type,e[t++]=this.layerIndices.length;for(var n=0;n<this.layerIndices.length;n++)e[t++]=this.layerIndices[n];for(e[t++]=this._lineIndexStart,e[t++]=this._lineIndexCount,e[t++]=this.tessellationProperties._lineVertexBuffer.isDataDriven()?1:0,e[t++]=this.tessellationProperties._lineVertexBuffer.array.length,n=0;n<this.tessellationProperties._lineVertexBuffer.array.length;n++)r[t++]=this.tessellationProperties._lineVertexBuffer.array[n];for(e[t++]=this.tessellationProperties._lineIndexBuffer.array.length,r=0;r<this.tessellationProperties._lineIndexBuffer.array.length;r++)e[t++]=this.tessellationProperties._lineIndexBuffer.array[r];return e.buffer},t.prototype._processFeature=function(e,t){if(e)for(var r=e.length,n=0;n<r;n++)this._processGeometry(e[n],t)},t.prototype._processGeometry=function(e,t){if(!(2>e.length)){for(var r,n,i=e[0],a=1;a<e.length;)1e-6>(r=e[a].x-i.x)*r+(n=e[a].y-i.y)*n?e.splice(a,1):(i=e[a],++a);2>e.length||(i=3*this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=s,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=s,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=t,o.tessellate(e,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*this.tessellationProperties._lineIndexBuffer.index-i)}},t}(i)}))},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","./mesh/templates/util"],(function(e,t,r){function n(){if(v.cosine<g.innerBisectorAutoSplitThreshold){v.splitInner=!0,v.gapInner=!0;var e=Math.max(g.innerBisectorAutoSplitThreshold,v.cosine);e=Math.sqrt(1-e*e)/e,v.leftInner.x=v.nextNormal.x+v.sign*e*v.outbound.x,v.leftInner.y=v.nextNormal.y+v.sign*e*v.outbound.y,v.rightInner.x=v.prevNormal.x-v.sign*e*v.inbound.x,v.rightInner.y=v.prevNormal.y-v.sign*e*v.inbound.y}else g.enableInnerBisectorSplit&&(v.splitInner=!0,v.gapInner=!1,v.leftInner.x=v.rightInner.x=v.bisector.x/v.cosine,v.leftInner.y=v.rightInner.y=v.bisector.y/v.cosine);v.cosine<g.outerBisectorAutoSplitThreshold?(v.splitOuter=!0,v.gapOuter=!0,e=Math.max(g.outerBisectorAutoSplitThreshold,v.cosine),e=Math.sqrt(1-e*e)/e,v.leftOuter.x=v.prevNormal.x-v.sign*e*v.inbound.x,v.leftOuter.y=v.prevNormal.y-v.sign*e*v.inbound.y,v.rightOuter.x=v.nextNormal.x+v.sign*e*v.outbound.x,v.rightOuter.y=v.nextNormal.y+v.sign*e*v.outbound.y):g.enableOuterBisectorSplit&&(v.splitOuter=!0,v.gapOuter=!1,v.leftOuter.x=v.rightOuter.x=v.bisector.x/v.cosine,v.leftOuter.y=v.rightOuter.y=v.bisector.y/v.cosine)}function i(){if(h)v.distance=0,h=v.isCap=v.isFirstVertex=v.isLastVertex=!1;else{if(0===f)if(v.isFirstVertex=0===m,y=l[m],0===m){if(f=0,v.closed){v.inbound.x=y.x-l[l.length-2].x,v.inbound.y=y.y-l[l.length-2].y;var e=Math.sqrt(v.inbound.x*v.inbound.x+v.inbound.y*v.inbound.y);v.inbound.x/=e,v.inbound.y/=e}}else v.inbound.x=y.x-d.x,v.inbound.y=y.y-d.y,f=Math.sqrt(v.inbound.x*v.inbound.x+v.inbound.y*v.inbound.y),v.inbound.x/=f,v.inbound.y/=f;v.distance+f-p<=g.wrapDistance?(m<l.length-1?(v.outbound.x=l[m+1].x-y.x,v.outbound.y=l[m+1].y-y.y,e=Math.sqrt(v.outbound.x*v.outbound.x+v.outbound.y*v.outbound.y),v.outbound.x/=e,v.outbound.y/=e):v.closed?(v.outbound.x=l[1].x-y.x,v.outbound.y=l[1].y-y.y,e=Math.sqrt(v.outbound.x*v.outbound.x+v.outbound.y*v.outbound.y),v.outbound.x/=e,v.outbound.y/=e):(v.outbound.x=v.inbound.x,v.outbound.y=v.inbound.y),0!==m||v.closed||(v.inbound.x=v.outbound.x,v.inbound.y=v.outbound.y),++m,v.isLastVertex=m===l.length,v.isCap=!v.closed&&(v.isFirstVertex||v.isLastVertex),v.distance+=f-p,p=f=0,h=v.distance+f-p===g.wrapDistance,v.currentVertex.x=y.x,v.currentVertex.y=y.y,d=y,y=null):(v.outbound.x=v.inbound.x,v.outbound.y=v.inbound.y,p+=g.wrapDistance-v.distance,v.distance=g.wrapDistance,h=!0,v.currentVertex.x=(1-(e=p/f))*d.x+e*y.x,v.currentVertex.y=(1-e)*d.y+e*y.y)}}function o(){v.prevNormal.x=-v.inbound.y,v.prevNormal.y=v.inbound.x,v.nextNormal.x=-v.outbound.y,v.nextNormal.y=v.outbound.x}function a(){o(),v.bisector.x=v.prevNormal.x+v.nextNormal.x,v.bisector.y=v.prevNormal.y+v.nextNormal.y;var e=Math.sqrt(v.bisector.x*v.bisector.x+v.bisector.y*v.bisector.y);.001>e?(v.bisector.x=void 0,v.bisector.y=void 0,v.cosine=0,v.sign=void 0):(v.bisector.x/=e,v.bisector.y/=e,v.cosine=v.bisector.x*v.nextNormal.x+v.bisector.y*v.nextNormal.y,v.sign=0<=v.prevNormal.x*v.nextNormal.y-v.prevNormal.y*v.nextNormal.x?1:-1)}function s(e){c.vertex(v),1===e?(v.leftEntry0=v.entry0,v.leftEntry1=v.entry1,v.leftEntry2=v.entry2,v.leftExit0=v.exit0,v.leftExit1=v.exit1,v.leftExit2=v.exit2):2===e&&(v.rightEntry0=v.entry0,v.rightEntry1=v.entry1,v.rightEntry2=v.entry2,v.rightExit0=v.exit0,v.rightExit1=v.exit1,v.rightExit2=v.exit2)}function u(e){c.vertex(v),1===e?(v.leftEntry0=v.entry0,v.leftEntry2=v.entry2,v.leftExit0=v.exit0,v.leftExit2=v.exit2):2===e&&(v.rightEntry0=v.entry0,v.rightEntry2=v.entry2,v.rightExit0=v.exit0,v.rightExit2=v.exit2)}Object.defineProperty(t,"__esModule",{value:!0}),t.ThinTessellationCallbacks=t.StandardTessellationCallbacks=t.splitVertex=t.cleanup=t.tessellate=t.TessellationState=void 0,t.TessellationState=e=function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0,this.currentVertex={x:void 0,y:void 0},this.inbound={x:void 0,y:void 0},this.outbound={x:void 0,y:void 0},this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.bisector={x:void 0,y:void 0},this.leftInner={x:void 0,y:void 0},this.rightInner={x:void 0,y:void 0},this.leftOuter={x:void 0,y:void 0},this.rightOuter={x:void 0,y:void 0}},t.tessellate=function(e,t,r){if(g.trackDistance=null!=t.trackDistance&&t.trackDistance,g.wrapDistance=null!=t.wrapDistance?t.wrapDistance:65535,g.thin=null!=t.thin&&t.thin,g.initialDistance=null!=t.initialDistance?t.initialDistance:0,g.enableOuterBisectorSplit=null!=t.enableOuterBisectorSplit&&t.enableOuterBisectorSplit,g.outerBisectorAutoSplitThreshold=null!=t.outerBisectorAutoSplitThreshold?t.outerBisectorAutoSplitThreshold:0,g.enableInnerBisectorSplit=null!=t.enableOuterBisectorSplit&&t.enableOuterBisectorSplit,g.innerBisectorAutoSplitThreshold=null!=t.innerBisectorAutoSplitThreshold?t.innerBisectorAutoSplitThreshold:0,l=e,c=r,p=f=m=0,h=!1,y=d=null,v.currentVertex.x=null,v.currentVertex.y=null,v.distance=g.initialDistance,e=l[0],t=l[l.length-1],v.canSplit=!1,v.closed=e.x===t.x&&e.y===t.y,!(2>l.length||2===l.length&&v.closed))if(g.thin)if(g.trackDistance)for(i(),o(),u(1);f-p>g.wrapDistance||m<l.length;)i(),o(),u(2),c.bridge(v),v.leftExit0=v.rightExit0,v.leftExit2=v.rightExit2;else for(;m<l.length;)0<m&&(v.inbound.x=v.outbound.x,v.inbound.y=v.outbound.y),m<l.length-1?(v.outbound.x=l[m+1].x-l[m].x,v.outbound.y=l[m+1].y-l[m].y,e=Math.sqrt(v.outbound.x*v.outbound.x+v.outbound.y*v.outbound.y),v.distance+=e,v.outbound.x/=e,v.outbound.y/=e):(v.outbound.x=v.inbound.x,v.outbound.y=v.inbound.y),0===m&&(v.inbound.x=v.outbound.x,v.inbound.y=v.outbound.y),v.currentVertex.x=l[m].x,v.currentVertex.y=l[m].y,v.prevNormal.x=-v.inbound.y,v.prevNormal.y=v.inbound.x,v.nextNormal.x=-v.outbound.y,v.nextNormal.y=v.outbound.x,0===m?(c.vertex(v),v.leftEntry0=v.entry0,v.leftEntry2=v.entry2,v.leftExit0=v.exit0,v.leftExit2=v.exit2):(c.vertex(v),v.rightEntry0=v.entry0,v.rightEntry2=v.entry2,v.rightExit0=v.exit0,v.rightExit2=v.exit2,c.bridge(v),v.leftExit0=v.rightExit0,v.leftExit2=v.rightExit2),++m;else{if(g.enableOuterBisectorSplit||0<g.outerBisectorAutoSplitThreshold||g.enableInnerBisectorSplit||0<g.innerBisectorAutoSplitThreshold)for(v.canSplit=!0,i(),a(),v.splitInner=v.gapInner=v.splitOuter=v.gapOuter=!1,s(1),v.closure0=v.leftEntry0,v.closure1=v.leftEntry1,v.closure2=v.leftEntry2;f-p>g.wrapDistance||m<l.length-1||m<l.length&&(!v.closed||g.trackDistance);)i(),a(),v.splitInner=v.gapInner=v.splitOuter=v.gapOuter=!1,s(2),c.bridge(v),v.leftExit0=v.rightExit0,v.leftExit1=v.rightExit1,v.leftExit2=v.rightExit2;else for(i(),a(),s(1),v.closure0=v.leftEntry0,v.closure1=v.leftEntry1,v.closure2=v.leftEntry2;f-p>g.wrapDistance||m<l.length-1||m<l.length&&(!v.closed||g.trackDistance);)i(),a(),s(2),c.bridge(v),v.leftExit0=v.rightExit0,v.leftExit1=v.rightExit1,v.leftExit2=v.rightExit2;v.closed&&!g.trackDistance&&(v.rightEntry0=v.closure0,v.rightEntry1=v.closure1,v.rightEntry2=v.closure2,c.bridge(v),v.leftExit0=v.rightExit0,v.leftExit1=v.rightExit1,v.leftExit2=v.rightExit2)}},t.cleanup=function(){c=l=null},t.splitVertex=n;var l,c,f,p,h,d,y,g={},m=void 0,v=new e;e=function(){function e(e,t){this.writeVertex=e,this.writeTriangle=t,this.capType=0,this.joinType=2,this.miterLimitCosine=r.getLimitCosine(2),this.roundLimitCosine=Math.cos(23*Math.PI/180),this.almostParallelCosine=.97,this.radsPerSlice=.8,this.joinOnUTurn=this.textured=!1}return e.prototype.vertex=function(e){var t=2===this.joinType?this.miterLimitCosine:this.roundLimitCosine,r=e.isCap&&0!==this.capType,i=!1;if(e.cosine>this.almostParallelCosine?(e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):e.cosine<1-this.almostParallelCosine?(i=!e.isCap&&this.joinOnUTurn,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.canSplit?(n(),0<e.sign?(e.splitInner?(e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,e.leftInner.x,e.leftInner.y,0,-1,e.distance),e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.rightInner.x,e.rightInner.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.cosine<t?(i=!e.isCap,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.splitOuter?(i=i||e.gapOuter,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,-e.leftOuter.x,-e.leftOuter.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,-e.rightOuter.x,-e.rightOuter.y,0,1,e.distance)):e.entry2=e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):(e.splitInner?(e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,-e.leftInner.x,-e.leftInner.y,0,1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,-e.rightInner.x,-e.rightInner.y,0,1,e.distance)):e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance),e.cosine<t?(i=!e.isCap,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance)):e.splitOuter?(i=i||e.gapOuter,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.leftOuter.x,e.leftOuter.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.outbound.x,e.outbound.y,e.rightOuter.x,e.rightOuter.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance))):0<e.sign?(e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,e.inbound.x,e.inbound.y,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance),e.cosine<t?(i=!e.isCap,e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)):e.entry2=e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance)):(e.exit2=e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.bisector.x/e.cosine,-e.bisector.y/e.cosine,0,1,e.distance),e.cosine<t?(i=!e.isCap,e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance)):e.exit0=e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.bisector.x/e.cosine,e.bisector.y/e.cosine,0,-1,e.distance)),t=e.entry1=e.exit1=e.canSplit&&(e.splitInner||e.splitOuter)||i||r?this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,0,0,0,0,e.distance):null,i&&1!==this.joinType)this.writeTriangle(t,0<e.sign?e.exit2:e.entry0,0<e.sign?e.entry2:e.exit0);else if(r&&1===this.capType||i&&1===this.joinType){var o=i=r=void 0,a=void 0,s=void 0,u=void 0;e.isCap?(u=(c=Math.PI)/(s=Math.ceil(c/this.radsPerSlice)),e.isFirstVertex?(r=e.prevNormal.x,i=e.prevNormal.y,o=e.entry0,a=e.entry2):e.isLastVertex&&(r=-e.nextNormal.x,i=-e.nextNormal.y,o=e.exit2,a=e.exit0)):(u=(c=2*Math.acos(e.cosine))/(s=Math.ceil(c/this.radsPerSlice)),r=0<e.sign?-e.prevNormal.x:e.nextNormal.x,i=0<e.sign?-e.prevNormal.y:e.nextNormal.y,o=0<e.sign?e.entry2:e.exit0,a=0<e.sign?e.exit2:e.entry0);for(var l,c=Math.cos(u),f=(u=Math.sin(u))*r+c*i,p=(r=c*r-u*i,i=f,f=void 0,0);p<s;++p)l=f,p<s-1&&(f=e.isCap?this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,r,i,e.isFirstVertex?-1:1,0,e.distance):this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,r,i,0,e.sign,e.distance)),this.writeTriangle(0===p?o:l,t,p===s-1?a:f),l=u*r+c*i,r=c*r-u*i,i=l}else r&&2===this.capType&&(r=e.isFirstVertex?1:-1,o=i=void 0,this.textured?(i=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x-r*e.inbound.x,e.prevNormal.y-r*e.inbound.y,-r,-1,e.distance),o=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x-r*e.inbound.x,-e.prevNormal.y-r*e.inbound.y,-r,1,e.distance)):(i=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x-r*e.inbound.x,e.prevNormal.y-r*e.inbound.y,0,-1,e.distance),o=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x-r*e.inbound.x,-e.prevNormal.y-r*e.inbound.y,0,1,e.distance)),0<r?(this.writeTriangle(t,e.entry2,o),this.writeTriangle(t,o,i),this.writeTriangle(t,i,e.entry0)):(this.writeTriangle(t,o,e.exit2),this.writeTriangle(t,i,o),this.writeTriangle(t,e.exit0,i)))},e.prototype.bridge=function(e){this.writeTriangle(e.leftExit0,e.rightEntry0,null!=e.leftExit1?e.leftExit1:e.leftExit2),this.writeTriangle(e.rightEntry0,null!=e.rightEntry1?e.rightEntry1:e.rightEntry2,null!=e.leftExit1?e.leftExit1:e.leftExit2),null!=e.leftExit1&&null!=e.rightEntry1?(this.writeTriangle(e.leftExit1,e.rightEntry1,e.leftExit2),this.writeTriangle(e.rightEntry1,e.rightEntry2,e.leftExit2)):null!=e.leftExit1?this.writeTriangle(e.leftExit1,e.rightEntry2,e.leftExit2):null!=e.rightEntry1&&this.writeTriangle(e.rightEntry1,e.rightEntry2,e.leftExit2)},e}(),t.StandardTessellationCallbacks=e,e=function(){function e(e,t){this.writeVertex=e,this.writeTriangle=t}return e.prototype.vertex=function(e){e.entry0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.prevNormal.x,e.prevNormal.y,0,-1,e.distance),e.entry2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.prevNormal.x,-e.prevNormal.y,0,1,e.distance),e.exit0=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,e.nextNormal.x,e.nextNormal.y,0,-1,e.distance),e.exit2=this.writeVertex(e.currentVertex.x,e.currentVertex.y,0,0,-e.nextNormal.x,-e.nextNormal.y,0,1,e.distance)},e.prototype.bridge=function(e){this.writeTriangle(e.leftExit0,e.rightEntry0,e.leftExit2),this.writeTriangle(e.rightEntry0,e.rightEntry2,e.leftExit2)},e}(),t.ThinTessellationCallbacks=e}))},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],(function(e,t){function r(e,t){return Math.sqrt(e*e+t*t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPolygon=t.isPolyline=t.isPoint=t.isMultipoint=t.isExtent=t.getLimitCosine=t.isFunction=t.dist=t.normalize=t.len=t.sub=void 0,t.sub=function(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e},t.len=r,t.normalize=function(e){var t=r(e[0],e[1]);e[0]/=t,e[1]/=t},t.dist=function(e,t){return r(e[0]-t[0],e[1]-t[1])},t.isFunction=function(e){return"function"==typeof e},t.getLimitCosine=function(e){return 1/Math.max(e,1)},t.isExtent=function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax},t.isMultipoint=function(e){return void 0!==e.points},t.isPoint=function(e){return void 0!==e.x&&void 0!==e.y},t.isPolyline=function(e){return void 0!==e.paths},t.isPolygon=function(e){return void 0!==e.rings}}))},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],(function(e,t){return function(){function e(t){for(this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=t.clone();t.next();)switch(t.tag()){case 1:this.name=t.getString();break;case 3:this.keys.push(t.getString());break;case 4:this.values.push(t.processMessage(e._parseValue));break;case 5:this.extent=t.getUInt32();break;default:t.skip()}}return e.prototype.getData=function(){return this._pbfLayer},e._parseValue=function(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null},e}()}))},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports tslib ../../../../core/BidiEngine ../../../../core/string ./BaseBucket ./GeometryUtils ./Placement ./TextShaping ./style/StyleLayer ../webgl/Geometry".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c){function f(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page-t.iconMosaicItem.page:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}return function(e){function t(t,r,n,i,o,a,s,u){if((r=e.call(this,t,r)||this).type=3,r._markerMap=new Map,r._glyphMap=new Map,r._glyphBufferDataStorage=new Map,r._isIconSDF=!1,t.hasDataDrivenIcon!==n.isDataDriven())throw Error("incompatible icon buffer");if(t.hasDataDrivenText!==o.isDataDriven())throw Error("incompatible text buffer");return r._iconVertexBuffer=n,r._iconIndexBuffer=i,r._textVertexBuffer=o,r._textIndexBuffer=a,r._placementEngine=s,r._workerTileHandler=u,r}return r.__extends(t,e),Object.defineProperty(t.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"symbolInstances",{get:function(){return this._symbolInstances},enumerable:!1,configurable:!0}),t.prototype.getResources=function(e,r,n){var o=this.layer,a=this.zoom,s=o.hasDataDrivenIcon,u=o.hasDataDrivenText;e&&e.setExtent(this.layerExtent);for(var l,c,f,p,h,d,y,g,m,v=o.getLayoutProperty("icon-image"),x=o.getLayoutProperty("text-field"),_=[],b=[1,1,1,1],w=1,T=1,E=[1,1,1,1],S=1,P=1,A=0,O=this._features;A<O.length;A++){var I=(k=O[A]).getGeometry(e);if(I&&0!==I.length){var M=void 0;v&&(M=o.getLayoutValue("icon-image",a,k),v.isDataDriven||(M=this._replaceKeys(M,k.values)),M&&(r.add(M),l=o.getLayoutValue("icon-rotate",a,k),c=o.getLayoutValue("icon-offset",a,k)));var N=void 0,C=!1;if(x&&((N=o.getLayoutValue("text-field",a,k))&&!x.isDataDriven&&(N=this._replaceKeys(N,k.values)),N)){switch(N=N.replace(/\\n/g,"\n"),o.getLayoutValue("text-transform",a,k)){case 2:N=N.toLowerCase();break;case 1:N=N.toUpperCase()}if(t._bidiEngine.hasBidiChar(N)&&(C=void 0,C="rtl"===t._bidiEngine.checkContextual(N)?"IDNNN":"ICNNN",N=t._bidiEngine.bidiTransform(N,C,"VLYSN"),C=!0),0<(R=N.length)){for(f=0,p=m=o.getLayoutValue("text-font",a,k);f<p.length;f++)for((h=n[d=p[f]])||(h=n[d]=new Set),d=0;d<R;d++)y=N.charCodeAt(d),h.add(y);f=o.getLayoutValue("text-rotate",a,k),p=o.getLayoutValue("text-anchor",a,k),h=o.getLayoutValue("text-offset",a,k),d=o.getLayoutValue("text-justify",a,k),y=o.getLayoutValue("text-letter-spacing",a,k),g=o.getLayoutValue("text-max-width",a,k)}}if(M||N){var R=o.getLayoutValue("icon-size",a,k),D=o.getLayoutValue("text-size",a,k);o.hasDataDrivenIconColor&&(b=o.getPaintValue("icon-color",a,k)),o.hasDataDrivenIconOpacity&&(w=o.getPaintValue("icon-opacity",a,k)),o.hasDataDrivenIconSize&&(T=R),o.hasDataDrivenTextColor&&(E=o.getPaintValue("text-color",a,k)),o.hasDataDrivenTextOpacity&&(S=o.getPaintValue("text-opacity",a,k)),o.hasDataDrivenTextSize&&(P=D);var L=o.getLayoutValue("symbol-sort-key",a,k),k={sprite:M,label:N,rtl:C,type:k.type,geometry:I,hash:(N?i.numericHash(N):0)^(M?i.numericHash(M):0),priority:L,iconSize:R,iconRotate:l,ddIconValues:s?{color:b,opacity:w,size:T}:null,iconOffset:c,textSize:D,textRotate:f,ddTextValues:u?{color:E,opacity:S,size:P}:null,textAnchor:p,textOffset:h,textJustify:d,textLetterSpacing:y,textMaxWidth:g,textFontArray:m};_.push(k)}}}this._symbolFeatures=_},t.prototype.processFeatures=function(e){e&&e.setExtent(this.layerExtent);var r=this.zoom;e=1===(h=this.layer).getLayoutValue("symbol-placement",r);var n,i=h.getLayoutValue("symbol-spacing",r)*s.TILE_PIXEL_RATIO,o=h.getLayoutProperty("icon-image"),c=h.getLayoutProperty("text-field"),p=o?new l.IconLayout(h,r,e):null,h=c?new l.TextLayout(h,r,e):null,d=this._workerTileHandler;o&&(n=d.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._textIndexCount=this._iconIndexCount=0,this._markerMap.clear(),this._glyphMap.clear(),o=[],r=1,h&&h.size&&(r=h.size/u.SDF_GLYPH_SIZE),c=h?h.maxAngle*a.C_DEG_TO_RAD:0;for(var y=h?h.size*s.TILE_PIXEL_RATIO:0,g=0,m=this._symbolFeatures;g<m.length;g++){var v=m[g],x=void 0;p&&n&&v.sprite&&(x=n[v.sprite])&&x.sdf&&(this._isIconSDF=!0),x&&(p.size=v.iconSize,p.rotate=v.iconRotate,p.offset=v.iconOffset);var _=void 0,b=0,w=v.label;if(w){h.size=v.textSize,h.rotate=v.textRotate,h.anchor=v.textAnchor,h.fontArray=v.textFontArray,h.justify=v.textJustify,h.letterSpacing=v.textLetterSpacing,h.maxWidth=v.textMaxWidth,h.offset=v.textOffset,_=e?h.keepUpright:h.writingMode&&0<=h.writingMode.indexOf(1);var T=.5;switch(h.anchor){case 5:case 1:case 7:T=0;break;case 6:case 2:case 8:T=1}var E=.5;switch(h.anchor){case 5:case 3:case 6:E=0;break;case 7:case 4:case 8:E=1}var S=.5;switch(h.justify){case 0:S=T;break;case 1:S=0;break;case 3:S=1}var P=h.letterSpacing*u.SDF_GLYPH_SIZE,A=e?0:h.maxWidth*u.SDF_GLYPH_SIZE,O=h.lineHeight*u.SDF_GLYPH_SIZE,I=void 0;if(I=void 0,I=h.fontArray.map((function(e){return d.getGlyphItems(e)})),(_=(I=new u.TextShaping(I,A,O,P,T,E,S)).getShaping(w,v.rtl,_))&&0<_.length){for(b=1e30,w=-1e30,T=0,E=_;T<E.length;T++)S=E[T],b=Math.min(b,S.x),w=Math.max(w,S.x);b=(w-b+2*u.SDF_GLYPH_SIZE)*r*s.TILE_PIXEL_RATIO}}for(w=0,T=v.geometry;w<T.length;w++)for(E=T[w],P=void 0,e?(_&&0<_.length&&h&&h.size&&(E=t._smoothVertices(E,h.size*s.TILE_PIXEL_RATIO*(2+Math.min(2,4*Math.abs(h.offset[1]))))),P=t._findAnchors(E,i,b)):P=3===v.type?t._findCentroid(E):[new s.Anchor(E[0].x,E[0].y)],S=0;S<P.length;S++)0>(A=P[S]).x||A.x>s.TILE_COORD_SIZE||0>A.y||A.y>s.TILE_COORD_SIZE||e&&0<b&&0===h.rotationAlignment&&!t._honorsTextMaxAngle(E,A,b,c,y)||(o.push(A={shaping:_,line:E,iconMosaicItem:x,anchor:A,symbolFeature:v,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]}),this._processFeature(A,p,h))}o.sort(f),this._addPlacedGlyphs(),this._symbolInstances=o},t.prototype.serialize=function(){var e;e=13+this.layerIndices.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=t.symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;var r=0,n=new Uint32Array(e);e=new Int32Array(n.buffer);var i=new Float32Array(n.buffer);n[r++]=this.type,n[r++]=this.layerIndices.length;for(var o=0;o<this.layerIndices.length;o++)n[r++]=this.layerIndices[o];for(n[r++]=this._isIconSDF?1:0,n[r++]=this._iconVertexBuffer.isDataDriven()?1:0,n[r++]=this._textVertexBuffer.isDataDriven()?1:0,n[r++]=this.markerPageMap.size,this.markerPageMap.forEach((function(e,t){var i=e[0];e=e[1],n[r++]=t,n[r++]=i,n[r++]=e})),n[r++]=this.glyphsPageMap.size,this.glyphsPageMap.forEach((function(e,t){var i=e[0];e=e[1],n[r++]=t,n[r++]=i,n[r++]=e})),n[r++]=this._iconVertexBuffer.index/4,n[r++]=this._textVertexBuffer.index/4,r=t.serializeSymbols(n,e,i,r,this._symbolInstances),n[r++]=this._iconVertexBuffer.array.length,i=0;i<this._iconVertexBuffer.array.length;i++)e[r++]=this._iconVertexBuffer.array[i];for(n[r++]=this._iconIndexBuffer.array.length,i=0;i<this._iconIndexBuffer.array.length;i++)n[r++]=this._iconIndexBuffer.array[i];for(n[r++]=this._textVertexBuffer.array.length,i=0;i<this._textVertexBuffer.array.length;i++)e[r++]=this._textVertexBuffer.array[i];for(n[r++]=this._textIndexBuffer.array.length,e=0;e<this._textIndexBuffer.array.length;e++)n[r++]=this._textIndexBuffer.array[e];return n.buffer},t.symbolsSerializationLength=function(e){var t;t=1;for(var r=0;r<e.length;r++){var n=e[r];t+=4,t+=1;for(var i=0,o=n.textColliders;i<o.length;i++)t+=10;for(i=0,o=n.iconColliders;i<o.length;i++)t+=10;t+=1,t+=2*n.textVertexRanges.length,t+=1,t+=2*n.iconVertexRanges.length}return t},t.serializeSymbols=function(e,t,r,n,i){for(t[n++]=i.length,e=0;e<i.length;e++){var o=i[e];t[n++]=o.anchor.x,t[n++]=o.anchor.y,t[n++]=o.symbolFeature.hash,t[n++]=o.symbolFeature.priority,t[n++]=o.textColliders.length+o.iconColliders.length;for(var a=0,s=o.textColliders;a<s.length;a++){var u=s[a];t[n++]=u.xTile,t[n++]=u.yTile,t[n++]=u.dxPixels,t[n++]=u.dyPixels,t[n++]=u.hard?1:0,t[n++]=u.partIndex,r[n++]=u.minLod,r[n++]=u.maxLod,t[n++]=u.width,t[n++]=u.height}for(a=0,s=o.iconColliders;a<s.length;a++)t[n++]=(u=s[a]).xTile,t[n++]=u.yTile,t[n++]=u.dxPixels,t[n++]=u.dyPixels,t[n++]=u.hard?1:0,t[n++]=u.partIndex,r[n++]=u.minLod,r[n++]=u.maxLod,t[n++]=u.width,t[n++]=u.height;t[n++]=o.textVertexRanges.length,s=0;for(var l=o.textVertexRanges;s<l.length;s++)u=(a=l[s])[0],a=a[1],t[n++]=u,t[n++]=a;for(t[n++]=o.iconVertexRanges.length,s=0,o=o.iconVertexRanges;s<o.length;s++)u=(a=o[s])[0],a=a[1],t[n++]=u,t[n++]=a}return n},t.prototype._replaceKeys=function(e,t){return e.replace(/{([^{}]+)}/g,(function(e,r){return r in t?t[r]:""}))},t.prototype._processFeature=function(e,t,r){var n=e.line,i=e.iconMosaicItem,o=e.anchor,s=!0;(y=!!i)&&(s=t.optional||!i);var u,l,c=!0;if((p=(h=e.shaping)&&0<h.length)&&(c=r.optional||!h||0===h.length),y&&(u=this._placementEngine.getIconPlacement(o,i,t)),(u||s)&&(p&&(l=this._placementEngine.getTextPlacement(o,h,n,r)),l||c)){if(u&&l||(c||s?c||l?s||u||(l=null):u=null:l=u=null),l&&(this._storePlacedGlyphs(e,l.shapes,this.zoom,r.rotationAlignment),l.textColliders))for(e.textColliders=l.textColliders,r=0,n=l.textColliders;r<n.length;r++)if((l=n[r]).minLod=Math.max(this.zoom+a.log2(l.minLod),0),l.maxLod=Math.min(this.zoom+a.log2(l.maxLod),25),h=l.angle){s=Math.cos(h);var f=Math.sin(h),p=l.dxPixels*s-l.dyPixels*f,h=l.dxPixels*f+l.dyPixels*s,d=(c=(l.dxPixels+l.width)*s-l.dyPixels*f,o=(l.dxPixels+l.width)*f+l.dyPixels*s,l.dxPixels*s-(l.dyPixels+l.height)*f),y=l.dxPixels*f+(l.dyPixels+l.height)*s,g=(l.dxPixels+l.width)*s-(l.dyPixels+l.height)*f;f=(l.dxPixels+l.width)*f+(l.dyPixels+l.height)*s,s=Math.min(p,c,d,g),p=Math.max(p,c,d,g),c=Math.min(h,o,y,f),h=Math.max(h,o,y,f),l.dxPixels=s,l.dyPixels=c,l.width=p-s,l.height=h-c}if(u&&(this._addPlacedIcons(e,u.shapes,this.zoom,i.page,1===t.rotationAlignment),u.iconColliders))for(e.iconColliders=u.iconColliders,e=0,u=u.iconColliders;e<u.length;e++)(l=u[e]).minLod=Math.max(this.zoom+a.log2(l.minLod),0),l.maxLod=Math.min(this.zoom+a.log2(l.maxLod),25),(h=l.angle)&&(s=Math.cos(h),f=Math.sin(h),p=l.dxPixels*s-l.dyPixels*f,h=l.dxPixels*f+l.dyPixels*s,c=(l.dxPixels+l.width)*s-l.dyPixels*f,o=(l.dxPixels+l.width)*f+l.dyPixels*s,d=l.dxPixels*s-(l.dyPixels+l.height)*f,y=l.dxPixels*f+(l.dyPixels+l.height)*s,g=(l.dxPixels+l.width)*s-(l.dyPixels+l.height)*f,f=(l.dxPixels+l.width)*f+(l.dyPixels+l.height)*s,s=Math.min(p,c,d,g),p=Math.max(p,c,d,g),c=Math.min(h,o,y,f),h=Math.max(h,o,y,f),l.dxPixels=s,l.dyPixels=c,l.width=p-s,l.height=h-c)}},t.prototype._addPlacedIcons=function(e,t,r,n,i){for(var o=e.symbolFeature.ddIconValues,s=Math.max(r-1,0),u=this._iconVertexBuffer,l=this._iconIndexBuffer,c=this._markerMap,f=0;f<t.length;f++){var p=t[f],h=i?0:Math.max(r+a.log2(p.minzoom),s),d=i?25:Math.min(r+a.log2(p.maxzoom),25);if(!(d<=h)){var y=p.tl,g=p.tr,m=p.bl,v=p.br,x=p.labelAngle,_=p.minAngle,b=p.maxAngle,w=u.index,T=(P=p.mosaicRect).x,E=P.y,S=T+P.width,P=E+P.height,A=u.index;u.add((p=p.anchor).x,p.y,y.x,y.y,T,E,x,_,b,h,d,o),u.add(p.x,p.y,g.x,g.y,S,E,x,_,b,h,d,o),u.add(p.x,p.y,m.x,m.y,T,P,x,_,b,h,d,o),u.add(p.x,p.y,v.x,v.y,S,P,x,_,b,h,d,o),0<e.iconVertexRanges.length&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===A?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([A,4]),l.add(w+0,w+1,w+2),l.add(w+1,w+2,w+3),c.has(n)?c.get(n)[1]+=6:c.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}},t.prototype._addPlacedGlyphs=function(){var e=this,t=this._textVertexBuffer,r=this._textIndexBuffer,n=this._glyphMap;this._glyphBufferDataStorage.forEach((function(i,o){for(var a=0;a<i.length;a++){var s=i[a],u=t.index,l=s.symbolInstance,c=l.symbolFeature.ddTextValues,f=t.index;t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tl[0],s.tl[1],s.xmin,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,c),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tr[0],s.tr[1],s.xmax,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,c),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.bl[0],s.bl[1],s.xmin,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,c),t.add(s.glyphAnchor[0],s.glyphAnchor[1],s.br[0],s.br[1],s.xmax,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,c),0<l.textVertexRanges.length&&l.textVertexRanges[0][0]+l.textVertexRanges[0][1]===f?l.textVertexRanges[0][1]+=4:l.textVertexRanges.push([f,4]),r.add(u+0,u+1,u+2),r.add(u+1,u+2,u+3),n.has(o)?n.get(o)[1]+=6:n.set(o,[e._textIndexStart+e._textIndexCount,6]),e._textIndexCount+=6}})),this._glyphBufferDataStorage.clear()},t.prototype._storePlacedGlyphs=function(e,t,r,n){var i=Math.max(r-1,0);n=1===n;for(var o,s,u,l,c,f,p,h,d,y,g,m=0;m<t.length;m++){var v=t[m];o=n?0:Math.max(r+a.log2(v.minzoom),i),(s=n?25:Math.min(r+a.log2(v.maxzoom),25))<=o||(u=v.tl,l=v.tr,c=v.bl,f=v.br,p=v.labelAngle,h=v.minAngle,d=v.maxAngle,y=v.anchor,g=v.mosaicRect,this._glyphBufferDataStorage.has(v.page)||this._glyphBufferDataStorage.set(v.page,[]),this._glyphBufferDataStorage.get(v.page).push({glyphAnchor:[y.x,y.y],tl:[u.x,u.y],tr:[l.x,l.y],bl:[c.x,c.y],br:[f.x,f.y],xmin:g.x,ymin:g.y,xmax:g.x+g.width,ymax:g.y+g.height,labelAngle:p,minAngle:h,maxAngle:d,minLod:o,maxLod:s,placementLod:i,symbolInstance:e}))}},t._findAnchors=function(e,t,r){t+=r;for(var n=0,i=e.length-1,o=0;o<i;o++)n+=c.Point.distance(e[o],e[o+1]);if(n<=(o=.5*(r||t)))return[];r=o/n,t=n/Math.max(Math.round(n/t),1),n=0,i=-t/2;var u=[],l=e.length-1;for(o=0;o<l;o++){for(var f=e[o],p=e[o+1],h=p.x-f.x,d=p.y-f.y,y=Math.sqrt(h*h+d*d),g=void 0;i+t<n+y;){var m=a.interpolate(f.x,p.x,v=((i+=t)-n)/y),v=a.interpolate(f.y,p.y,v);void 0===g&&(g=Math.atan2(d,h)),u.push(new s.Anchor(m,v,g,o,r))}n+=y}return u},t._deviation=function(e,t,r){return Math.atan2((t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x),(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y))},t._honorsTextMaxAngle=function(e,t,r,n,i){var o=0;r/=2;for(var a=new c.Point(t.x,t.y),s=t.segment+1;o>-r;){if(0>--s)return!1;o-=c.Point.distance(e[s],a),a=e[s]}o+=c.Point.distance(e[s],e[s+1]),t=[],a=0;for(var u=e.length;o<r;){var l=e[s],f=void 0;do{if(++s===u)return!1;f=e[s]}while(f.isEqual(l));var p=s,h=void 0;do{if(++p===u)return!1;h=e[p]}while(h.isEqual(f));for(l=this._deviation(l,f,h),t.push({deviation:l,distToAnchor:o}),a+=l;o-t[0].distToAnchor>i;)a-=t.shift().deviation;if(Math.abs(a)>n)return!1;o+=c.Point.distance(f,h)}return!0},t._smoothVertices=function(e,t){if(0>=t)return e;var r=e.length;if(3>r)return e;var n=[],i=0,o=0;n.push(0);for(var a=1;a<r;a++)0<(m=c.Point.distance(e[a],e[a-1]))&&(n.push(i+=m),++o!==a&&(e[o]=e[a]));if(3>(r=o+1))return e;t=Math.min(t,.2*i),i=e[0].x,o=e[0].y;var s=e[r-1].x,u=e[r-1].y;(a=c.Point.sub(e[0],e[1])).normalize(),e[0].x+=t*a.x,e[0].y+=t*a.y,a.assignSub(e[r-1],e[r-2]),a.normalize(),e[r-1].x+=t*a.x,e[r-1].y+=t*a.y,n[0]-=t,n[r-1]+=t;var l=[];l.push(new c.Point(i,o));var f=.5*t;for(a=1;a<r-1;a++){for(var p=0,h=0,d=0,y=a-1;0<=y;y--){var g=f+n[y+1]-n[a];if(0>g)break;var m=n[y+1]-n[y],v=n[a]-n[y]<f?1:g/m;if(1e-6>v)break;var x=v*v,_=v*g-.5*x*m,b=v*m/t,w=e[y+1],T=e[y].x-w.x,E=e[y].y-w.y;p+=b/_*(w.x*v*g+.5*x*(g*T-m*w.x)-x*v*m*T/3),h+=b/_*(w.y*v*g+.5*x*(g*E-m*w.y)-x*v*m*E/3),d+=b}for(y=a+1;y<r&&!(0>(g=f-n[y-1]+n[a]))&&(m=n[y]-n[y-1],!(1e-6>(v=n[y]-n[a]<f?1:g/m)));y++)p+=(b=v*m/t)/(_=v*g-.5*(x=v*v)*m)*((w=e[y-1]).x*v*g+.5*x*(g*(T=e[y].x-w.x)-m*w.x)-x*v*m*T/3),h+=b/_*(w.y*v*g+.5*x*(g*(E=e[y].y-w.y)-m*w.y)-x*v*m*E/3),d+=b;l.push(new c.Point(p/d,h/d))}return l.push(new c.Point(s,u)),e[0].x=i,e[0].y=o,e[r-1].x=s,e[r-1].y=u,l},t._findCentroid=function(e){var t=e.length-1,r=0,n=0,i=0,o=e[0].x,a=e[0].y;4096<o&&(o=4096),0>o&&(o=0),4096<a&&(a=4096),0>a&&(a=0);for(var u=1;u<t;u++){var l=e[u].x,c=e[u].y,f=e[u+1].x,p=e[u+1].y;4096<l&&(l=4096),0>l&&(l=0),4096<c&&(c=4096),0>c&&(c=0),4096<f&&(f=4096),0>f&&(f=0),4096<p&&(p=4096),0>p&&(p=0);var h=(l-o)*(p-a)-(f-o)*(c-a);r+=h*(o+l+f),n+=h*(a+c+p),i+=h}return r/=3*i,n/=3*i,isNaN(r)||isNaN(n)?[]:[new s.Anchor(r,n)]},t._bidiEngine=new n.default,t}(o)}))},"esri/core/BidiEngine":function(){define(["require","exports","./bidiEngineTables"],(function(e,t,r){function n(e,t,r,a,u){var l=e;if(void 0===t&&(t=u.defInFormat),void 0===r&&(r=u.defOutFormat),void 0===a&&(a=u.defSwap),t!==r){var c,f=t.substring(0,1),p=r.substring(0,1);c=t.substring(1,4);var h=r.substring(1,4);"C"===c.charAt(0)&&(c="ltr"===(c=i(l))||"rtl"===c?c.toUpperCase():"L"===t.charAt(2)?"LTR":"RTL",t=f+c),"C"===h.charAt(0)&&("rtl"===(c=i(l))?h="RTL":"ltr"===c?((l=l.split("")).reverse(),h=(c=i(l.join(""))).toUpperCase()):h="L"===r.charAt(2)?"LTR":"RTL",r=p+h)}if(t===r)return e;if(p=t.substring(0,1),l=t.substring(1,4),f=r.substring(0,1),h=r.substring(1,4),u.inFormat=t,u.outFormat=r,u.swap=a,"L"===p&&"VLTR"===r){if("LTR"===l)return u.dir=T,o(e,u);if("RTL"===l)return u.dir=E,o(e,u)}return"V"===p&&"V"===f?(u.dir="RTL"===l?E:T,s(e,u)):"L"===p&&"VRTL"===r?(u.dir="LTR"===l?T:E,s(e=o(e,u))):"VLTR"===t&&"LLTR"===r?(u.dir=T,o(e,u)):"V"===p&&"L"===f&&l!==h?(e=s(e),"RTL"===l?n(e,"LLTR","VLTR",a,u):n(e,"LRTL","VRTL",a,u)):"VRTL"===t&&"LRTL"===r?n(e,"LRTL","VRTL",a,u):("L"===p&&"L"===f&&(u.swap=(t=u.swap).substr(0,1)+"N","RTL"===l?(u.dir=E,e=o(e,u),u.swap="N"+t.substr(1,2),u.dir=T,e=o(e,u)):(u.dir=T,e=o(e,u),u.swap="N"+t.substr(1,2),e=n(e,"VLTR","LRTL",u.swap,u))),e)}function i(e){return(e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(e))?"z">=e[0]?"ltr":"rtl":""}function o(e,t){var n=[];if(a(e=e.split(""),n,t),0!==t.hiLevel&&t.swap.substr(0,1)!==t.swap.substr(1,2))for(var i=0;i<e.length;i++)if(1===n[i]){var o,s=i;e:{o=e[i];for(var u=void 0,l=0,f=r.SwapTable.length-1;l<=f;)if(u=Math.floor((l+f)/2),o<r.SwapTable[u][0])f=u-1;else{if(!(o>r.SwapTable[u][0])){o=r.SwapTable[u][1];break e}l=u+1}}e[s]=o}return c(2,e,n,t),c(1,e,n,t),x=n,e.join("")}function a(e,t,n){var i=e.length,o=n.dir?r.impTabRtl:r.impTabLtr,a=0,s=-1,u=[],l=[];n.hiLevel=n.dir,n.lastArabic=!1,n.hasUbatAl=!1,n.hasUbatB=!1,n.hasUbatS=!1;for(var c=0;c<i;c++){var p=c,h=e[c].charCodeAt(0),d=r.PrimaryTable[h>>8];u[p]=d<r.TBBASE?d:r.UnicodeTable[d-r.TBBASE][255&h]}for(p=0;p<i;p++){if(c=f(e,u,l,p,n),l[p]=c,c=240&(a=o[a][c]),t[p]=h=o[a&=15][b],0<c){if(16===c)for(c=s;c<p;c++)t[c]=1;s=-1}if(o[a][w])-1===s&&(s=p);else if(-1<s){for(c=s;c<p;c++)t[c]=h;s=-1}u[p]===r.UBAT_B&&(t[p]=0),n.hiLevel|=h}if(n.hasUbatS)for(e=0;e<i;e++)if(u[e]===r.UBAT_S)for(t[e]=n.dir,o=e-1;0<=o&&u[o]===r.UBAT_WS;o--)t[o]=n.dir}function s(e,t){if(e=e.split(""),t){var r=[];a(e,r,t),x=r}return e.reverse(),m.reverse(),e.join("")}function u(e){for(var t=0;t<r.ArabicAlefBetIntervalsBegine.length;t++)if(e>=r.ArabicAlefBetIntervalsBegine[t]&&e<=r.ArabicAlefBetIntervalsEnd[t])return!0;return!1}function l(e,t,r,n){for(;t*r<n&&h(e[t]);)t+=r;return!!(t*r<n&&u(e[t]))}function c(e,t,r,n){if(!(n.hiLevel<e))if(1!==e||n.dir!==E||n.hasUbatB){n=t.length;for(var i,o,a,s=0;s<n;){if(r[s]>=e){for(i=s+1;i<n&&r[i]>=e;)i++;for(o=i-1;s<o;s++,o--)a=t[s],t[s]=t[o],t[o]=a,a=m[s],m[s]=m[o],m[o]=a;s=i}s++}}else t.reverse(),m.reverse()}function f(e,t,n,i,o){return{UBAT_L:function(){return o.lastArabic=!1,r.UBAT_L},UBAT_R:function(){return o.lastArabic=!1,r.UBAT_R},UBAT_ON:function(){return r.UBAT_ON},UBAT_AN:function(){return r.UBAT_AN},UBAT_EN:function(){return o.lastArabic?r.UBAT_AN:r.UBAT_EN},UBAT_AL:function(){return o.lastArabic=!0,o.hasUbatAl=!0,r.UBAT_R},UBAT_WS:function(){return r.UBAT_ON},UBAT_CS:function(){var e,a;return 1>i||i+1>=t.length||(e=n[i-1])!==r.UBAT_EN&&e!==r.UBAT_AN||(a=t[i+1])!==r.UBAT_EN&&a!==r.UBAT_AN?r.UBAT_ON:(o.lastArabic&&(a=r.UBAT_AN),a===e?a:r.UBAT_ON)},UBAT_ES:function(){return(0<i?n[i-1]:r.UBAT_B)===r.UBAT_EN&&i+1<t.length&&t[i+1]===r.UBAT_EN?r.UBAT_EN:r.UBAT_ON},UBAT_ET:function(){if(0<i&&n[i-1]===r.UBAT_EN)return r.UBAT_EN;if(o.lastArabic)return r.UBAT_ON;for(var e=i+1,a=t.length;e<a&&t[e]===r.UBAT_ET;)e++;return e<a&&t[e]===r.UBAT_EN?r.UBAT_EN:r.UBAT_ON},UBAT_NSM:function(){if("VLTR"===o.inFormat){for(var a=t.length,s=i+1;s<a&&t[s]===r.UBAT_NSM;)s++;if(s<a&&(s=t[s],(1425<=(a=e[i].charCodeAt[0])&&2303>=a||64286===a)&&(s===r.UBAT_R||s===r.UBAT_AL)))return r.UBAT_R}return 1>i||t[i-1]===r.UBAT_B?r.UBAT_ON:n[i-1]},UBAT_B:function(){return o.lastArabic=!0,o.hasUbatB=!0,o.dir},UBAT_S:function(){return o.hasUbatS=!0,r.UBAT_ON},UBAT_LRE:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_RLE:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_LRO:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_RLO:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_PDF:function(){return o.lastArabic=!1,r.UBAT_ON},UBAT_BN:function(){return r.UBAT_ON}}[r.TYPES_NAMES[t[i]]]()}function p(e,t){for(var n=0;n<r.BaseForm.length;n++)if(e===r.BaseForm[n])return t[n];return e}function h(e){return"\u064b"<=e&&"\u0655">=e}function d(e){return"L"===e?"LTR":"R"===e?"RTL":"C"===e?"CLR":"D"===e?"CRL":""}function y(e,t){for(var n=0;n<r.AlefTable.length;n++)if(e===r.AlefTable[n])return t[n];return e}function g(e,t,r,n){for(var i=0;i<e.length;i++)(e[i]>t||!r&&e[i]===t)&&(e[i]+=n)}Object.defineProperty(t,"__esModule",{value:!0}),e=function(){function e(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}return e.prototype.bidiTransform=function(e,t,i){if(this.sourceToTarget=[],this.targetToSource=[],!e)return"";var o=this.sourceToTarget,a=this.targetToSource,s=e.length;m=[],x=[];for(var c=0;c<s;c++)o[c]=c,a[c]=c,m[c]=c;if(!this.checkParameters(t,i))return e;for(i=this.outputFormat,o=e,o=_,c=d((t=this.inputFormat).charAt(1)),a=d(i.charAt(1)),c=(w="I"===t.charAt(0)?"L":t.charAt(0))+c,a=(s="I"===i.charAt(0)?"L":i.charAt(0))+a,s=t.charAt(2)+i.charAt(2),o.defInFormat=c,o.defOutFormat=a,o.defSwap=s,e=n(e,c,a,s,o),o=!1,"R"===i.charAt(1)?o=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(o="rtl"===this.checkContextual(e)),a=this.sourceToTarget=m,s=Array(a.length),c=0;c<a.length;c++)s[a[c]]=c;if(v=this.targetToSource=s,t.charAt(3)===i.charAt(3))o=e;else if("S"===i.charAt(3))if(t=o,i=!0,0===e.length)o="";else{void 0===t&&(t=!0),void 0===i&&(i=!0);var f=0;a=1,o=(e=(e=String(e)).split("")).length,t||(f=e.length-1,a=-1,o=1),s=o,c=i;for(var b=0,w=(o=[],0);f*a<s;f+=a)if(u(e[f])||h(e[f])){var T;if(T="\u0644"===e[f])e:{for(var E=e,S=f+a,P=a,A=s;S*P<A&&h(E[S]);)S+=P;if(T=" ",S*P<A)for(T=E[S],E=0;E<r.AlefTable.length;E++)if(r.AlefTable[E]===T){T=!0;break e}T=!1}if(T){for(e[f]=y(e[f+a],0===b?r.LamAlefInialTableFE:r.LamAlefMedialTableFE),b=e,T=f+=a,E=a,S=s;T*E<S&&h(b[T]);)T+=E;T*E<S&&(b[T]=" "),c&&(o[w]=f,w++),b=0}else{if(T=e[f],1===b){if(E=f,l(e,f+a,a,s)){e:for(S=e[f],P=0;P<r.BaseForm.length;P++)if(S===r.BaseForm[P]){S=r.MedialForm[P];break e}}else S=p(e[f],r.FinalForm);e[E]=S}else e[f]=!0===l(e,f+a,a,s)?p(e[f],r.InitialForm):p(e[f],r.IsolatedForm);h(T)||(b=1);e:{for(E=0;E<r.StandAlonForm.length;E++)if(r.StandAlonForm[E]===T){T=!0;break e}T=!1}!0===T&&(b=0)}}else b=0;for(a="",s=0;s<e.length;s++){if(c=i){e:{for(c=0;c<o.length;c++)if(o[c]===s)break e;c=-1}c=-1<c}c?(g(v,s,!t,-1),m.splice(s,1)):a+=e[s]}o=a}else if(t=e,i=o,e=!0,0===t.length)o="";else for(void 0===e&&(e=!0),void 0===i&&(i=!0),o="",a=(t=String(t)).split(""),s=0;s<t.length;s++)c=!1,"\ufe70"<=a[s]&&"\ufeff">a[s]?(w=t.charCodeAt(s),"\ufef5"<=a[s]&&"\ufefc">=a[s]?(i?(0<s&&e&&" "===a[s-1]?o=o.substring(0,o.length-1)+"\u0644":(o+="\u0644",c=!0),o+=r.AlefTable[(w-65269)/2]):(o+=r.AlefTable[(w-65269)/2],o+="\u0644",s+1<t.length&&e&&" "===a[s+1]?s++:c=!0),c&&(g(v,s,!0,1),m.splice(s,0,m[s]))):o+=r.FETo06Table[w-65136]):o+=a[s];return this.sourceToTarget=m,this.targetToSource=v,this.levels=x,o},e.prototype._inputFormatSetter=function(e){if(!S.test(e))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e},e.prototype._outputFormatSetter=function(e){if(!S.test(e))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e},e.prototype.checkParameters=function(e,t){return e?this._inputFormatSetter(e):e=this.inputFormat,t?this._outputFormatSetter(t):t=this.outputFormat,e!==t},e.prototype.checkContextual=function(e){if("ltr"!==(e=i(e))&&"rtl"!==e){try{e=document.dir.toLowerCase()}catch(t){}"ltr"!==e&&"rtl"!==e&&(e="ltr")}return e},e.prototype.hasBidiChar=function(e){return P.test(e)},e}(),t.default=e;var m=[],v=[],x=[],_={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},b=5,w=6,T=0,E=1,S=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,P=/[\u0591-\u06ff\ufb1d-\ufefc]/}))},"esri/core/bidiEngineTables":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeTable=t.PrimaryTable=t.TBBASE=t.TYPES_NAMES=t.UBAT_BN=t.UBAT_RLO=t.UBAT_LRO=t.UBAT_PDF=t.UBAT_RLE=t.UBAT_LRE=t.UBAT_NSM=t.UBAT_ET=t.UBAT_ES=t.UBAT_CS=t.UBAT_WS=t.UBAT_AL=t.UBAT_S=t.UBAT_B=t.UBAT_ON=t.UBAT_AN=t.UBAT_EN=t.UBAT_R=t.UBAT_L=t.impTabRtl=t.impTabLtr=t.ArabicAlefBetIntervalsEnd=t.ArabicAlefBetIntervalsBegine=t.FETo06Table=t.StandAlonForm=t.InitialForm=t.MedialForm=t.FinalForm=t.IsolatedForm=t.BaseForm=t.LamAlefMedialTableFE=t.LamAlefInialTableFE=t.AlefTable=t.SwapTable=void 0,t.SwapTable=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\xab","\xbb"],["\xbb","\xab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],t.AlefTable=["\u0622","\u0623","\u0625","\u0627"],t.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"],t.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"],t.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),t.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),t.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),t.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),t.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),t.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),t.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),t.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"],t.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"],t.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],t.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],t.UBAT_L=0,t.UBAT_R=1,t.UBAT_EN=2,t.UBAT_AN=3,t.UBAT_ON=4,t.UBAT_B=5,t.UBAT_S=6,t.UBAT_AL=7,t.UBAT_WS=8,t.UBAT_CS=9,t.UBAT_ES=10,t.UBAT_ET=11,t.UBAT_NSM=12,t.UBAT_LRE=13,t.UBAT_RLE=14,t.UBAT_PDF=15,t.UBAT_LRO=16,t.UBAT_RLO=17,t.UBAT_BN=18,t.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),t.TBBASE=100;var r=t.UBAT_R,n=t.UBAT_EN,i=t.UBAT_AN,o=t.UBAT_ON,a=t.UBAT_B,s=t.UBAT_S,u=t.UBAT_AL,l=t.UBAT_WS,c=t.UBAT_CS,f=t.UBAT_ES,p=t.UBAT_ET,h=t.UBAT_NSM,d=t.UBAT_LRE,y=t.UBAT_RLE,g=t.UBAT_PDF,m=t.UBAT_LRO,v=t.UBAT_RLO,x=t.UBAT_BN;t.PrimaryTable=[t.TBBASE+0,e=t.UBAT_L,e,e,e,t.TBBASE+1,t.TBBASE+2,t.TBBASE+3,r,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,t.TBBASE+4,o,o,o,e,o,e,o,e,o,o,o,e,e,o,o,e,e,e,e,e,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,e,e,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,e,e,o,o,e,e,o,o,e,e,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,e,e,e,t.TBBASE+5,u,u,t.TBBASE+6,t.TBBASE+7],t.UnicodeTable=[[x,x,x,x,x,x,x,x,x,s,a,s,l,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,a,a,a,s,l,o,o,p,p,p,o,o,o,o,o,f,c,f,c,c,n,n,n,n,n,n,n,n,n,n,c,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,x,x,x,x,x,x,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,c,o,p,p,p,p,o,o,o,o,e,o,o,x,o,o,p,p,n,n,o,e,o,o,o,n,e,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,e,e,e,e,e,e,e,e],[e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,e,e,e,e,e,e,e,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,e,o,o,o,o,o,o,o,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,r,h,r,h,h,r,h,h,r,h,o,o,o,o,o,o,o,o,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,o,o,o,o,o,r,r,r,r,r,o,o,o,o,o,o,o,o,o,o,o],[i,i,i,i,o,o,o,o,u,p,p,u,c,u,o,o,h,h,h,h,h,h,h,h,h,h,h,u,o,o,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,i,i,i,i,i,i,i,i,i,i,p,i,i,u,u,u,h,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,h,h,h,h,h,h,i,o,h,h,h,h,h,h,u,u,h,h,o,h,h,h,h,u,u,n,n,n,n,n,n,n,n,n,n,u,u,u,u,u,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,o,u,u,h,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,o,o,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,h,h,h,h,h,h,h,h,h,h,h,u,o,o,o,o,o,o,o,o,o,o,o,o,o,o,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,h,h,h,h,h,h,h,h,h,r,r,o,o,o,o,r,o,o,o,o,o],[l,l,l,l,l,l,l,l,l,l,l,x,x,x,e,r,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,l,a,d,y,g,m,v,c,p,p,p,p,p,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,c,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,l,x,x,x,x,x,o,o,o,o,o,x,x,x,x,x,x,n,e,o,o,n,n,n,n,n,n,f,f,o,o,o,e,n,n,n,n,n,n,n,n,n,n,f,f,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o],[e,e,e,e,e,e,e,o,o,o,o,o,o,o,o,o,o,o,o,e,e,e,e,e,o,o,o,o,o,r,h,r,r,r,r,r,r,r,r,r,r,f,r,r,r,r,r,r,r,r,r,r,r,r,r,o,r,r,r,r,r,o,r,o,r,r,o,r,r,o,r,r,r,r,r,r,r,r,r,r,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,h,h,h,h,h,h,h,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,c,o,c,o,o,c,o,o,o,o,o,o,o,o,o,p,o,o,f,f,o,o,o,o,o,p,p,o,o,o,o,o,u,u,u,u,u,o,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,o,o,x],[o,o,o,p,p,p,o,o,o,o,o,f,c,f,c,c,n,n,n,n,n,n,n,n,n,n,c,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,o,o,o,o,o,o,o,o,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,o,o,o,e,e,e,e,e,e,o,o,e,e,e,e,e,e,o,o,e,e,e,e,e,e,o,o,e,e,e,o,o,o,p,p,o,o,o,p,p,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o]]}))},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports tslib ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),(function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayout=t.IconLayout=t.CircleStyleLayer=t.SymbolStyleLayer=t.LineStyleLayer=t.FillStyleLayer=t.BackgroundStyleLayer=t.StyleLayer=void 0,e=function(){function e(e,t,r){switch(this.type=e,this.typeName=t.type,this.id=t.id,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.layout=t.layout,this.paint=t.paint,this.z=r,e){case 0:this._layoutDefinition=i.StyleDefinition.backgroundLayoutDefinition,this._paintDefinition=i.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=i.StyleDefinition.fillLayoutDefinition,this._paintDefinition=i.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=i.StyleDefinition.lineLayoutDefinition,this._paintDefinition=i.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=i.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=i.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=i.StyleDefinition.circleLayoutDefinition,this._paintDefinition=i.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return e.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=n.createFilter(this.filter)},e.prototype.getLayoutProperty=function(e){return this._layoutProperties[e]},e.prototype.getPaintProperty=function(e){return this._paintProperties[e]},e.prototype.getLayoutValue=function(e,t,r){var n,i=this._layoutProperties[e];i&&(n=i.getValue(t,r));var o=this._layoutDefinition[e];return void 0===n&&(n=o.default),"enum"===o.type?n=o.values.indexOf(n):"array"===o.type&&"enum"===o.value&&(n=n.map((function(e){return o.values.indexOf(e)}))),n},e.prototype.getPaintValue=function(e,t,r){var n,i=this._paintProperties[e];return i&&(n=i.getValue(t,r)),e=this._paintDefinition[e],void 0===n&&(n=e.default),"enum"===e.type&&(n=e.values.indexOf(n)),n},e.prototype.isPainterDataDriven=function(){var e=this._paintProperties;if(e)for(var t in e)if(e[t].isDataDriven)return!0;return!1},e.prototype._parseLayout=function(e){var t,r={};for(t in e){var n=this._layoutDefinition[t];n&&(r[t]=new o(n,e[t]))}return r},e.prototype._parsePaint=function(e){var t,r={};for(t in e){var n=this._paintDefinition[t];n&&(r[t]=new o(n,e[t]))}return r},e}(),t.StyleLayer=e;var s=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}return r.__extends(t,e),t}(e);t.BackgroundStyleLayer=s,s=function(e){function t(t,r,n){return r=(t=e.call(this,t,r,n)||this).getPaintProperty("fill-color"),t.hasDataDrivenColor=!!r&&r.isDataDriven,r=t.getPaintProperty("fill-opacity"),t.hasDataDrivenOpacity=!!r&&r.isDataDriven,t.hasDataDrivenFill=t.hasDataDrivenColor||t.hasDataDrivenOpacity,r=t.getPaintProperty("fill-outline-color"),t.outlineUsesFillColor=!r,t.hasDataDrivenOutlineColor=!!r&&r.isDataDriven,t.hasDataDrivenOutline=(r?t.hasDataDrivenOutlineColor:t.hasDataDrivenColor)||t.hasDataDrivenOpacity,t}return r.__extends(t,e),t}(e),t.FillStyleLayer=s,s=function(e){function t(t,r,n){return n=(t=e.call(this,t,r,n)||this).getPaintProperty("line-color"),t.hasDataDrivenColor=!!n&&n.isDataDriven,n=t.getPaintProperty("line-opacity"),t.hasDataDrivenOpacity=!!n&&n.isDataDriven,n=t.getPaintProperty("line-width"),t.hasDataDrivenWidth=!!n&&n.isDataDriven,t.hasDataDrivenLine=t.hasDataDrivenColor||t.hasDataDrivenOpacity||t.hasDataDrivenWidth,(r=r.paint["line-width"])||(r=i.StyleDefinition.linePaintDefinition["line-width"].default),t.isThinLine=!t.hasDataDrivenWidth&&"number"==typeof r&&r<a.THIN_LINE_THRESHOLD,t}return r.__extends(t,e),t}(e),t.LineStyleLayer=s,s=function(e){function t(t,r,n){return r=(t=e.call(this,t,r,n)||this).getPaintProperty("icon-color"),t.hasDataDrivenIconColor=!!r&&r.isDataDriven,r=t.getPaintProperty("icon-opacity"),t.hasDataDrivenIconOpacity=!!r&&r.isDataDriven,r=t.getLayoutProperty("icon-size"),t.hasDataDrivenIconSize=!!r&&r.isDataDriven,t.hasDataDrivenIcon=t.hasDataDrivenIconColor||t.hasDataDrivenIconOpacity||t.hasDataDrivenIconSize,r=t.getPaintProperty("text-color"),t.hasDataDrivenTextColor=!!r&&r.isDataDriven,r=t.getPaintProperty("text-opacity"),t.hasDataDrivenTextOpacity=!!r&&r.isDataDriven,r=t.getLayoutProperty("text-size"),t.hasDataDrivenTextSize=!!r&&r.isDataDriven,t.hasDataDrivenText=t.hasDataDrivenTextColor||t.hasDataDrivenTextOpacity||t.hasDataDrivenTextSize,t}return r.__extends(t,e),t}(e),t.SymbolStyleLayer=s,e=function(e){function t(t,r,n){return r=(t=e.call(this,t,r,n)||this).getPaintProperty("circle-radius"),t.hasDataDrivenRadius=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-color"),t.hasDataDrivenColor=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-opacity"),t.hasDataDrivenOpacity=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-stroke-width"),t.hasDataDrivenStrokeWidth=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-stroke-color"),t.hasDataDrivenStrokeColor=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-stroke-opacity"),t.hasDataDrivenStrokeOpacity=!!r&&r.isDataDriven,r=t.getPaintProperty("circle-blur"),t.hasDataDrivenBlur=!!r&&r.isDataDriven,t}return r.__extends(t,e),t}(e),t.CircleStyleLayer=e,t.IconLayout=e=function(e,t,r,n){this.allowOverlap=e.getLayoutValue("icon-allow-overlap",t,n),this.ignorePlacement=e.getLayoutValue("icon-ignore-placement",t,n),this.keepUpright=e.getLayoutValue("icon-keep-upright",t,n),this.offset=e.getLayoutValue("icon-offset",t,n),this.optional=e.getLayoutValue("icon-optional",t,n),this.padding=e.getLayoutValue("icon-padding",t,n),this.rotate=e.getLayoutValue("icon-rotate",t,n),this.rotationAlignment=e.getLayoutValue("icon-rotation-alignment",t,n),this.size=e.getLayoutValue("icon-size",t,n),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)},t.TextLayout=e=function(e,t,r,n){this.allowOverlap=e.getLayoutValue("text-allow-overlap",t,n),this.anchor=e.getLayoutValue("text-anchor",t,n),this.fontArray=e.getLayoutValue("text-font",t,n),this.ignorePlacement=e.getLayoutValue("text-ignore-placement",t,n),this.justify=e.getLayoutValue("text-justify",t,n),this.keepUpright=e.getLayoutValue("text-keep-upright",t,n),this.letterSpacing=e.getLayoutValue("text-letter-spacing",t,n),this.lineHeight=e.getLayoutValue("text-line-height",t,n),this.maxAngle=e.getLayoutValue("text-max-angle",t,n),this.maxWidth=e.getLayoutValue("text-max-width",t,n),this.offset=e.getLayoutValue("text-offset",t,n),this.optional=e.getLayoutValue("text-optional",t,n),this.padding=e.getLayoutValue("text-padding",t,n),this.rotate=e.getLayoutValue("text-rotate",t,n),this.rotationAlignment=e.getLayoutValue("text-rotation-alignment",t,n),this.size=e.getLayoutValue("text-size",t,n),this.transform=e.getLayoutValue("text-transform",t,n),this.writingMode=e.getLayoutValue("text-writing-mode",t,n),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)}}))},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports","../expression/expression"],(function(e,t,r){return function(){function e(e){this._expression=e}return e.prototype.filter=function(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(r){return console.log(r.message),!0}},e.createFilter=function(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{return new e(r.createExpression(t))}catch(n){return console.log(n.message),null}},e.isLegacyFilter=function(e){if(!Array.isArray(e)||0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return 3<=e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":return!0;case"any":case"all":for(var t=1;t<e.length;t++)if(!this.isLegacyFilter(e[1]))return!1;return!0;case"none":return!0;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);case"!has":return!0;default:return!1}},e.convertLegacyFilter=function(t){if(!Array.isArray(t)||0===t.length)return!0;var r=t[0];if(1===t.length)return"any"!==r;switch(r){case"==":return e.convertComparison("==",t[1],t[2]);case"!=":return e.negate(e.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return e.convertComparison(r,t[1],t[2]);case"in":return e.convertIn(t[1],t.slice(2));case"!in":return e.negate(e.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return e.convertCombining(r,t.slice(1));case"has":return e.convertHas(t[1]);case"!has":return e.negate(e.convertHas(t[1]));default:throw Error("Unexpected legacy filter.")}},e.convertComparison=function(e,t,r){switch(t){case"$type":return[e,["geometry-type"],r];case"$id":return[e,["id"],r];default:return[e,["get",t],r]}},e.convertIn=function(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}},e.convertHas=function(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}},e.convertCombining=function(e,t){return[e].concat(t.map(this.convertLegacyFilter))},e.negate=function(e){return["!",e]},e}()}))},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define(["require","exports","./definition"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createExpression=void 0,t.createExpression=function(e){if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),!Array.isArray(e)||0===e.length)throw Error("Expression must be a non empty array");var t=e[0];if("string"!=typeof t)throw Error("First element of expression must be a string");var n=r.ops[t];if(void 0===n)throw Error('Invalid expression operator "'+t+'"');if(!n)throw Error('Unimplemented expression operator "'+t+'"');return n.parse(e)}}))},"esri/views/2d/engine/vectorTiles/expression/definition":function(){define("require exports ./color ./data ./decision ./interpolate ./lookup ./math ./string ./types".split(" "),(function(e,t,r,n,i,o,a,s,u,l){Object.defineProperty(t,"__esModule",{value:!0}),t.ops=void 0,t.ops={array:l.Assert,boolean:l.Assert,collator:null,format:null,literal:l.Literal,image:null,number:l.Assert,"number-format":null,object:l.Assert,string:l.Assert,"to-boolean":l.Coerce,"to-color":l.Coerce,"to-number":l.Coerce,"to-string":l.Coerce,typeof:l.TypeOf,accumulated:null,"feature-state":null,"geometry-type":n.GeomType,id:n.ID,"line-progress":null,properties:n.Properties,at:a.At,get:a.Get,has:a.Has,in:a.In,"index-of":a.IndexOf,length:a.Length,slice:a.Slice,"!":i.NOT,"!=":i.NE,"<":i.LT,"<=":i.LE,"==":i.EQ,">":i.GT,">=":i.GE,all:i.ALL,any:i.ANY,case:i.Case,coalesce:i.Coalesce,match:i.Match,within:null,interpolate:o.Interpolate,"interpolate-hcl":o.Interpolate,"interpolate-lab":o.Interpolate,step:o.Step,let:null,var:null,concat:u.Concat,downcase:u.String,"is-supported-script":null,"resolved-locale":null,upcase:u.String,rgb:r.Rgb,rgba:r.Rgba,"to-rgba":r.ToRgba,"-":s.Sub,"*":s.Mul,"/":s.Div,"%":s.Mod,"^":s.Pow,"+":s.Add,abs:s.Calculate,acos:s.Calculate,asin:s.Calculate,atan:s.Calculate,ceil:s.Calculate,cos:s.Calculate,e:s.Calculate,floor:s.Calculate,ln:s.Calculate,ln2:s.Calculate,log10:s.Calculate,log2:s.Calculate,max:s.Calculate,min:s.Calculate,pi:s.Calculate,round:s.Calculate,sin:s.Calculate,sqrt:s.Calculate,tan:s.Calculate,zoom:n.Zoom,"heatmap-density":null,"has-id":a.HasID,none:i.NONE}}))},"esri/views/2d/engine/vectorTiles/expression/color":function(){define(["require","exports","../../../../../Color","./expression"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ToRgba=t.Rgba=t.Rgb=void 0;var i=function(){function e(e){this.args=e}return e.parse=function(t){if(4!==t.length)throw Error('"rgb" expects 3 arguments.');return new e(t=t.slice(1).map((function(e){return n.createExpression(e)})))},e.prototype.evaluate=function(e,t){var r=this.args[1].evaluate(e,t),n=this.args[2].evaluate(e,t);return e=this.args[3].evaluate(e,t),"rgb("+Math.round(r)+","+Math.round(n)+","+Math.round(e)+")"},e}();t.Rgb=i,e=function(){function e(e){this.args=e}return e.parse=function(e){if(5!==e.length)throw Error('"rgba" expects 4 arguments.');return e=e.slice(1).map((function(e){return n.createExpression(e)})),new i(e)},e.prototype.evaluate=function(e,t){var r=this.args[1].evaluate(e,t),n=this.args[2].evaluate(e,t),i=this.args[3].evaluate(e,t);return e=this.args[4].evaluate(e,t),"rgb("+Math.round(r)+","+Math.round(n)+","+Math.round(i)+","+e+")"},e}(),t.Rgba=e,e=function(){function e(e){this.color=e}return e.parse=function(t){if(2!==t.length)throw Error('"to-rgba" expects 1 argument.');return new e(t=n.createExpression(t[1]))},e.prototype.evaluate=function(e,t){return new r(this.color.evaluate(e,t)).toRgba()},e}(),t.ToRgba=e}))},"esri/Color":function(){define("require exports ./colorUtils ./core/mathUtils ./core/maybe ./core/accessorSupport/ensureType".split(" "),(function(e,t,r,n,i,o){function a(e){return n.clamp(o.ensureInteger(e),0,255)}function s(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}return(e=function(){function e(e){this.b=this.g=this.r=255,this.a=1,e&&this.setColor(e)}return e.blendColors=function(t,r,n,i){return void 0===i&&(i=new e),i.r=Math.round(t.r+(r.r-t.r)*n),i.g=Math.round(t.g+(r.g-t.g)*n),i.b=Math.round(t.b+(r.b-t.b)*n),i.a=t.a+(r.a-t.a)*n,i._sanitize()},e.fromRgb=function(t,n){var i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){if(t=i[2].split(/\s*,\s*/),"rgb"===(i=i[1])&&3===t.length||"rgba"===i&&4===t.length)return"%"===(i=t[0]).charAt(i.length-1)?(i=t.map((function(e){return 2.56*parseFloat(e)})),4===t.length&&(i[3]=parseFloat(t[3])),e.fromArray(i,n)):e.fromArray(t.map((function(e){return parseFloat(e)})),n);if("hsl"===i&&3===t.length||"hsla"===i&&4===t.length)return e.fromArray(r.hsla2rgba(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),n)}return null},e.fromHex=function(t,r){void 0===r&&(r=new e);var n=4===t.length?4:8,i=(1<<n)-1,o=Number("0x"+t.substr(1));return isNaN(o)?null:(["b","g","r"].forEach((function(e){var t=o&i;o>>=n,r[e]=4===n?17*t:t})),r.a=1,r)},e.fromArray=function(t,r){return void 0===r&&(r=new e),r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()},e.fromString=function(t,n){var i=r.getNamedColor(t);return i&&e.fromArray(i,n)||e.fromRgb(t,n)||e.fromHex(t,n)},e.fromJSON=function(t){return t&&new e([t[0],t[1],t[2],t[3]/255])},e.toUnitRGB=function(e){return i.isSome(e)?[e.r/255,e.g/255,e.b/255]:null},e.toUnitRGBA=function(e){return i.isSome(e)?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null},Object.defineProperty(e.prototype,"isBright",{get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b},enumerable:!1,configurable:!0}),e.prototype.setColor=function(t){var r,n,i,o;return"string"==typeof t?e.fromString(t,this):Array.isArray(t)?e.fromArray(t,this):(this._set(null!==(r=t.r)&&void 0!==r?r:0,null!==(n=t.g)&&void 0!==n?n:0,null!==(i=t.b)&&void 0!==i?i:0,null!==(o=t.a)&&void 0!==o?o:1),t instanceof e||this._sanitize()),this},e.prototype.toRgb=function(){return[this.r,this.g,this.b]},e.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]},e.prototype.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return"#"+(2>e.length?"0"+e:e)+(2>t.length?"0"+t:t)+(2>r.length?"0"+r:r)},e.prototype.toCss=function(e){void 0===e&&(e=!1);var t=this.r+", "+this.g+", "+this.b;return e?"rgba("+t+", "+this.a+")":"rgb("+t+")"},e.prototype.toString=function(){return this.toCss(!0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.toArray=function(e){void 0===e&&(e=0);var t=a(this.r),r=a(this.g),n=a(this.b);return 0===e||1!==this.a?[t,r,n,a(255*this.a)]:[t,r,n]},e.prototype.clone=function(){return new e(this.toRgba())},e.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a},e.prototype._sanitize=function(){return this.r=Math.round(s(this.r,0,255)),this.g=Math.round(s(this.g,0,255)),this.b=Math.round(s(this.b,0,255)),this.a=s(this.a,0,1),this},e.prototype._set=function(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n},e}()).prototype.declaredClass="esri.Color",e}))},"esri/colorUtils":function(){define(["require","exports","tslib"],(function(e,t,r){function n(e){var t;return null!==(t=o[e])&&void 0!==t?t:null}function i(e,t,r){0>r&&++r,1<r&&--r;var n=6*r;return 1>n?e+(t-e)*n:1>2*r?t:2>3*r?e+(t-e)*(2/3-r)*6:e}Object.defineProperty(t,"__esModule",{value:!0}),t.hex2rgba=t.hsla2rgba=t.getNamedColorCopy=t.getNamedColor=void 0;var o={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};t.getNamedColor=n,t.getNamedColorCopy=function(e){return(e=n(e))?r.__spreadArrays(e):e},t.hsla2rgba=function(e,t,r,n){return void 0===n&&(n=1),e=(e%360+360)%360/360,r=2*r-(t=.5>=r?r*(t+1):r+t-r*t),[Math.round(256*i(r,t,e+1/3)),Math.round(256*i(r,t,e)),Math.round(256*i(r,t,e-1/3)),n]},t.hex2rgba=function(e){var t=(i=5<e.length)?8:4,r=(1<<t)-1,n=i?1:17,i=i?9===e.length:5===e.length;if(e=Number("0x"+e.substr(1)),isNaN(e))return null;var o=[0,0,0,1];return i&&(i=e&r,e>>=t,o[3]=n*i/255),i=e&r,e>>=t,o[2]=n*i,i=e&r,e>>=t,o[1]=n*i,i=e&r,e>>=t,o[0]=n*i,o}}))},"esri/core/mathUtils":function(){define(["require","exports"],(function(e,t){function r(e,t,r){return e<t?t:e>r?r:e}function n(e,t,r){return e+(t-e)*r}function i(e){return o[0]=e,o[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.NUMBER_MAX_FLOAT32=t.clampFloat32=t.floatEqualAbsolute=t.floatEqualRelative=t.asinClamped=t.acosClamped=t.reciprocalClamped=t.rad2deg=t.deg2rad=t.scale=t.lerp=t.log2=t.sign=t.nextHighestPowerOfTen=t.nextPowerOfTwo=t.isPowerOfTwo=t.glClamp=t.clamp=t.nextHighestPowerOfTwo=t.isNaN=t.isFinite=void 0;var o=new Float32Array(1);t.isFinite=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},t.isNaN=Number.isNaN||function(e){return e!=e},t.nextHighestPowerOfTwo=function(e){--e;for(var t=1;32>t;t<<=1)e|=e>>t;return e+1},t.clamp=r,t.glClamp=function(e,t,r){return Math.min(Math.max(e,t),r)},t.isPowerOfTwo=function(e){return 0==(e&e-1)},t.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},t.nextHighestPowerOfTen=function(e){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(e)))},t.sign=Math.sign||function(e){return+(0<e)-+(0>e)||+e},t.log2=Math.log2||function(e){return Math.log(e)/Math.LN2},t.lerp=n,t.scale=function(e,t,r,i,o){return n(i,o,(e-t)/(r-t))},t.deg2rad=function(e){return e*Math.PI/180},t.rad2deg=function(e){return 180*e/Math.PI},t.reciprocalClamped=function(e,t){return void 0===t&&(t=1e-6),(0>e?-1:1)/Math.max(Math.abs(e),t)},t.acosClamped=function(e){return Math.acos(r(e,-1,1))},t.asinClamped=function(e){return Math.asin(r(e,-1,1))},t.floatEqualRelative=function(e,r,n){if(void 0===n&&(n=1e-6),t.isNaN(e)||t.isNaN(r))return!1;if(e===r)return!0;var i=Math.abs(e-r),o=Math.abs(e),a=Math.abs(r);if(0===e||0===r||1e-12>o&&1e-12>a){if(i>.01*n)return!1}else if(i/(o+a)>n)return!1;return!0},t.floatEqualAbsolute=function(e,r,n){return void 0===n&&(n=1e-6),!t.isNaN(e)&&!t.isNaN(r)&&(e>r?e-r:r-e)<=n},t.clampFloat32=function(e){return i(Math.max(-t.NUMBER_MAX_FLOAT32,Math.min(e,t.NUMBER_MAX_FLOAT32)))},t.NUMBER_MAX_FLOAT32=i(34028234663852886e22)}))},"esri/views/2d/engine/vectorTiles/expression/data":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Zoom=t.Properties=t.GeomType=t.ID=void 0,e=function(){function e(){}return e.parse=function(t){if(1<t.length)throw Error('"id" does not expect arguments');return new e},e.prototype.evaluate=function(e,t){return e.id},e}(),t.ID=e,e=function(){function e(){}return e.parse=function(t){if(1<t.length)throw Error('"geometry-type" does not expect arguments');return new e},e.prototype.evaluate=function(e,t){switch(e.type){case 0:return"Unknown";case 1:return"Point";case 2:return"LineString";case 3:return"Polygon"}},e}(),t.GeomType=e,e=function(){function e(){}return e.parse=function(t){if(1<t.length)throw Error('"properties" does not expect arguments');return new e},e.prototype.evaluate=function(e,t){return e.values},e}(),t.Properties=e,e=function(){function e(){}return e.parse=function(t){if(1<t.length)throw Error('"zoom" does not expect arguments');return new e},e.prototype.evaluate=function(e,t){return t},e}(),t.Zoom=e}))},"esri/views/2d/engine/vectorTiles/expression/decision":function(){define(["require","exports","tslib","./expression"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Match=t.Coalesce=t.Case=t.NONE=t.ANY=t.ALL=t.NOT=t.GE=t.GT=t.LE=t.LT=t.NE=t.EQ=void 0;var i=function(){function e(e,t,r){this.lhs=e,this.rhs=t,this.compare=r}return e.parse=function(t,r){if(3!==t.length&&4!==t.length)throw Error('"'+t[0]+'" expects 2 or 3 arguments');if(4===t.length)throw Error('"'+t[0]+'" collator not supported');return new e(n.createExpression(t[1]),n.createExpression(t[2]),r)},e.prototype.evaluate=function(e,t){return this.compare(this.lhs.evaluate(e,t),this.rhs.evaluate(e,t))},e}();e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e===t}))},t}(i),t.EQ=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e!==t}))},t}(i),t.NE=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e<t}))},t}(i),t.LT=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e<=t}))},t}(i),t.LE=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e>t}))},t}(i),t.GT=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e,t){return e>=t}))},t}(i),t.GE=e,e=function(){function e(e){this.arg=e}return e.parse=function(t){if(2!==t.length)throw Error('"!" expects 1 argument');return new e(n.createExpression(t[1]))},e.prototype.evaluate=function(e,t){return!this.arg.evaluate(e,t)},e}(),t.NOT=e,e=function(){function e(e){this.args=e}return e.parse=function(t){for(var r=[],i=1;i<t.length;i++)r.push(n.createExpression(t[i]));return new e(r)},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++)if(!n[r].evaluate(e,t))return!1;return!0},e}(),t.ALL=e,e=function(){function e(e){this.args=e}return e.parse=function(t){for(var r=[],i=1;i<t.length;i++)r.push(n.createExpression(t[i]));return new e(r)},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++)if(n[r].evaluate(e,t))return!0;return!1},e}(),t.ANY=e,e=function(){function e(e){this.args=e}return e.parse=function(t){for(var r=[],i=1;i<t.length;i++)r.push(n.createExpression(t[i]));return new e(r)},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++)if(n[r].evaluate(e,t))return!1;return!0},e}(),t.NONE=e,e=function(){function e(e,t){this.args=e,this.fallback=t}return e.parse=function(t){if(4>t.length)throw Error('"case" expects at least 3 arguments');if(1==t.length%2)throw Error('"case" expects an odd number of arguments');for(var r=[],i=1;i<t.length-1;i+=2)r.push({condition:n.createExpression(t[i]),output:n.createExpression(t[i+1])});return new e(r,n.createExpression(t[t.length-1]))},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++){var i=n[r];if(i.condition.evaluate(e,t))return i.output.evaluate(e,t)}return this.fallback.evaluate(e,t)},e}(),t.Case=e,e=function(){function e(e){this.args=e}return e.parse=function(t){if(2>t.length)throw Error('"coalesce" expects at least 1 argument');for(var r=[],i=1;i<t.length;i++)r.push(n.createExpression(t[i]));return new e(r)},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++){var i=n[r].evaluate(e,t);if(null!==i)return i}return null},e}(),t.Coalesce=e,e=function(){function e(e,t,r,n){this.input=e,this.labels=t,this.outputs=r,this.fallback=n}return e.parse=function(t){if(3>t.length)throw Error('"match" expects at least 3 arguments');if(0==t.length%2)throw Error('"case" expects an even number of arguments');for(var r,i=n.createExpression(t[1]),o=[],a={},s=2;s<t.length-1;s+=2){var u=t[s];Array.isArray(u)||(u=[u]);for(var l=0;l<u.length;l++){var c=u[l],f=typeof c;if("string"!==f&&"number"!==f)throw Error('"match" requires string or number literal as labels');if(r){if(f!==r)throw Error('"match" requires labels to have the same type')}else r=f;a[c]=o.length}o.push(n.createExpression(t[s+1]))}return new e(i,a,o,n.createExpression(t[t.length-1]))},e.prototype.evaluate=function(e,t){var r=this.input.evaluate(e,t);return(this.outputs[this.labels[r]]||this.fallback).evaluate(e,t)},e}(),t.Match=e}))},"esri/views/2d/engine/vectorTiles/expression/interpolate":function(){define("require exports ../../../../../Color ../../../unitBezier ../GeometryUtils ./expression".split(" "),(function(e,t,r,n,i,o){function a(e){return e>g?Math.pow(e,1/3):e/y+h}function s(e){return e>d?e*e*e:y*(e-h)}function u(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l(e){return.04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){var t=l(e.r),r=l(e.g),n=l(e.b),i=a((.4124564*t+.3575761*r+.1804375*n)/.95047),o=a((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-(t=a((.0193339*t+.119192*r+.9503041*n)/1.08883))),alpha:e.a}}function f(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*s(t),n=.95047*s(n),i=1.08883*s(i),new r([u(3.2404542*n-1.5371385*t-.4985314*i),u(-.969266*n+1.8760108*t+.041556*i),u(.0556434*n-.2040259*t+1.0572252*i),e.alpha])}function p(e){var t=c(e),r=t.a,n=t.b,i=Math.atan2(n,r)*v;return{h:0>i?i+360:i,c:Math.sqrt(r*r+n*n),l:t.l,alpha:e.a}}Object.defineProperty(t,"__esModule",{value:!0}),t.Step=t.Interpolate=void 0;var h=4/29,d=6/29,y=3*d*d,g=d*d*d,m=Math.PI/180,v=180/Math.PI;e=function(){function e(e,t,r,n){this.operator=e,this.input=t,this.stops=r,this.interpolation=n}return e.parse=function(t){if(5>t.length)throw Error('"'+t[0]+'" expects at least 4 arguments.');var r=t[1];if(!Array.isArray(r)||0===r.length)throw Error('"'+t[0]+'" expects an interpolation type expression.');switch(r[0]){case"linear":break;case"exponential":if("number"!=typeof r[1])throw Error('"'+t[0]+'" expects a numeric base for exponential interpolation.');break;case"cubic-bezier":if(5!==r.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");for(var n=1;5>n;n++)if("number"!=typeof(i=r[n])||0>i||1<i)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");break;default:throw Error('"'+t[0]+'" unknown interpolation type "'+r[0]+'".')}if(1!=t.length%2)throw Error('"'+t[0]+'" expects an even number of arguments.');var i=o.createExpression(t[2]),a=[];for(n=3;n<t.length;n+=2){var s=t[n];if("number"!=typeof s)throw Error('"'+t[0]+'" requires stop inputs as literal numbers.');if(a.length&&a[a.length-1][0]>=s)throw Error('"'+t[0]+'" requires strictly ascending stop inputs.');a.push([s,o.createExpression(t[n+1])])}return new e(t[0],i,a,r)},e.prototype.evaluate=function(t,r){var n=this.stops;if(1===n.length)return n[0][1].evaluate(t,r);if((s=this.input.evaluate(t,r))<=n[0][0])return n[0][1].evaluate(t,r);if(s>=n[n.length-1][0])return n[n.length-1][1].evaluate(t,r);for(var o=0;++o<n.length&&!(s<n[o][0]););var a=e.interpolationRatio(this.interpolation,s,n[o-1][0],n[o][0]),s=n[o-1][1].evaluate(t,r),u=n[o][1].evaluate(t,r);return"interpolate"===this.operator?Array.isArray(s)?s.map((function(e,t){return i.interpolate(e,u[t],a)})):i.interpolate(s,u,a):"interpolate-hcl"===this.operator?function(e){var t=e.h*m,r=e.c;return f({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})}(function(e,t,r){var n=e.h,o=t.h-n;return{h:n+r*(180<o||-180>o?o-360*Math.round(o/360):o),c:i.interpolate(e.c,t.c,r),l:i.interpolate(e.l,t.l,r),alpha:i.interpolate(e.alpha,t.alpha,r)}}(p(s),p(u),a)):f(function(e,t,r){return{l:i.interpolate(e.l,t.l,r),a:i.interpolate(e.a,t.a,r),b:i.interpolate(e.b,t.b,r),alpha:i.interpolate(e.alpha,t.alpha,r)}}(c(s),c(u),a))},e.interpolationRatio=function(t,r,i,o){var a=0;return"exponential"===t[0]?a=e.exponentialInterpolationRatio(r,t[1],i,o):"linear"===t[0]?a=e.exponentialInterpolationRatio(r,1,i,o):"cubic-bezier"===t[0]&&(a=n.unitBezier(t[1],t[2],t[3],t[4])(e.exponentialInterpolationRatio(r,1,i,o),1e-5)),a},e.exponentialInterpolationRatio=function(e,t,r,n){return 0==(n-=r)?0:(e-=r,1===t?e/n:(Math.pow(t,e)-1)/(Math.pow(t,n)-1))},e}(),t.Interpolate=e,e=function(){function e(e,t){this.input=e,this.stops=t}return e.parse=function(t){if(5>t.length)throw Error('"step" expects at least 4 arguments.');if(1!=t.length%2)throw Error('"step" expects an even number of arguments.');var r=o.createExpression(t[1]),n=[];n.push([-1/0,o.createExpression(t[2])]);for(var i=3;i<t.length;i+=2){var a=t[i];if("number"!=typeof a)throw Error('"step" requires stop inputs as literal numbers.');if(n.length&&n[n.length-1][0]>=a)throw Error('"step" requires strictly ascending stop inputs.');n.push([a,o.createExpression(t[i+1])])}return new e(r,n)},e.prototype.evaluate=function(e,t){var r=this.stops;if(1===r.length)return r[0][1].evaluate(e,t);for(var n=this.input.evaluate(e,t),i=0;++i<r.length&&!(n<r[i][0]););return this.stops[i-1][1].evaluate(e,t)},e}(),t.Step=e}))},"esri/views/2d/unitBezier":function(){define(["require","exports"],(function(e,t){function r(e,t,r,n){var i=3*e,o=3*(r-e)-i,a=1-i-o,s=3*t,u=3*(n-t)-s,l=1-s-u;return function(e,t){return void 0===t&&(t=1e-6),e=function(e,t){var r,n,s,u;for(s=e,n=0;8>n;n++){if(u=((a*s+o)*s+i)*s-e,Math.abs(u)<t)return s;if(r=(3*a*s+2*o)*s+i,1e-6>Math.abs(r))break;s-=u/r}if((s=e)<(r=0))return r;if(s>(n=1))return n;for(;r<n&&(u=((a*s+o)*s+i)*s,!(Math.abs(u-e)<t));)e>u?r=s:n=s,s=.5*(n-r)+r;return s}(e,t),((l*e+u)*e+s)*e}}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.easingFunctions=t.unitBezier=void 0,t.unitBezier=r;var n=/^cubic-bezier\((.*)\)/;t.easingFunctions={},t.parse=function(e){var i=t.easingFunctions[e]||null;return!i&&(e=n.exec(e))&&(4!==(e=e[1].split(",").map((function(e){return parseFloat(e.trim())}))).length||e.some((function(e){return isNaN(e)}))||(i=r.apply(r,e))),i},t.easingFunctions.ease=r(.25,.1,.25,1),t.easingFunctions.linear=r(0,0,1,1),t.easingFunctions.easeIn=t.easingFunctions["ease-in"]=r(.42,0,1,1),t.easingFunctions.easeOut=t.easingFunctions["ease-out"]=r(0,0,.58,1),t.easingFunctions.easeInOut=t.easingFunctions["ease-in-out"]=r(.42,0,.58,1)}))},"esri/views/2d/engine/vectorTiles/expression/lookup":function(){define(["require","exports","./expression"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.HasID=t.Slice=t.Length=t.IndexOf=t.In=t.Has=t.Get=t.At=void 0,e=function(){function e(e,t){this.index=e,this.array=t}return e.parse=function(t){if(3!==t.length)throw Error('"at" expects 2 arguments.');return new e(r.createExpression(t[1]),t=r.createExpression(t[2]))},e.prototype.evaluate=function(e,t){var r=this.index.evaluate(e,t);if(e=this.array.evaluate(e,t),0>r||r>=e.length)throw Error('"at" index out of bounds.');if(r!==Math.floor(r))throw Error('"at" index must be an integer.');return e[r]},e}(),t.At=e,e=function(){function e(e,t){this.key=e,this.obj=t}return e.parse=function(t){switch(t.length){case 2:return new e(r.createExpression(t[1]));case 3:return new e(r.createExpression(t[1]),t=r.createExpression(t[2]));default:throw Error('"get" expects 1 or 2 arguments')}},e.prototype.evaluate=function(e,t){var r=this.key.evaluate(e,t);return this.obj?this.obj.evaluate(e,t)[r]:e.values[r]},e}(),t.Get=e,e=function(){function e(e,t){this.key=e,this.obj=t}return e.parse=function(t){switch(t.length){case 2:return new e(r.createExpression(t[1]));case 3:return new e(r.createExpression(t[1]),t=r.createExpression(t[2]));default:throw Error('"has" expects 1 or 2 arguments')}},e.prototype.evaluate=function(e,t){var r=this.key.evaluate(e,t);return this.obj?r in(e=this.obj.evaluate(e,t)):void 0!==e.values[r]},e}(),t.Has=e,e=function(){function e(e,t){this.key=e,this.vals=t}return e.parse=function(t){if(3!==t.length)throw Error('"in" expects 2 arguments');return new e(r.createExpression(t[1]),r.createExpression(t[2]))},e.prototype.evaluate=function(e,t){var r=this.key.evaluate(e,t);return-1!==this.vals.evaluate(e,t).indexOf(r)},e}(),t.In=e,e=function(){function e(e,t,r){this.item=e,this.array=t,this.from=r}return e.parse=function(t){if(3>t.length||4<t.length)throw Error('"index-of" expects 3 or 4 arguments.');var n=r.createExpression(t[1]),i=r.createExpression(t[2]);return 4===t.length?new e(n,i,t=r.createExpression(t[3])):new e(n,i)},e.prototype.evaluate=function(e,t){var r=this.item.evaluate(e,t),n=this.array.evaluate(e,t);if(this.from){if((e=this.from.evaluate(e,t))!==Math.floor(e))throw Error('"index-of" index must be an integer.');return n.indexOf(r,e)}return n.indexOf(r)},e}(),t.IndexOf=e,e=function(){function e(e){this.arg=e}return e.parse=function(t){if(2!==t.length)throw Error('"length" expects 2 arguments.');return new e(t=r.createExpression(t[1]))},e.prototype.evaluate=function(e,t){if("string"==typeof(e=this.arg.evaluate(e,t))||Array.isArray(e))return e.length;throw Error('"length" expects string or array.')},e}(),t.Length=e,e=function(){function e(e,t,r){this.array=e,this.from=t,this.to=r}return e.parse=function(t){if(3>t.length||4<t.length)throw Error('"slice" expects 2 or 3 arguments.');var n=r.createExpression(t[1]),i=r.createExpression(t[2]);return 4===t.length?new e(n,i,t=r.createExpression(t[3])):new e(n,i)},e.prototype.evaluate=function(e,t){var r=this.array.evaluate(e,t),n=this.from.evaluate(e,t);if(0>n||n>=r.length)throw Error('"slice" index out of bounds.');if(n!==Math.floor(n))throw Error('"slice" index must be an integer.');if(this.to){if(0>(e=this.to.evaluate(e,t))||e>=r.length)throw Error('"slice" index out of bounds.');if(e!==Math.floor(e))throw Error('"slice" index must be an integer.');return r.slice(n,e)}return r.slice(n)},e}(),t.Slice=e,e=function(){function e(){}return e.parse=function(t){if(1!==t.length)throw Error('"has-id" expects no arguments');return new e},e.prototype.evaluate=function(e,t){return void 0!==e.id},e}(),t.HasID=e}))},"esri/views/2d/engine/vectorTiles/expression/math":function(){define(["require","exports","tslib","./expression"],(function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Calculate=t.Add=t.Pow=t.Mod=t.Div=t.Mul=t.Sub=void 0;var i=function(){function e(e,t){this.args=e,this.calculate=t}return e.parse=function(t,r){return new e(t=t.slice(1).map((function(e){return n.createExpression(e)})),r)},e.prototype.evaluate=function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)},e}();e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){switch(e.length){case 2:return i.parse(e,(function(e){return-e[0]}));case 3:return i.parse(e,(function(e){return e[0]-e[1]}));default:throw Error('"-" expects 1 or 2 arguments')}},t}(i),t.Sub=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t}))},t}(i),t.Mul=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){if(3===e.length)return i.parse(e,(function(e){return e[0]/e[1]}));throw Error('"/" expects 2 arguments')},t}(i),t.Div=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){if(3===e.length)return i.parse(e,(function(e){return e[0]%e[1]}));throw Error('"%" expects 2 arguments')},t}(i),t.Mod=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){if(3===e.length)return i.parse(e,(function(e){return Math.pow(e[0],e[1])}));throw Error('"^" expects 1 or 2 arguments')},t}(i),t.Pow=e,e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.parse=function(e){return i.parse(e,(function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}))},t}(i),t.Add=e,e=function(){function e(e,t){this.args=e,this.calculate=t}return e.parse=function(t){return new e(t.slice(1).map((function(e){return n.createExpression(e)})),e.ops[t[0]])},e.prototype.evaluate=function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)},e.ops={abs:function(e){return Math.abs(e[0])},acos:function(e){return Math.acos(e[0])},asin:function(e){return Math.asin(e[0])},atan:function(e){return Math.atan(e[0])},ceil:function(e){return Math.ceil(e[0])},cos:function(e){return Math.cos(e[0])},e:function(){return Math.E},floor:function(e){return Math.floor(e[0])},ln:function(e){return Math.log(e[0])},ln2:function(){return Math.LN2},log10:function(e){return Math.log(e[0])/Math.LN10},log2:function(e){return Math.log(e[0])/Math.LN2},max:function(e){return Math.max.apply(Math,e)},min:function(e){return Math.min.apply(Math,e)},pi:function(){return Math.PI},round:function(e){return Math.round(e[0])},sin:function(e){return Math.sin(e[0])},sqrt:function(e){return Math.sqrt(e[0])},tan:function(e){return Math.tan(e[0])}},e}(),t.Calculate=e}))},"esri/views/2d/engine/vectorTiles/expression/string":function(){define(["require","exports","./expression"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.String=t.Concat=void 0,e=function(){function e(e){this.args=e}return e.parse=function(t){return new e(t.slice(1).map((function(e){return r.createExpression(e)})))},e.prototype.evaluate=function(e,t){return this.args.map((function(r){return r.evaluate(e,t)})).join("")},e}(),t.Concat=e,e=function(){function e(e,t){this.arg=e,this.calculate=t}return e.parse=function(t){if(2!==t.length)throw Error(t[0]+" expects 1 argument.");return new e(r.createExpression(t[1]),e.ops[t[0]])},e.prototype.evaluate=function(e,t){return this.calculate(this.arg.evaluate(e,t))},e.ops={downcase:function(e){return e.toLowerCase()},upcase:function(e){return e.toUpperCase()}},e}(),t.String=e}))},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["require","exports","../../../../../Color","./expression"],(function(e,t,r,n){function i(e,t){return{kind:"array",itemType:e,n:t}}function o(e){if("array"===e.kind){var t=o(e.itemType);return"number"==typeof e.n?"array<"+t+", "+e.n+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}function a(e){if(null===e)return t.NullType;if("string"==typeof e)return t.StringType;if("boolean"==typeof e)return t.BooleanType;if("number"==typeof e)return t.NumberType;if(e instanceof r)return t.ColorType;if(Array.isArray(e)){for(var n=void 0,o=0;o<e.length;o++){var s=a(e[o]);if(n){if(n!==s){n=t.ValueType;break}}else n=s}return i(n||t.ValueType,e.length)}return t.ObjectType}function s(e,t){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||!s(e.itemType,t.itemType))&&("number"!=typeof t.n||t.n===e.n))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var r=0,n=l;r<n.length;r++)if(!s(n[r],e))return null}return"Expected "+o(t)+" but found "+o(e)+" instead."}function u(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof r?e.toString():JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOf=t.Literal=t.Coerce=t.Assert=t.valueToString=t.typeToString=t.array=t.ErrorType=t.ValueType=t.ObjectType=t.ColorType=t.BooleanType=t.StringType=t.NumberType=t.NullType=void 0,t.NullType={kind:"null"},t.NumberType={kind:"number"},t.StringType={kind:"string"},t.BooleanType={kind:"boolean"},t.ColorType={kind:"color"},t.ObjectType={kind:"object"},t.ValueType={kind:"value"},t.ErrorType={kind:"error"},t.array=i;var l=[t.NullType,t.NumberType,t.StringType,t.BooleanType,t.ColorType,t.ObjectType,i(t.ValueType)];t.typeToString=o,t.valueToString=u,e=function(){function e(e,t){this.type=e,this.args=t}return e.parse=function(r){var o=r[0];if(2>r.length)throw Error(o+" expects at least one argument.");var a,s=1;if("array"===o){if(2<r.length){switch(r[1]){case"string":a=t.StringType;break;case"number":a=t.NumberType;break;case"boolean":a=t.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean')}s++}else a=t.ValueType;if(o=void 0,3<r.length){if(null!==(o=r[2])&&("number"!=typeof o||0>o||o!==Math.floor(o)))throw Error('"array" length argument must be a positive integer literal');s++}a=i(a,o)}else switch(o){case"string":a=t.StringType;break;case"number":a=t.NumberType;break;case"boolean":a=t.BooleanType;break;case"object":a=t.ObjectType}for(o=[];s<r.length;s++){var u=n.createExpression(r[s]);o.push(u)}return new e(a,o)},e.prototype.evaluate=function(e,t){for(var r=0,n=this.args;r<n.length;r++){var i=n[r].evaluate(e,t);if(!s(a(i),this.type))return i}return null},e}(),t.Assert=e,e=function(){function e(e,t){this.type=e,this.args=t}return e.parse=function(t){if("to-boolean"===(r=t[0])||"to-string"===r){if(2!==t.length)throw Error(r+" expects one argument.")}else if(2>t.length)throw Error(r+" expects at least one argument.");for(var r=e.types[r],i=[],o=1;o<t.length;o++){var a=n.createExpression(t[o]);i.push(a)}return new e(r,i)},e.prototype.evaluate=function(e,n){if(this.type===t.BooleanType)return!!this.args[0].evaluate(e,n);if(this.type===t.StringType)return u(this.args[0].evaluate(e,n));if(this.type===t.NumberType){for(var i=0,o=this.args;i<o.length;i++){var a;if(null===(a=(a=o[i]).evaluate(e,n)))return 0;if(a=Number(a),!isNaN(a))return a}return null}if(this.type===t.ColorType){for(i=0,o=this.args;i<o.length;i++){if((a=(a=o[i]).evaluate(e,n))instanceof r)return a;if("string"==typeof a)return r.fromString(a);if(Array.isArray(a)&&(3===a.length||4===a.length))return r.fromArray(a)}return null}},e.types={"to-boolean":t.BooleanType,"to-color":t.ColorType,"to-number":t.NumberType,"to-string":t.StringType},e}(),t.Coerce=e,e=function(){function e(e){this.val=e}return e.parse=function(t){if(2!==t.length)throw Error('"literal" expects 1 argument');return new e(t[1])},e.prototype.evaluate=function(e,t){return this.val},e}(),t.Literal=e,e=function(){function e(e){this.arg=e}return e.parse=function(t){if(2!==t.length)throw Error('"typeof" expects 1 argument');return new e(n.createExpression(t[1]))},e.prototype.evaluate=function(e,t){return o(a(this.arg.evaluate(e,t)))},e}(),t.TypeOf=e}))},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.StyleDefinition=void 0,e=function(){function e(){}return e.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},e.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:["horizontal"]}},e.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},e.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},e.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}},e.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},e.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},e.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},e}(),t.StyleDefinition=e}))},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define("require exports ../../../../../Color ../GeometryUtils ../expression/definition ../expression/expression".split(" "),(function(e,t,r,n,i,o){return function(){function e(t,r){var n;switch(this.isDataDriven=!1,t.type){case"number":n=!0;break;case"color":n=!0,r=e._parseColor(r);break;case"array":n="number"===t.value;break;default:n=!1}if(null==r&&(r=t.default),Array.isArray(r)&&0<r.length&&i.ops[r[0]])try{var a=o.createExpression(r);this.getValue=this._buildExpression(a,t),this.isDataDriven=!0}catch(c){console.log(c.message),this.getValue=this._buildSimple(t.default)}else{if(n&&"interval"===r.type&&(n=!1),a=r&&r.stops&&0<r.stops.length)for(var s=0,u=r.stops;s<u.length;s++){var l=u[s];l[1]=this._validate(l[1],t)}if(this.isDataDriven=!!r&&!!r.property)if(void 0!==r.default&&(r.default=this._validate(r.default,t)),a)switch(r.type){case"identity":this.getValue=this._buildIdentity(r,t);break;case"categorical":this.getValue=this._buildCategorical(r,t);break;default:this.getValue=n?this._buildInterpolate(r,t):this._buildInterval(r,t)}else this.getValue=this._buildIdentity(r,t);else a?this.getValue=n?this._buildZoomInterpolate(r):this._buildZoomInterval(r):(r=this._validate(r,t),this.getValue=this._buildSimple(r))}}return e.prototype._validate=function(e,t){if("number"===t.type){if(e<t.minimum)return t.minimum;if(e>t.maximum)return t.maximum}return e},e.prototype._buildSimple=function(e){return function(){return e}},e.prototype._buildExpression=function(e,t){return function(r,n){try{return e.evaluate(n,r)}catch(i){return console.log(i.message),t.default}}},e.prototype._buildIdentity=function(t,r){var n=this;return function(i,o){var a;return o&&(a=o.values[t.property],"color"===r.type&&(a=e._parseColor(a))),void 0===a&&(a=t.default),void 0!==a?n._validate(a,r):r.default}},e.prototype._buildCategorical=function(e,t){var r=this;return function(n,i){var o;return i&&(o=i.values[e.property]),void 0!==(o=r._categorical(o,e.stops))?o:void 0!==e.default?e.default:t.default}},e.prototype._buildInterval=function(e,t){var r=this;return function(n,i){var o;return i&&(o=i.values[e.property]),"number"==typeof o?r._interval(o,e.stops):void 0!==e.default?e.default:t.default}},e.prototype._buildInterpolate=function(e,t){var r=this;return function(n,i){var o;return i&&(o=i.values[e.property]),"number"==typeof o?r._interpolate(o,e.stops,e.base||1):void 0!==e.default?e.default:t.default}},e.prototype._buildZoomInterpolate=function(e){var t=this;return function(r){return t._interpolate(r,e.stops,e.base||1)}},e.prototype._buildZoomInterval=function(e){var t=this;return function(r){return t._interval(r,e.stops)}},e.prototype._categorical=function(e,t){for(var r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1]},e.prototype._interval=function(e,t){for(var r=t.length,n=0,i=0;i<r&&t[i][0]<=e;i++)n=i;return t[n][1]},e.prototype._interpolate=function(e,t,r){for(var i,o,a=t.length,s=0;s<a;s++){var u=t[s];if(!(u[0]<=e)){o=u;break}i=u}if(i&&o){if(s=o[0]-i[0],e-=i[0],r=1===r?e/s:(Math.pow(r,e)-1)/(Math.pow(r,s)-1),Array.isArray(i[1])){for(i=i[1],o=o[1],e=[],s=0;s<i.length;s++)e.push(n.interpolate(i[s],o[s],r));return e}return n.interpolate(i[1],o[1],r)}return i?i[1]:o?o[1]:void 0},e._isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e._parseColor=function(t){return Array.isArray(t)?t:"string"!=typeof t?(t&&t.default&&(t.default=e._parseColor(t.default)),t&&t.stops&&(t.stops=t.stops.map((function(t){return[t[0],e._parseColor(t[1])]}))),t):(t=new r(t),this._isEmpty(t)?void 0:r.toUnitRGBA(t))},e}()}))},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SPRITE_PADDING=t.MAX_GPU_UPLOADS_PER_FRAME=t.VTL_HIGH_RES_CUTOFF=t.VTL_TEXTURE_BINDING_UNIT_GLYPHS=t.VTL_TEXTURE_BINDING_UNIT_SPRITES=t.HITTEST_SEARCH_SIZE=t.THIN_LINE_THRESHOLD=t.EFFECT_FLAG_0=t.FILTER_FLAG_0=t.HIGHLIGHT_FLAG=t.MAX_FILTERS=t.ATTRIBUTE_DATA_DD1=t.ATTRIBUTE_DATA_DD0=t.ATTRIBUTE_DATA_VV=t.ATTRIBUTE_DATA_ANIMATION=t.ATTRIBUTE_DATA_FILTER_FLAGS=t.TEXTURE_BINDING_RENDERER_1=t.TEXTURE_BINDING_RENDERER_0=t.TEXTURE_BINDING_HIGHLIGHT_1=t.TEXTURE_BINDING_HIGHLIGHT_0=t.TEXTURE_BINDING_ATTRIBUTE_DATA_3=t.TEXTURE_BINDING_ATTRIBUTE_DATA_2=t.TEXTURE_BINDING_ATTRIBUTE_DATA_1=t.TEXTURE_BINDING_ATTRIBUTE_DATA_0=t.TEXTURE_BINDING_BITMAP=t.TEXTURE_BINDING_GLYPH_ATLAS=t.TEXTURE_BINDING_SPRITE_ATLAS=t.ATTRIBUTE_STORE_TEXTURE_SIZE=t.AVERAGE_GLYPH_MOSAIC_ITEM=t.TEXT_PLACEMENT_PADDING=t.GLYPH_SIZE=t.HEURISTIC_GLYPHS_PER_FEATURE=t.HEURISTIC_GLYPHS_PER_LINE=t.COLLISION_PLACEMENT_PADDING=t.COLLISION_TILE_BOX_SIZE=t.COLLISION_BOX_PADDING=t.COLLISION_EARLY_REJECT_BUCKET_SIZE=t.COLLISION_MAX_ZOOM_DELTA=t.MAGIC_LABEL_LINE_HEIGHT=t.DOT_DENSITY_MAX_FIELDS=t.COLLISION_BUCKET_SIZE=t.DEBUG_LABELS=t.ANGLE_FACTOR_256=t.RASTER_TILE_SIZE=t.TILE_SIZE=t.PICTURE_FILL_COLOR=t.EXTRUDE_SCALE=t.NAN_MAGIC_NUMBER=t.WEBGL_MAX_INNER_STOPS=t.WEBGL_MAX_STOPS=void 0,t.WEBGL_MAX_STOPS=8,t.WEBGL_MAX_INNER_STOPS=t.WEBGL_MAX_STOPS-2,t.NAN_MAGIC_NUMBER=1e-30,t.EXTRUDE_SCALE=64,t.PICTURE_FILL_COLOR=4294967295,t.TILE_SIZE=512,t.RASTER_TILE_SIZE=256,t.ANGLE_FACTOR_256=256/360,t.DEBUG_LABELS=!1,t.COLLISION_BUCKET_SIZE=128,t.DOT_DENSITY_MAX_FIELDS=8,t.MAGIC_LABEL_LINE_HEIGHT=29,t.COLLISION_MAX_ZOOM_DELTA=1,t.COLLISION_EARLY_REJECT_BUCKET_SIZE=16,t.COLLISION_BOX_PADDING=16,t.COLLISION_TILE_BOX_SIZE=t.TILE_SIZE/t.COLLISION_BUCKET_SIZE,t.COLLISION_PLACEMENT_PADDING=8,t.HEURISTIC_GLYPHS_PER_LINE=50,t.HEURISTIC_GLYPHS_PER_FEATURE=10,t.GLYPH_SIZE=24,t.TEXT_PLACEMENT_PADDING=8,t.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}},t.ATTRIBUTE_STORE_TEXTURE_SIZE=1024,t.TEXTURE_BINDING_SPRITE_ATLAS=0,t.TEXTURE_BINDING_GLYPH_ATLAS=0,t.TEXTURE_BINDING_BITMAP=0,t.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1,t.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2,t.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3,t.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4,t.TEXTURE_BINDING_HIGHLIGHT_0=5,t.TEXTURE_BINDING_HIGHLIGHT_1=6,t.TEXTURE_BINDING_RENDERER_0=5,t.TEXTURE_BINDING_RENDERER_1=6,t.ATTRIBUTE_DATA_FILTER_FLAGS=0,t.ATTRIBUTE_DATA_ANIMATION=1,t.ATTRIBUTE_DATA_VV=2,t.ATTRIBUTE_DATA_DD0=3,t.ATTRIBUTE_DATA_DD1=3,t.MAX_FILTERS=2,t.HIGHLIGHT_FLAG=1,t.FILTER_FLAG_0=2,t.EFFECT_FLAG_0=4,t.THIN_LINE_THRESHOLD=2.5,t.HITTEST_SEARCH_SIZE=24,t.VTL_TEXTURE_BINDING_UNIT_SPRITES=5,t.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6,t.VTL_HIGH_RES_CUTOFF=1.15,t.MAX_GPU_UPLOADS_PER_FRAME=2,t.SPRITE_PADDING=2}))},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require","exports","tslib","./GeometryUtils","./MemoryBuffer"],(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.CircleVertexBuffer=t.SymbolVertexBuffer=t.OutlineVertexBuffer=t.FillVertexBuffer=t.LineVertexBuffer=void 0;var o=new Float32Array(1),a=new Uint32Array(o.buffer);e=function(e){function t(t){var r=e.call(this,t?20:12)||this;return r._isDataDriven=t,r}return r.__extends(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,n,s,u,l,c){var f=this.array;if(e=i.i1616to32(e,t),f.push(e),e=i.i8888to32(Math.round(31*r),Math.round(31*n),Math.round(31*s),Math.round(31*u)),f.push(e),e=i.i1616to32(l,0),f.push(e),this._isDataDriven){if(!c)throw Error("Expecting data driven values.");f.push(i.i8888to32((r=c.color)[0]*(n=r[3]*c.opacity*255),r[1]*n,r[2]*n,n)),o[0]=c.size,f.push(a[0])}},t}(i),t.LineVertexBuffer=e,e=function(e){function t(t){var r=e.call(this,t?8:4)||this;return r._isDataDriven=t,r}return r.__extends(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r){var n=this.array;if(n.push(i.i1616to32(e,t)),this._isDataDriven){if(!r)throw Error("Expecting data driven values.");n.push(i.i8888to32((e=r.color)[0]*(r=e[3]*r.opacity*255),e[1]*r,e[2]*r,r))}},t}(i),t.FillVertexBuffer=e,e=function(e){function t(t){var r=e.call(this,t?12:8)||this;return r._isDataDriven=t,r}return r.__extends(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,n,o,a,s){var u=this.array,l=this.index;if(e=i.i1616to32(e,t),u.push(e),e=i.i8888to32(Math.round(15*r),Math.round(15*n),o,a),u.push(e),this._isDataDriven){if(!s)throw Error("Expecting data driven values.");u.push(i.i8888to32((r=s.color)[0]*(s=r[3]*s.opacity*255),r[1]*s,r[2]*s,s))}return l},t}(i),t.OutlineVertexBuffer=e,e=function(e){function t(t){var r=e.call(this,t?24:16)||this;return r._isDataDriven=t,r}return r.__extends(t,e),t.prototype.isDataDriven=function(){return this._isDataDriven},t.prototype.add=function(e,t,r,s,u,l,c,f,p,h,d,y){var g=this.array;if(e=i.i1616to32(e,t),g.push(e),e=i.i1616to32(Math.round(8*r),Math.round(8*s)),g.push(e),e=i.i8888to32(u/4,l/4,f,p),g.push(e),e=i.i8888to32(0,n.radToByte(c),10*h,Math.min(10*d,255)),g.push(e),this._isDataDriven){if(!y)throw Error("Expecting data driven values.");g.push(i.i8888to32((r=y.color)[0]*(s=r[3]*y.opacity*255),r[1]*s,r[2]*s,s)),o[0]=y.size,g.push(a[0])}},t}(i),t.SymbolVertexBuffer=e,e=function(e){function t(){return e.call(this,16)||this}return r.__extends(t,e),t.prototype.add=function(e,t,r,n,o,a,s,u,l,c,f){var p=this.array;e=i.i1616to32(2*e+r,2*t+n),p.push(e),e=i.i8888to32(a[0]*(s=a[3]*s*255),a[1]*s,a[2]*s,s),p.push(e),e=i.i8888to32(c[0]*(a=c[3]*f*255),c[1]*a,c[2]*a,a),p.push(e),e=i.i8888to32(Math.min(32*u,255),Math.min(4*l,255),Math.min(o,255),0),p.push(e)},t}(i),t.CircleVertexBuffer=e}))},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],(function(e,t,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleBuilder=t.TileClipper=void 0;var o=function(e,t,r){this.ratio=e,this.x=t,this.y=r};e=function(){function e(e,t,n,i,o){void 0===i&&(i=8),void 0===o&&(o=8),this.lines=[],this.starts=[],this.pixelRatio=i,this.pixelMargin=o,this.tileSize=r.TILE_SIZE*i,this.dz=e,this.yPos=t,this.xPos=n}return e.prototype.setExtent=function(e){var t;this.finalRatio=this.tileSize/e*(1<<this.dz),(t=(t=this.pixelRatio*this.pixelMargin)/this.finalRatio)>(e>>=this.dz)&&(t=e),this.margin=t,this.xmin=e*this.xPos-t,this.ymin=e*this.yPos-t,this.xmax=this.xmin+e+2*t,this.ymax=this.ymin+e+2*t},e.prototype.reset=function(e){this.type=e,this.lines=[],this.starts=[],this.line=null,this.start=0},e.prototype.moveTo=function(e,t){this._pushLine(),this._prevIsIn=this._isIn(e,t),this._moveTo(e,t,this._prevIsIn),this._prevPt=new n.Point(e,t),this._firstPt=new n.Point(e,t),this._dist=0},e.prototype.lineTo=function(e,t){var r,i,a,s=this._isIn(e,t),u=new n.Point(e,t),l=n.Point.distance(this._prevPt,u);if(s)this._prevIsIn?this._lineTo(e,t,!0):(e=this._intersect(i=u,r=this._prevPt),this.start=this._dist+l*(1-this._r),this._lineTo(e.x,e.y,!0),this._lineTo(i.x,i.y,!0));else if(this._prevIsIn)e=this._intersect(i=this._prevPt,r=u),this._lineTo(e.x,e.y,!0),this._lineTo(r.x,r.y,!1);else{var c=this._prevPt;if(!(c.x<=this.xmin&&u.x<=this.xmin||c.x>=this.xmax&&u.x>=this.xmax||c.y<=this.ymin&&u.y<=this.ymin||c.y>=this.ymax&&u.y>=this.ymax))if(e=[],(c.x<this.xmin&&u.x>this.xmin||c.x>this.xmin&&u.x<this.xmin)&&((a=c.y+(t=(this.xmin-c.x)/(u.x-c.x))*(u.y-c.y))<=this.ymin?i=!1:a>=this.ymax?i=!0:e.push(new o(t,this.xmin,a))),(c.x<this.xmax&&u.x>this.xmax||c.x>this.xmax&&u.x<this.xmax)&&((a=c.y+(t=(this.xmax-c.x)/(u.x-c.x))*(u.y-c.y))<=this.ymin?i=!1:a>=this.ymax?i=!0:e.push(new o(t,this.xmax,a))),(c.y<this.ymin&&u.y>this.ymin||c.y>this.ymin&&u.y<this.ymin)&&((a=c.x+(t=(this.ymin-c.y)/(u.y-c.y))*(u.x-c.x))<=this.xmin?r=!1:a>=this.xmax?r=!0:e.push(new o(t,a,this.ymin))),(c.y<this.ymax&&u.y>this.ymax||c.y>this.ymax&&u.y<this.ymax)&&((a=c.x+(t=(this.ymax-c.y)/(u.y-c.y))*(u.x-c.x))<=this.xmin?r=!1:a>=this.xmax?r=!0:e.push(new o(t,a,this.ymax))),0===e.length)this._lineTo(r?this.xmax:this.xmin,i?this.ymax:this.ymin,!0);else if(1<e.length&&e[0].ratio>e[1].ratio)this.start=this._dist+l*e[1].ratio,this._lineTo(e[1].x,e[1].y,!0),this._lineTo(e[0].x,e[0].y,!0);else for(this.start=this._dist+l*e[0].ratio,r=0;r<e.length;r++)this._lineTo(e[r].x,e[r].y,!0);this._lineTo(u.x,u.y,!1)}this._dist+=l,this._prevIsIn=s,this._prevPt=u},e.prototype.close=function(){if(2<this.line.length){var e=this._firstPt,t=this._prevPt;for(e.x===t.x&&e.y===t.y||this.lineTo(e.x,e.y),t=(e=this.line).length;4<=t&&(e[0].x===e[1].x&&e[0].x===e[t-2].x||e[0].y===e[1].y&&e[0].y===e[t-2].y);)e.pop(),e[0].x=e[t-2].x,e[0].y=e[t-2].y,--t}},e.prototype.result=function(e){return void 0===e&&(e=!0),this._pushLine(),0===this.lines.length?null:(3===this.type&&e&&a.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)},e.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var e=this.lines,t=e.length;if(0===t)return null;for(var r=[],n=0;n<t;n++)r.push({line:e[n],start:this.starts[n]||0});return r},e.prototype._isIn=function(e,t){return e>=this.xmin&&e<=this.xmax&&t>=this.ymin&&t<=this.ymax},e.prototype._intersect=function(e,t){var r,i,o;if(t.x>=this.xmin&&t.x<=this.xmax)r=e.x+(o=((i=t.y<=this.ymin?this.ymin:this.ymax)-e.y)/(t.y-e.y))*(t.x-e.x);else if(t.y>=this.ymin&&t.y<=this.ymax)i=e.y+(o=((r=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x))*(t.y-e.y);else{var a=((r=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x),s=((i=t.y<=this.ymin?this.ymin:this.ymax)-e.y)/(t.y-e.y);a<s?(o=a,i=e.y+a*(t.y-e.y)):(o=s,r=e.x+s*(t.x-e.x))}return this._r=o,new n.Point(r,i)},e.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0},e.prototype._moveTo=function(e,t,r){3!==this.type?r&&(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(e,t))):(r||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new n.Point(e,t)),this._is_v=this._is_h=!1)},e.prototype._lineTo=function(e,t,r){if(3!==this.type)if(r){if(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),0<this.line.length&&(r=this.line[this.line.length-1]).equals(e,t))return;this.line.push(new n.Point(e,t))}else this.line&&0<this.line.length&&this._pushLine();else if(r||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){var i=(r=this.line[this.line.length-1]).x===e,o=r.y===t;i&&o||(this._is_h&&i||this._is_v&&o?(r.x=e,r.y=t,(r=this.line[this.line.length-2]).x===e&&r.y===t?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(this._is_h=(r=this.line[this.line.length-2]).x===e,this._is_v=r.y===t)):(this._is_h=r.x===e,this._is_v=r.y===t)):(this.line.push(new n.Point(e,t)),this._is_h=i,this._is_v=o))}else this.line.push(new n.Point(e,t))},e}(),t.TileClipper=e,e=function(){function e(){}return e.prototype.setExtent=function(e){this._ratio=4096===e?1:4096/e},e.prototype.reset=function(e){this.type=e,this.lines=[],this.line=null},e.prototype.moveTo=function(e,t){this.line&&this.lines.push(this.line),this.line=[];var r=this._ratio;this.line.push(new n.Point(Math.round(e*r),Math.round(t*r)))},e.prototype.lineTo=function(e,t){var r=this._ratio;this.line.push(new n.Point(Math.round(e*r),Math.round(t*r)))},e.prototype.close=function(){var e=this.line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])},e.prototype.result=function(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:(3===this.type&&1!==this._ratio&&a.simplify(4096,64,this.lines),this.lines)},e}(),t.SimpleBuilder=e;var a=function(){function e(){}return e.simplify=function(t,r,n){if(n){var i=-r,o=t+r,a=-r,s=t+r;t=[],r=[];for(var u=n.length,l=0;l<u;++l){var c=n[l];if(c&&!(2>c.length))for(var f=c[0],p=void 0,h=c.length,d=1;d<h;++d)f.x===(p=c[d]).x&&(f.x<=i&&(f.y>p.y?(t.push(l),t.push(d),t.push(0),t.push(-1)):(r.push(l),r.push(d),r.push(0),r.push(-1))),f.x>=o&&(f.y<p.y?(t.push(l),t.push(d),t.push(1),t.push(-1)):(r.push(l),r.push(d),r.push(1),r.push(-1)))),f.y===p.y&&(f.y<=a&&(f.x<p.x?(t.push(l),t.push(d),t.push(2),t.push(-1)):(r.push(l),r.push(d),r.push(2),r.push(-1))),f.y>=s&&(f.x>p.x?(t.push(l),t.push(d),t.push(3),t.push(-1)):(r.push(l),r.push(d),r.push(3),r.push(-1)))),f=p}0!==t.length&&0!==r.length&&(e.fillParent(n,r,t),e.fillParent(n,t,r),e.calcDeltas(i=[],r,t),e.calcDeltas(i,t,r),e.addDeltas(i,n))}},e.fillParent=function(e,t,r){for(var n=r.length,o=t.length,a=0;a<o;a+=4){for(var s=t[a+2],u=e[l=t[a]][(c=t[a+1])-1],l=e[l][c],c=8092,f=-1,p=0;p<n;p+=4)if(r[p+2]===s){var h=r[p+1],d=e[y=r[p]][h-1],y=e[y][h];switch(s){case 0:case 1:i.between(u.y,d.y,y.y)&&i.between(l.y,d.y,y.y)&&(d=Math.abs(y.y-d.y))<c&&(c=d,f=p);break;case 2:case 3:i.between(u.x,d.x,y.x)&&i.between(l.x,d.x,y.x)&&(d=Math.abs(y.x-d.x))<c&&(c=d,f=p)}}t[a+3]=f}},e.calcDeltas=function(t,r,n){for(var i=r.length,o=0;o<i;o+=4){var a=e.calcDelta(o,r,n,[]);t.push(r[o]),t.push(r[o+1]),t.push(r[o+2]),t.push(a)}},e.calcDelta=function(t,r,n,i){if(-1===(t=r[t+3]))return 0;var o=i.length;return 1<o&&i[o-2]===t?0:(i.push(t),e.calcDelta(t,n,r,i)+1)},e.addDeltas=function(e,t){for(var r=e.length,n=0,i=0;i<r;i+=4)(s=e[i+3])>n&&(n=s);for(i=0;i<r;i+=4){var o=t[e[i]],a=e[i+1],s=n-e[i+3];switch(e[i+2]){case 0:o[a-1].x-=s,o[a].x-=s,1===a&&(o[o.length-1].x-=s),a===o.length-1&&(o[0].x-=s);break;case 1:o[a-1].x+=s,o[a].x+=s,1===a&&(o[o.length-1].x+=s),a===o.length-1&&(o[0].x+=s);break;case 2:o[a-1].y-=s,o[a].y-=s,1===a&&(o[o.length-1].y-=s),a===o.length-1&&(o[0].y-=s);break;case 3:o[a-1].y+=s,o[a].y+=s,1===a&&(o[o.length-1].y+=s),a===o.length-1&&(o[0].y+=s)}}},e}()}))},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],(function(e,t){function r(e,t){return 0<=(e%=t)?e:e+t}Object.defineProperty(t,"__esModule",{value:!0}),t.between=t.interpolate=t.sqr=t.log2=t.degToByte=t.radToByte=t.positiveMod=t.C_SQRT2_INV=t.C_SQRT2=t.C_DEG_TO_RAD=t.C_DEG_TO_256=t.C_256_TO_RAD=t.C_RAD_TO_256=t.C_PI_BY_2=t.C_2PI=t.C_PI=t.C_INFINITY=void 0,t.C_INFINITY=Number.POSITIVE_INFINITY,t.C_PI=Math.PI,t.C_2PI=2*t.C_PI,t.C_PI_BY_2=t.C_PI/2,t.C_RAD_TO_256=128/t.C_PI,t.C_256_TO_RAD=t.C_PI/128,t.C_DEG_TO_256=256/360,t.C_DEG_TO_RAD=t.C_PI/180,t.C_SQRT2=1.414213562,t.C_SQRT2_INV=1/t.C_SQRT2;var n=1/Math.LN2;t.positiveMod=r,t.radToByte=function(e){return r(e*t.C_RAD_TO_256,256)},t.degToByte=function(e){return r(e*t.C_DEG_TO_256,256)},t.log2=function(e){return Math.log(e)*n},t.sqr=function(e){return e*e},t.interpolate=function(e,t,r){return e*(1-r)+t*r},t.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}}))},"esri/views/2d/tiling/enums":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TileStatus=void 0,(e=t.TileStatus||(t.TileStatus={}))[e.INITIALIZED=0]="INITIALIZED",e[e.NO_DATA=1]="NO_DATA",e[e.READY=2]="READY",e[e.MODIFIED=3]="MODIFIED",e[e.INVALID=4]="INVALID"}))},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],(function(e,t,r,n){return function(){function e(t,r){if(this.backgroundBucketIds=[],this._layerByName={},this.styleJSON=t,this.version=parseFloat(t.version),this.sprite=r?r.spriteUrl:t.sprite,this.glyphs=r?r.glyphsUrl:t.glyphs,this.layers=(t.layers||[]).map(e._create))for(t=void 0,r=0;r<this.layers.length;r++)this._layerByName[(t=this.layers[r]).id.toLowerCase()]=t,0===t.type&&this.backgroundBucketIds.push(r);this._identifyRefLayers()}return e.prototype.isPainterDataDriven=function(e){return!!(e=this._layerByName[e.toLowerCase()])&&e.isPainterDataDriven()},e.prototype.getStyleLayerId=function(e){return e>=this.layers.length?null:this.layers[e].id},e.prototype.getLayoutProperties=function(e){return(e=this._layerByName[e.toLowerCase()])?e.layout:null},e.prototype.getPaintProperties=function(e){return(e=this._layerByName[e.toLowerCase()])?e.paint:null},e.prototype.setPaintProperties=function(t,r){if(!(t=this._layerByName[t.toLowerCase()]))return"";var n=this.layers.indexOf(t);return this.styleJSON.layers[n].paint=r,r=e._recreateLayer({id:t.id,type:t.typeName,source:t.source,sourceLayer:t["source-layer"],minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:r},t),this.layers[n]=r,this._layerByName[t.id.toLowerCase()]=r,t.id},e.prototype.setLayoutProperties=function(t,r){if(!(t=this._layerByName[t.toLowerCase()]))return"";var n=this.layers.indexOf(t);return this.styleJSON.layers[n].layout=r,r=e._recreateLayer({id:t.id,type:t.typeName,source:t.source,sourceLayer:t["source-layer"],minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:r,paint:t.paint},t),this.layers[n]=r,this._layerByName[t.id.toLowerCase()]=r,t.id},e.prototype._identifyRefLayers=function(){for(var e=[],t=[],r=0,n=0,i=this.layers;n<i.length;n++){var o=i[n];if(1===o.type){var a=o,s=(s=(s=(s=(s=o.source+"|"+o.sourceLayer)+"|"+JSON.stringify(o.layout&&o.layout.visibility))+"|"+JSON.stringify(o.minzoom))+"|"+JSON.stringify(o.maxzoom))+"|"+JSON.stringify(o.filter);(a.hasDataDrivenFill||a.hasDataDrivenOutline)&&(s+="|"+JSON.stringify(r)),e.push({key:s,layer:o})}2===o.type&&(a=o,s=o.source+"|"+o.sourceLayer,s+="|"+JSON.stringify(o.layout&&o.layout.visibility),s+="|"+JSON.stringify(o.minzoom),s+="|"+JSON.stringify(o.maxzoom),s+="|"+JSON.stringify(o.filter),s+="|"+JSON.stringify(o.layout&&o.layout["line-cap"]),s+="|"+JSON.stringify(o.layout&&o.layout["line-join"]),a.hasDataDrivenLine&&(s+="|"+JSON.stringify(r)),t.push({key:s,layer:o})),++r}this._assignRefLayers(e),this._assignRefLayers(t)},e.prototype._assignRefLayers=function(e){e.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}));for(var t,r,n=e.length,i=0;i<n;i++){var o=e[i];if(o.key===t)o.layer.refLayerId=r;else if(t=o.key,r=o.layer.id,1===o.layer.type&&!o.layer.getPaintProperty("fill-outline-color"))for(var a=i+1;a<n;a++){var s=e[a];if(s.key!==t)break;if(s.layer.getPaintProperty("fill-outline-color")){e[i]=s,e[a]=o,r=s.layer.id;break}}}},e._create=function(e,t,r){switch(t=1-1/(r.length+1)*(1+t),e.type){case"background":return new n.BackgroundStyleLayer(0,e,t);case"fill":return new n.FillStyleLayer(1,e,t);case"line":return new n.LineStyleLayer(2,e,t);case"symbol":return new n.SymbolStyleLayer(3,e,t);case"raster":throw Error("Unsupported vector tile raster layer");case"circle":return new n.CircleStyleLayer(4,e,t)}throw Error("Unknown vector tile layer")},e._recreateLayer=function(e,t){switch(e.type){case"background":return new n.BackgroundStyleLayer(0,e,t.z);case"fill":return new n.FillStyleLayer(1,e,t.z);case"line":return new n.LineStyleLayer(2,e,t.z);case"symbol":return new n.SymbolStyleLayer(3,e,t.z);case"raster":throw Error("Unsupported vector tile raster layer");case"circle":return new n.CircleStyleLayer(4,e,t.z)}},e}()}))},"esri/geometry":function(){define("require exports tslib ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureType=t.geometryTypes=t.isGeometry=t.SpatialReference=t.Polyline=t.Polygon=t.Point=t.Multipoint=t.BaseGeometry=t.Extent=void 0,t.Extent=i,t.BaseGeometry=o,t.Multipoint=a,t.Point=s,t.Polygon=u,t.Polyline=l,t.SpatialReference=c,r.__exportStar(f,t),t.isGeometry=function(e){return e instanceof o},Object.defineProperty(t,"fromJSON",{enumerable:!0,get:function(){return p.fromJSON}}),t.geometryTypes={base:o,key:"type",typeMap:{extent:i,multipoint:a,point:s,polyline:l,polygon:u}},t.ensureType=n.ensureOneOfType(t.geometryTypes)}))},"esri/geometry/Extent":function(){define("require exports tslib ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p){function h(e,t,r){return null==t?r:null==r?t:e(t,r)}return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).type="extent",t.xmin=0,t.ymin=0,t.mmin=void 0,t.zmin=void 0,t.xmax=0,t.ymax=0,t.mmax=void 0,t.zmax=void 0,t}var a;return r.__extends(t,e),a=t,t.prototype.normalizeCtorArgs=function(e,t,r,n,i){return!e||"esri.geometry.SpatialReference"!==e.declaredClass&&null==e.wkid?"object"==typeof e?(e.spatialReference=null==e.spatialReference?u.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:null==i?u.WGS84:i}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}},t.fromBounds=function(e,t){return new a({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})},Object.defineProperty(t.prototype,"center",{get:function(){var e=new s({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extent",{get:function(){return this.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!1,configurable:!0}),t.prototype.centerAt=function(e){var t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)},t.prototype.clone=function(){var e=new a;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e},t.prototype.contains=function(e){if(!e)return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),"point"===e.type?l.extentContainsPoint(this,e):"extent"===e.type&&l.extentContainsExtent(this,e)},t.prototype.equals=function(e){if(!e)return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax},t.prototype.expand=function(e){var t=this.width*(e=.5*(1-e)),r=this.height*e;return this.xmin+=t,this.ymin+=r,this.xmax-=t,this.ymax-=r,this.hasZ&&(this.zmin+=t=(this.zmax-this.zmin)*e,this.zmax-=t),this.hasM&&(this.mmin+=e*=this.mmax-this.mmin,this.mmax-=e),this},t.prototype.intersects=function(e){if(n.isNone(e))return!1;var t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),(t=c.getExtentIntersector(e.type))(this,"mesh"!==e.type?e:e.extent)},t.prototype.normalize=function(){var e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]},t.prototype.offset=function(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this},t.prototype.shiftCentralMeridian=function(){return this._normalize(!0)},t.prototype.union=function(e){return this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=h(Math.min,this.zmin,e.zmin),this.zmax=h(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=h(Math.min,this.mmin,e.mmin),this.mmax=h(Math.max,this.mmax,e.mmax)),this},t.prototype.intersection=function(e){return this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=h(Math.max,this.zmin,e.zmin),this.zmax=h(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=h(Math.max,this.mmin,e.mmin),this.mmax=h(Math.min,this.mmax,e.mmax)),this):null},t.prototype.toJSON=function(e){return this.write(null,e)},t.prototype._shiftCM=function(e){if(void 0===e&&(e=f.getInfo(this.spatialReference)),!e||!this.spatialReference)return this;var t=this.spatialReference,r=this._getCM(e);if(r){var n=t.isWebMercator?p.webMercatorToGeographic(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new u(i.replace(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this},t.prototype._getCM=function(e){var t=null;e=(r=e.valid)[0];var r=r[1],n=this.xmin,i=this.xmax;return n>=e&&n<=r&&i>=e&&i<=r||(t=this.center),t},t.prototype._normalize=function(e,t,r){var n=this.spatialReference;if(!n)return this;if(!(r=r||f.getInfo(n)))return this;var i=this._getParts(r).map((function(e){return e.extent}));if(2>i.length)return i[0]||this;if(2<i.length)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;var o=!0,a=!0;return i.forEach((function(e){e.hasZ||(o=!1),e.hasM||(a=!1)})),{rings:i.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o)for(var r=(e.zmax-e.zmin)/2,n=0;n<t.length;n++)t[n].push(r);if(a)for(e=(e.mmax-e.mmin)/2,n=0;n<t.length;n++)t[n].push(e);return t})),hasZ:o,hasM:a,spatialReference:n}},t.prototype._getParts=function(e){if(!(t=this.cache._parts)){var t=[],r=this.ymin,n=this.ymax,i=this.spatialReference,o=this.width,s=this.xmin,u=this.xmax,l=void 0,c=(d=(e=e||f.getInfo(i)).valid)[0],p=d[1],h=(l=this._normalizeX(this.xmin,e)).x,d=l.frameId,y=(l=this._normalizeX(this.xmax,e)).x;if(e=l.frameId,l=h===y&&0<o,o>2*p){for(o=new a(s<u?h:y,r,p,n,i),s=new a(c,r,s<u?y:h,n,i),u=new a(0,r,p,n,i),r=new a(c,r,0,n,i),n=[],i=[],o.contains(u)&&n.push(d),o.contains(r)&&i.push(d),s.contains(u)&&n.push(e),s.contains(r)&&i.push(e),c=d+1;c<e;c++)n.push(c),i.push(c);t.push({extent:o,frameIds:[d]},{extent:s,frameIds:[e]},{extent:u,frameIds:n},{extent:r,frameIds:i})}else h>y||l?t.push({extent:new a(h,r,p,n,i),frameIds:[d]},{extent:new a(c,r,y,n,i),frameIds:[e]}):t.push({extent:new a(h,r,y,n,i),frameIds:[d]});this.cache._parts=t}if(r=this.hasM,(e=this.hasZ)||r)for(d={},e&&(d.zmin=this.zmin,d.zmax=this.zmax),r&&(d.mmin=this.mmin,d.mmax=this.mmax),e=0;e<t.length;e++)t[e].extent.set(d);return t},t.prototype._normalizeX=function(e,t){t=(n=t.valid)[0];var r=n[1],n=2*r,i=0;return e>r?(e-=(t=Math.ceil(Math.abs(e-r)/n))*n,i=t):e<t&&(e+=(t=Math.ceil(Math.abs(e-t)/n))*n,i=-t),{x:e,frameId:i}},r.__decorate([o.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],t.prototype,"cache",void 0),r.__decorate([o.property({readOnly:!0,dependsOn:["cache"]})],t.prototype,"center",null),r.__decorate([o.property({readOnly:!0,dependsOn:["cache"]})],t.prototype,"extent",null),r.__decorate([o.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasM",null),r.__decorate([o.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasZ",null),r.__decorate([o.property({readOnly:!0,dependsOn:["ymin","ymax"]})],t.prototype,"height",null),r.__decorate([o.property({readOnly:!0,dependsOn:["xmin","xmax"]})],t.prototype,"width",null),r.__decorate([o.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],t.prototype,"xmin",void 0),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"ymin",void 0),r.__decorate([o.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],t.prototype,"mmin",void 0),r.__decorate([o.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],t.prototype,"zmin",void 0),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"xmax",void 0),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"ymax",void 0),r.__decorate([o.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],t.prototype,"mmax",void 0),r.__decorate([o.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],t.prototype,"zmax",void 0),a=r.__decorate([o.subclass("esri.geometry.Extent")],t)}(a)).prototype.toJSON.isDefaultToJSON=!0,e}))},"esri/geometry/Geometry":function(){define("require exports tslib ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),(function(e,t,r,n,i,o){return function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).type=null,t.extent=null,t.hasM=!1,t.hasZ=!1,t.spatialReference=o.WGS84,t}return r.__extends(t,e),Object.defineProperty(t.prototype,"cache",{get:function(){return{}},enumerable:!1,configurable:!0}),t.prototype.readSpatialReference=function(e,t){if(e instanceof o)return e;if(null!=e){var r=new o;return r.read(e,t),r}return e},t.prototype.clone=function(){return console.warn(".clone() is not implemented for "+this.declaredClass),null},t.prototype.clearCache=function(){this.notifyChange("cache")},t.prototype.getCacheValue=function(e){return this.cache[e]},t.prototype.setCacheValue=function(e,t){this.cache[e]=t},r.__decorate([i.property()],t.prototype,"type",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["spatialReference"]})],t.prototype,"cache",null),r.__decorate([i.property({readOnly:!0,dependsOn:["spatialReference"]})],t.prototype,"extent",void 0),r.__decorate([i.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasM",void 0),r.__decorate([i.property({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],t.prototype,"hasZ",void 0),r.__decorate([i.property({type:o,json:{write:!0}})],t.prototype,"spatialReference",void 0),r.__decorate([i.reader("spatialReference")],t.prototype,"readSpatialReference",null),r.__decorate([i.subclass("esri.geometry.Geometry")],t)}(n.JSONSupport)}))},"esri/core/JSONSupport":function(){define("require exports tslib ./Accessor ./accessorSupport/read ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),(function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONSupport=t.isJSONSupport=t.JSONSupportMixin=void 0,t.JSONSupportMixin=function(e){return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,t)||this}return r.__extends(t,e),t.prototype.read=function(e,t){i.default(this,e,t)},t.prototype.write=function(e,t){return void 0===e&&(e={}),o.default(this,e,t)},t.prototype.toJSON=function(e){return this.write({},e)},t.fromJSON=function(e,t){if(e){if(e.declaredClass)throw Error("JSON object is already hydrated");var r=new this;r.read(e,t),e=r}else e=null;return e},r.__decorate([a.subclass("esri.core.JSONSupport")],t)}(e)).prototype.toJSON.isDefaultToJSON=!0,e},t.isJSONSupport=function(e){return e&&"read"in e&&"write"in e&&"toJSON"in e},e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),r.__decorate([a.subclass("esri.core.JSONSupport")],t)}(t.JSONSupportMixin(n)),t.JSONSupport=e}))},"esri/core/accessorSupport/read":function(){define("require exports tslib ./get ./utils ./extensions/serializableProperty".split(" "),(function(e,t,r,n,i,o){function a(e,t,r){if(void 0===r&&(r=s),t&&"object"==typeof t){for(var a=i.getProperties(e),u=a.metadatas,l={},c=0,f=Object.getOwnPropertyNames(t);c<f.length;c++){var p=l,h=u,d=f[c],y=t,g=r;(x=o.originSpecificReadPropertyDefinition(h[d],g))&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(p[d]=!0);for(var m=0,v=Object.getOwnPropertyNames(h);m<v.length;m++){var x,_,b=v[m];e:{_=d;var w=y;if((x=o.originSpecificReadPropertyDefinition(h[b],g))&&x.read&&!1!==x.read.enabled&&x.read.source)if("string"==typeof(x=x.read.source)){if(x===_||-1<x.indexOf(".")&&0===x.indexOf(_)&&n.exists(x,w)){_=!0;break e}}else for(var T=0;T<x.length;T++){var E=x[T];if(E===_||-1<E.indexOf(".")&&0===E.indexOf(_)&&n.exists(E,w)){_=!0;break e}}_=!1}_&&(p[b]=!0)}}for(a.setDefaultOrigin(r.origin),f=0,p=Object.getOwnPropertyNames(l);f<p.length;f++)y=void 0,y=(d=(h=o.originSpecificReadPropertyDefinition(u[c=p[f]],r).read)&&h.source)&&"string"==typeof d?n.valueOf(t,d):t[c],h&&h.reader&&(y=h.reader.call(e,y,t,r)),void 0!==y&&a.set(c,y);if(!r||!r.ignoreDefaults)for(t=0,u=Object.getOwnPropertyNames(u);t<u.length;t++)l[c=u[t]]||(f=e,void 0!==(d=(d=o.originSpecificPropertyDefinition((p=a).metadatas[c],"any",h=r))&&d.default)&&void 0!==(f="function"==typeof d?d.call(f,c,h):d)&&p.set(c,f));a.setDefaultOrigin("user")}}Object.defineProperty(t,"__esModule",{value:!0}),t.readLoadable=t.read=void 0;var s={origin:"service"};t.read=a,t.readLoadable=function(e,t,n,i){var o;void 0===i&&(i=s),n(t=r.__assign(r.__assign({},i),{messages:[]})),null===(o=t.messages)||void 0===o||o.forEach((function(t){"warning"!==t.type||e.loaded?i&&i.messages&&i.messages.push(t):e.loadWarnings.push(t)}))},t.default=a}))},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ../promiseUtils ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),(function(e,t,r,n,i,o,a,s,u){function l(e,t,i,o,s,u){if(!o||!o.write)return!1;var l=e.get(i);if(!s&&o.write.overridePolicy){var c=o.write.overridePolicy.call(e,l,i,u);void 0!==c&&(s=c)}return s||(s=o.write),!(!s||!1===s.enabled||((null===l&&!s.allowNull||void 0===l)&&s.isRequired?(t=new n("web-document-write:property-required","Missing value for required property '"+i+"' on '"+e.declaredClass+"'",{propertyName:i,target:e}),u&&u.messages?u.messages.push(t):t&&!u&&f.error(t.name,t.message),1):void 0===l||null===l&&!s.allowNull||(void 0===(c=o.default)?l=!1:null!=o.defaultEquals?l=o.defaultEquals(l):"function"==typeof c?Array.isArray(l)?(e=c.call(e,i,u),l=r.equals(e,l)):l=!1:l=c===l,l||void 0===o.default&&!s.ignoreOrigin&&u&&u.origin&&t.store.originOf(i)<a.nameToId(u.origin))))}function c(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return s.merge(t,e.toJSON());var n,i=s.getProperties(e),c=i.metadatas,f=function(n){var f=u.originSpecificWritePropertyDefinition(c[n],r);if(!l(e,i,n,f,void 0,r))return"continue";var p=e.get(n),h=function(e,t,r,n,i){var o,a,s={};return null===(a=null===(o=t.write)||void 0===o?void 0:o.writer)||void 0===a||a.call(e,n,s,r,i),s}(e,f,f.write&&"string"==typeof f.write.target?f.write.target:n,p,r);0<Object.keys(h).length&&(t=s.merge(t,h),r&&r.resources&&r.resources.pendingOperations&&r.resources.pendingOperations.length&&o.all(r.resources.pendingOperations).then((function(){return s.merge(t,h)})),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:n,oldOrigin:a.idToReadableName(i.store.originOf(n)),newOrigin:r.origin}))};for(n in c)f(n);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.write=t.willPropertyWrite=void 0;var f=i.getLogger("esri.core.accessorSupport.write");t.willPropertyWrite=function(e,t,r,n){var i=s.getProperties(e),o=u.originSpecificWritePropertyDefinition(i.metadatas[t],n);return!!o&&l(e,i,t,o,r,n)},t.write=c,t.default=c}))},"esri/geometry/SpatialReference":function(){define("require exports tslib ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),(function(e,t,r,n,i,o,a,s,u){return(e=function(e){function t(t){return(t=e.call(this,t)||this).latestWkid=null,t.wkid=null,t.wkt=null,t.vcsWkid=null,t.latestVcsWkid=null,t.imageCoordinateSystem=null,t}var n;return r.__extends(t,e),n=t,t.fromJSON=function(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return n.WebMercator;if(4326===e.wkid)return n.WGS84}var t=new n;return t.read(e),t},t.prototype.normalizeCtorArgs=function(e){var t;return e&&"object"==typeof e?e:((t={})["string"==typeof e?"wkt":"wkid"]=e,t)},Object.defineProperty(t.prototype,"isWGS84",{get:function(){return u.isWGS84(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWebMercator",{get:function(){return u.isWebMercator(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGeographic",{get:function(){return u.isGeographic(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWrappable",{get:function(){return u.isWrappable(this)},enumerable:!1,configurable:!0}),t.prototype.writeWkt=function(e,t){this.wkid||(t.wkt=e)},t.prototype.clone=function(){if(this===n.WGS84)return n.WGS84;if(this===n.WebMercator)return n.WebMercator;var e=new n;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=i.clone(this.imageCoordinateSystem)),e},t.prototype.equals=function(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;var t=(r=e.imageCoordinateSystem).id,r=r.referenceServiceName,n=this.imageCoordinateSystem;return null==t||e.imageCoordinateSystem.geodataXform?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return u.equals(this,e)},t.prototype.toJSON=function(e){return this.write(void 0,e)},t.GCS_NAD_1927=null,t.WGS84=null,t.WebMercator=null,r.__decorate([o.property({dependsOn:["wkid"],readOnly:!0})],t.prototype,"isWGS84",null),r.__decorate([o.property({dependsOn:["wkid"],readOnly:!0})],t.prototype,"isWebMercator",null),r.__decorate([o.property({dependsOn:["wkid","wkt"],readOnly:!0})],t.prototype,"isGeographic",null),r.__decorate([o.property({dependsOn:["wkid"],readOnly:!0})],t.prototype,"isWrappable",null),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"latestWkid",void 0),r.__decorate([o.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt}}}}}}})],t.prototype,"wkid",void 0),r.__decorate([o.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid}}}}}}})],t.prototype,"wkt",void 0),r.__decorate([s.writer("wkt"),s.writer("web-scene","wkt")],t.prototype,"writeWkt",null),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"vcsWkid",void 0),r.__decorate([o.property({type:Number,json:{write:!0}})],t.prototype,"latestVcsWkid",void 0),r.__decorate([o.property()],t.prototype,"imageCoordinateSystem",void 0),n=r.__decorate([a.subclass("esri.geometry.SpatialReference")],t)}(n.JSONSupport)).prototype.toJSON.isDefaultToJSON=!0,e.GCS_NAD_1927=new e({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),e.WGS84=new e(u.WGS84),e.WebMercator=new e(u.WebMercator),Object.freeze&&(Object.freeze(e.GCS_NAD_1927),Object.freeze(e.WGS84),Object.freeze(e.WebMercator)),e}))},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],(function(e,t,r,n){function i(e){return o(e)&&null!=e.wkid&&!0===a[e.wkid]}function o(e){return null!=e&&(null!=e.wkid&&2e3<=e.wkid||null!=e.wkt)}Object.defineProperty(t,"__esModule",{value:!0}),t.WebMercator=t.WGS84=t.isValid=t.isWrappable=t.isWebMercator=t.isWGS84=t.isGeographic=t.getInfo=t.equals=void 0;var a={102113:!0,102100:!0,3857:!0,3785:!0},s={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},u=[-20037508.342787,20037508.342787],l={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:e=[-20037508.342788905,20037508.342788905],origin:u,dx:1e-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:e,origin:u,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:e,origin:u,dx:1e-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:e,origin:u,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};t.equals=function(e,t){return!(!e||!t)&&(e===t||(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||i(e)&&i(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))},t.getInfo=function(e){return o(e)&&e.wkid?l[e.wkid]:null},t.isGeographic=function(e){return!!o(e)&&(e.wkid?null==n[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))},t.isWGS84=function(e){return o(e)&&4326===e.wkid},t.isWebMercator=i,t.isWrappable=function(e){return o(e)&&null!=e.wkid&&!0===s[e.wkid]},t.isValid=o,t.WGS84={wkid:4326,wkt:r.replace(l[4326].wkTemplate,{Central_Meridian:"0.0"})},t.WebMercator={wkid:102100,latestWkid:3857}}))},"esri/geometry/support/WKIDUnitConversion":function(){define(["require","exports"],(function(e,t){for(t={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5e4,15e4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2},e=2e3;2045>=e;e++)t[e]=0;for(e=2056;2065>=e;e++)t[e]=0;for(e=2067;2135>=e;e++)t[e]=0;for(e=2137;2154>=e;e++)t[e]=0;for(e=2161;2170>=e;e++)t[e]=0;for(e=2172;2193>=e;e++)t[e]=0;for(e=2195;2198>=e;e++)t[e]=0;for(e=2200;2203>=e;e++)t[e]=0;for(e=2205;2217>=e;e++)t[e]=0;for(e=2222;2224>=e;e++)t[e]=1;for(e=2225;2250>=e;e++)t[e]=2;for(e=2251;2253>=e;e++)t[e]=1;for(e=2257;2264>=e;e++)t[e]=2;for(e=2274;2279>=e;e++)t[e]=2;for(e=2280;2282>=e;e++)t[e]=1;for(e=2283;2289>=e;e++)t[e]=2;for(e=2290;2292>=e;e++)t[e]=0;for(e=2308;2313>=e;e++)t[e]=0;for(e=2315;2491>=e;e++)t[e]=0;for(e=2494;2866>=e;e++)t[e]=0;for(e=2867;2869>=e;e++)t[e]=1;for(e=2870;2888>=e;e++)t[e]=2;for(e=2891;2895>=e;e++)t[e]=2;for(e=2896;2898>=e;e++)t[e]=1;for(e=2902;2908>=e;e++)t[e]=2;for(e=2915;2920>=e;e++)t[e]=2;for(e=2921;2923>=e;e++)t[e]=1;for(e=2924;2930>=e;e++)t[e]=2;for(e=2931;2962>=e;e++)t[e]=0;for(e=2964;2968>=e;e++)t[e]=2;for(e=2969;2973>=e;e++)t[e]=0;for(e=2975;2991>=e;e++)t[e]=0;for(e=2995;3051>=e;e++)t[e]=0;for(e=3054;3079>=e;e++)t[e]=0;for(e=3081;3088>=e;e++)t[e]=0;for(e=3092;3101>=e;e++)t[e]=0;for(e=3106;3138>=e;e++)t[e]=0;for(e=3146;3151>=e;e++)t[e]=0;for(e=3153;3166>=e;e++)t[e]=0;for(e=3168;3172>=e;e++)t[e]=0;for(e=3174;3203>=e;e++)t[e]=0;for(e=3294;3358>=e;e++)t[e]=0;for(e=3367;3403>=e;e++)t[e]=0;for(e=3408;3416>=e;e++)t[e]=0;for(e=3417;3438>=e;e++)t[e]=2;for(e=3441;3446>=e;e++)t[e]=2;for(e=3447;3450>=e;e++)t[e]=0;for(e=3451;3459>=e;e++)t[e]=2;for(e=3460;3478>=e;e++)t[e]=0;for(e=3554;3559>=e;e++)t[e]=0;for(e=3560;3570>=e;e++)t[e]=2;for(e=3571;3581>=e;e++)t[e]=0;for(e=3594;3597>=e;e++)t[e]=0;for(e=3601;3604>=e;e++)t[e]=0;for(e=3637;3639>=e;e++)t[e]=0;for(e=3665;3667>=e;e++)t[e]=0;for(e=3693;3695>=e;e++)t[e]=0;for(e=3701;3727>=e;e++)t[e]=0;for(e=3728;3739>=e;e++)t[e]=2;for(e=3740;3751>=e;e++)t[e]=0;for(e=3753;3760>=e;e++)t[e]=2;for(e=3761;3773>=e;e++)t[e]=0;for(e=3775;3777>=e;e++)t[e]=0;for(e=3779;3781>=e;e++)t[e]=0;for(e=3783;3785>=e;e++)t[e]=0;for(e=3788;3791>=e;e++)t[e]=0;for(e=3797;3802>=e;e++)t[e]=0;for(e=3814;3816>=e;e++)t[e]=0;for(e=3825;3829>=e;e++)t[e]=0;for(e=3832;3841>=e;e++)t[e]=0;for(e=3844;3852>=e;e++)t[e]=0;for(e=3873;3885>=e;e++)t[e]=0;for(e=3890;3893>=e;e++)t[e]=0;for(e=3907;3912>=e;e++)t[e]=0;for(e=3942;3950>=e;e++)t[e]=0;for(e=3968;3970>=e;e++)t[e]=0;for(e=3973;3976>=e;e++)t[e]=0;for(e=3986;3989>=e;e++)t[e]=0;for(e=3994;3997>=e;e++)t[e]=0;for(e=4048;4051>=e;e++)t[e]=0;for(e=4056;4063>=e;e++)t[e]=0;for(e=4093;4096>=e;e++)t[e]=0;for(e=4390;4398>=e;e++)t[e]=0;for(e=4399;4413>=e;e++)t[e]=2;for(e=4418;4433>=e;e++)t[e]=2;for(e=4455;4457>=e;e++)t[e]=2;for(e=4484;4489>=e;e++)t[e]=0;for(e=4491;4554>=e;e++)t[e]=0;for(e=4568;4589>=e;e++)t[e]=0;for(e=4652;4656>=e;e++)t[e]=0;for(e=4766;4800>=e;e++)t[e]=0;for(e=5014;5016>=e;e++)t[e]=0;for(e=5069;5072>=e;e++)t[e]=0;for(e=5105;5130>=e;e++)t[e]=0;for(e=5173;5188>=e;e++)t[e]=0;for(e=5253;5259>=e;e++)t[e]=0;for(e=5269;5275>=e;e++)t[e]=0;for(e=5292;5311>=e;e++)t[e]=0;for(e=5329;5331>=e;e++)t[e]=0;for(e=5343;5349>=e;e++)t[e]=0;for(e=5355;5357>=e;e++)t[e]=0;for(e=5387;5389>=e;e++)t[e]=0;for(e=5459;5463>=e;e++)t[e]=0;for(e=5479;5482>=e;e++)t[e]=0;for(e=5518;5520>=e;e++)t[e]=0;for(e=5530;5539>=e;e++)t[e]=0;for(e=5550;5552>=e;e++)t[e]=0;for(e=5562;5583>=e;e++)t[e]=0;for(e=5623;5625>=e;e++)t[e]=2;for(e=5631;5639>=e;e++)t[e]=0;for(e=5649;5653>=e;e++)t[e]=0;for(e=5663;5680>=e;e++)t[e]=0;for(e=5682;5685>=e;e++)t[e]=0;for(e=5875;5877>=e;e++)t[e]=0;for(e=5896;5899>=e;e++)t[e]=0;for(e=5921;5940>=e;e++)t[e]=0;for(e=6050;6125>=e;e++)t[e]=0;for(e=6244;6275>=e;e++)t[e]=0;for(e=6328;6348>=e;e++)t[e]=0;for(e=6350;6356>=e;e++)t[e]=0;for(e=6366;6372>=e;e++)t[e]=0;for(e=6381;6387>=e;e++)t[e]=0;for(e=6393;6404>=e;e++)t[e]=0;for(e=6480;6483>=e;e++)t[e]=0;for(e=6511;6514>=e;e++)t[e]=0;for(e=6579;6581>=e;e++)t[e]=0;for(e=6619;6624>=e;e++)t[e]=0;for(e=6625;6627>=e;e++)t[e]=2;for(e=6628;6632>=e;e++)t[e]=0;for(e=6634;6637>=e;e++)t[e]=0;for(e=6669;6692>=e;e++)t[e]=0;for(e=6707;6709>=e;e++)t[e]=0;for(e=6720;6723>=e;e++)t[e]=0;for(e=6732;6738>=e;e++)t[e]=0;for(e=6931;6933>=e;e++)t[e]=0;for(e=6956;6959>=e;e++)t[e]=0;for(e=7005;7007>=e;e++)t[e]=0;for(e=7057;7070>=e;e++)t[e]=2;for(e=7074;7082>=e;e++)t[e]=0;for(e=7109;7118>=e;e++)t[e]=0;for(e=7119;7127>=e;e++)t[e]=1;for(e=7374;7376>=e;e++)t[e]=0;for(e=7528;7586>=e;e++)t[e]=0;for(e=7587;7645>=e;e++)t[e]=2;for(e=7692;7696>=e;e++)t[e]=0;for(e=7755;7787>=e;e++)t[e]=0;for(e=7791;7795>=e;e++)t[e]=0;for(e=7799;7801>=e;e++)t[e]=0;for(e=7803;7805>=e;e++)t[e]=0;for(e=7825;7831>=e;e++)t[e]=0;for(e=7845;7859>=e;e++)t[e]=0;for(e=8013;8032>=e;e++)t[e]=0;for(e=8065;8068>=e;e++)t[e]=1;for(e=8518;8529>=e;e++)t[e]=2;for(e=8533;8536>=e;e++)t[e]=2;for(e=8538;8540>=e;e++)t[e]=2;for(e=8677;8679>=e;e++)t[e]=0;for(e=8836;8840>=e;e++)t[e]=0;for(e=8857;8859>=e;e++)t[e]=0;for(e=8908;8910>=e;e++)t[e]=0;for(e=9154;9159>=e;e++)t[e]=0;for(e=9205;9218>=e;e++)t[e]=0;for(e=9271;9273>=e;e++)t[e]=0;for(e=20002;20032>=e;e++)t[e]=0;for(e=20062;20092>=e;e++)t[e]=0;for(e=20135;20138>=e;e++)t[e]=0;for(e=20248;20258>=e;e++)t[e]=0;for(e=20348;20358>=e;e++)t[e]=0;for(e=20436;20440>=e;e++)t[e]=0;for(e=20822;20824>=e;e++)t[e]=0;for(e=20934;20936>=e;e++)t[e]=0;for(e=21035;21037>=e;e++)t[e]=0;for(e=21095;21097>=e;e++)t[e]=0;for(e=21148;21150>=e;e++)t[e]=0;for(e=21413;21423>=e;e++)t[e]=0;for(e=21453;21463>=e;e++)t[e]=0;for(e=21473;21483>=e;e++)t[e]=0;for(e=21780;21782>=e;e++)t[e]=0;for(e=21891;21894>=e;e++)t[e]=0;for(e=21896;21899>=e;e++)t[e]=0;for(e=22171;22177>=e;e++)t[e]=0;for(e=22181;22187>=e;e++)t[e]=0;for(e=22191;22197>=e;e++)t[e]=0;for(e=22234;22236>=e;e++)t[e]=0;for(e=22521;22525>=e;e++)t[e]=0;for(e=22991;22994>=e;e++)t[e]=0;for(e=23028;23038>=e;e++)t[e]=0;for(e=23830;23853>=e;e++)t[e]=0;for(e=23866;23872>=e;e++)t[e]=0;for(e=23877;23884>=e;e++)t[e]=0;for(e=23886;23894>=e;e++)t[e]=0;for(e=23946;23948>=e;e++)t[e]=0;for(e=24311;24313>=e;e++)t[e]=0;for(e=24342;24347>=e;e++)t[e]=0;for(e=24370;24374>=e;e++)t[e]=10;for(e=24375;24381>=e;e++)t[e]=0;for(e=24718;24721>=e;e++)t[e]=0;for(e=24817;24821>=e;e++)t[e]=0;for(e=24877;24882>=e;e++)t[e]=0;for(e=24891;24893>=e;e++)t[e]=0;for(e=25391;25395>=e;e++)t[e]=0;for(e=25828;25838>=e;e++)t[e]=0;for(e=26191;26195>=e;e++)t[e]=0;for(e=26391;26393>=e;e++)t[e]=0;for(e=26701;26722>=e;e++)t[e]=0;for(e=26729;26799>=e;e++)t[e]=2;for(e=26801;26803>=e;e++)t[e]=2;for(e=26811;26813>=e;e++)t[e]=2;for(e=26847;26870>=e;e++)t[e]=2;for(e=26891;26899>=e;e++)t[e]=0;for(e=26901;26923>=e;e++)t[e]=0;for(e=26929;26946>=e;e++)t[e]=0;for(e=26948;26998>=e;e++)t[e]=0;for(e=27037;27040>=e;e++)t[e]=0;for(e=27205;27232>=e;e++)t[e]=0;for(e=27258;27260>=e;e++)t[e]=0;for(e=27391;27398>=e;e++)t[e]=0;for(e=27561;27564>=e;e++)t[e]=0;for(e=27571;27574>=e;e++)t[e]=0;for(e=27581;27584>=e;e++)t[e]=0;for(e=27591;27594>=e;e++)t[e]=0;for(e=28191;28193>=e;e++)t[e]=0;for(e=28348;28358>=e;e++)t[e]=0;for(e=28402;28432>=e;e++)t[e]=0;for(e=28462;28492>=e;e++)t[e]=0;for(e=29118;29122>=e;e++)t[e]=0;for(e=29168;29172>=e;e++)t[e]=0;for(e=29177;29185>=e;e++)t[e]=0;for(e=29187;29195>=e;e++)t[e]=0;for(e=29900;29903>=e;e++)t[e]=0;for(e=30161;30179>=e;e++)t[e]=0;for(e=30491;30494>=e;e++)t[e]=0;for(e=30729;30732>=e;e++)t[e]=0;for(e=31251;31259>=e;e++)t[e]=0;for(e=31265;31268>=e;e++)t[e]=0;for(e=31275;31279>=e;e++)t[e]=0;for(e=31281;31297>=e;e++)t[e]=0;for(e=31461;31469>=e;e++)t[e]=0;for(e=31491;31495>=e;e++)t[e]=0;for(e=31917;31922>=e;e++)t[e]=0;for(e=31965;32e3>=e;e++)t[e]=0;for(e=32001;32003>=e;e++)t[e]=2;for(e=32005;32031>=e;e++)t[e]=2;for(e=32033;32060>=e;e++)t[e]=2;for(e=32064;32067>=e;e++)t[e]=2;for(e=32074;32077>=e;e++)t[e]=2;for(e=32081;32086>=e;e++)t[e]=0;for(e=32107;32130>=e;e++)t[e]=0;for(e=32133;32158>=e;e++)t[e]=0;for(e=32164;32167>=e;e++)t[e]=2;for(e=32180;32199>=e;e++)t[e]=0;for(e=32201;32260>=e;e++)t[e]=0;for(e=32301;32360>=e;e++)t[e]=0;for(e=32601;32662>=e;e++)t[e]=0;for(e=32664;32667>=e;e++)t[e]=2;for(e=32701;32761>=e;e++)t[e]=0;for(e=53001;53004>=e;e++)t[e]=0;for(e=53008;53019>=e;e++)t[e]=0;for(e=53021;53032>=e;e++)t[e]=0;for(e=53034;53037>=e;e++)t[e]=0;for(e=53042;53046>=e;e++)t[e]=0;for(e=53074;53080>=e;e++)t[e]=0;for(e=54001;54004>=e;e++)t[e]=0;for(e=54008;54019>=e;e++)t[e]=0;for(e=54021;54032>=e;e++)t[e]=0;for(e=54034;54037>=e;e++)t[e]=0;for(e=54042;54046>=e;e++)t[e]=0;for(e=54048;54053>=e;e++)t[e]=0;for(e=54074;54080>=e;e++)t[e]=0;for(e=54098;54101>=e;e++)t[e]=0;for(e=102001;102040>=e;e++)t[e]=0;for(e=102042;102063>=e;e++)t[e]=0;for(e=102065;102067>=e;e++)t[e]=0;for(e=102070;102117>=e;e++)t[e]=0;for(e=102122;102216>=e;e++)t[e]=0;for(e=102221;102377>=e;e++)t[e]=0;for(e=102382;102388>=e;e++)t[e]=0;for(e=102389;102398>=e;e++)t[e]=2;for(e=102399;102444>=e;e++)t[e]=0;for(e=102445;102447>=e;e++)t[e]=2;for(e=102448;102458>=e;e++)t[e]=0;for(e=102459;102468>=e;e++)t[e]=2;for(e=102469;102499>=e;e++)t[e]=0;for(e=102500;102519>=e;e++)t[e]=1;for(e=102520;102524>=e;e++)t[e]=0;for(e=102525;102529>=e;e++)t[e]=2;for(e=102530;102588>=e;e++)t[e]=0;for(e=102590;102598>=e;e++)t[e]=0;for(e=102601;102603>=e;e++)t[e]=0;for(e=102605;102628>=e;e++)t[e]=0;for(e=102629;102646>=e;e++)t[e]=2;for(e=102648;102700>=e;e++)t[e]=2;for(e=102701;102703>=e;e++)t[e]=0;for(e=102707;102730>=e;e++)t[e]=2;for(e=102733;102758>=e;e++)t[e]=2;for(e=102767;102900>=e;e++)t[e]=0;for(e=102965;102969>=e;e++)t[e]=0;for(e=102971;102973>=e;e++)t[e]=0;for(e=102975;102989>=e;e++)t[e]=0;for(e=102990;102992>=e;e++)t[e]=1;for(e=102997;103002>=e;e++)t[e]=0;for(e=103003;103008>=e;e++)t[e]=2;for(e=103009;103011>=e;e++)t[e]=0;for(e=103012;103014>=e;e++)t[e]=2;for(e=103019;103021>=e;e++)t[e]=0;for(e=103022;103024>=e;e++)t[e]=2;for(e=103029;103031>=e;e++)t[e]=0;for(e=103032;103034>=e;e++)t[e]=2;for(e=103065;103068>=e;e++)t[e]=0;for(e=103074;103076>=e;e++)t[e]=0;for(e=103077;103079>=e;e++)t[e]=1;for(e=103080;103082>=e;e++)t[e]=0;for(e=103083;103085>=e;e++)t[e]=2;for(e=103090;103093>=e;e++)t[e]=0;for(e=103097;103099>=e;e++)t[e]=0;for(e=103100;103102>=e;e++)t[e]=2;for(e=103107;103109>=e;e++)t[e]=0;for(e=103110;103112>=e;e++)t[e]=2;for(e=103113;103116>=e;e++)t[e]=0;for(e=103117;103120>=e;e++)t[e]=2;for(e=103153;103157>=e;e++)t[e]=0;for(e=103158;103162>=e;e++)t[e]=2;for(e=103163;103165>=e;e++)t[e]=0;for(e=103166;103168>=e;e++)t[e]=1;for(e=103169;103171>=e;e++)t[e]=2;for(e=103186;103188>=e;e++)t[e]=0;for(e=103189;103191>=e;e++)t[e]=2;for(e=103192;103195>=e;e++)t[e]=0;for(e=103196;103199>=e;e++)t[e]=2;for(e=103200;103224>=e;e++)t[e]=0;for(e=103225;103227>=e;e++)t[e]=1;for(e=103232;103237>=e;e++)t[e]=0;for(e=103238;103243>=e;e++)t[e]=2;for(e=103244;103246>=e;e++)t[e]=0;for(e=103247;103249>=e;e++)t[e]=2;for(e=103254;103256>=e;e++)t[e]=0;for(e=103257;103259>=e;e++)t[e]=2;for(e=103264;103266>=e;e++)t[e]=0;for(e=103267;103269>=e;e++)t[e]=2;for(e=103300;103375>=e;e++)t[e]=0;for(e=103381;103383>=e;e++)t[e]=0;for(e=103384;103386>=e;e++)t[e]=1;for(e=103387;103389>=e;e++)t[e]=0;for(e=103390;103392>=e;e++)t[e]=2;for(e=103397;103399>=e;e++)t[e]=0;for(e=103400;103471>=e;e++)t[e]=2;for(e=103476;103478>=e;e++)t[e]=0;for(e=103479;103481>=e;e++)t[e]=2;for(e=103486;103488>=e;e++)t[e]=0;for(e=103489;103491>=e;e++)t[e]=2;for(e=103492;103495>=e;e++)t[e]=0;for(e=103496;103499>=e;e++)t[e]=2;for(e=103528;103543>=e;e++)t[e]=0;for(e=103544;103548>=e;e++)t[e]=2;for(e=103549;103551>=e;e++)t[e]=0;for(e=103552;103554>=e;e++)t[e]=1;for(e=103555;103557>=e;e++)t[e]=2;for(e=103558;103560>=e;e++)t[e]=0;for(e=103571;103573>=e;e++)t[e]=0;for(e=103574;103576>=e;e++)t[e]=2;for(e=103577;103580>=e;e++)t[e]=0;for(e=103581;103583>=e;e++)t[e]=2;for(e=103595;103598>=e;e++)t[e]=0;for(e=103600;103694>=e;e++)t[e]=0;for(e=103696;103699>=e;e++)t[e]=0;for(e=103700;103793>=e;e++)t[e]=2;for(e=103794;103871>=e;e++)t[e]=0;for(e=103900;103971>=e;e++)t[e]=2;return t}))},"esri/geometry/Point":function(){define("require exports tslib ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c){function f(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}var p=[0,0],h=n.getLogger("esri.geometry.Point");return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).x=0,t.y=0,t.z=void 0,t.m=void 0,t.type="point",t}var n;return r.__extends(t,e),n=t,t.copy=function(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m")),e=e._get("spatialReference"),t._set("spatialReference",Object.isFrozen(e)?e:e.clone())},t.distance=function(e,t){var r=e.x-t.x,n=e.y-t.y;return e=e.hasZ&&t.hasZ?e.z-t.z:0,Math.sqrt(r*r+n*n+e*e)},t.prototype.normalizeCtorArgs=function(e,t,r,n,i){var o;return Array.isArray(e)?(i=t,e=(o=e)[0],t=o[1],r=o[2],n=o[3]):e&&"object"==typeof e?(e=null!=(o=e).x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,r=o.z,n=o.m,(i=o.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new s(i)),(null!=o.longitude||null!=o.latitude)&&(null==o.longitude?h.warn(".longitude=","Latitude was defined without longitude"):null==o.latitude?h.warn(".latitude=","Longitude was defined without latitude"):!o.declaredClass&&i&&i.isWebMercator&&(e=(t=c.lngLatToXY(o.longitude,o.latitude,p))[0],t=t[1]))):f(r)?(i=r,r=null):f(n)&&(i=n,n=null),null==(e={x:e,y:t}).x&&null!=e.y?h.warn(".y=","Y coordinate was defined without an X coordinate"):null==e.y&&null!=e.x&&h.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(e.spatialReference=i),null!=r&&(e.z=r),null!=n&&(e.m=n),e},Object.defineProperty(t.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(e){e!==this.hasM&&(this._set("m",e?0:void 0),this._set("hasM",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(e){e!==this.hasZ&&(this._set("z",e?0:void 0),this._set("hasZ",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"latitude",{get:function(){var e=this._get("spatialReference");if(e){if(e.isWebMercator)return c.xyToLngLat(this.x,this.y,p)[1];if(e.isGeographic)return this._get("y")}return null},set:function(e){var t=this._get("spatialReference");t&&(t.isWebMercator?this._set("y",c.lngLatToXY(this.x,e,p)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){var e=this._get("spatialReference");if(e){if(e.isWebMercator)return c.xyToLngLat(this._get("x"),this._get("y"),p)[0];if(e.isGeographic)return this._get("x")}return null},set:function(e){var t=this._get("spatialReference");t&&(t.isWebMercator?this._set("x",c.lngLatToXY(e,this._get("y"),p)[0]):t.isGeographic&&this._set("x",e),this._set("longitude",e))},enumerable:!1,configurable:!0}),t.prototype.writeX=function(e,t,r){t[r]=isNaN(e)?"NaN":e},t.prototype.readX=function(e){return"string"==typeof e?NaN:e},t.prototype.clone=function(){var e=new n;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e},t.prototype.copy=function(e){return n.copy(e,this),this},t.prototype.equals=function(e){var t;if(!e)return!1;var r=this.x,n=this.y,i=this.z,o=this.m,a=this.spatialReference,s=e.z,u=e.m,l=e.x;if(t=e.y,!a.equals(e=e.spatialReference))if(a.isWebMercator&&e.isWGS84)l=(t=c.lngLatToXY(l,t))[0],t=t[1],e=a;else{if(!a.isWGS84||!e.isWebMercator)return!1;l=(t=c.xyToLngLat(l,t))[0],t=t[1],e=a}return r===l&&n===t&&i===s&&o===u&&a.wkid===e.wkid},t.prototype.offset=function(e,t,r){return u.offsetPoint(this,e,t,r)},t.prototype.normalize=function(){if(!this.spatialReference)return this;if(!(t=l.getInfo(this.spatialReference)))return this;var e=this.x,t=(n=t.valid)[0],r=n[1],n=2*r;return e>r?e-=(t=Math.ceil(Math.abs(e-r)/n))*n:e<t&&(e+=(t=Math.ceil(Math.abs(e-t)/n))*n),this._set("x",e),this},t.prototype.distance=function(e){return n.distance(this,e)},t.prototype.toArray=function(){var e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]},t.prototype.toJSON=function(e){return this.write(null,e)},r.__decorate([i.property({dependsOn:["x","y","z","m","spatialReference"]})],t.prototype,"cache",void 0),r.__decorate([i.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasM",null),r.__decorate([i.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],t.prototype,"hasZ",null),r.__decorate([i.property({type:Number,dependsOn:["y"]})],t.prototype,"latitude",null),r.__decorate([i.property({type:Number,dependsOn:["x"]})],t.prototype,"longitude",null),r.__decorate([i.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),i.cast((function(e){return isNaN(e)?e:o.ensureNumber(e)}))],t.prototype,"x",void 0),r.__decorate([i.writer("x")],t.prototype,"writeX",null),r.__decorate([i.reader("x")],t.prototype,"readX",null),r.__decorate([i.property({type:Number,json:{write:!0}})],t.prototype,"y",void 0),r.__decorate([i.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],t.prototype,"z",void 0),r.__decorate([i.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],t.prototype,"m",void 0),n=r.__decorate([i.subclass("esri.geometry.Point")],t)}(a)).prototype.toJSON.isDefaultToJSON=!0,e}))},"esri/geometry/support/offset":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.offsetCoordsX=t.offsetPoint=void 0,t.offsetPoint=function(e,t,r,n){return e.x+=t,e.y+=r,null!=n&&null!=e.z&&(e.z+=n),e},t.offsetCoordsX=function(e,t){return e[0]+=t,e}}))},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../SpatialReference ./geodesicConstants ./spatialReferenceUtils".split(" "),(function(e,t,r,n,i,o){function a(e,t,r,n,i){var o;if("x"in e&&"x"in i)t=t(e.x,e.y,c,n),i.x=t[0],i.y=t[1];else if("xmin"in e&&"xmin"in i)o=t(e.xmin,e.ymin,c,n),i.xmin=o[0],i.ymin=o[1],t=t(e.xmax,e.ymax,c,n),i.xmax=t[0],i.ymax=t[1];else if("paths"in e&&"paths"in i||"rings"in e&&"rings"in i){o="paths"in e?e.paths:e.rings;var a=[],s=void 0;for(e=0;e<o.length;e++){var u=o[e];a.push(s=[]);for(var l=0;l<u.length;l++)s.push(t(u[l][0],u[l][1],[0,0],n)),2<u[l].length&&s[l].push(u[l][2]),3<u[l].length&&s[l].push(u[l][3])}"paths"in i?i.paths=a:i.rings=a}else if("points"in e&&"points"in i){for(o=e.points,a=[],e=0;e<o.length;e++)a[e]=t(o[e][0],o[e][1],[0,0],n),2<o[e].length&&a[e].push(o[e][2]),3<o[e].length&&a[e].push(o[e][3]);i.points=a}else if("type"in e&&"mesh"===e.type&&"type"in i&&"mesh"===i.type&&(a=i.vertexAttributes&&i.vertexAttributes.position,o=e.vertexAttributes&&e.vertexAttributes.position))for(s=[0,0],e=0;e<o.length;e+=3)t(o[e],o[e+1],s,n),a[e]=s[0],a[e+1]=s[1];return i.spatialReference=r,i}function s(e,t){return t=t&&(null!=t.wkid||null!=t.wkt?t:t.spatialReference),!(!(e=e&&(null!=e.wkid||null!=e.wkt?e:e.spatialReference))||!t)&&(!!o.equals(t,e)||o.isWebMercator(t)&&o.isWGS84(e)||o.isWebMercator(e)&&o.isWGS84(t))}function u(e,t,r){return void 0===r&&(r=[0,0]),89.99999<t?t=89.99999:-89.99999>t&&(t=-89.99999),t*=.017453292519943,r[0]=.017453292519943*e*i.earthRadius,r[1]=i.halfEarthRadius*Math.log((1+Math.sin(t))/(1-Math.sin(t))),r}function l(e,t,r,n){return void 0===r&&(r=[0,0]),void 0===n&&(n=!1),e=e/i.earthRadius*57.29577951308232,r[0]=n?e:e-360*Math.floor((e+180)/360),r[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*t/i.earthRadius))),r}Object.defineProperty(t,"__esModule",{value:!0}),t.webMercatorToGeographic=t.geographicToWebMercator=t.xyToLngLat=t.lngLatToXY=t.project=t.canProject=void 0;var c=[0,0];t.canProject=s,t.project=function(e,t){var i=e&&e.spatialReference;return s(i,t=t&&(null!=t.wkid||null!=t.wkt?t:t.spatialReference))?o.equals(i,t)?r.clone(e):o.isWebMercator(t)?a(e,u,n.WebMercator,!1,r.clone(e)):o.isWGS84(t)?a(e,l,n.WGS84,!1,r.clone(e)):null:null},t.lngLatToXY=u,t.xyToLngLat=l,t.geographicToWebMercator=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=r.clone(e)),a(e,u,n.WebMercator,t,i)},t.webMercatorToGeographic=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=r.clone(e)),a(e,l,n.WGS84,t,i)}}))},"esri/geometry/support/geodesicConstants":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.spheroids=t.earthEllipsoidConstants=t.earthSqEccentricity=t.earthEccentricity=t.densificationRatio=t.earthInverseFlattening=t.earthFlattening=t.metersPerDegree=t.halfEarthCircumference=t.halfEarthRadius=t.earthRadius=t.WKT_SPHEROID_REGEX=t.toRadians=void 0,t.toRadians=Math.PI/180,t.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i,t.earthRadius=6378137,t.halfEarthRadius=t.earthRadius/2,t.halfEarthCircumference=Math.PI*t.earthRadius,t.metersPerDegree=t.halfEarthCircumference/180,t.earthFlattening=1/298.257223563,t.earthInverseFlattening=1/(1-t.earthFlattening)-1,t.densificationRatio=.0015696101447650193,t.earthEccentricity=.0818191908426215,t.earthSqEccentricity=.006694379990137799,t.earthEllipsoidConstants={a:t.earthRadius,e2:t.earthSqEccentricity,a1:t.earthRadius*t.earthSqEccentricity,a2:t.earthRadius*t.earthSqEccentricity*t.earthRadius*t.earthSqEccentricity,a3:t.earthRadius*t.earthSqEccentricity*t.earthSqEccentricity/2,a4:t.earthRadius*t.earthSqEccentricity*t.earthRadius*t.earthSqEccentricity*2.5,a5:t.earthRadius*t.earthSqEccentricity+t.earthRadius*t.earthSqEccentricity*t.earthSqEccentricity/2,a6:1-t.earthSqEccentricity},t.spheroids={4326:{a:t.earthRadius,f:t.earthFlattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:.09796243445941462},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:3396190,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}}))},"esri/geometry/support/contains":function(){define(["require","exports"],(function(e,t){function r(e,t){return n(e,t[0],t[1])}function n(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function i(e,t){if(e=e.rings)if(Array.isArray(e[0][0])){for(var r=!1,n=0,i=e.length;n<i;n++)r=o(r,e[n],t);t=r}else t=o(!1,e,t);else t=!1;return t}function o(e,t,r){var n=r[0];r=r[1];for(var i=0,o=0,a=t.length;o<a;o++){++i===a&&(i=0);var s,u=(s=t[o])[0],l=(c=t[i])[0],c=c[1];((s=s[1])<r&&c>=r||c<r&&s>=r)&&u+(r-s)/(c-s)*(l-u)<n&&(e=!e)}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.polygonContainsCoords=t.polygonContainsPoint=t.extentContainsCoords3D=t.extentContainsCoords2D=t.extentContainsExtent=t.extentContainsMultipoint=t.extentContainsPoint=void 0;var a=[0,0];t.extentContainsPoint=function(e,t){return n(e,t.x,t.y,t.z)},t.extentContainsMultipoint=function(e,t){if(!t.points||t.points.length)return!1;var n=0;for(t=t.points;n<t.length;n++)if(!r(e,t[n]))return!1;return!0},t.extentContainsExtent=function(e,t){var r=t.xmin,i=t.ymin,o=t.zmin,a=t.xmax,s=t.ymax,u=t.zmax;return e.hasZ&&t.hasZ?n(e,r,i,o)&&n(e,r,s,o)&&n(e,a,s,o)&&n(e,a,i,o)&&n(e,r,i,u)&&n(e,r,s,u)&&n(e,a,s,u)&&n(e,a,i,u):n(e,r,i)&&n(e,r,s)&&n(e,a,s)&&n(e,a,i)},t.extentContainsCoords2D=r,t.extentContainsCoords3D=function(e,t){return n(e,t[0],t[1],t[2])},t.polygonContainsPoint=function(e,t){return a[1]=t.y,a[0]=t.x,i(e,a)},t.polygonContainsCoords=i}))},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],(function(e,t,r){function n(e,t){return r.extentContainsPoint(e,t)}function i(e,t){var r=e.hasZ&&t.hasZ;if(e.xmin<=t.xmin){if(e.xmax<t.xmin)return!1}else if(t.xmax<e.xmin)return!1;if(e.ymin<=t.ymin){if(e.ymax<t.ymin)return!1}else if(t.ymax<e.ymin)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(e.zmax<(r=t.zmin))return!1}else if(t.zmax<(r=e.zmin))return!1;return!0}function o(e,t){var n=t.hasZ?r.extentContainsCoords3D:r.extentContainsCoords2D,i=0;for(t=t.points;i<t.length;i++)if(n(e,t[i]))return!0;return!1}function a(e,t){c[0]=e.xmin,c[1]=e.ymax,f[0]=e.xmax,f[1]=e.ymax,p[0]=e.xmin,p[1]=e.ymin,h[0]=e.xmax,h[1]=e.ymin;for(var n=0,i=d;n<i.length;n++)if(r.polygonContainsCoords(t,i[n]))return!0;for(n=0,t=t.rings;n<t.length;n++)if((i=t[n]).length){var o=i[0];if(r.extentContainsCoords2D(e,o))return!0;for(var a=1;a<i.length;a++){var s=i[a];if(r.extentContainsCoords2D(e,s)||u(o,s,y))return!0;o=s}}return!1}function s(e,t){c[0]=e.xmin,c[1]=e.ymax,f[0]=e.xmax,f[1]=e.ymax,p[0]=e.xmin,p[1]=e.ymin,h[0]=e.xmax,h[1]=e.ymin,t=t.paths;for(var n=0;n<t.length;n++){var i=t[n];if(t.length){var o=i[0];if(r.extentContainsCoords2D(e,o))return!0;for(var a=1;a<i.length;a++){var s=i[a];if(r.extentContainsCoords2D(e,s)||u(o,s,y))return!0;o=s}}}return!1}function u(e,t,r){for(var n=0;n<r.length;n++)if(l(e,t,r[n][0],r[n][1]))return!0;return!1}function l(e,t,r,n,i){var o=e[0],a=t[0],s=r[1];r=n[0]-(u=r[0]);var u,l=a-o,c=(t=t[1])-(e=e[1]),f=(n=n[1]-s)*l-r*c;return 0!==f&&(r=(r*(s=e-s)-n*(u=o-u))/f,u=(l*s-c*u)/f,0<=r&&1>=r&&0<=u&&1>=u&&(i&&(i[0]=o+r*(a-o),i[1]=e+r*(t-e)),!0))}Object.defineProperty(t,"__esModule",{value:!0}),t.getExtentIntersector=t.segmentIntersects=t.isSelfIntersecting=t.extentIntersectsPolyline=t.extentIntersectsPolygon=t.extentIntersectsMultipoint=t.extentIntersectsExtent=t.extentIntersectsPoint=void 0,t.extentIntersectsPoint=n,t.extentIntersectsExtent=i,t.extentIntersectsMultipoint=o;var c=[0,0],f=[0,0],p=[0,0],h=[0,0],d=[c,f,p,h],y=[[p,c],[c,f],[f,h],[h,p]];t.extentIntersectsPolygon=a,t.extentIntersectsPolyline=s;var g=[0,0];t.isSelfIntersecting=function(e){for(var t=0;t<e.length;t++){for(var r=e[t],n=0;n<r.length-1;n++)for(var i=r[n],o=r[n+1],a=t+1;a<e.length;a++)for(var s=0;s<e[a].length-1;s++){var u=e[a][s],c=e[a][s+1],f=l(i,o,u,c,g);if(f&&!(g[0]===i[0]&&g[1]===i[1]||g[0]===u[0]&&g[1]===u[1]||g[0]===o[0]&&g[1]===o[1]||g[0]===c[0]&&g[1]===c[1]))return!0}if(!(4>=(s=r.length)))for(n=0;n<s-3;n++){var p=s-1;for(0===n&&(p=s-2),i=r[n],o=r[n+1],a=n+2;a<p;a++)if((f=l(i,o,u=r[a],c=r[a+1],g))&&!(g[0]===i[0]&&g[1]===i[1]||g[0]===u[0]&&g[1]===u[1]||g[0]===o[0]&&g[1]===o[1]||g[0]===c[0]&&g[1]===c[1]))return!0}}return!1},t.segmentIntersects=l,t.getExtentIntersector=function(e){switch(e){case"esriGeometryEnvelope":case"extent":return i;case"esriGeometryMultipoint":case"multipoint":return o;case"esriGeometryPoint":case"point":return n;case"esriGeometryPolygon":case"polygon":return a;case"esriGeometryPolyline":case"polyline":return s;case"mesh":return i}}}))},"esri/geometry/Multipoint":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),(function(e,t,r,n,i,o,a,s,u){function l(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).points=[],t.type="multipoint",t}var a;return r.__extends(t,e),a=t,t.prototype.normalizeCtorArgs=function(e,t){if(!e&&!t)return null;var r={};return Array.isArray(e)?(r.points=e,r.spatialReference=t):!e||"esri.geometry.SpatialReference"!==e.declaredClass&&null==e.wkid?(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM)):r.spatialReference=e,(e=r.points&&r.points[0])&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=2<e.length,r.hasM=!1):void 0===r.hasZ?r.hasZ=3<e.length:void 0===r.hasM&&(r.hasM=3<e.length)),r},Object.defineProperty(t.prototype,"extent",{get:function(){var e=this.points;if(!e.length)return null;for(var t,r,n,i,a=new o,s=this.hasZ,u=this.hasM,c=s?3:2,f=e[0],p=l(Math.min),h=l(Math.max),d=f[0],y=f[1],g=f[0],m=(f=f[1],0),v=e.length;m<v;m++){var x=e[m],_=x[0],b=x[1];d=p(d,_),y=p(y,b),g=h(g,_),f=h(f,b),s&&2<x.length&&(t=p(t,_=x[2]),n=h(n,_)),u&&x.length>c&&(r=p(r,x=x[c]),i=h(i,x))}return a.xmin=d,a.ymin=y,a.xmax=g,a.ymax=f,a.spatialReference=this.spatialReference,s?(a.zmin=t,a.zmax=n):(a.zmin=null,a.zmax=null),u?(a.mmin=r,a.mmax=i):(a.mmin=null,a.mmax=null),a},enumerable:!1,configurable:!0}),t.prototype.writePoints=function(e,t){t.points=n.clone(this.points)},t.prototype.addPoint=function(e){return this.clearCache(),u.updateSupportFromPoint(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this},t.prototype.clone=function(){var e={points:n.clone(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new a(e)},t.prototype.getPoint=function(e){if(!this._validateInputs(e))return null;var t={x:(e=this.points[e])[0],y:e[1],spatialReference:this.spatialReference},r=2;return this.hasZ&&(t.z=e[2],r=3),this.hasM&&(t.m=e[r]),new s(t)},t.prototype.removePoint=function(e){return this._validateInputs(e)?(this.clearCache(),new s(this.points.splice(e,1)[0],this.spatialReference)):null},t.prototype.setPoint=function(e,t){return this._validateInputs(e)?(this.clearCache(),u.updateSupportFromPoint(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this):this},t.prototype.toJSON=function(e){return this.write(null,e)},t.prototype._validateInputs=function(e){return null!=e&&0<=e&&e<this.points.length},r.__decorate([i.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],t.prototype,"cache",void 0),r.__decorate([i.property({dependsOn:["cache"]})],t.prototype,"extent",null),r.__decorate([i.property({type:[[Number]],json:{write:{isRequired:!0}}})],t.prototype,"points",void 0),r.__decorate([i.writer("points")],t.prototype,"writePoints",null),a=r.__decorate([i.subclass("esri.geometry.Multipoint")],t)}(a)).prototype.toJSON.isDefaultToJSON=!0,e}))},"esri/geometry/support/zmUtils":function(){define(["require","exports"],(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.updateSupportFromPoint=void 0,t.updateSupportFromPoint=function(e,t,r){void 0===r&&(r=!1);var n=e.hasM,i=e.hasZ;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(i=n=!1):i=n=!0:(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n}}))},"esri/geometry/Polygon":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c,f,p,h,d,y){return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).rings=[],t.type="polygon",t}var a;return r.__extends(t,e),a=t,t.fromExtent=function(e){var t=e.clone().normalize();e=e.spatialReference;var r=!1,n=!1;return t.map((function(e){e.hasZ&&(r=!0),e.hasM&&(n=!0)})),t={rings:t.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ)for(var i=e.zmin+.5*(e.zmax-e.zmin),o=0;o<t.length;o++)t[o].push(i);if(n&&e.hasM)for(e=e.mmin+.5*(e.mmax-e.mmin),o=0;o<t.length;o++)t[o].push(e);return t})),spatialReference:e},r&&(t.hasZ=!0),n&&(t.hasM=!0),new a(t)},t.prototype.normalizeCtorArgs=function(e,t){var r,n,i,o=null;return e&&!Array.isArray(e)?(o=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):o=e,(o=o||[]).length&&o[0]&&null!=o[0][0]&&"number"==typeof o[0][0]&&(o=[o]),(i=o[0]&&o[0][0])&&(void 0===r&&void 0===n?(r=2<i.length,n=!1):void 0===r?r=!n&&3<i.length:void 0===n&&(n=!r&&3<i.length)),{rings:o,spatialReference:t=t||u.WGS84,hasZ:r,hasM:n}},Object.defineProperty(t.prototype,"centroid",{get:function(){var e=l.polygonCentroid(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;var t=new s;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extent",{get:function(){var e=this.spatialReference,t=p.getPolygonExtent(this);return t?((t=new o(t)).spatialReference=e,t):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSelfIntersecting",{get:function(){return h.isSelfIntersecting(this.rings)},enumerable:!1,configurable:!0}),t.prototype.writePaths=function(e,t){t.rings=n.clone(this.rings)},t.prototype.addRing=function(e){if(e){this.clearCache();var t=this.rings,r=t.length;if(Array.isArray(e[0]))t[r]=e.concat();else{for(var n=[],i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}return this}},t.prototype.clone=function(){var e=new a;return e.spatialReference=this.spatialReference,e.rings=n.clone(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e},t.prototype.contains=function(e){return!!e&&(d.canProject(e,this.spatialReference)&&(e=d.project(e,this.spatialReference)),c.polygonContainsPoint(this,e))},t.prototype.isClockwise=function(e){var t=this;return e=Array.isArray(e[0])?e:e.map((function(e){return t.hasZ?t.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]})),f.isClockwise(e,this.hasM,this.hasZ)},t.prototype.getPoint=function(e,t){if(!this._validateInputs(e,t))return null;e=this.rings[e][t];var r=this.hasM;return(t=this.hasZ)&&!r?new s(e[0],e[1],e[2],void 0,this.spatialReference):r&&!t?new s(e[0],e[1],void 0,e[2],this.spatialReference):t&&r?new s(e[0],e[1],e[2],e[3],this.spatialReference):new s(e[0],e[1],this.spatialReference)},t.prototype.insertPoint=function(e,t,r){return this._validateInputs(e,t,!0)?(this.clearCache(),y.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this):this},t.prototype.removePoint=function(e,t){return this._validateInputs(e,t)?(this.clearCache(),new s(this.rings[e].splice(t,1)[0],this.spatialReference)):null},t.prototype.removeRing=function(e){if(!this._validateInputs(e,null))return null;this.clearCache(),e=this.rings.splice(e,1)[0];var t=this.spatialReference;return e.map((function(e){return new s(e,t)}))},t.prototype.setPoint=function(e,t,r){return this._validateInputs(e,t)?(this.clearCache(),y.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this):this},t.prototype._validateInputs=function(e,t,r){return void 0===r&&(r=!1),!(null==e||0>e||e>=this.rings.length||null!=t&&(e=this.rings[e],r&&(0>t||t>e.length)||!r&&(0>t||t>=e.length)))},t.prototype.toJSON=function(e){return this.write(null,e)},r.__decorate([i.property({dependsOn:["hasM","hasZ","rings"]})],t.prototype,"cache",void 0),r.__decorate([i.property({readOnly:!0,dependsOn:["cache"]})],t.prototype,"centroid",null),r.__decorate([i.property({dependsOn:["cache"],readOnly:!0})],t.prototype,"extent",null),r.__decorate([i.property({dependsOn:["cache"],readOnly:!0})],t.prototype,"isSelfIntersecting",null),r.__decorate([i.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],t.prototype,"rings",void 0),r.__decorate([i.writer("rings")],t.prototype,"writePaths",null),a=r.__decorate([i.subclass("esri.geometry.Polygon")],t)}(a)).prototype.toJSON.isDefaultToJSON=!0,e}))},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],(function(e,t,r){function n(e,t){if(!e||!e.length)return null;for(var r=[],n=[],a=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0],s=0,u=e.length;s<u;s++){var l=i(e[s],t,a);l&&n.push(l)}if(n.sort((function(e,r){var n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n})),n.length&&(r[0]=n[0][0]/(s=6*n[0][2]),r[1]=n[0][1]/s,t&&(r[2]=0!=(s=6*n[0][4])?n[0][3]/s:0),r[0]<a[0]||r[0]>a[1]||r[1]<a[2]||r[1]>a[3]||t&&(r[2]<a[4]||r[2]>a[5]))&&(r.length=0),!r.length){if(!(e=e[0]&&e[0].length?o(e[0],t):null))return null;r[0]=e[0],r[1]=e[1],t&&2<e.length&&(r[2]=e[2])}return r}function i(e,t,r){for(var n=0,i=0,o=0,a=0,s=0,u=0;u<e.length;u++){var l=e[u],c=l[0],f=l[1],p=l[2],h=e[(u+1)%e.length],d=h[0],y=h[1],g=h[2],m=c*y-d*f;a+=m,n+=(c+d)*m,i+=(f+y)*m,t&&2<l.length&&2<h.length&&(o+=(p+g)*(m=c*g-d*p),s+=m),c<r[0]&&(r[0]=c),c>r[1]&&(r[1]=c),f<r[2]&&(r[2]=f),f>r[3]&&(r[3]=f),t&&(p<r[4]&&(r[4]=p),p>r[5]&&(r[5]=p))}return 0<a&&(a*=-1),0<s&&(s*=-1),a?(e=[n,i,.5*a],t&&(e[3]=o,e[4]=.5*s),e):null}function o(e,t){for(var n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0],o=0,a=0,s=0,u=0,l=0,c=e.length;l<c-1;l++){var f=e[l],p=e[l+1];if(f&&p){n[0]=f[0],n[1]=f[1],i[0]=p[0],i[1]=p[1],t&&2<f.length&&2<p.length&&(n[2]=f[2],i[2]=p[2]);var h=r.getLength(n,i);h&&(o+=h,a+=h*(f=r.getMidpoint(f,p))[0],s+=h*f[1],t&&2<f.length&&(u+=h*f[2]))}}return 0<o?t?[a/o,s/o,u/o]:[a/o,s/o]:e.length?e[0]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.lineCentroid=t.ringsCentroid=t.polygonCentroid=t.extentCentroid=void 0,t.extentCentroid=function(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null},t.polygonCentroid=function(e){return e?n(e.rings,e.hasZ):null},t.ringsCentroid=n,t.lineCentroid=o}))},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],(function(e,t,r){function n(e,t){var r=t[0]-e[0],n=t[1]-e[1];return 2<e.length&&2<t.length?(e=e[2]-t[2],Math.sqrt(r*r+n*n+e*e)):Math.sqrt(r*r+n*n)}function i(e,t,r){var n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return 2<e.length&&2<t.length?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function o(e,t,r){for(var n=e.length,i=0,o=0,a=0,s=0;s<n;s++){var u=e[s],l=e[(s+1)%n],c=2;i+=u[0]*l[1]-l[0]*u[1],2<u.length&&2<l.length&&r&&(o+=u[0]*l[2]-l[0]*u[2],c=3),u.length>c&&l.length>c&&t&&(a+=u[0]*l[c]-l[0]*u[c])}return 0>=i&&0>=o&&0>=a}function a(e,t){if(t=r.getInfo(t)){var n=t.valid[0],i=t.valid[1],o=i-n;t=function(e){var t=1/0,r=-1/0;e.forEach((function(e){for(var a=e[0];a<n;)a+=o;for(;a>i;)a-=o;t=Math.min(t,a),r=Math.max(r,a),e[0]=a}));var a=r-t;o-a<a&&e.forEach((function(e){0>e[0]&&(e[0]+=o)}))};for(var a=0;a<e.length;a++)t(e[a])}}Object.defineProperty(t,"__esModule",{value:!0}),t.computeUnnormalizedVertexPositionsOnDateLineCrossing=t.unnormalizeVerticesOnDatelineCrossing=t.unnormalizeGeometryOnDatelineCrossing=t.getRingArea=t.closeRings=t.closeRingsAndFixWinding=t.isClockwise=t.getPointOnPath=t.getPathLength=t.getMidpoint=t.projectPointOnLine=t.getLength=t.geometryToCoordinates=void 0,t.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;var t=e.hasZ,r=e.hasM;if("point"===e.type)return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice(0);if("polyline"===e.type)return e.paths.slice(0);if("multipoint"===e.type)return e.points.slice(0);if("extent"===e.type){if(!(e=e.clone().normalize()))return null;var n=!1,i=!1;return e.forEach((function(e){e.hasZ&&(n=!0),e.hasM&&(i=!0)})),e.map((function(e){var t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ)for(var r=.5*(e.zmax-e.zmin),o=0;o<t.length;o++)t[o].push(r);if(i&&e.hasM)for(e=.5*(e.mmax-e.mmin),o=0;o<t.length;o++)t[o].push(e);return t}))}return null},t.getLength=n,t.projectPointOnLine=function(e,t,r,n){var i,o=(i=r[n])[0];return r=(n=r[n+1])[0]-o,n=n[1]-(i=i[1]),t=Math.min(1,Math.max(0,((t[0]-o)*r+(t[1]-i)*n)/(r*r+n*n))),e[0]=o+r*t,e[1]=i+n*t,e},t.getMidpoint=function(e,t){return i(e,t,.5)},t.getPathLength=function(e){for(var t=e.length,r=0,i=0;i<t-1;++i)r+=n(e[i],e[i+1]);return r},t.getPointOnPath=function(e,t){if(0>=t)return e[0];for(var r=e.length,o=0,a=0;a<r-1;++a){var s=n(e[a],e[a+1]);if(t-o<s)return i(e[a],e[a+1],(t-o)/s);o+=s}return e[r-1]},t.isClockwise=o,t.closeRingsAndFixWinding=function(e){if("rings"in e){for(var t=0,r=e.rings;t<r.length;t++){var n=r[t];3>n.length||n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]||n.push([n[0][0],n[0][1]])}if(0<e.rings.length&&!o(e.rings[0],e.hasM,e.hasZ))for(t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}},t.closeRings=function(e){if("rings"in e){var t=0;for(e=e.rings;t<e.length;t++){var r=e[t];3>r.length||r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push([r[0][0],r[0][1]])}}},t.getRingArea=function(e){for(var t=e.length,r=0,n=0;n<t;n++){var i=e[n],o=e[(n+1)%t];r+=i[0]*o[1]-o[0]*i[1]}return r},t.unnormalizeGeometryOnDatelineCrossing=function(e){return"polygon"!==e.type&&"polyline"!==e.type||a("polygon"===e.type?e.rings:e.paths,e.spatialReference),e},t.unnormalizeVerticesOnDatelineCrossing=a,t.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(e,t,r,n){var i=1/0,o=-1/0;e.forEach((function(e){for(var a=e.pos[0];a<t;)a+=n;for(;a>r;)a-=n;i=Math.min(i,a),o=Math.max(o,a),e.unnormalizedPos[0]=a,e.unnormalizedPos[1]=e.pos[1],2<e.pos.length&&(e.unnormalizedPos[2]=e.pos[2]),3<e.pos.length&&(e.unnormalizedPos[3]=e.pos[3])}));var a=o-i;n-a<a&&e.forEach((function(e){0>e.unnormalizedPos[0]&&(e.unnormalizedPos[0]+=n)}))}}))},"esri/geometry/support/extentUtils":function(){define(["require","exports","./boundsUtils"],(function(e,t,r){function n(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),t?r?{xmin:e[0],ymin:e[1],zmin:e[2],mmin:e[3],xmax:e[4],ymax:e[5],zmax:e[6],mmax:e[7]}:{xmin:e[0],ymin:e[1],zmin:e[2],xmax:e[3],ymax:e[4],zmax:e[5]}:r?{xmin:e[0],ymin:e[1],mmin:e[2],xmax:e[3],ymax:e[4],mmax:e[5]}:{xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]}}function i(e){var t=e.hasZ,i=e.hasM;return n(r.getPointsBounds(u,e.points,t,i),t,i)}function o(e){var t=e.x,r=e.y,n=e.z,i=null!=(e=e.m);return null!=n?i?{xmin:t,ymin:r,zmin:n,mmin:e,xmax:t,ymax:r,zmax:n,mmax:e}:{xmin:t,ymin:r,zmin:n,xmax:t,ymax:r,zmax:n}:i?{xmin:t,ymin:r,mmin:e,xmax:t,ymax:r,mmax:e}:{xmin:t,ymin:r,xmax:t,ymax:r}}function a(e){var t=e.hasZ,i=e.hasM;return(e=r.getRingsOrPathsBounds(u,e.rings,t,i))?n(e,t,i):null}function s(e){var t=e.hasZ,i=e.hasM;return(e=r.getRingsOrPathsBounds(u,e.paths,t,i))?n(e,t,i):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getPolylineExtent=t.getPolygonExtent=t.getPointExtent=t.getMultipointExtent=t.getGeometryExtent=void 0;var u=[];t.getGeometryExtent=function(e){return e?void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax?e:void 0!==e.x&&void 0!==e.y?o(e):void 0!==e.rings?a(e):void 0!==e.paths?s(e):void 0!==e.points?i(e):null:null},t.getMultipointExtent=i,t.getPointExtent=o,t.getPolygonExtent=a,t.getPolylineExtent=s}))},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],(function(e,t){function r(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function n(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}function i(e,t,r,n){var i=r?3:2;if(!t.length||!t[0].length)return null;for(var o=(a=t[0][0])[0],a=a[1],l=(c=t[0][0])[0],c=c[1],f=void 0,p=void 0,h=void 0,d=void 0,y=0;y<t.length;y++)for(var g=t[y],m=0;m<g.length;m++){var v=g[m],x=v[0],_=v[1];o=s(o,x),a=s(a,_),l=u(l,x),c=u(c,_),r&&2<v.length&&(f=s(f,x=v[2]),p=u(p,x)),n&&v.length>i&&(h=s(f,d=v[i]),d=u(p,d))}return r?n?(e[0]=o,e[1]=a,e[2]=f,e[3]=h,e[4]=l,e[5]=c,e[6]=p,e[7]=d,e.length=8,e):(e[0]=o,e[1]=a,e[2]=f,e[3]=l,e[4]=c,e[5]=p,e.length=6,e):n?(e[0]=o,e[1]=a,e[2]=h,e[3]=l,e[4]=c,e[5]=d,e.length=6,e):(e[0]=o,e[1]=a,e[2]=l,e[3]=c,e.length=4,e)}function o(e,t,r,n,i,o){r=t.xmin,n=t.xmax;var a=t.ymin,s=t.ymax,u=t.zmin,l=t.zmax,c=t.mmin;return t=t.mmax,i?(u=u||0,l=l||0,o?(e[0]=r,e[1]=a,e[2]=u,e[3]=c||0,e[4]=n,e[5]=s,e[6]=l,e[7]=t||0,e):(e[0]=r,e[1]=a,e[2]=u,e[3]=n,e[4]=s,e[5]=l,e)):o?(e[0]=r,e[1]=a,e[2]=c||0,e[3]=n,e[4]=s,e[5]=t||0,e):(e[0]=r,e[1]=a,e[2]=n,e[3]=s,e)}function a(e,t,r,n,i,o){var a=r?3:2;if(n=n&&o,r=r&&i,!t.length||!t[0].length)return null;for(var l=(c=t[0])[0],c=c[1],f=(p=t[0])[0],p=p[1],h=void 0,d=void 0,y=void 0,g=void 0,m=0;m<t.length;m++){var v=t[m],x=v[0],_=v[1];l=s(l,x),c=s(c,_),f=u(f,x),p=u(p,_),r&&2<v.length&&(h=s(h,x=v[2]),d=u(d,x)),n&&v.length>a&&(y=s(h,g=v[a]),g=u(d,g))}return i?(h=h||0,d=d||0,o?(e[0]=l,e[1]=c,e[2]=h,e[3]=y||0,e[4]=f,e[5]=p,e[6]=d,e[7]=g||0,e):(e[0]=l,e[1]=c,e[2]=h,e[3]=f,e[4]=p,e[5]=d,e)):o?(e[0]=l,e[1]=c,e[2]=y||0,e[3]=f,e[4]=p,e[5]=g||0,e):(e[0]=l,e[1]=c,e[2]=f,e[3]=p,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getPointsBoundsCenterX=t.getPointsBoundsWidth=t.getPointsBounds=t.getExtentBounds=t.getRingsOrPathsBounds=t.getBoundsXYZ=t.getBoundsXY=void 0;var s=n(Math.min),u=n(Math.max);t.getBoundsXY=function(e,t){return void 0!==t.paths?i(e,t.paths,!1,!1):void 0!==t.rings?i(e,t.rings,!1,!1):void 0!==t.points?a(e,t.points,!1,!1,!1,!1):r(t)?o(e,t):(void 0!==t.x&&void 0!==t.y&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)},t.getBoundsXYZ=function(e,t){return void 0!==t.paths?i(e,t.paths,!0,!1):void 0!==t.rings?i(e,t.rings,!0,!1):void 0!==t.points?a(e,t.points,!0,!1,!0,!1):r(t)?o(e,t,!0,!1,!0,!1):(void 0!==t.x&&void 0!==t.y&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)},t.getRingsOrPathsBounds=i,t.getExtentBounds=o,t.getPointsBounds=a,t.getPointsBoundsWidth=function(e){if(!e.length||!e[0].length)return null;for(var t=e[0][0],r=e[0][0],n=0;n<e.length;n++){var i=e[n][0];t=s(t,i),r=u(r,i)}return r-t},t.getPointsBoundsCenterX=function(e){if(!e.length||!e[0].length)return null;for(var t=e[0][0],r=e[0][0],n=0;n<e.length;n++){var i=e[n][0];t=s(t,i),r=u(r,i)}return t+.5*(r-t)}}))},"esri/geometry/Polyline":function(){define("require exports tslib ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),(function(e,t,r,n,i,o,a,s,u,l,c){return(e=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(t=e.apply(this,t)||this).paths=[],t.type="polyline",t}var a;return r.__extends(t,e),a=t,t.prototype.normalizeCtorArgs=function(e,t){var r,n,i,o=null;return e&&!Array.isArray(e)?(o=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):o=e,(o=o||[]).length&&o[0]&&null!=o[0][0]&&"number"==typeof o[0][0]&&(o=[o]),(i=o[0]&&o[0][0])&&(void 0===r&&void 0===n?(r=2<i.length,n=!1):void 0===r?r=!n&&3<i.length:void 0===n&&(n=!r&&3<i.length)),{paths:o,spatialReference:t=t||u.WGS84,hasZ:r,hasM:n}},Object.defineProperty(t.prototype,"extent",{get:function(){var e=this.spatialReference,t=l.getPolylineExtent(this);return t?((t=new o(t)).spatialReference=e,t):null},enumerable:!1,configurable:!0}),t.prototype.writePaths=function(e,t){t.paths=n.clone(this.paths)},t.prototype.addPath=function(e){if(e){this.clearCache();var t=this.paths,r=t.length;if(Array.isArray(e[0]))t[r]=e.concat();else{for(var n=[],i=0,o=e.length;i<o;i++)n[i]=e[i].toArray();t[r]=n}return this}},t.prototype.clone=function(){var e=new a;return e.spatialReference=this.spatialReference,e.paths=n.clone(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e},t.prototype.getPoint=function(e,t){if(!this._validateInputs(e,t))return null;e=this.paths[e][t];var r=this.hasM;return(t=this.hasZ)&&!r?new s(e[0],e[1],e[2],void 0,this.spatialReference):r&&!t?new s(e[0],e[1],void 0,e[2],this.spatialReference):t&&r?new s(e[0],e[1],e[2],e[3],this.spatialReference):new s(e[0],e[1],this.spatialReference)},t.prototype.insertPoint=function(e,t,r){return this._validateInputs(e,t,!0)?(this.clearCache(),c.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this):this},t.prototype.removePath=function(e){if(!this._validateInputs(e,null))return null;this.clearCache(),e=this.paths.splice(e,1)[0];var t=this.spatialReference;return e.map((function(e){return new s(e,t)}))},t.prototype.removePoint=function(e,t){return this._validateInputs(e,t)?(this.clearCache(),new s(this.paths[e].splice(t,1)[0],this.spatialReference)):null},t.prototype.setPoint=function(e,t,r){return this._validateInputs(e,t)?(this.clearCache(),c.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this):this},t.prototype._validateInputs=function(e,t,r){return void 0===r&&(r=!1),!(null==e||0>e||e>=this.paths.length||null!=t&&(e=this.paths[e],r&&(0>t||t>e.length)||!r&&(0>t||t>=e.length)))},t.prototype.toJSON=function(e){return this.write(null,e)},r.__decorate([i.property({dependsOn:["hasM","hasZ","paths"]})],t.prototype,"cache",void 0),r.__decorate([i.property({dependsOn:["cache"],readOnly:!0})],t.prototype,"extent",null),r.__decorate([i.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],t.prototype,"paths",void 0),r.__decorate([i.writer("paths")],t.prototype,"writePaths",null),a=r.__decorate([i.subclass("esri.geometry.Polyline")],t)}(a)).prototype.toJSON.isDefaultToJSON=!0,e}))},"esri/geometry/support/typeUtils":function(){define(["require","exports","../../core/jsonMap"],(function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.typeKebabDictionary=t.featureGeometryTypeKebabDictionary=t.isFeatureGeometryType=void 0,t.isFeatureGeometryType=function(e){return"point"===e||"multipoint"===e||"polyline"===e||"polygon"===e},t.featureGeometryTypeKebabDictionary=r.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),t.typeKebabDictionary=r.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})}))},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),(function(e,t,r,n,i,o,a,s){function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function c(e){return void 0!==e.x&&void 0!==e.y}function f(e){return void 0!==e.paths}function p(e){return void 0!==e.rings}function h(e){return e?e instanceof n?e:c(e)?o.fromJSON(e):f(e)?s.fromJSON(e):p(e)?a.fromJSON(e):l(e)?i.fromJSON(e):u(e)?r.fromJSON(e):null:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getGeometryType=t.getJsonType=t.fromJSON=t.isMesh=t.isPolygon=t.isPolyline=t.isPoint=t.isMultipoint=t.isExtent=t.fromJson=void 0,t.fromJson=function(e){try{throw Error("fromJson is deprecated, use fromJSON instead")}catch(t){console.warn(t.stack)}return h(e)},t.isExtent=u,t.isMultipoint=l,t.isPoint=c,t.isPolyline=f,t.isPolygon=p,t.isMesh=function(e){return void 0!==e.vertexAttributes},t.fromJSON=h,t.getJsonType=function(e){return e?c(e)?"esriGeometryPoint":f(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null};var d={esriGeometryPoint:o,esriGeometryPolyline:s,esriGeometryPolygon:a,esriGeometryEnvelope:r,esriGeometryMultipoint:i};t.getGeometryType=function(e){return e&&d[e]||null}}))},"*noref":1}}),require.boot&&require.apply(null,require.boot);