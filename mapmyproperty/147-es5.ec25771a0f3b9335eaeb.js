!function(){function e(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t,r,n,a,u,i){try{var o=e[u](i),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(n,a)}function n(e){return function(){var t=this,n=arguments;return new Promise(function(a,u){var i=e.apply(t,n);function o(e){r(i,a,u,o,c,"next",e)}function c(e){r(i,a,u,o,c,"throw",e)}o(void 0)})}}(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{zKxS:function(t,r,a){"use strict";a.r(r),a.d(r,"createLabelFunction",function(){return y}),a.d(r,"formatField",function(){return h});var u=a("6S2I"),i=a("zlDU"),o=a("gvqN"),c=a("wdpY"),l=a("RlM3"),s=a("IeLS"),f=a("gLc9"),p=a("ezna"),b=u.a.getLogger("esri.layers.support.labelFormatUtils"),d={type:"simple",evaluate:function(){return null}},v={getAttribute:function(e,t){return e.field(t)}};function y(e,t,r){return m.apply(this,arguments)}function m(){return(m=n(regeneratorRuntime.mark(function e(t,r,n){var u,l,s,y,m,g,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.symbol){e.next=2;break}return e.abrupt("return",d);case 2:if(u=t.where,l=Object(p.b)(t),!u){e.next=10;break}return e.next=7,a.e(6).then(a.bind(null,"ZqIb"));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(s=e.t0,"arcade"!==l.type){e.next=19;break}return e.next=15,Object(o.c)(l.expression,n,r);case 15:m=e.sent,y={type:"arcade",evaluate:function(e){try{var t=m.evaluate({$feature:"attributes"in e?m.repurposeFeature(e):m.repurposeAdapter(e)});if(null!=t)return t.toString()}catch(r){b.error(new i.a("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:l}))}return null},needsHydrationToEvaluate:function(){return null==Object(p.e)(l.expression)}},e.next=20;break;case 19:y={type:"simple",evaluate:function(e){return l.expression.replace(/{[^}]*}/g,function(t){var n=t.slice(1,-1),a=Object(c.n)(r,n);if(!a)return t;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":h(u,a)})}};case 20:if(!u){e.next=30;break}e.prev=21,g=s.WhereClause.create(u,new f.a(r)),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",d);case 28:w=y.evaluate,y.evaluate=function(e){return g.testFeature(e,"attributes"in e?void 0:v)?w(e):null};case 30:return e.abrupt("return",y);case 31:case"end":return e.stop()}},e,null,[[21,25]])}))).apply(this,arguments)}function h(t,r){if(null==t)return"";var n=r.domain;if(n)if("codedValue"===n.type||"coded-value"===n.type){var a,u=t,i=e(n.codedValues);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.code===u)return o.name}}catch(d){i.e(d)}finally{i.f()}}else if("range"===n.type){var f=+t,p="range"in n?n.range[1]:n.maxValue;if(("range"in n?n.range[0]:n.minValue)<=f&&f<=p)return n.name}var b=t;return"date"===r.type||"esriFieldTypeDate"===r.type?b=Object(l.b)(b,Object(l.a)("short-date")):Object(c.q)(r)&&(b=Object(s.b)(+b)),b||""}}}])}();